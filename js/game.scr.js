var d6t = {
    'k9f': "varying vec4 vColor;",
    's4x': 'Label',
    'R98': "sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * 0.16;",
    'B8x': 'binary',
    'h4H': "text/xml",
    'f4B': 'up',
    'L58': 'setButtonsEnabled',
    'Q33': 'phaser',
    'u5f': "color",
    'x2x': 'down',
    'J48': 'pixi',
    's8f': 'xmlLoadComplete',
    'Q2': 'splash',
    'f3f': 'devicemotion',
    'L5H': 'moreStarsPpClosed',
    'p1H': '../bower_components/es6-promise/promise',
    'P43': 2000,
    'Q68': 'Phaser.Cache.getBinary: Invalid key: "',
    'U3f': 'boolean',
    'd6': 8,
    'g9': "init",
    'T3f': 'lvlStartPp',
    'x7x': 10,
    'D83': 'scoreCellOn_00.png',
    'P68': 'stopMapMusic',
    'd3H': 'touchstart',
    'v18': 'fileError',
    'T18': 'levelGoalAnimBegin',
    'h9f': 'timeChangedGlowStart',
    'V8x': 60,
    'W5H': 'Phaser.Loader fileComplete invalid index ',
    'a63': "no-cache",
    'p43': 'bitmapfont',
    'v6x': 'gt/tweaks/Phaser/Loader',
    'U9': 'gt/tweaks/Pixi/Sprite',
    'H5x': "function",
    'I78': 'gt/tweaks/Phaser/Easing',
    'f0': "vec4 sum = vec4(0.0);",
    'h0x': "I",
    'm1f': "bones",
    'U3x': "gl_FragColor = sum;",
    'b4B': 'GameDesktopCp',
    'v28': 1.2,
    'c9': 'Phaser.Cache.getPhysicsData: Could not find given fixtureKey: "',
    'e7f': 'physics',
    'v5x': 'Phaser.Cache.getImage: Invalid key: "',
    'X7x': 20,
    't43': 'adFinished',
    'd3': 'text/javascript',
    'N7x': 18,
    'J8': '2d',
    'y6f': 'polyfill/Map',
    'L2H': 'gt/modules/PhaserSetup',
    'P0x': 'CSS1Compat',
    't0f': 'marathonProgressBarChanged',
    'f3B': 'canvas',
    'h7f': 600,
    'I9x': 50,
    'I7H': 'height',
    'B9x': 40,
    'M4f': 'loader',
    'n9x': 'paused',
    'J7x': 19,
    'G8': 'landscape',
    'U2H': 512,
    'P8x': 66,
    'w28': 'Phaser.Cache.getUrl: Invalid url: "',
    'a2x': 'lockOut',
    'p33': 'gameOver',
    'a23': 'Phaser.Cache.getCanvas: Invalid key: "',
    'r3f': 'gt/rendering/filters/Blur',
    'c7f': 'auto',
    'J8x': 'tetriminoLockedDown',
    'L3H': 'timeLimit',
    'T4f': 'webkit',
    'e8H': 'tokyo',
    'V6x': "'",
    'u9f': 'playLockWiggleAnimation',
    'R18': 'gt/modules/StartLoader',
    'm0x': 'deactivateSwipe',
    'O18': 'topOut',
    'd98': 'Phaser.Cache.getTexture: Invalid key: "',
    'W3f': 'mapHudCp',
    'P4f': 'showTutorial',
    'F0H': 'gravityModeMovesLeftChanged',
    'Q7H': '_star_0',
    'Y6x': 'lastHurrahTriggered',
    'z2x': 'marathonLockedPp',
    'S6B': 'gt/tweaks/Pixi/Spine',
    'Z38': 'type_z.png',
    'c48': 'lastLevelWon',
    'W78': 'bold 20pt Arial',
    'x9f': 'false',
    'y13': "Phaser.Sound.play: audio marker ",
    'b8H': '../lib/gt/lib/phaser/phaser-no-libs',
    'A6x': '#fff',
    'F2H': 'scenes',
    'p5x': "yahoo",
    'C3f': 'localization',
    'A2H': 'fileComplete',
    'b7': 'startMapAnimations',
    'Q48': 'console',
    'Z3x': "webgl",
    'm6H': 'left',
    'G6f': 'center',
    'M3B': 'o',
    'Z78': 'level_',
    'H1x': "=",
    'G28': 'matchShapes',
    'D1x': ' Y: ',
    'L7': 'lasthurrah_mino_',
    'm2f': 'body',
    'k3B': 'gt/utils/browser',
    'T1H': 'javascript',
    'E2': 'showLevelGoal',
    'h7x': 'countdownBegin',
    't6': 'input',
    'p9x': 33,
    'A0x': 'gt/tweaks/Pixi/Texture',
    'y3x': "0",
    'n78': '../lib/gt/lib/phaser/src/pixi/extras/Spine',
    'i5H': 'portrait',
    'm4': 'Phaser',
    'I3f': 'ghostPieceVisibilityChanged',
    'c4H': 'type_l.png',
    'w9f': '../lib/gt/lib/modernizr/Modernizr',
    'i13': 'sprite',
    'z2f': '_news_seen',
    'm3f': 'gt/math/GlobalPosition',
    'z93': 'Phaser.Cache.getJSON: Invalid key: "',
    'J7': 'ms',
    'E7x': 21,
    'j5H': "J",
    'y88': "name",
    'z9x': 32,
    'y93': 'uniform sampler2D uSampler;',
    'R83': 'gt/tweaks/Phaser/Canvas',
    'q9': 250,
    'C7': '\n',
    'A3f': 'initial_flow_done',
    'o48': 'flurry',
    'H63': '_event',
    'R48': 0.8,
    'Y3': "script",
    'J6': 6,
    'y6B': 'Phaser.Loader csvLoadComplete invalid index ',
    's3f': 'gt/modules/BootSetup',
    'S13': 'junkspawn',
    'G4f': 'desktop',
    'I7': "rotation",
    'Z7x': 'gameTimerResumed',
    'b5B': "precision mediump float;",
    'U78': 'GameMobilePanelCp',
    'O6B': 'audio',
    'B2f': "height",
    'J4f': "right",
    'r6': '.json',
    'K5B': "width",
    'U98': 'returnMino',
    'c3x': 'Phaser.Cache.getXML: Invalid key: "',
    's8': 255,
    'o7x': 13,
    'b8x': 'Phaser.Loader jsonLoadComplete invalid index ',
    'k48': '=',
    'R3B': "slots",
    'j0H': 'paris',
    'q7x': 24,
    'j3x': "/",
    'p93': ' ',
    'Y7f': '../bower_components/ua-parser-js/dist/ua-parser.min',
    'd5H': "L",
    'O98': '0px',
    'K4': 'soma',
    'd8f': 'gameCp',
    'M1x': "default",
    'k7': 'assets/images/phaser/spritesheets/',
    'k23': '_unlocked',
    'i0H': 'viewport',
    'p78': "Microsoft.XMLDOM",
    'z53': '../lib/gt/lib/fontloader/FontLoader',
    'q88': 'x: ',
    'v53': 'gameResumed',
    'N2x': "canvas",
    'd7H': 'hourglass',
    'w6f': "y",
    'K6B': "uniform sampler2D uSampler;",
    'U4x': "-",
    'q6H': 'initializationBegin',
    'Q28': ']',
    'C0H': 537,
    'b43': 'atlases',
    't28': 'marathon',
    'T6B': 'iphone',
    't8f': 'tutorialPp',
    'Y4': 'gt/modules/PasswordProtect',
    'r4x': 'webgl',
    'y4x': "text",
    'V18': 'isDecoding',
    'T7': 'gameTimerPaused',
    'X5x': 'newyork',
    'v6': 7,
    'm3x': 'mobile',
    'M4H': 'text',
    'W2x': 'gt/modules/FactorySetup',
    'w38': 7000,
    'z3H': 'countdownFinished',
    'L4': 'controlSchemeChanged',
    'f7': 'image',
    'P9': 'DOMParser',
    't98': "\n",
    'B0x': 'junkspawnGlowStop',
    'k13': "number",
    'h13': "Phaser.Loader. Invalid Texture Atlas format: ",
    'V03': "attachment",
    'p5B': 'factories/GameObjects',
    'e3': 'Phaser.Cache.getPhysicsData: Invalid key/object: "',
    'H1H': "string",
    'B9': 'rewardedAdsPp',
    'k53': 'levelManager',
    'E4x': 'gt/utils/dom',
    'Z5f': '../bower_components/node-uuid/uuid',
    'W9f': 'none',
    'l83': '&',
    'o73': 'worldProgressIncremented',
    'K8x': 'timeOut',
    'K6x': 'hourglassModeMovesLeftChanged',
    'u73': 'jp',
    'k43': 'undefined',
    'H23': ',',
    'N33': 'multiply',
    'v7x': 360,
    'a78': "Phaser.Loader. Invalid Tilemap format: ",
    'o28': 'holdTetriminoPressed',
    'B7x': 15,
    't6B': 'invisibleMode',
    'z6f': 'gameRestarted',
    'n83': 'london',
    'U03': '__default',
    'r6f': 'exports',
    'T2H': 500,
    'b8f': '[object Array]',
    'K2f': 'placement1',
    'F1f': "angle",
    'p03': '1',
    'R78': 'entity',
    'K0f': 'moz',
    'p6': '../lib/gt/lib/soma/soma',
    'r23': '-',
    'i23': 800,
    's33': 'Phaser.Cache.getSound: Invalid key: "',
    'J68': 'deltaTime',
    'G2x': 'whatsNewPpClosed',
    'N03': 'map',
    'L3': 'newTetriminoSpawned',
    'J1H': "Cache-Control",
    'k4': '../lib/gt/lib/phaser/pixi',
    'b4x': ".",
    'E7f': 'round',
    'q3f': 'gameMode',
    'D5f': 'time',
    'v6f': 'ipad',
    'J4H': "S",
    'L83': '#',
    'y3B': 'grp_',
    'y4B': 'webkitfullscreenchange',
    'Z6x': "void main(void) {",
    'o0f': 'update',
    'F18': false,
    'Y48': 0.4,
    'O4B': "Invalid line: ",
    'W0': 'GameDesktopPanelCp',
    'Y9f': "GET",
    'H4f': 8000,
    'T7f': 'Phaser.Cache.getPhysicsData: Invalid key: "',
    'u4H': 0.001,
    'Y5H': ' in ',
    'h6B': 'gt/modules/GeoLocking',
    'w3B': 'right',
    'l33': "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg==",
    'N5f': 'gt/rendering/filters/Glow',
    'A2f': 'chrome',
    's73': true,
    'y73': "Phaser.Loader. Invalid XML given",
    'F3B': 'number',
    'T7H': 'object',
    'O6H': 'frameName',
    'L3B': 'lastHurrah',
    'O9x': 35,
    'h53': "Pragma",
    'm7x': '#000',
    'v7H': 'Loader',
    'g2f': 'tablet',
    'Q38': 'gt/tweaks/Pixi/WebGLRenderer',
    's43': 'activateInputSignals',
    'G7f': 'junkspawnMovesChanged',
    'R4x': '#game_background',
    'q5f': 'helpPp',
    'c6x': 0.25,
    'u3x': "1",
    'k6': 'div',
    'U6': 5,
    'L48': 'vibrate',
    'z48': 0.5,
    'Z6f': 'mozfullscreenchange',
    'G1x': "?",
    'H48': 0.1,
    'M1H': 'scoreChanged',
    'z8f': 'X: ',
    'U3': 'x',
    'f0x': 'block',
    'r9H': 'blockOut',
    'R3H': 'GET',
    'N3H': 'timeLeftChanged',
    'a3f': 'marathon_unlocked',
    't83': ' / ',
    'y5f': "value",
    'I1': 'lvlLosePp',
    'K4f': "div",
    'x1x': "uniform float blur;",
    'V0H': 'enableHold',
    'H6': 'linesClearedChanged',
    'K9H': 'textureatlas',
    'g28': 1.5,
    'L4B': 'startEndLevelFlow',
    'B9f': 'id',
    'U7x': 17,
    'u6x': ")",
    'w8x': 'gameStarted',
    'X1f': 'gt/utils/polyfills',
    'y1f': 'width',
    'e9x': 'mousedown',
    'Q03': '../lib/gt/src',
    'v3x': 'modules/TetrisGame',
    'S6': 9,
    'h3': '__missing',
    'd7f': 'fxos',
    'Q4H': 'Button',
    'N3f': '100%',
    'j4f': 'ontouchstart',
    'K0': "parsererror",
    'I7x': "left",
    'f7H': "Z",
    'K48': 0.0,
    'X2x': 'just_released',
    'g5x': "",
    'n8f': 'gt/modules/PublisherSetup',
    'X78': 'resize',
    'I2x': 1000000000,
    'v73': 'fastDropTrail',
    'K5x': 'hidden',
    'A6B': 'Phaser.Cache.getText: Invalid key: "',
    'n9f': 'y: ',
    'p08': "type",
    'Q0': 'moreStarsPp',
    'I6': 1000,
    'f7x': 11,
    'e98': 'gravity',
    'J9f': './src/',
    'O2f': "object",
    'C08': ", ",
    'E18': '_seen',
    'U8f': 'gt/tweaks/Pixi/Graphics',
    'X1x': 'loadTutorial',
    'D6B': 180,
    'N1H': 'gt/tweaks/Phaser/ScaleManager',
    'j7H': 'black',
    'T83': 'closePausePp',
    'A7x': 14,
    'f4': "Expires",
    'Z0': 'tilemap',
    'B43': 'gt/utils/device.info',
    'V4B': 'tutorial_',
    'c0H': 'controlsDesktopPp',
    'o2f': 'RequestAnimationFrame',
    'j48': 0.2,
    'n5H': 3000,
    'M0f': 'pausePp',
    'Z88': 'first_time_enter_done',
    'e8f': " (",
    'A3B': 'DOMMouseScroll',
    'Y58': 'json',
    'Z63': 'rewardedAdsOver',
    'R8x': ":",
    'a08': 100,
    'l93': '"',
    'B4B': 'press',
    'K8': 'BitmapFont',
    'E2x': 1200,
    'G5B': 'menu',
    'b2x': 'default',
    'V6f': 'endGamePp',
    'E3x': 'spritesheet',
    'X23': '/',
    'I0f': 'gt/modules/SystemsSetup',
    'M23': 'levelStart',
    'h5B': 150,
    'Y7x': '../bower_components/bottom_line/dist/bottom_line',
    'g98': 'fullscreenchange',
    'c5H': 'dataLoadError',
    'f6': 'Phaser.Cache.getBitmapFont: Invalid key: "',
    'P93': 'matrixFlipAnim',
    'h1f': 'Phaser.Cache.getSoundData: Invalid key: "',
    's0f': 'jsonLoadComplete',
    'G38': 'modules/TetrisLegal',
    'p8': "Unknown attachment type: ",
    's4H': 'gt/modules/LoadGameAssets',
    'W6': 0,
    'q4': 'canplaythrough',
    'Z9f': 'tutorialFinished',
    'J1': "scaleX",
    'g7': 200,
    'S93': 'whatsNewPp',
    'Y4f': "}",
    'D3': 'Phaser.Loader loadFile invalid index ',
    'u2x': 'gravitySwitchGlowStop',
    'u9x': 'orientationchange',
    'H8x': 'modernizr',
    'F78': 'string',
    'C3x': 300,
    't68': 'type_s.png',
    'j9x': 30,
    'U93': 'gt/modules/DomainLocking',
    'I73': 'clearLines',
    'l43': 'sampler2D',
    'v4x': 'notEnoughStars',
    'A0': 'Cp',
    'D43': 'GameMobileCp',
    's7': 'z',
    'h8x': 90,
    'l2f': 'device',
    'S5H': 'marathonNotificationsOn',
    'P28': 'junk',
    'M7x': 16,
    'o38': 'disableLevelnodes',
    'D6': 2,
    'N23': '.',
    'q68': 'enableLevelnodes',
    'w6H': 'ignore',
    'R3x': 'type_j.png',
    'N28': 1.0,
    'X83': 'gt/tweaks/Phaser/Label',
    'j6B': 'gameEnded',
    'V48': 'fallSpeedChanged',
    'M43': 'playCityUnlockAnimation',
    'H73': 'gravitySwitch',
    'c8': 'levelEndPpEnter',
    't38': 'gt/utils/device',
    'Q6f': 'Texture Error: frame does not fit inside the base Texture dimensions ',
    't5': (function() {
        var H5 = {},
            j5 = function(t, k) {
                var j = k & ((116.7E1, 8.) < 0xB7 ? (9.82E2, 0xffff) : (67., 0x115));
                var o = k - j;
                return ((o * t | ((21, 27.5E1) >= (90., 0x7D) ? (0x23A, 0) : (0x46, 0x6A))) + (j * t | (0x23F >= (88., 0x8E) ? (5.24E2, 0) : 2.9E2 > (0x1D7, 0x1E6) ? 70.7E1 : (0x124, 102)))) | ((42.30E1, 86.) < (113.5E1, 0xEB) ? (0x20D, 0) : (1.008E3, 143.5E1));
            },
            Y5 = function(t, k, j) {
                if (H5[j] !== undefined) {
                    return H5[j];
                }
                var o = (0x123 >= (56.90E1, 0x204) ? 0.05 : (30, 0x1DE) < (96., 127) ? 'x' : (120, 30.8E1) >= 98 ? (128, 0xcc9e2d51) : (15, 0x5F)),
                    e = (142.20E1 >= (0xE3, 0x4A) ? (1.44E3, 0x1b873593) : (0x39, 0xC6));
                var q = j;
                var m = k & ~(99.60E1 >= (40, 7.60E1) ? (0x232, 0x3) : (70., 0xB5) < 127 ? (13., ')') : (1.491E3, 143.6E1));
                for (var k5 = ((0x247, 144.) <= 0x7B ? (93.10E1, 0x20) : 12.97E2 >= (72, 11.24E2) ? (0x102, 0) : (66.9E1, 0x11) >= (0x50, 7.12E2) ? 200 : (134., 0x8)); k5 < m; k5 += (0x151 > (0x62, 0xC5) ? (144., 4) : (1.3E1, 81))) {
                    var C5 = (t.charCodeAt(k5) & ((0xFD, 0x1C1) < (0x43, 7.9E1) ? (61, 99.9E1) : (9.88E2, 0x2B) < 6.390E2 ? (0x23E, 0xff) : 0x5B > (33.5E1, 0x7B) ? 510 : (1.465E3, 1.171E3))) | ((t.charCodeAt(k5 + (9.0E1 > (0xA1, 0x1B6) ? (0x214, 0x201) : (0xBF, 83.10E1) >= 75. ? (0xA4, 1) : (0x165, 0x1E6))) & ((105.30E1, 0x1FC) > 128. ? (118.30E1, 0xff) : (111, 83) <= (0x191, 0x2A) ? 64. : 0x120 < (12.24E2, 43) ? (113, "o") : (7.020E2, 56.6E1))) << 8) | ((t.charCodeAt(k5 + 2) & ((0x22D, 138.) > (95., 12.) ? (115, 0xff) : 0x17E < (0xBB, 100.) ? 0x62 : (128, 0x7C) <= (0x63, 10) ? (0x105, 'F') : (0xCA, 3.09E2))) << 16) | ((t.charCodeAt(k5 + 3) & ((0x92, 6.04E2) < 0x1ED ? (38., 3.06E2) : (0x212, 0x52) <= (133.0E1, 142.) ? (1.5E2, 0xff) : (14.59E2, 0x1C3))) << ((1.306E3, 102.) <= (1.371E3, 13.67E2) ? (134., 24) : (0x10E, 9.31E2) >= 109.7E1 ? (0x14C, 0x220) : 47 >= (0x10E, 0x1AF) ? (2.80E1, 83.2E1) : (11.3E1, 3.66E2)));
                    C5 = j5(C5, o);
                    C5 = ((C5 & 0x1ffff) << ((11.88E2, 2.2E2) > (0x20F, 66.) ? (94, 15) : (145.5E1, 0x10) >= 12.46E2 ? 51. : (32, 9.))) | (C5 >>> ((114., 45.6E1) <= (0xC, 137) ? 2.3 : 123 < (0x13C, 1.3920E3) ? (15, 17) : (8.81E2, 3.2E1)));
                    C5 = j5(C5, e);
                    q ^= C5;
                    q = ((q & ((46., 0x38) <= (70.0E1, 0.) ? (26, 2.1E1) : (2.93E2, 61.1E1) < 0x63 ? (0x1F, 76.3E1) : (0xA7, 16.5E1) > 0x6 ? (55.1E1, 0x7ffff) : (0x3C, 0xBB))) << ((111., 0xC1) > (13.48E2, 81.0E1) ? (9., 0x20F) : (148., 36.) >= 54 ? 116 : (0xA0, 0x241) > 0x1FD ? (59., 13) : (22.40E1, 4.60E1))) | (q >>> 19);
                    q = (q * 5 + (26.3E1 >= (10.34E2, 118.) ? (116.9E1, 0xe6546b64) : (0x7C, 11.24E2) < (1.75E2, 58.30E1) ? (1.496E3, 0x162) : (84.0E1, 1.890E2))) | (71 <= (8.94E2, 104) ? (131, 0) : (0x49, 0x134));
                }
                C5 = 0;
                switch (k % 4) {
                    case 3:
                        C5 = (t.charCodeAt(m + ((18., 34) <= (0x8E, 115.30E1) ? (145., 2) : (0x102, 0x20E) > 1.429E3 ? 0x107 : (25, 0x14B))) & 0xff) << ((3.48E2, 104) <= (61, 9) ? (0x10, 'z') : (60.90E1, 54) >= (7.0E1, 46) ? (6.8E2, 16) : (2.09E2, 0x76));
                    case (0x227 <= (86.7E1, 89.80E1) ? (8.52E2, 2) : 0x145 > (26.40E1, 4.270E2) ? "f" : (57, 0x106)):
                        C5 |= (t.charCodeAt(m + 1) & 0xff) << 8;
                    case 1:
                        C5 |= (t.charCodeAt(m) & 0xff);
                        C5 = j5(C5, o);
                        C5 = ((C5 & ((0x129, 0xFB) < (65, 0x173) ? (0x48, 0x1ffff) : (0x249, 1.85E2))) << 15) | (C5 >>> (1.364E3 <= (5.8E2, 0x33) ? (47.90E1, 0x24C) : (26.6E1, 0x200) < 0x98 ? 66. : (79.60E1, 0x18E) > 0xD9 ? (146., 17) : (0x105, 117.)));
                        C5 = j5(C5, e);
                        q ^= C5;
                }
                q ^= k;
                q ^= q >>> 16;
                q = j5(q, 0x85ebca6b);
                q ^= q >>> 13;
                q = j5(q, ((14.450E2, 5.23E2) > (37, 136.) ? (0x208, 0xc2b2ae35) : (0x134, 22.)));
                q ^= q >>> ((0x236, 29.90E1) > 0x24C ? (0x219, 27.3E1) : 113. <= (13.030E2, 20.70E1) ? (0x14E, 16) : (0xD6, 1.84E2) < (7.10E1, 97) ? 45.7E1 : (0x114, 1.461E3));
                H5[j] = q;
                return q;
            };
        return {
            K5: j5,
            L5: Y5
        };
    })(),
    'B7f': 'RenderTexture',
    'U7f': 'polyfill/es6-collections',
    'r8H': 'Phaser.Cache.getTilemapData: Invalid key: "',
    'A13': ')',
    'N5x': "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg==",
    'D0': " ",
    'I4B': 'tutorialMobileCp',
    'm4H': "T",
    'I2f': 'arraybuffer',
    'j1x': 'alphabetic',
    'x38': '_currentMoves',
    'g9f': 'animation',
    'D1f': 'add',
    'a7': 2.3,
    'Z73': 'settings',
    'n3x': 'xml',
    'B6f': 'marathonModePp',
    'c5B': 'lvl_replay',
    'M6': 4,
    'm63': 'Pp',
    'H2x': 'infuse',
    'n3': 'y',
    'e23': "length",
    'q8': '2f',
    'g78': "Animation not found: ",
    't53': 'fill',
    'k8f': 'type',
    'O7H': "message",
    'A9x': 'DeviceMotionEvent',
    'X5H': 'Error, you must bind a function.',
    'x8H': 'hold',
    'b5f': 'interactive',
    'B6': 3,
    'y9H': 'tutorialDesktopCp',
    's03': '0',
    'B8': 'hourglassGlowStop',
    'l13': 'gt/tweaks/Phaser/BitmapText',
    'I1H': 'levelEnded',
    'k6f': "undefined",
    'n8': "scaleY",
    'w68': 'tetriminoDeactivate',
    'M2H': 'bottom_line',
    'Z2f': 'DeviceOrientationEvent',
    'q0x': '../bower_components/async/lib/async',
    'V0f': 'total_stars',
    'q38': 'game',
    'O88': 'fastDropParticles',
    'c3H': 'lvlWinPp',
    'H68': 'gt/modules/ShowFPSCounter',
    'J6x': 'samsung',
    'R2H': 'amsterdam',
    'e53': 'clearJunk',
    'o03': 'script',
    'Z8': 'loadProgressed',
    'H6f': 'focus',
    'j5f': 'function',
    'S7': '}',
    'X58': 'spr_',
    'H1f': 'tutorialStarted',
    'I6x': '',
    'C3': 'gamePaused',
    'O8x': 'gt/tweaks/Phaser/Cache',
    'v4B': 'playMapMusic',
    'P18': 'gt/modules/LoaderReady',
    'D5H': 'clearSideJunk',
    'l0H': ".png",
    'm5f': "x",
    'x9H': 'stock',
    'o58': 'Phaser.Cache.getBitmapData: Invalid key: "',
    'i8f': 'clearStartingJunk',
    'h7': 210,
    'k38': 'color',
    'b88': 'Invalid XML Response Type',
    'O28': 'color: #ff2424; background: #fff',
    'u0H': 'px',
    'W23': 'uaparser',
    'a6': 'strictmode',
    'z1x': 'marathonUnlockedPp',
    'x2f': 'csvLoadComplete',
    'W7x': 12,
    'T4x': ",",
    'W3x': 'PausePp.ctor',
    'A6': 1,
    'F6H': "O",
    'T98': 'controlsMobilePp',
    'j88': 'tetrisGameReady',
    'S3x': 'deviceorientation',
    'A4': 'pointer',
    'j28': 4000,
    'J6B': '1f',
    'K93': 'experimental-webgl',
    'h8f': 'marathonLevelChanged',
    'Q9x': " doesn't exist",
    'b3H': 'endGamePpEnter',
    'k8': 256,
    'E6x': 'Image',
    'Z13': 'smartControlDrop',
    'B3x': null,
    'n08': '_',
    'h3x': 'tint',
    'F8H': 'CancelAnimationFrame',
    'E4f': "varying vec2 vTextureCoord;"
};
var requirejs, require, define;
(function(x5) {
    var f5 = '!',
        A5, u5, B5, D5, o5 = {},
        N5 = {},
        y5 = {},
        U5 = {},
        W5 = Object.prototype.hasOwnProperty,
        J5 = [].slice,
        g5 = /\.js$/;

    function c5(t, k) {
        return W5.call(t, k);
    }

    function Z5(t, k) {
        var j = './',
            o = '..',
            e = "..",
            q = '*',
            m, k5, C5, H5, j5, Y5, z5, P5, p5, w5, R5, r5 = k && k.split(d6t.j3x),
            T5 = y5.map,
            a5 = (T5 && T5[q]) || {};
        if (t && t.charAt(d6t.W6) === d6t.b4x) {
            if (k) {
                r5 = r5.slice(d6t.W6, r5.length - d6t.A6);
                t = t.split(d6t.X23);
                j5 = t.length - d6t.A6;
                if (y5.nodeIdCompat && g5.test(t[j5])) {
                    t[j5] = t[j5].replace(g5, d6t.I6x);
                }
                t = r5.concat(t);
                for (p5 = d6t.W6; p5 < t.length; p5 += d6t.A6) {
                    R5 = t[p5];
                    if (R5 === d6t.b4x) {
                        t.splice(p5, d6t.A6);
                        p5 -= d6t.A6;
                    } else if (R5 === e) {
                        if (p5 === d6t.A6 && (t[d6t.D6] === o || t[d6t.W6] === o)) {
                            break;
                        } else if (p5 > d6t.W6) {
                            t.splice(p5 - d6t.A6, d6t.D6);
                            p5 -= d6t.D6;
                        }
                    }
                }
                t = t.join(d6t.j3x);
            } else if (t.indexOf(j) === d6t.W6) {
                t = t.substring(d6t.D6);
            }
        }
        if ((r5 || a5) && T5) {
            m = t.split(d6t.X23);
            for (p5 = m.length; p5 > d6t.W6; p5 -= d6t.A6) {
                k5 = m.slice(d6t.W6, p5).join(d6t.j3x);
                if (r5) {
                    for (w5 = r5.length; w5 > d6t.W6; w5 -= d6t.A6) {
                        C5 = T5[r5.slice(d6t.W6, w5).join(d6t.X23)];
                        if (C5) {
                            C5 = C5[k5];
                            if (C5) {
                                H5 = C5;
                                Y5 = p5;
                                break;
                            }
                        }
                    }
                }
                if (H5) {
                    break;
                }
                if (!z5 && a5 && a5[k5]) {
                    z5 = a5[k5];
                    P5 = p5;
                }
            }
            if (!H5 && z5) {
                H5 = z5;
                Y5 = P5;
            }
            if (H5) {
                m.splice(d6t.W6, Y5, H5);
                t = m.join(d6t.X23);
            }
        }
        return t;
    }

    function M5(t, k) {
        return function() {
            return u5.apply(x5, J5.call(arguments, d6t.W6).concat([t, k]));
        };
    }

    function n5(k) {
        return function(t) {
            return Z5(t, k);
        };
    }

    function R6(k) {
        return function(t) {
            o5[k] = t;
        };
    }

    function h5(t) {
        var k = 'No ';
        if (c5(N5, t)) {
            var j = N5[t];
            delete N5[t];
            U5[t] = d6t.s73;
            A5.apply(x5, j);
        }
        if (!c5(o5, t) && !c5(U5, t)) {
            throw new Error(k + t);
        }
        return o5[t];
    }

    function K6(t) {
        var k, j = t ? t.indexOf(f5) : -d6t.A6;
        if (j > -d6t.A6) {
            k = t.substring(d6t.W6, j);
            t = t.substring(j + d6t.A6, t.length);
        }
        return [k, t];
    }
    B5 = function(t, k) {
        var j, o = K6(t),
            e = o[d6t.W6];
        t = o[d6t.A6];
        if (e) {
            e = Z5(e, k);
            j = h5(e);
        }
        if (e) {
            if (j && j.normalize) {
                t = j.normalize(t, n5(k));
            } else {
                t = Z5(t, k);
            }
        } else {
            t = Z5(t, k);
            o = K6(t);
            e = o[d6t.W6];
            t = o[d6t.A6];
            if (e) {
                j = h5(e);
            }
        }
        return {
            f: e ? e + f5 + t : t,
            n: t,
            pr: e,
            p: j
        };
    };

    function s6(t) {
        return function() {
            return (y5 && y5.config && y5.config[t]) || {};
        };
    }
    D5 = {
        require: function(t) {
            return M5(t);
        },
        exports: function(t) {
            var k = o5[t];
            if (typeof k !== d6t.k43) {
                return k;
            } else {
                return (o5[t] = {});
            }
        },
        module: function(t) {
            return {
                id: t,
                uri: d6t.I6x,
                exports: o5[t],
                config: s6(t)
            };
        }
    };
    A5 = function(t, k, j, o) {
        var e = ' missing ',
            q = "module",
            m = "exports",
            k5 = "require",
            C5 = 'module',
            H5 = 'require',
            j5, Y5, z5, P5, p5, w5 = [],
            R5 = typeof j,
            r5;
        o = o || t;
        if (R5 === d6t.k43 || R5 === d6t.j5f) {
            k = !k.length && j.length ? [H5, d6t.r6f, C5] : k;
            for (p5 = d6t.W6; p5 < k.length; p5 += d6t.A6) {
                P5 = B5(k[p5], o);
                Y5 = P5.f;
                if (Y5 === k5) {
                    w5[p5] = D5.require(t);
                } else if (Y5 === m) {
                    w5[p5] = D5.exports(t);
                    r5 = d6t.s73;
                } else if (Y5 === q) {
                    j5 = w5[p5] = D5.module(t);
                } else if (c5(o5, Y5) || c5(N5, Y5) || c5(U5, Y5)) {
                    w5[p5] = h5(Y5);
                } else if (P5.p) {
                    P5.p.load(P5.n, M5(o, d6t.s73), R6(Y5), {});
                    w5[p5] = o5[Y5];
                } else {
                    throw new Error(t + e + Y5);
                }
            }
            z5 = j ? j.apply(o5[t], w5) : undefined;
            if (t) {
                if (j5 && j5.exports !== x5 && j5.exports !== o5[t]) {
                    o5[t] = j5.exports;
                } else if (z5 !== x5 || !r5) {
                    o5[t] = z5;
                }
            }
        } else if (t) {
            o5[t] = j;
        }
    };
    requirejs = require = u5 = function(t, k, j, o, e) {
        if (typeof t === d6t.H1H) {
            if (D5[t]) {
                return D5[t](k);
            }
            return h5(B5(t, k).f);
        } else if (!t.splice) {
            y5 = t;
            if (y5.deps) {
                u5(y5.deps, y5.callback);
            }
            if (!k) {
                return;
            }
            if (k.splice) {
                t = k;
                k = j;
                j = d6t.B3x;
            } else {
                t = x5;
            }
        }
        k = k || function() {};
        if (typeof j === d6t.j5f) {
            j = o;
            o = e;
        }
        if (o) {
            A5(x5, t, k, j);
        } else {
            setTimeout(function() {
                A5(x5, t, k, j);
            }, d6t.M6);
        }
        return u5;
    };
    u5.config = function(t) {
        return u5(t);
    };
    requirejs._defined = o5;
    define = function(t, k, j) {
        if (!k.splice) {
            j = k;
            k = [];
        }
        if (!c5(o5, t) && !c5(N5, t)) {
            N5[t] = [t, k, j];
        }
    };
    define.amd = {
        jQuery: d6t.s73
    };
}());
define("almond", function() {});
! function(t, k) {
    var j = d6t.s73,
        o = typeof(define) === d6t.j5f && !!define.amd,
        e = typeof(module) !== d6t.k43 && typeof(exports) !== d6t.k43 && module.exports === exports;
    switch (j) {
        case o:
            define('bottom_line', k);
            break;
        case e:
            module.exports = k();
            break;
        default:
            k(t);
    }
}(this, function(c5) {
    'use strict';
    var Z5 = 'math',
        M5 = 'int',
        n5 = 'callAfter',
        R6 = 'fnc',
        h5 = 'clamp',
        K6 = 'num',
        s6 = 'str',
        i5 = 'dimensionalize',
        V6 = 'arr',
        b5 = ', ',
        S5 = 'keys$',
        q6 = 'length',
        h6 = 'find$',
        C6 = 'indexOfFn',
        m6 = 'indexOf',
        G5 = 'containsFn',
        c6 = 'contains',
        Y6 = 'value',
        E6 = 'obj',
        O6 = '_ is already defined on root object',
        j6 = '0.0.5',
        Q5 = [],
        y6 = d6t.W6,
        d5 = {
            'version': j6,
            not: {}
        };
    if (c5) {
        if (c5.hasOwnProperty(d6t.n08)) {
            console.error(O6);
            return;
        } else {
            c5._ = d5;
        }
    }

    function z6(k, j, o) {
        var e = 'chain',
            settings = o && j || {},
            o = o || j,
            m = settings.native,
            k5 = settings.base ? P6(settings.native) : {};
        k5.not = {};
        k5.methods = {};
        var C5 = k5._methods = (k === E6) ? {
                not: {}
            } : Object.create(d5.obj._methods, {
                not: {
                    value: Object.create(d5.obj._methods.not)
                }
            }),
            H5 = k5._chains = (k === E6) ? {
                not: {}
            } : Object.create(d5.obj._chains, {
                not: {
                    value: Object.create(d5.obj._chains.not)
                }
            });
        Object.defineProperty(k5._methods, e, {
            get: function() {
                return H5;
            },
            enumerable: d6t.F18,
            configurable: d6t.F18
        });
        Object.defineProperty(k5._chains, Y6, {
            get: function() {
                var t = Q5[--y6];
                return t.valueOf ? t.valueOf() : t;
            },
            enumerable: d6t.F18,
            configurable: d6t.F18
        });
        if (m && m.prototype) {
            if (m.prototype.hasOwnProperty(d6t.n08)) {} else {
                Object.defineProperty(m.prototype, d6t.n08, {
                    enumerable: d6t.F18,
                    configurable: d6t.F18,
                    get: function() {
                        Q5[y6++] = this;
                        return C5;
                    },
                    set: function(t) {
                        Object.defineProperty(this, d6t.n08, {
                            value: t,
                            enumerable: d6t.s73,
                            configurable: d6t.s73,
                            writable: d6t.s73
                        });
                    }
                });
            }
        }
        if (settings.global !== d6t.F18) d5[k] = k5;
        Z6(k5, o.static);
        N6(k5, o.prototype);
        return k5;
    }

    function Z6(k, j) {
        if (!j) return;
        m5(k, {
            enumerable: d6t.F18
        }, j);
        m5(k.not, {
            enumerable: d6t.F18,
            modifier: function(t) {
                return function() {
                    return !t.apply(k, arguments);
                };
            }
        }, j);
        if (k !== d5.obj && k !== d5.fnc) return;
        m5(d5, {
            enumerable: d6t.F18,
            overwrite: d6t.F18
        }, j);
        m5(d5.not, {
            enumerable: d6t.F18,
            overwrite: d6t.F18,
            modifier: function(t) {
                return function() {
                    return !t.apply(k, arguments);
                };
            }
        }, j);
    }

    function N6(k, j) {
        if (!j) return;
        m5(k._methods, {
            enumerable: d6t.F18,
            modifier: function(t) {
                return function() {
                    return t.apply(Q5[--y6], arguments);
                };
            }
        }, j);
        m5(k._methods.not, {
            enumerable: d6t.F18,
            modifier: function(t) {
                return function() {
                    return !t.apply(Q5[--y6], arguments);
                };
            }
        }, j);
        m5(k._chains, {
            enumerable: d6t.F18,
            modifier: function(t) {
                return function() {
                    return t.apply(Q5[--y6], arguments)._.chain;
                };
            }
        }, j);
        m5(k._chains.not, {
            enumerable: d6t.F18,
            modifier: function(t) {
                return function() {
                    return (!t.apply(Q5[--y6], arguments))._.chain;
                };
            }
        }, j);
        m5(k.methods, {
            enumerable: d6t.F18
        }, j);
    }

    function P6(k) {
        var j = Object.create(Object.getPrototypeOf(k));
        Object.getOwnPropertyNames(k).forEach(function(t) {
            Object.defineProperty(j, t, Object.getOwnPropertyDescriptor(k, t));
        });
        return j;
    }

    function m5(f5, A5, u5) {
        var B5 = 'warn',
            settings = u5 && A5 || {},
            u5 = u5 || A5;
        settings.override = settings.override !== d6t.F18;
        settings.overwrite = settings.overwrite !== d6t.F18;
        settings.overwriteaction = settings.overwriteaction || B5;
        settings.overrideaction = settings.overrideaction || B5;
        settings.exclude = settings.exclude || [];
        if (settings.shim === d6t.s73) {
            settings.overwrite = d6t.F18;
            settings.overwriteaction = d6t.w6H;
        }
        for (var o5 in u5) {
            if (!u5.hasOwnProperty(o5) || (settings.exclude.length && ~settings.exclude.indexOf(o5))) continue;
            var N5 = Object.getOwnPropertyDescriptor(u5, o5),
                y5 = !!(N5.get || N5.set),
                U5 = {};
            if (!y5 && u5[o5].hasOwnProperty(Y6)) {
                U5 = u5[o5];
                N5.value = U5.value;
                if (U5.clone) N5.value = P6(U5.value);
                if (U5.exec) N5.value = U5.value(f5);
                if (U5.wrap) {
                    if (f5.hasOwnProperty(o5) && f5[o5].hasOwnProperty(d6t.D1f)) {
                        N5.value.add();
                    } else {
                        N5.value = i6(f5[o5], N5.value);
                    }
                }
                if (U5.constant) {
                    U5.configurable = d6t.F18;
                    U5.writable = d6t.F18;
                }
            }
            var W5 = P6(settings);
            for (var J5 in U5) {
                if (!U5.hasOwnProperty(J5)) continue;
                W5[J5] = U5[J5];
            }
            N5.enumerable = (W5.enumerable !== undefined) ? W5.enumerable : N5.enumerable;
            N5.configurable = (W5.configurable !== undefined) ? W5.configurable : N5.configurable;
            N5.writable = (W5.writable !== undefined) ? W5.writable : N5.writable;
            if (y5) delete N5.writable;
            if (W5.modifier && typeof(N5.value) === d6t.j5f) {
                N5.value = W5.modifier(N5.value);
            }
            var g5 = (U5.aliases || []).concat(o5);
            g5.forEach(function(r5) {
                var T5 = 'overwrite',
                    a5 = 'override',
                    x5 = function(t, k, j) {
                        var o = 'throw';
                        var e = 's are set to false in settings/config';
                        var q = '. ';
                        var m = ' defined in module for property ';
                        var k5 = 'redundant ';
                        var C5 = ' But not calling super method.';
                        var H5 = ' property: ';
                        var j5 = 'overwriting';
                        var Y5 = 'overriding';
                        var z5 = 'action';
                        var P5;
                        var p5 = W5[t + z5];
                        var w5 = (t === a5) && (k === d6t.s73) && ((typeof(j) !== d6t.j5f) || /\b_super\b/.test(j));
                        var R5 = (t === a5) && (k === d6t.s73) && ((typeof(j) === d6t.j5f) && !/\b_super\b/.test(j));
                        if (p5 === d6t.w6H || w5 || W5.wrap) return;
                        if (k === d6t.s73) {
                            P5 = ((t === a5) ? Y5 : j5) + H5 + r5 + d6t.N23;
                            if (R5) P5 += C5;
                        } else {
                            P5 = k5 + t + m + r5 + q + t + e;
                        }
                        if (p5 === o) {
                            throw P5;
                        } else {
                            console[p5](P5);
                        }
                    };
                if (f5.hasOwnProperty(r5)) {
                    x5(T5, W5.overwrite, N5.value);
                    if (!W5.overwrite) return;
                } else if (r5 in f5) {
                    x5(a5, W5.override, N5.value);
                    if (!W5.override) return;
                }
                Object.defineProperty(f5, r5, N5);
            });
        }
        return f5;
    }
    var t4 = Object.prototype.toString;
    m5(d5, {
        inject: function(t, k, j) {
            var o = {};
            o[k] = j;
            if (j.static) {
                Z6(t, o);
            } else {
                N6(t, o);
            }
        },
        isArguments: function(t) {
            var k = '[object Arguments]';
            return t4.call(t) === k;
        },
        isArray: Array.isArray,
        isEmpty: function(t) {
            var k;
            for (k in t) {
                return d6t.F18;
            }
            return d6t.s73;
        },
        isFunction: function(t) {
            return typeof(t) === d6t.j5f;
        },
        isInteger: function(t) {
            return d5.typeOf(t) === d6t.F3B && t === (t | d6t.W6);
        },
        isNull: function(t) {
            return t === d6t.B3x;
        },
        isNumber: function(t) {
            return d5.typeOf(t) === d6t.F3B;
        },
        isObject: function(t) {
            return d5.typeOf(t) === d6t.T7H;
        },
        isPrimitive: function(t) {
            var k = typeof(t);
            switch (k) {
                case d6t.T7H:
                case d6t.j5f:
                    return t === d6t.B3x;
                default:
                    return d6t.s73;
            }
        },
        isString: function(t) {
            return d5.typeOf(t) === d6t.F78;
        },
        isUndefined: function(t) {
            return t === undefined;
        },
        isDefined: function(t) {
            return t !== undefined;
        },
        toArray: function(t) {
            var k = 'array',
                j = 'arguments',
                o = d5.typeOf(t);
            switch (o) {
                case j:
                    var e = arguments.length,
                        q = new Array(e);
                    for (var m = d6t.W6; m < e; m++) {
                        q[m] = arguments[m];
                    }
                    return q;
                case d6t.T7H:
                    return t._.values();
                case k:
                    return t;
                default:
                    return [];
            }
        },
        toInteger: function(t) {
            switch (d5.typeOf(t)) {
                case d6t.F3B:
                    return t | d6t.W6;
                case d6t.F78:
                    return parseInt(t);
                default:
                    return NaN;
            }
        },
        toNumber: function(t) {
            switch (d5.typeOf(t)) {
                case d6t.F3B:
                    return t;
                case d6t.F78:
                    return parseFloat(t);
                default:
                    return NaN;
            }
        },
        toString: {
            overrideaction: d6t.w6H,
            value: function(t) {
                return t ? t._.toString() : t + d6t.I6x;
            }
        }
    });
    m5(Function.prototype, {
        shim: d6t.s73
    }, {
        name: function() {
            return this.toString().match(/^function\s?([^\s(]*)/)[d6t.A6];
        },
        bind: function(t) {
            var k = 'Function.prototype.bind - what is trying to be bound is not callable';
            if (typeof this !== d6t.j5f) {
                throw new TypeError(k);
            }
            var j = Array.prototype.slice.call(arguments, d6t.A6),
                o = this,
                e = function() {},
                q = function() {
                    return o.apply(this instanceof e ? this : t, j.concat(Array.prototype.slice.call(arguments)));
                };
            e.prototype = this.prototype;
            q.prototype = new e();
            return q;
        }
    });
    m5(Math, {
        shim: d6t.s73
    }, {
        log10: function(t) {
            return Math.log(t) / Math.LN10;
        }
    });
    m5(Number, {
        shim: d6t.s73
    }, {
        isNaN: function(t) {
            return typeof t === d6t.k13 && t !== t;
        }
    });

    function i6(o) {
        var e = Array.isArray(o) ? o : [];
        if (typeof(o) === d6t.j5f) {
            for (var q = d6t.W6; q < arguments.length; q++) {
                e.push(arguments[q]);
            }
        }
        var m = function() {
            var t;
            for (var k = d6t.W6, j = e.length; k < j; k++) {
                t = e[k].apply(this, arguments);
            }
            return t;
        };
        m._callbacks = e;
        m.add = function(t, k) {
            t = k ? t.bind(k) : t;
            e.push(t);
            return this;
        };
        m.addOnce = function(t, k) {
            t = k ? t.bind(k) : t;
            var j = function() {
                m.remove(j);
                return t.apply(this, arguments);
            };
            e.push(j);
            return this;
        };
        m.remove = function(t) {
            var k = 'trying to remove function from wrapper that is not registered as a callback',
                j = e.indexOf(t);
            if (~j) {
                e.splice(j, d6t.A6);
            } else {
                console.warn(k);
            }
            return this;
        };
        m.removeAll = function() {
            e = [];
            return this;
        };
        return m;
    }
    z6(E6, {
        native: Object
    }, {
        static: {
            clone: function clone(k) {
                if (d5.isPrimitive(k)) return k;
                if (d5.isArray(k)) return k.slice();
                var j = d5.create(k._.proto()),
                    o = k._.names();
                o._.each(function(t) {
                    Object.defineProperty(j, t, k._.descriptor(t));
                });
                return j;
            },
            cloneDeep: function cloneDeep(j) {
                if (d5.isPrimitive(j)) return j;
                var o = d5.create(j._.proto());
                j._.names()._.each(function(t) {
                    var k = j._.descriptor(t);
                    if (k.value) k.value = d5.cloneDeep(k.value);
                    Object.defineProperty(o, t, k);
                });
                return o;
            },
            create: function(t) {
                return (t === Array.prototype) ? [] : Object.create(t);
            },
            extend: m5,
            typeOf: function(t) {
                var k = '[object ',
                    j = 'null';
                switch (t) {
                    case d6t.B3x:
                        return j;
                    case undefined:
                        return d6t.k43;
                    default:
                        return Object.prototype.toString.call(t)._.between(k, d6t.Q28)._.decapitalize();
                }
            },
            names: function(t) {
                return (t === d6t.B3x || t === undefined) ? [] : Object.getOwnPropertyNames(t);
            }
        },
        prototype: {
            _add: function(t, k) {
                this[k] = t;
                return this;
            },
            count: function(k) {
                var j = d6t.W6;
                this._.each(function(t) {
                    j += t === k;
                });
                return j;
            },
            countFn: function(k) {
                var j = d6t.W6;
                this._.each(function(t) {
                    j += k(t);
                });
                return j;
            },
            define: function(t, k, j) {
                j = j || {};
                j.value = k;
                return Object.defineProperty(this, t, j);
            },
            constant: function(t, k) {
                return Object.defineProperty(this, t, {
                    value: k,
                    enumerable: d6t.s73
                });
            },
            del: function(k) {
                arguments._.eachRight(function(t) {
                    delete this[t];
                }, this);
                return this;
            },
            delFn: function(o, e) {
                this._.each(function(t, k, j) {
                    if (o.call(e, k, j)) {
                        delete this[k];
                    }
                }, this);
                return this;
            },
            Del: function(j) {
                var o = arguments,
                    e = d5.create(this._.proto());
                this._.each(function(t, k) {
                    if (o._.not.has(k)) {
                        e._._add(t, k);
                    }
                }, this);
                return e;
            },
            DelFn: function(e, q) {
                var m = d5.create(this._.proto());
                this._.each(function(t, k, j, o) {
                    if (!e.call(q, k, j, o)) {
                        m._._add(t, k);
                    }
                }, this);
                return m;
            },
            descriptor: function(t) {
                return Object.getOwnPropertyDescriptor(this, t);
            },
            each: function(t, k) {
                if (d5.isArguments(this)) return d5.arr.methods.each.apply(this, arguments);
                var j;
                for (var o in this) {
                    if (!this.hasOwnProperty(o)) continue;
                    if ((j = t.call(k, this[o], o, this)) === d6t.F18) break;
                }
                return j;
            },
            eachRight: function(k, j, o) {
                if (d5.isArguments(this)) return d5.arr.methods.eachRight.apply(this, arguments);
                return this._.keys()._.eachRight(function(t) {
                    return j.call(o, this[t], t, this);
                }, this);
            },
            filter: function(k, j) {
                var o = [];
                this._.each(function(t) {
                    if (k.call(j, t)) o.push(t);
                });
                return o;
            },
            find: function(k, j) {
                var o;
                this._.each(function(t) {
                    if (k.call(j, t)) return o = t, d6t.F18;
                });
                return o;
            },
            findRight: function(k, j) {
                var o;
                this._.eachRight(function(t) {
                    if (k.call(j, t)) return o = t, d6t.F18;
                });
                return o;
            },
            has: {
                aliases: [c6],
                value: function(k) {
                    var j = d6t.F18;
                    this._.each(function(t) {
                        if (k === t) return !(j = d6t.s73);
                    });
                    return j;
                }
            },
            hasFn: {
                aliases: [G5],
                value: function(t, k) {
                    return !!this._.find(t, k);
                }
            },
            keyOf: {
                aliases: [m6],
                value: function(j) {
                    var o = -d6t.A6;
                    this._.each(function(t, k) {
                        if (j === t) return o = k, d6t.F18;
                    });
                    return o;
                }
            },
            keyOfFn: {
                aliases: [C6],
                value: function(j, o) {
                    var e = -d6t.A6;
                    this._.each(function(t, k) {
                        if (j.call(o, t)) return e = k, d6t.F18;
                    });
                    return e;
                }
            },
            keys: function() {
                return Object.keys(this);
            },
            remove: function(j) {
                var o = arguments,
                    e = arguments.length,
                    q;
                this._.each(function(t, k) {
                    q = o._.indexOf(t);
                    if (~q) {
                        this._.del(k);
                        delete o[q];
                        return --e > d6t.W6;
                    }
                }, this);
                return this;
            },
            removeFn: function(e, q) {
                this._.each(function(t, k, j, o) {
                    if (e.call(q, t, k, j, o)) {
                        this._.del(k);
                        return d6t.F18;
                    }
                }, this);
                return this;
            },
            Remove: function(j) {
                var o = d5.create(this._.proto()),
                    e = arguments,
                    q;
                this._.each(function(t, k) {
                    q = e._.indexOf(t);
                    if (~q) {
                        delete e[q];
                    } else {
                        o._._add(t, k);
                    }
                }, this);
                return o;
            },
            RemoveFn: function(e, q) {
                var m = d5.create(this._.proto()),
                    k5 = d6t.F18;
                this._.each(function(t, k, j, o) {
                    if (!k5 && e.call(q, t, k, j, o)) {
                        k5 = d6t.s73;
                    } else {
                        m._._add(t, k);
                    }
                }, this);
                return m;
            },
            remove$: function(j) {
                var o = arguments;
                this._.each(function(t, k) {
                    if (o._.has(t)) {
                        delete this[k];
                    }
                }, this);
                return this;
            },
            remove$Fn: function(o, e) {
                this._.each(function(t, k, j) {
                    if (o.call(e, t, k, j)) {
                        delete this[k];
                    }
                }, this);
                return this;
            },
            Remove$: function(j) {
                var o = d5.create(this._.proto()),
                    e = arguments;
                this._.each(function(t, k) {
                    if (e._.not.has(t)) {
                        o._._add(t, k);
                    }
                }, this);
                return o;
            },
            Remove$Fn: function(e, q) {
                var m = d5.create(this._.proto());
                this._.each(function(t, k, j, o) {
                    if (!e.call(q, t, k, j, o)) {
                        m._._add(t, k);
                    }
                }, this);
                return m;
            },
            select: function(j) {
                var o = arguments;
                return this._.remove$Fn(function(t) {
                    var k = o._.indexOf(t);
                    if (~k) delete o[k];
                    return !~k;
                });
            },
            selectFn: function(t, k) {
                var j = d6t.F18;
                return this._.remove$Fn(function() {
                    return (t.apply(this, arguments) && !j) ? !(j = d6t.s73) : d6t.s73;
                }, k);
            },
            Select: function(j) {
                var o = arguments;
                return this._.Remove$Fn(function(t) {
                    var k = o._.indexOf(t);
                    if (~k) delete o[k];
                    return !~k;
                });
            },
            SelectFn: function(t, k) {
                var j = d6t.F18;
                return this._.Remove$Fn(function() {
                    return (t.apply(this, arguments) && !j) ? !(j = d6t.s73) : d6t.s73;
                }, k);
            },
            select$: function(k) {
                var j = arguments;
                return this._.remove$Fn(function(t) {
                    return !~j._.indexOf(t);
                });
            },
            select$Fn: function(t, k) {
                return this._.remove$Fn(d5.fnc.negate(t), k);
            },
            Select$: function(k) {
                var j = arguments;
                return this._.Remove$Fn(function(t) {
                    return !~j._.indexOf(t);
                });
            },
            Select$Fn: {
                aliases: [h6],
                value: function(t, k) {
                    return this._.Remove$Fn(d5.fnc.negate(t), k);
                }
            },
            size: {
                aliases: [q6],
                value: function() {
                    var t = d6t.W6;
                    this._.each(function() {
                        t++;
                    });
                    return t;
                }
            },
            names: {
                aliases: [S5],
                value: function() {
                    return Object.getOwnPropertyNames(this);
                }
            },
            owns: Object.prototype.hasOwnProperty,
            pairs: function() {
                var j = [];
                this._.each(function(t, k) {
                    j.push(k, t);
                });
                return j;
            },
            proto: function(t) {
                if (t === undefined) return Object.getPrototypeOf(this);
                this.__proto__ = t;
                return this;
            },
            toString: {
                overrideaction: d6t.w6H,
                value: function(m) {
                    var k5 = d6t.I6x;
                    this._.each(function(t, k) {
                        var j = ': ',
                            o = ((1.1480E3, 0x9D) <= 0x183 ? (0x35, '{') : (10.93E2, 124.4E1) < 9.98E2 ? 103 : (61, 0x153) < 21 ? (2E0, 7) : (8E0, 39.)),
                            e = '[[circular ref]]',
                            q;
                        if (d5.isPrimitive(t)) {
                            q = t;
                        } else {
                            if (!m) {
                                m = [this];
                            }
                            if (m._.has(t)) {
                                q = e;
                            } else {
                                m.push(t);
                                q = t._.toString(m);
                            }
                        }
                        k5 += (k5 ? b5 : o) + k + j + q;
                    });
                    return k5 + d6t.S7;
                }
            },
            values: function() {
                var k = [];
                this._.each(function(t) {
                    k.push(t);
                });
                return k;
            }
        }
    });
    z6(V6, {
        native: Array
    }, {
        static: {
            concat: function(t) {
                return Array.prototype.concat.apply([], arguments);
            }
        },
        prototype: {
            append: function(e) {
                var q;
                arguments._.each(function(o) {
                    if (!o) return;
                    q = this.length;
                    this.length += o.length;
                    o._.each(function(t, k, j) {
                        if (t === undefined && j._.not.owns(k)) return;
                        this[q + k] = t;
                    }, this);
                }, this);
                return this;
            },
            Append: function(t) {
                return d5.clone(this)._.append.apply(d6t.B3x, arguments);
            },
            avg: function() {
                if (!this.length) return;
                return this._.sum() / this.length;
            },
            compact: function() {
                return this._.remove$Fn(function(t) {
                    return !t;
                });
            },
            Compact: function() {
                return this._.Remove$Fn(function(t) {
                    return !t;
                });
            },
            del: {
                overrideaction: d6t.w6H,
                value: function(k) {
                    arguments._.eachRight(function(t) {
                        this.splice(t, d6t.A6);
                    }, this);
                    return this;
                }
            },
            delFn: {
                overrideaction: d6t.w6H,
                value: function(e, q) {
                    this._.eachRight(function(t, k, j, o) {
                        if (e.call(q, k, j, o)) {
                            this.splice(k, d6t.A6);
                        }
                    }, this);
                    return this;
                }
            },
            remove$: {
                overrideaction: d6t.w6H,
                value: function(j) {
                    var o = arguments;
                    this._.eachRight(function(t, k) {
                        if (~o._.indexOf(t)) {
                            this.splice(k, d6t.A6);
                        }
                    }, this);
                    return this;
                }
            },
            remove$Fn: {
                overrideaction: d6t.w6H,
                value: function(e, q) {
                    this._.eachRight(function(t, k, j, o) {
                        if (e.call(q, t, k, j, o)) {
                            this.splice(k, d6t.A6);
                        }
                    }, this);
                    return this;
                }
            },
            diff: function(k) {
                arguments._.each(function(t) {
                    return this._.remove.apply(this, t);
                }, this);
                return this;
            },
            Diff: function(t) {
                if (arguments.length === d6t.A6) {
                    return this._.Remove.apply(this, t);
                }
                return d5.clone(this)._.diff.apply(d6t.B3x, arguments);
            },
            dimit: {
                aliases: [i5],
                value: function(q) {
                    var m = this,
                        k5 = new Array(m[d6t.W6]),
                        C5 = m.length - d6t.A6;
                    H5(k5, d6t.W6, m);
                    return k5;

                    function H5(t, k, j) {
                        for (var o = d6t.W6, e = j[k]; o < e; o++) {
                            t[o] = (k === C5) ? d5.clone(q) : new Array(j[k + d6t.A6]);
                            H5(t[o], k + d6t.A6, j);
                        }
                    }
                }
            },
            each: {
                overrideaction: d6t.w6H,
                value: function(t, k, j) {
                    if (typeof(t) === d6t.j5f) {
                        j = k;
                        k = t;
                        t = d6t.A6;
                    }
                    var o = d6t.W6,
                        e = this.length,
                        q, m, k5 = e,
                        C5 = d6t.W6,
                        H5;
                    for (var j5 = o; j5 < e; j5 += t) {
                        if ((q = this[j5]) === undefined && !this.hasOwnProperty(j5)) continue;
                        if ((H5 = k.call(j, this[j5], j5, this, C5)) === d6t.F18) break;
                        if (m = this.length - k5) j5 += m, e += m, k5 += m, C5 += m;
                    }
                    return H5;
                }
            },
            eachRight: {
                overrideaction: d6t.w6H,
                value: function(t, k, j) {
                    if (typeof(t) === d6t.j5f) {
                        j = k;
                        k = t;
                        t = d6t.A6;
                    }
                    var o = this.length - d6t.A6,
                        e = -d6t.A6,
                        q;
                    for (var m = o; m > e; m -= t) {
                        if (this[m] === undefined && !this.hasOwnProperty(m)) continue;
                        if ((q = k.call(j, this[m], m, this)) === d6t.F18) break;
                    }
                    return q;
                }
            },
            first: function(t) {
                if (t === undefined) return this[d6t.W6];
                this[d6t.W6] = t;
                return this;
            },
            flatten: function() {
                this._.each(function(t, k) {
                    if (d5.isArray(t)) this.splice.apply(this, t._.insert(d6t.A6)._.insert(k));
                }, this);
                return this;
            },
            Flatten: function() {
                return this.concat.apply([], this);
            },
            has: {
                aliases: [c6],
                overrideaction: d6t.w6H,
                value: function(t) {
                    return this.indexOf(t) > -d6t.A6;
                }
            },
            insert: function(t, k) {
                return this.splice(k, d6t.W6, t), this;
            },
            intersect: function(t) {
                return this._.select.apply(this, t);
            },
            Intersect: function(t) {
                return this._.Select.apply(this, t);
            },
            intersects: function(k) {
                var j = d6t.F18;
                this._.each(function(t) {
                    if (k._.has(t)) {
                        return !(j = d6t.s73);
                    }
                });
                return j;
            },
            last: function(t) {
                if (t === undefined) return this[this.length - d6t.A6];
                this[this.length - d6t.A6] = t;
                return this;
            },
            max: function(k) {
                if (k === undefined) {
                    return Math.max.apply(d6t.B3x, this);
                } else {
                    var j = this[d6t.W6];
                    this._.each(function(t) {
                        if (k(t, j) > d6t.W6) j = t;
                    });
                    return j;
                }
            },
            min: function(k) {
                if (k === undefined) {
                    return Math.min.apply(d6t.B3x, this);
                } else {
                    var j = this[d6t.W6];
                    this._.each(function(t) {
                        if (k(t, j) < d6t.W6) j = t;
                    });
                    return j;
                }
            },
            modify: function(j, o) {
                this._.each(function(t, k) {
                    this[k] = j.call(o, t, k, this);
                }, this);
                return this;
            },
            Modify: function(t, k) {
                return d5.clone(this)._.modify(t, k);
            },
            push: function(t) {
                this.push.apply(this, arguments);
                return this;
            },
            _add: {
                overrideaction: d6t.w6H,
                value: function(t) {
                    this.push(t);
                    return this;
                }
            },
            random: function() {
                return this[d5.int.random(d6t.W6, this.length - d6t.A6)];
            },
            rm: function(t) {
                this.splice(this.indexOf(t), d6t.A6);
                return this;
            },
            shuffle: function() {
                for (var t, k, j = this.length; j; t = Math.floor(Math.random() * j), k = this[--j], this[j] = this[t], this[t] = k);
                return this;
            },
            size: {
                overrideaction: d6t.w6H,
                value: function(t) {
                    if (t === undefined) return this.length;
                    this.length = t;
                    return this;
                }
            },
            sum: function() {
                if (!this.length) return;
                return this.reduce(function(t, k) {
                    return t + k;
                });
            },
            toString: {
                overrideaction: d6t.w6H,
                value: function() {
                    var t = ((7.5E1, 129) <= (15.10E1, 0x146) ? (0x50, '[') : (40., 0x93) <= 122 ? "a" : (106., 12.52E2) < (145., 1.184E3) ? 149. : (56, 0x3C)),
                        k = t;
                    for (var j = d6t.W6, o = this.length; j < o; j++) {
                        k += (j ? b5 : d6t.I6x) + this[j]._.toString();
                    }
                    return k + d6t.Q28;
                }
            },
            unify: function(t) {
                return this._.append(t)._.unique();
            },
            Unify: function(t) {
                var k = this._.Append(t);
                return k._.unique();
            },
            unique: function() {
                this._.eachRight(function(j, o) {
                    this._.each(function(t, k) {
                        if (j === t && k < o) return this.splice(o, d6t.A6), d6t.F18;
                        return k < o;
                    }, this);
                }, this);
                return this;
            },
            Unique: function() {
                var k = [];
                this._.each(function(t) {
                    if (k._.not.has(t)) k.push(t);
                }, this);
                return k;
            }
        }
    });
    z6(s6, {
        native: String
    }, {
        prototype: {
            after: function(k) {
                var j = this.valueOf(),
                    o;
                arguments._.each(function(t) {
                    o = j.indexOf(t);
                    j = (~o) ? j.slice(o + t.length) : j;
                });
                return j;
            },
            afterLast: function(k) {
                var j = this.valueOf(),
                    o;
                arguments._.each(function(t) {
                    o = j.lastIndexOf(t);
                    j = (~o) ? j.slice(o + t.length) : j;
                });
                return j;
            },
            before: function(k) {
                var j = this.valueOf(),
                    o;
                arguments._.each(function(t) {
                    o = j.indexOf(t);
                    j = (~o) ? j.slice(d6t.W6, o) : j;
                });
                return j;
            },
            beforeLast: function(k) {
                var j = this.valueOf(),
                    o;
                arguments._.each(function(t) {
                    o = j.lastIndexOf(t);
                    j = (~o) ? j.slice(d6t.W6, o) : j;
                });
                return j;
            },
            between: function(t, k) {
                return this._.after(t)._.before(k);
            },
            betweenLast: function(t, k) {
                return this._.beforeLast(k)._.afterLast(t);
            },
            capitalize: function() {
                return this[d6t.W6] ? this[d6t.W6].toUpperCase() + this.slice(d6t.A6) : this.valueOf();
            },
            decapitalize: function() {
                return this[d6t.W6] ? this[d6t.W6].toLowerCase() + this.slice(d6t.A6) : this.valueOf();
            },
            endsWith: function(t) {
                return this.slice(-t.length) === t;
            },
            has: {
                overrideaction: d6t.w6H,
                value: function(t) {
                    return !!~this.indexOf(t);
                }
            },
            insert: function(t, k) {
                return this._.splice(k, d6t.W6, t);
            },
            isLowerCase: function() {
                return this == this.toLowerCase();
            },
            isUpperCase: function() {
                return this == this.toUpperCase();
            },
            get last() {
                return this[this.length - d6t.A6];
            },
            splice: function(t, k, j) {
                return this.slice(d6t.W6, t) + j + this.slice(t + __math.abs(k));
            },
            startsWith: function(t) {
                return !this.indexOf(t);
            },
            toString: {
                overrideaction: d6t.w6H,
                value: function() {
                    return this.toString();
                }
            }
        }
    });
    z6(K6, {
        native: Number
    }, {
        static: {
            isNumber: function(t) {
                return typeof(t) === d6t.F3B && !isNaN(t);
            },
            random: function(t, k) {
                if (t === undefined) return Math.random();
                var j = (k || d6t.W6) - t,
                    o = j ? t : d6t.W6;
                return Math.random() * j + o;
            },
            rebound: function(j) {
                return function o(t, k) {
                    return t + j % (k - t);
                };
            }
        },
        prototype: {
            sign: function(t) {
                if (t === undefined) return this > d6t.W6 ? d6t.A6 : this < d6t.W6 ? -d6t.A6 : d6t.W6;
                return t * Math.abs(this);
            },
            get even() {
                return !(this & d6t.A6);
            },
            get odd() {
                return !!(this & d6t.A6);
            },
            get parity() {
                return this & d6t.A6;
            },
            pow: function(t) {
                return Math.pow(this, t);
            },
            between: function(t, k) {
                return t <= this && this <= k;
            },
            bound: {
                aliases: [h5],
                value: function(t, k) {
                    return Math.min(Math.max(this, t), k);
                }
            },
            rebound: function(t, k) {
                return t + this % (k - t);
            },
            toString: {
                overrideaction: d6t.w6H,
                value: function() {
                    return this.toString();
                }
            }
        }
    });
    z6(R6, {
        native: Function
    }, {
        static: {
            bind: function(e, q, m) {
                if (d5.isFunction(e)) {
                    return e.bind(q);
                }
                if (e._.not.has(undefined)) {
                    return e.unshift(m), q.bind.apply(q, e);
                }
                var k5 = e._.count(undefined),
                    C5 = e.length;
                return function() {
                    var t = arguments.length,
                        k = C5 + t - k5;
                    for (var j = k - d6t.A6, o = t - d6t.A6; j >= d6t.W6; j--) {
                        arguments[j] = (e[j] !== undefined && j < C5) ? e[j] : arguments[o--];
                    }
                    arguments.length = k;
                    return q.apply(m, arguments);
                };
            },
            defer: function(t, k) {
                setTimeout(function() {
                    t.call(k);
                }, d6t.W6);
            },
            delay: {
                aliases: [n5],
                value: function(t, k, j) {
                    setTimeout(function() {
                        k.call(j);
                    }, t);
                }
            },
            inherit: function(t, k, j) {
                var o = '_super';
                t.prototype = Object.create(k.prototype);
                t.prototype.constructor = t;
                t[j || o] = k.prototype;
            },
            mixin: function(k, j) {
                k._mixin = function(t) {
                    return t.prototype;
                };
                j._.each(function(t) {
                    d5.extend(k, t);
                    d5.extend(k.prototype, t.prototype);
                });
            },
            negate: function(t) {
                return function() {
                    return !t.apply(this, arguments);
                };
            },
            repeat: function(t, k, j) {
                for (var o = d6t.W6; o < t; o++) {
                    k.call(j, o);
                }
            },
            wrap: i6
        },
        prototype: {
            toString: {
                overrideaction: d6t.w6H,
                value: function() {
                    return this.toString();
                }
            }
        }
    });
    z6(M5, {
        static: {
            length: function(t) {
                return t ? d6t.A6 + Math.log10(t) | d6t.W6 : d6t.A6;
            },
            leadZeros: function(t, k) {
                var j = (typeof(k) === d6t.F78) ? k.length : k;
                t = (d5.int.length(t) > j) ? Math.pow(d6t.x7x, j) - d6t.A6 : t;
                return (t / Math.pow(d6t.x7x, j)).toFixed(j).substr(d6t.D6);
            },
            random: function(t, k) {
                return t + (Math.random() * (k + d6t.A6 - t)) | d6t.W6;
            },
            rebound: function(o) {
                return function e(t, k) {
                    var j = o % (Math.abs(k - t) + d6t.A6);
                    return ((j < d6t.W6) ? k + d6t.A6 : t) + j;
                };
            }
        }
    });
    z6(Z5, {
        native: Math,
        base: d6t.s73
    }, {
        static: {
            byProb: function(t) {
                return Math.random() < t;
            },
            deg: {
                convert: function() {
                    var k = d6t.D6B / Math.PI;
                    return function(t) {
                        return t * k;
                    };
                }(),
                angle: function(t, k) {
                    return d5.math.deg.convert(Math.atan2(t, -k));
                },
                angleSloped: function(t, k) {
                    return d6t.h8x - d5.math.deg.angle(t, k);
                },
                invert: function(t) {
                    return t + d6t.D6B;
                },
                normalize: function(t) {
                    return (t + d6t.v7x) % d6t.v7x;
                }
            },
            rad: {
                convert: function() {
                    var k = Math.PI / d6t.D6B;
                    return function(t) {
                        return t * k;
                    };
                }()
            },
            distance: function(t, k, j, o) {
                return Math.sqrt((t - j) * (t - j) + (k - o) * (k - o));
            },
            distanceSquared: function(t, k, j, o) {
                return (t - j) * (t - j) + (k - o) * (k - o);
            },
            maxm: function() {
                for (var t = d6t.A6, k = d6t.W6, j = arguments.length; t < j; t++) {
                    if (arguments[k] < arguments[t]) {
                        k = t;
                    }
                }
                return arguments[k];
            },
            minm: function() {
                for (var t = d6t.A6, k = d6t.W6, j = arguments.length; t < j; t++) {
                    if (arguments[t] < arguments[k]) {
                        k = t;
                    }
                }
                return arguments[k];
            }
        }
    });
    return d5;
});
(function() {
    var S5 = 'loaded',
        q6 = 0.5522848,
        h6 = "copy",
        C6 = "destination-atop",
        m6 = "multiply",
        G5 = "00000",
        c6 = ((3.91E2, 128.) > (0x16B, 0x1D9) ? 'o' : (48.40E1, 103.0E1) >= (27, 0x1BB) ? (5, "#") : (0x1CE, 13.49E2)),
        Y6 = "2d",
        E6 = ((0x88, 1.83E2) > (8.44E2, 0x22) ? (0x5D, 99999) : (0x156, 98)),
        O6 = 'webglcontextrestored',
        j6 = 'webglcontextlost',
        Q5 = 'uniform vec3 tint;',
        y6 = '   gl_FragColor = vColor;',
        d5 = 'alpha',
        z6 = 'translationMatrix',
        Z6 = '   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);',
        N6 = '   v -= offsetVector.xyx;',
        P6 = '   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);',
        m5 = 'uniform mat3 translationMatrix;',
        t4 = 'uniform float alpha;',
        i6 = 'precision mediump float;',
        P4 = '   vColor = vec4(color * aColor.x, aColor.x);',
        U4 = '   vec3 color = mod(vec3(aColor.y/65536.0, aColor.y/256.0, aColor.y), 256.0) / 256.0;',
        b6 = '   vTextureCoord = aTextureCoord;',
        v4 = '   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);',
        n6 = 'const vec2 center = vec2(-1.0, 1.0);',
        s4 = 'uniform vec2 offsetVector;',
        C4 = 'uniform vec2 projectionVector;',
        v5 = 'attribute vec4 aColor;',
        Q6 = 'attribute vec2 aTextureCoord;',
        p4 = 'attribute vec2 aVertexPosition;',
        R4 = 'TEXTURE',
        o6 = 'aColor',
        W4 = 'aTextureCoord',
        O4 = 'aVertexPosition',
        o4 = 'dimensions',
        a4 = 'offsetVector',
        D4 = 'projectionVector',
        N4 = 'uSampler',
        d4 = '   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;',
        w6 = 'void main(void) {',
        r4 = 'varying vec4 vColor;',
        T4 = 'varying vec2 vTextureCoord;',
        S4 = 'precision lowp float;',
        l4 = 'The frameId "',
        b4 = 'cacheAsBitmap',
        X4 = 'filters',
        K3 = 'mask',
        H3 = 'worldVisible',
        j3 = "@2x",
        V3 = "v2.0.0",
        Q4 = this,
        V5 = V5 || {};
    V5.WEBGL_RENDERER = d6t.W6;
    V5.CANVAS_RENDERER = d6t.A6;
    V5.VERSION = V3;
    V5.blendModes = {
        NORMAL: d6t.W6,
        ADD: d6t.A6,
        MULTIPLY: d6t.D6,
        SCREEN: d6t.B6,
        OVERLAY: d6t.M6,
        DARKEN: d6t.U6,
        LIGHTEN: d6t.J6,
        COLOR_DODGE: d6t.v6,
        COLOR_BURN: d6t.d6,
        HARD_LIGHT: d6t.S6,
        SOFT_LIGHT: d6t.x7x,
        DIFFERENCE: d6t.f7x,
        EXCLUSION: d6t.W7x,
        HUE: d6t.o7x,
        SATURATION: d6t.A7x,
        COLOR: d6t.B7x,
        LUMINOSITY: d6t.M7x
    };
    V5.scaleModes = {
        DEFAULT: d6t.W6,
        LINEAR: d6t.W6,
        NEAREST: d6t.A6
    };
    V5._UID = d6t.W6;
    if (typeof(Float32Array) != d6t.k43) {
        V5.Float32Array = Float32Array;
        V5.Uint16Array = Uint16Array;
    } else {
        V5.Float32Array = Array;
        V5.Uint16Array = Array;
    }
    V5.INTERACTION_FREQUENCY = d6t.j9x;
    V5.AUTO_PREVENT_DEFAULT = d6t.s73;
    V5.PI_2 = Math.PI * d6t.D6;
    V5.RAD_TO_DEG = d6t.D6B / Math.PI;
    V5.DEG_TO_RAD = Math.PI / d6t.D6B;
    V5.RETINA_PREFIX = j3;
    V5.dontSayHello = d6t.F18;
    V5.defaultRenderOptions = {
        view: d6t.B3x,
        transparent: d6t.F18,
        antialias: d6t.F18,
        preserveDrawingBuffer: d6t.F18,
        resolution: d6t.A6,
        clearBeforeRender: d6t.s73
    };
    V5.sayHello = function(t) {
        var k = ' - http://www.pixijs.com/',
            j = 'Pixi.js ',
            o = 'background: #ffc3dc',
            e = 'color: #ff66a5; background: #030307;',
            q = 'background: #ff66a5',
            m = ' http://www.pixijs.com/  %c %c %c%c ',
            k5 = ' %c ',
            C5 = '  %c ',
            H5 = ' - ',
            j5 = '%c %c %c Pixi.js ';
        if (V5.dontSayHello) return;
        if (navigator.userAgent.toLowerCase().indexOf(d6t.A2f) > -d6t.A6) {
            var Y5 = [j5 + V5.VERSION + H5 + t + C5 + k5 + m, q, q, e, q, o, q, d6t.O28, d6t.O28, d6t.O28];
            console.log.apply(console, Y5);
        } else if (window[d6t.Q48]) {
            console.log(j + V5.VERSION + k);
        }
        V5.dontSayHello = d6t.s73;
    };
    V5.Polygon = function(t) {
        if (!(t instanceof Array)) t = Array.prototype.slice.call(arguments);
        if (t[d6t.W6] instanceof V5.Point) {
            var k = [];
            for (var j = d6t.W6, o = t.length; j < o; j++) {
                k.push(t[j].x, t[j].y);
            }
            t = k;
        }
        this.closed = d6t.s73;
        this.points = t;
    };
    V5.Polygon.prototype.clone = function() {
        var t = this.points.slice();
        return new V5.Polygon(t);
    };
    V5.Polygon.prototype.contains = function(t, k) {
        var j = d6t.F18,
            o = this.points.length / d6t.D6;
        for (var e = d6t.W6, q = o - d6t.A6; e < o; q = e++) {
            var m = this.points[e * d6t.D6],
                k5 = this.points[e * d6t.D6 + d6t.A6],
                C5 = this.points[q * d6t.D6],
                H5 = this.points[q * d6t.D6 + d6t.A6],
                j5 = ((k5 > k) !== (H5 > k)) && (t < (C5 - m) * (k - k5) / (H5 - k5) + m);
            if (j5) j = !j;
        }
        return j;
    };
    V5.Polygon.prototype.constructor = V5.Polygon;
    V5.Matrix = function() {
        this.a = d6t.A6;
        this.b = d6t.W6;
        this.c = d6t.W6;
        this.d = d6t.A6;
        this.tx = d6t.W6;
        this.ty = d6t.W6;
    };
    V5.Matrix.prototype.fromArray = function(t) {
        this.a = t[d6t.W6];
        this.b = t[d6t.A6];
        this.c = t[d6t.B6];
        this.d = t[d6t.M6];
        this.tx = t[d6t.D6];
        this.ty = t[d6t.U6];
    };
    V5.Matrix.prototype.toArray = function(t) {
        if (!this.array) this.array = new V5.Float32Array(d6t.S6);
        var k = this.array;
        if (t) {
            k[d6t.W6] = this.a;
            k[d6t.A6] = this.b;
            k[d6t.D6] = d6t.W6;
            k[d6t.B6] = this.c;
            k[d6t.M6] = this.d;
            k[d6t.U6] = d6t.W6;
            k[d6t.J6] = this.tx;
            k[d6t.v6] = this.ty;
            k[d6t.d6] = d6t.A6;
        } else {
            k[d6t.W6] = this.a;
            k[d6t.A6] = this.c;
            k[d6t.D6] = this.tx;
            k[d6t.B6] = this.b;
            k[d6t.M6] = this.d;
            k[d6t.U6] = this.ty;
            k[d6t.J6] = d6t.W6;
            k[d6t.v6] = d6t.W6;
            k[d6t.d6] = d6t.A6;
        }
        return k;
    };
    V5.Matrix.prototype.apply = function(t, k) {
        k = k || new V5.Point();
        k.x = this.a * t.x + this.b * t.y + this.tx;
        k.y = this.c * t.x + this.d * t.y + this.ty;
        return k;
    };
    V5.Matrix.prototype.applyInverse = function(t, k) {
        k = k || new V5.Point();
        var j = d6t.A6 / (this.a * this.d + this.c * -this.b);
        k.x = this.d * j * t.x + -this.c * j * t.y + (this.ty * this.c - this.tx * this.d) * j;
        k.y = this.a * j * t.y + -this.b * j * t.x + (-this.ty * this.a + this.tx * this.b) * j;
        return k;
    };
    V5.Matrix.prototype.translate = function(t, k) {
        this.tx += t;
        this.ty += k;
        return this;
    };
    V5.Matrix.prototype.scale = function(t, k) {
        this.a *= t;
        this.d *= k;
        this.c *= t;
        this.b *= k;
        this.tx *= t;
        this.ty *= k;
        return this;
    };
    V5.Matrix.prototype.rotate = function(t) {
        var k = Math.cos(t),
            j = Math.sin(t),
            o = this.a,
            e = this.c,
            q = this.tx;
        this.a = o * k - this.b * j;
        this.b = o * j + this.b * k;
        this.c = e * k - this.d * j;
        this.d = e * j + this.d * k;
        this.tx = q * k - this.ty * j;
        this.ty = q * j + this.ty * k;
        return this;
    };
    V5.Matrix.prototype.append = function(t) {
        var k = this.a,
            j = this.b,
            o = this.c,
            e = this.d;
        this.a = t.a * k + t.b * o;
        this.b = t.a * j + t.b * e;
        this.c = t.c * k + t.d * o;
        this.d = t.c * j + t.d * e;
        this.tx = t.tx * k + t.ty * o + this.tx;
        this.ty = t.tx * j + t.ty * e + this.ty;
        return this;
    };
    V5.Matrix.prototype.identity = function() {
        this.a = d6t.A6;
        this.b = d6t.W6;
        this.c = d6t.W6;
        this.d = d6t.A6;
        this.tx = d6t.W6;
        this.ty = d6t.W6;
        return this;
    };
    V5.identityMatrix = new V5.Matrix();
    V5.DisplayObject = function() {
        this.position = new V5.Point();
        this.scale = new V5.Point(d6t.A6, d6t.A6);
        this.pivot = new V5.Point(d6t.W6, d6t.W6);
        this.rotation = d6t.W6;
        this.alpha = d6t.A6;
        this.visible = d6t.s73;
        this.hitArea = d6t.B3x;
        this.buttonMode = d6t.F18;
        this.renderable = d6t.F18;
        this.parent = d6t.B3x;
        this.stage = d6t.B3x;
        this.worldAlpha = d6t.A6;
        this._interactive = d6t.F18;
        this.defaultCursor = d6t.A4;
        this.worldTransform = new V5.Matrix();
        this._sr = d6t.W6;
        this._cr = d6t.A6;
        this.filterArea = d6t.B3x;
        this._bounds = new V5.Rectangle(d6t.W6, d6t.W6, d6t.A6, d6t.A6);
        this._currentBounds = d6t.B3x;
        this._mask = d6t.B3x;
        this._cacheAsBitmap = d6t.F18;
        this._cacheIsDirty = d6t.F18;
    };
    V5.DisplayObject.prototype.constructor = V5.DisplayObject;
    Object.defineProperty(V5.DisplayObject.prototype, d6t.b5f, {
        get: function() {
            return this._interactive;
        },
        set: function(t) {
            this._interactive = t;
            if (this.stage) this.stage.dirty = d6t.s73;
        }
    });
    Object.defineProperty(V5.DisplayObject.prototype, H3, {
        get: function() {
            var t = this;
            do {
                if (!t.visible) return d6t.F18;
                t = t.parent;
            } while (t);
            return d6t.s73;
        }
    });
    Object.defineProperty(V5.DisplayObject.prototype, K3, {
        get: function() {
            return this._mask;
        },
        set: function(t) {
            if (this._mask) this._mask.isMask = d6t.F18;
            this._mask = t;
            if (this._mask) this._mask.isMask = d6t.s73;
        }
    });
    Object.defineProperty(V5.DisplayObject.prototype, X4, {
        get: function() {
            return this._filters;
        },
        set: function(t) {
            if (t) {
                var k = [];
                for (var j = d6t.W6; j < t.length; j++) {
                    var o = t[j].passes;
                    for (var e = d6t.W6; e < o.length; e++) {
                        k.push(o[e]);
                    }
                }
                this._filterBlock = {
                    target: this,
                    filterPasses: k
                };
            }
            this._filters = t;
        }
    });
    Object.defineProperty(V5.DisplayObject.prototype, b4, {
        get: function() {
            return this._cacheAsBitmap;
        },
        set: function(t) {
            if (this._cacheAsBitmap === t) return;
            if (t) {
                this._generateCachedSprite();
            } else {
                this._destroyCachedSprite();
            }
            this._cacheAsBitmap = t;
        }
    });
    V5.DisplayObject.prototype.updateTransform = function() {
        var t = this.parent.worldTransform,
            k = this.worldTransform,
            j, o, e, q, m, k5;
        if (this.rotation % V5.PI_2) {
            if (this.rotation !== this.rotationCache) {
                this.rotationCache = this.rotation;
                this._sr = Math.sin(this.rotation);
                this._cr = Math.cos(this.rotation);
            }
            j = this._cr * this.scale.x;
            o = this._sr * this.scale.x;
            e = -this._sr * this.scale.y;
            q = this._cr * this.scale.y;
            m = this.position.x;
            k5 = this.position.y;
            if (this.pivot.x || this.pivot.y) {
                m -= this.pivot.x * j + this.pivot.y * e;
                k5 -= this.pivot.x * o + this.pivot.y * q;
            }
            k.a = j * t.a + o * t.c;
            k.b = j * t.b + o * t.d;
            k.c = e * t.a + q * t.c;
            k.d = e * t.b + q * t.d;
            k.tx = m * t.a + k5 * t.c + t.tx;
            k.ty = m * t.b + k5 * t.d + t.ty;
        } else {
            j = this.scale.x;
            q = this.scale.y;
            m = this.position.x - this.pivot.x * j;
            k5 = this.position.y - this.pivot.y * q;
            k.a = t.a * j;
            k.b = t.b * q;
            k.c = t.c * j;
            k.d = t.d * q;
            k.tx = m * t.a + k5 * t.c + t.tx;
            k.ty = m * t.b + k5 * t.d + t.ty;
        }
        this.worldAlpha = this.alpha * this.parent.worldAlpha;
    };
    V5.DisplayObject.prototype.getBounds = function(t) {
        t = t;
        return V5.EmptyRectangle;
    };
    V5.DisplayObject.prototype.getLocalBounds = function() {
        return this.getBounds(V5.identityMatrix);
    };
    V5.DisplayObject.prototype.setStageReference = function(t) {
        this.stage = t;
        if (this._interactive) this.stage.dirty = d6t.s73;
    };
    V5.DisplayObject.prototype.generateTexture = function(t, k, j) {
        var o = this.getLocalBounds(),
            e = new V5.RenderTexture(o.width | d6t.W6, o.height | d6t.W6, j, k, t);
        V5.DisplayObject._tempMatrix.tx = -o.x;
        V5.DisplayObject._tempMatrix.ty = -o.y;
        e.render(this, V5.DisplayObject._tempMatrix);
        return e;
    };
    V5.DisplayObject.prototype.updateCache = function() {
        this._generateCachedSprite();
    };
    V5.DisplayObject.prototype.toGlobal = function(t) {
        this.updateTransform();
        return this.worldTransform.apply(t);
    };
    V5.DisplayObject.prototype.toLocal = function(t, k) {
        if (k) {
            t = k.toGlobal(t);
        }
        this.updateTransform();
        return this.worldTransform.applyInverse(t);
    };
    V5.DisplayObject.prototype._renderCachedSprite = function(t) {
        this._cachedSprite.worldAlpha = this.worldAlpha;
        if (t.gl) {
            V5.Sprite.prototype._renderWebGL.call(this._cachedSprite, t);
        } else {
            V5.Sprite.prototype._renderCanvas.call(this._cachedSprite, t);
        }
    };
    V5.DisplayObject.prototype._generateCachedSprite = function() {
        this._cacheAsBitmap = d6t.F18;
        var t = this.getLocalBounds();
        if (!this._cachedSprite) {
            var k = new V5.RenderTexture(t.width | d6t.W6, t.height | d6t.W6);
            this._cachedSprite = new V5.Sprite(k);
            this._cachedSprite.worldTransform = this.worldTransform;
        } else {
            this._cachedSprite.texture.resize(t.width | d6t.W6, t.height | d6t.W6);
        }
        var j = this._filters;
        this._filters = d6t.B3x;
        this._cachedSprite.filters = j;
        V5.DisplayObject._tempMatrix.tx = -t.x;
        V5.DisplayObject._tempMatrix.ty = -t.y;
        this._cachedSprite.texture.render(this, V5.DisplayObject._tempMatrix);
        this._cachedSprite.anchor.x = -(t.x / t.width);
        this._cachedSprite.anchor.y = -(t.y / t.height);
        this._filters = j;
        this._cacheAsBitmap = d6t.s73;
    };
    V5.DisplayObject.prototype._destroyCachedSprite = function() {
        if (!this._cachedSprite) return;
        this._cachedSprite.texture.destroy(d6t.s73);
        this._cachedSprite = d6t.B3x;
    };
    V5.DisplayObject.prototype._renderWebGL = function(t) {
        t = t;
    };
    V5.DisplayObject.prototype._renderCanvas = function(t) {
        t = t;
    };
    V5.DisplayObject._tempMatrix = new V5.Matrix();
    Object.defineProperty(V5.DisplayObject.prototype, d6t.U3, {
        get: function() {
            return this.position.x;
        },
        set: function(t) {
            this.position.x = t;
        }
    });
    Object.defineProperty(V5.DisplayObject.prototype, d6t.n3, {
        get: function() {
            return this.position.y;
        },
        set: function(t) {
            this.position.y = t;
        }
    });
    V5.DisplayObjectContainer = function() {
        V5.DisplayObject.call(this);
        this.children = [];
    };
    V5.DisplayObjectContainer.prototype = Object.create(V5.DisplayObject.prototype);
    V5.DisplayObjectContainer.prototype.constructor = V5.DisplayObjectContainer;
    Object.defineProperty(V5.DisplayObjectContainer.prototype, d6t.y1f, {
        get: function() {
            return this.scale.x * this.getLocalBounds().width;
        },
        set: function(t) {
            var k = this.getLocalBounds().width;
            if (k !== d6t.W6) {
                this.scale.x = t / (k / this.scale.x);
            } else {
                this.scale.x = d6t.A6;
            }
            this._width = t;
        }
    });
    Object.defineProperty(V5.DisplayObjectContainer.prototype, d6t.I7H, {
        get: function() {
            return this.scale.y * this.getLocalBounds().height;
        },
        set: function(t) {
            var k = this.getLocalBounds().height;
            if (k !== d6t.W6) {
                this.scale.y = t / (k / this.scale.y);
            } else {
                this.scale.y = d6t.A6;
            }
            this._height = t;
        }
    });
    V5.DisplayObjectContainer.prototype.addChild = function(t) {
        return this.addChildAt(t, this.children.length);
    };
    V5.DisplayObjectContainer.prototype.addChildAt = function(t, k) {
        var j = ' supplied is out of bounds ',
            o = 'addChildAt: The index ';
        if (k >= d6t.W6 && k <= this.children.length) {
            if (t.parent) {
                t.parent.removeChild(t);
            }
            t.parent = this;
            this.children.splice(k, d6t.W6, t);
            if (this.stage) t.setStageReference(this.stage);
            return t;
        } else {
            throw new Error(t + o + k + j + this.children.length);
        }
    };
    V5.DisplayObjectContainer.prototype.swapChildren = function(t, k) {
        var j = 'swapChildren: Both the supplied DisplayObjects must be a child of the caller.';
        if (t === k) {
            return;
        }
        var o = this.getChildIndex(t),
            e = this.getChildIndex(k);
        if (o < d6t.W6 || e < d6t.W6) {
            throw new Error(j);
        }
        this.children[o] = k;
        this.children[e] = t;
    };
    V5.DisplayObjectContainer.prototype.getChildIndex = function(t) {
        var k = 'The supplied DisplayObject must be a child of the caller',
            j = this.children.indexOf(t);
        if (j === -d6t.A6) {
            throw new Error(k);
        }
        return j;
    };
    V5.DisplayObjectContainer.prototype.setChildIndex = function(t, k) {
        var j = 'The supplied index is out of bounds';
        if (k < d6t.W6 || k >= this.children.length) {
            throw new Error(j);
        }
        var o = this.getChildIndex(t);
        this.children.splice(o, d6t.A6);
        this.children.splice(k, d6t.W6, t);
    };
    V5.DisplayObjectContainer.prototype.getChildAt = function(t) {
        var k = ' does not exist in the child list, or the supplied DisplayObject must be a child of the caller',
            j = 'getChildAt: Supplied index ';
        if (t < d6t.W6 || t >= this.children.length) {
            throw new Error(j + t + k);
        }
        return this.children[t];
    };
    V5.DisplayObjectContainer.prototype.removeChild = function(t) {
        var k = this.children.indexOf(t);
        if (k === -d6t.A6) return;
        return this.removeChildAt(k);
    };
    V5.DisplayObjectContainer.prototype.removeChildAt = function(t) {
        var k = this.getChildAt(t);
        if (this.stage) k.removeStageReference();
        k.parent = undefined;
        this.children.splice(t, d6t.A6);
        return k;
    };
    V5.DisplayObjectContainer.prototype.removeChildren = function(t, k) {
        var j = 'removeChildren: Range Error, numeric values are outside the acceptable range',
            o = t || d6t.W6,
            e = typeof k === d6t.F3B ? k : this.children.length,
            q = e - o;
        if (q > d6t.W6 && q <= e) {
            var m = this.children.splice(o, q);
            for (var k5 = d6t.W6; k5 < m.length; k5++) {
                var C5 = m[k5];
                if (this.stage) C5.removeStageReference();
                C5.parent = undefined;
            }
            return m;
        } else if (q === d6t.W6 && this.children.length === d6t.W6) {
            return [];
        } else {
            throw new Error(j);
        }
    };
    V5.DisplayObjectContainer.prototype.updateTransform = function() {
        if (!this.visible) return;
        V5.DisplayObject.prototype.updateTransform.call(this);
        if (this._cacheAsBitmap) return;
        for (var t = d6t.W6, k = this.children.length; t < k; t++) {
            this.children[t].updateTransform();
        }
    };
    V5.DisplayObjectContainer.prototype.getBounds = function() {
        if (this.children.length === d6t.W6) return V5.EmptyRectangle;
        var t = Infinity,
            k = Infinity,
            j = -Infinity,
            o = -Infinity,
            e, q, m, k5 = d6t.F18;
        for (var C5 = d6t.W6, H5 = this.children.length; C5 < H5; C5++) {
            var j5 = this.children[C5];
            if (!j5.visible) continue;
            k5 = d6t.s73;
            e = this.children[C5].getBounds();
            t = t < e.x ? t : e.x;
            k = k < e.y ? k : e.y;
            q = e.width + e.x;
            m = e.height + e.y;
            j = j > q ? j : q;
            o = o > m ? o : m;
        }
        if (!k5) return V5.EmptyRectangle;
        var Y5 = this._bounds;
        Y5.x = t;
        Y5.y = k;
        Y5.width = j - t;
        Y5.height = o - k;
        return Y5;
    };
    V5.DisplayObjectContainer.prototype.getLocalBounds = function() {
        var t = this.worldTransform;
        this.worldTransform = V5.identityMatrix;
        for (var k = d6t.W6, j = this.children.length; k < j; k++) {
            this.children[k].updateTransform();
        }
        var o = this.getBounds();
        this.worldTransform = t;
        return o;
    };
    V5.DisplayObjectContainer.prototype.setStageReference = function(t) {
        this.stage = t;
        if (this._interactive) this.stage.dirty = d6t.s73;
        for (var k = d6t.W6, j = this.children.length; k < j; k++) {
            var o = this.children[k];
            o.setStageReference(t);
        }
    };
    V5.DisplayObjectContainer.prototype.removeStageReference = function() {
        for (var t = d6t.W6, k = this.children.length; t < k; t++) {
            var j = this.children[t];
            j.removeStageReference();
        }
        if (this._interactive) this.stage.dirty = d6t.s73;
        this.stage = d6t.B3x;
    };
    V5.DisplayObjectContainer.prototype._renderWebGL = function(t) {
        if (!this.visible || this.alpha <= d6t.W6) return;
        if (this._cacheAsBitmap) {
            this._renderCachedSprite(t);
            return;
        }
        var k, j;
        if (this._mask || this._filters) {
            if (this._filters) {
                t.spriteBatch.flush();
                t.filterManager.pushFilter(this._filterBlock);
            }
            if (this._mask) {
                t.spriteBatch.stop();
                t.maskManager.pushMask(this.mask, t);
                t.spriteBatch.start();
            }
            for (k = d6t.W6, j = this.children.length; k < j; k++) {
                this.children[k]._renderWebGL(t);
            }
            t.spriteBatch.stop();
            if (this._mask) t.maskManager.popMask(this._mask, t);
            if (this._filters) t.filterManager.popFilter();
            t.spriteBatch.start();
        } else {
            for (k = d6t.W6, j = this.children.length; k < j; k++) {
                this.children[k]._renderWebGL(t);
            }
        }
    };
    V5.DisplayObjectContainer.prototype._renderCanvas = function(t) {
        if (this.visible === d6t.F18 || this.alpha === d6t.W6) return;
        if (this._cacheAsBitmap) {
            this._renderCachedSprite(t);
            return;
        }
        if (this._mask) {
            t.maskManager.pushMask(this._mask, t);
        }
        for (var k = d6t.W6, j = this.children.length; k < j; k++) {
            var o = this.children[k];
            o._renderCanvas(t);
        }
        if (this._mask) {
            t.maskManager.popMask(t);
        }
    };
    V5.Sprite = function(t) {
        V5.DisplayObjectContainer.call(this);
        this.anchor = new V5.Point();
        this.texture = t;
        this._width = d6t.W6;
        this._height = d6t.W6;
        this.tint = 0xFFFFFF;
        this.blendMode = V5.blendModes.NORMAL;
        this.shader = d6t.B3x;
        if (t.baseTexture.hasLoaded) {
            this.onTextureUpdate();
        } else {
            this.onTextureUpdateBind = this.onTextureUpdate.bind(this);
            this.texture.on(d6t.o0f, this.onTextureUpdateBind);
        }
        this.renderable = d6t.s73;
    };
    V5.Sprite.prototype = Object.create(V5.DisplayObjectContainer.prototype);
    V5.Sprite.prototype.constructor = V5.Sprite;
    Object.defineProperty(V5.Sprite.prototype, d6t.y1f, {
        get: function() {
            return this.scale.x * this.texture.frame.width;
        },
        set: function(t) {
            this.scale.x = t / this.texture.frame.width;
            this._width = t;
        }
    });
    Object.defineProperty(V5.Sprite.prototype, d6t.I7H, {
        get: function() {
            return this.scale.y * this.texture.frame.height;
        },
        set: function(t) {
            this.scale.y = t / this.texture.frame.height;
            this._height = t;
        }
    });
    V5.Sprite.prototype.setTexture = function(t) {
        this.texture = t;
        this.cachedTint = 0xFFFFFF;
    };
    V5.Sprite.prototype.onTextureUpdate = function() {
        if (this._width) this.scale.x = this._width / this.texture.frame.width;
        if (this._height) this.scale.y = this._height / this.texture.frame.height;
    };
    V5.Sprite.prototype.getBounds = function(t) {
        var k = this.texture.frame.width,
            j = this.texture.frame.height,
            o = k * (d6t.A6 - this.anchor.x),
            e = k * -this.anchor.x,
            q = j * (d6t.A6 - this.anchor.y),
            m = j * -this.anchor.y,
            k5 = t || this.worldTransform,
            C5 = k5.a,
            H5 = k5.c,
            j5 = k5.b,
            Y5 = k5.d,
            z5 = k5.tx,
            P5 = k5.ty,
            p5 = C5 * e + j5 * m + z5,
            w5 = Y5 * m + H5 * e + P5,
            R5 = C5 * o + j5 * m + z5,
            r5 = Y5 * m + H5 * o + P5,
            T5 = C5 * o + j5 * q + z5,
            a5 = Y5 * q + H5 * o + P5,
            x5 = C5 * e + j5 * q + z5,
            f5 = Y5 * q + H5 * e + P5,
            A5 = -Infinity,
            u5 = -Infinity,
            B5 = Infinity,
            D5 = Infinity;
        B5 = p5 < B5 ? p5 : B5;
        B5 = R5 < B5 ? R5 : B5;
        B5 = T5 < B5 ? T5 : B5;
        B5 = x5 < B5 ? x5 : B5;
        D5 = w5 < D5 ? w5 : D5;
        D5 = r5 < D5 ? r5 : D5;
        D5 = a5 < D5 ? a5 : D5;
        D5 = f5 < D5 ? f5 : D5;
        A5 = p5 > A5 ? p5 : A5;
        A5 = R5 > A5 ? R5 : A5;
        A5 = T5 > A5 ? T5 : A5;
        A5 = x5 > A5 ? x5 : A5;
        u5 = w5 > u5 ? w5 : u5;
        u5 = r5 > u5 ? r5 : u5;
        u5 = a5 > u5 ? a5 : u5;
        u5 = f5 > u5 ? f5 : u5;
        var o5 = this._bounds;
        o5.x = B5;
        o5.width = A5 - B5;
        o5.y = D5;
        o5.height = u5 - D5;
        this._currentBounds = o5;
        return o5;
    };
    V5.Sprite.prototype._renderWebGL = function(t) {
        if (!this.visible || this.alpha <= d6t.W6) return;
        var k, j;
        if (this._mask || this._filters) {
            var o = t.spriteBatch;
            if (this._filters) {
                o.flush();
                t.filterManager.pushFilter(this._filterBlock);
            }
            if (this._mask) {
                o.stop();
                t.maskManager.pushMask(this.mask, t);
                o.start();
            }
            o.render(this);
            for (k = d6t.W6, j = this.children.length; k < j; k++) {
                this.children[k]._renderWebGL(t);
            }
            o.stop();
            if (this._mask) t.maskManager.popMask(this._mask, t);
            if (this._filters) t.filterManager.popFilter();
            o.start();
        } else {
            t.spriteBatch.render(this);
            for (k = d6t.W6, j = this.children.length; k < j; k++) {
                this.children[k]._renderWebGL(t);
            }
        }
    };
    V5.Sprite.prototype._renderCanvas = function(t) {
        if (this.visible === d6t.F18 || this.alpha === d6t.W6 || this.texture.crop.width <= d6t.W6 || this.texture.crop.height <= d6t.W6) return;
        if (this.blendMode !== t.currentBlendMode) {
            t.currentBlendMode = this.blendMode;
            t.context.globalCompositeOperation = V5.blendModesCanvas[t.currentBlendMode];
        }
        if (this._mask) {
            t.maskManager.pushMask(this._mask, t);
        }
        if (this.texture.valid) {
            var k = this.texture.baseTexture.resolution / t.resolution;
            t.context.globalAlpha = this.worldAlpha;
            if (t.roundPixels) {
                t.context.setTransform(this.worldTransform.a, this.worldTransform.b, this.worldTransform.c, this.worldTransform.d, (this.worldTransform.tx * t.resolution) | d6t.W6, (this.worldTransform.ty * t.resolution) | d6t.W6);
            } else {
                t.context.setTransform(this.worldTransform.a, this.worldTransform.b, this.worldTransform.c, this.worldTransform.d, this.worldTransform.tx * t.resolution, this.worldTransform.ty * t.resolution);
            }
            if (t.smoothProperty && t.scaleMode !== this.texture.baseTexture.scaleMode) {
                t.scaleMode = this.texture.baseTexture.scaleMode;
                t.context[t.smoothProperty] = (t.scaleMode === V5.scaleModes.LINEAR);
            }
            var j = (this.texture.trim) ? this.texture.trim.x - this.anchor.x * this.texture.trim.width : this.anchor.x * -this.texture.frame.width,
                o = (this.texture.trim) ? this.texture.trim.y - this.anchor.y * this.texture.trim.height : this.anchor.y * -this.texture.frame.height;
            if (this.tint !== ((97.60E1, 30.) > (5.93E2, 0x111) ? (1.234E3, 27) : (8.28E2, 71.) <= 0x212 ? (78, 0xFFFFFF) : (0x119, 19) >= (9.66E2, 0x164) ? (0x133, 128.) : (0x242, 1.23E3))) {
                if (this.cachedTint !== this.tint) {
                    this.cachedTint = this.tint;
                    this.tintedTexture = V5.CanvasTinter.getTintedTexture(this, this.tint);
                }
                t.context.drawImage(this.tintedTexture, d6t.W6, d6t.W6, this.texture.crop.width, this.texture.crop.height, j / k, o / k, this.texture.crop.width / k, this.texture.crop.height / k);
            } else {
                t.context.drawImage(this.texture.baseTexture.source, this.texture.crop.x, this.texture.crop.y, this.texture.crop.width, this.texture.crop.height, j / k, o / k, this.texture.crop.width / k, this.texture.crop.height / k);
            }
        }
        for (var e = d6t.W6, q = this.children.length; e < q; e++) {
            this.children[e]._renderCanvas(t);
        }
        if (this._mask) {
            t.maskManager.popMask(t);
        }
    };
    V5.Sprite.fromFrame = function(t) {
        var k = '" does not exist in the texture cache',
            j = V5.TextureCache[t];
        if (!j) throw new Error(l4 + t + k + this);
        return new V5.Sprite(j);
    };
    V5.Sprite.fromImage = function(t, k, j) {
        var o = V5.Texture.fromImage(t, k, j);
        return new V5.Sprite(o);
    };
    V5.SpriteBatch = function(t) {
        V5.DisplayObjectContainer.call(this);
        this.textureThing = t;
        this.ready = d6t.F18;
    };
    V5.SpriteBatch.prototype = Object.create(V5.DisplayObjectContainer.prototype);
    V5.SpriteBatch.prototype.constructor = V5.SpriteBatch;
    V5.SpriteBatch.prototype.initWebGL = function(t) {
        this.fastSpriteBatch = new V5.WebGLFastSpriteBatch(t);
        this.ready = d6t.s73;
    };
    V5.SpriteBatch.prototype.updateTransform = function() {
        V5.DisplayObject.prototype.updateTransform.call(this);
    };
    V5.SpriteBatch.prototype._renderWebGL = function(t) {
        if (!this.visible || this.alpha <= d6t.W6 || !this.children.length) return;
        if (!this.ready) this.initWebGL(t.gl);
        t.spriteBatch.stop();
        t.shaderManager.setShader(t.shaderManager.fastShader);
        this.fastSpriteBatch.begin(this, t);
        this.fastSpriteBatch.render(this);
        t.spriteBatch.start();
    };
    V5.SpriteBatch.prototype._renderCanvas = function(t) {
        if (!this.visible || this.alpha <= d6t.W6 || !this.children.length) return;
        var k = t.context;
        k.globalAlpha = this.worldAlpha;
        V5.DisplayObject.prototype.updateTransform.call(this);
        var j = this.worldTransform,
            o = d6t.s73;
        for (var e = d6t.W6; e < this.children.length; e++) {
            var q = this.children[e];
            if (!q.visible) continue;
            var m = q.texture,
                k5 = m.frame;
            k.globalAlpha = this.worldAlpha * q.alpha;
            if (q.rotation % (Math.PI * d6t.D6) === d6t.W6) {
                if (o) {
                    k.setTransform(j.a, j.b, j.c, j.d, j.tx, j.ty);
                    o = d6t.F18;
                }
                k.drawImage(m.baseTexture.source, k5.x, k5.y, k5.width, k5.height, ((q.anchor.x) * (-k5.width * q.scale.x) + q.position.x + d6t.z48) | d6t.W6, ((q.anchor.y) * (-k5.height * q.scale.y) + q.position.y + d6t.z48) | d6t.W6, k5.width * q.scale.x, k5.height * q.scale.y);
            } else {
                if (!o) o = d6t.s73;
                V5.DisplayObject.prototype.updateTransform.call(q);
                var C5 = q.worldTransform;
                if (t.roundPixels) {
                    k.setTransform(C5.a, C5.b, C5.c, C5.d, C5.tx | d6t.W6, C5.ty | d6t.W6);
                } else {
                    k.setTransform(C5.a, C5.b, C5.c, C5.d, C5.tx, C5.ty);
                }
                k.drawImage(m.baseTexture.source, k5.x, k5.y, k5.width, k5.height, ((q.anchor.x) * (-k5.width) + d6t.z48) | d6t.W6, ((q.anchor.y) * (-k5.height) + d6t.z48) | d6t.W6, k5.width, k5.height);
            }
        }
    };
    V5.FilterBlock = function() {
        this.visible = d6t.s73;
        this.renderable = d6t.s73;
    };
    V5.FilterBlock.prototype.constructor = V5.FilterBlock;
    V5.Text = function(t, k) {
        this.canvas = document.createElement(d6t.f3B);
        this.context = this.canvas.getContext(d6t.J8);
        this.resolution = d6t.A6;
        V5.Sprite.call(this, V5.Texture.fromCanvas(this.canvas));
        this.setText(t);
        this.setStyle(k);
    };
    V5.Text.prototype = Object.create(V5.Sprite.prototype);
    V5.Text.prototype.constructor = V5.Text;
    Object.defineProperty(V5.Text.prototype, d6t.y1f, {
        get: function() {
            if (this.dirty) {
                this.updateText();
                this.dirty = d6t.F18;
            }
            return this.scale.x * this.texture.frame.width;
        },
        set: function(t) {
            this.scale.x = t / this.texture.frame.width;
            this._width = t;
        }
    });
    Object.defineProperty(V5.Text.prototype, d6t.I7H, {
        get: function() {
            if (this.dirty) {
                this.updateText();
                this.dirty = d6t.F18;
            }
            return this.scale.y * this.texture.frame.height;
        },
        set: function(t) {
            this.scale.y = t / this.texture.frame.height;
            this._height = t;
        }
    });
    V5.Text.prototype.setStyle = function(t) {
        t = t || {};
        t.font = t.font || d6t.W78;
        t.fill = t.fill || d6t.j7H;
        t.align = t.align || d6t.m6H;
        t.stroke = t.stroke || d6t.j7H;
        t.strokeThickness = t.strokeThickness || d6t.W6;
        t.wordWrap = t.wordWrap || d6t.F18;
        t.wordWrapWidth = t.wordWrapWidth || d6t.a08;
        t.dropShadow = t.dropShadow || d6t.F18;
        t.dropShadowAngle = t.dropShadowAngle || Math.PI / d6t.J6;
        t.dropShadowDistance = t.dropShadowDistance || d6t.M6;
        t.dropShadowColor = t.dropShadowColor || d6t.j7H;
        this.style = t;
        this.dirty = d6t.s73;
    };
    V5.Text.prototype.setText = function(t) {
        this.text = t.toString() || d6t.p93;
        this.dirty = d6t.s73;
    };
    V5.Text.prototype.updateText = function() {
        this.texture.baseTexture.resolution = this.resolution;
        this.context.font = this.style.font;
        var t = this.text;
        if (this.style.wordWrap) t = this.wordWrap(this.text);
        var k = t.split(/(?:\r\n|\r|\n)/),
            j = [],
            o = d6t.W6,
            e = this.determineFontProperties(this.style.font);
        for (var q = d6t.W6; q < k.length; q++) {
            var m = this.context.measureText(k[q]).width;
            j[q] = m;
            o = Math.max(o, m);
        }
        var k5 = o + this.style.strokeThickness;
        if (this.style.dropShadow) k5 += this.style.dropShadowDistance;
        this.canvas.width = (k5 + this.context.lineWidth) * this.resolution;
        var C5 = e.fontSize + this.style.strokeThickness,
            H5 = C5 * k.length;
        if (this.style.dropShadow) H5 += this.style.dropShadowDistance;
        this.canvas.height = H5 * this.resolution;
        this.context.scale(this.resolution, this.resolution);
        if (navigator.isCocoonJS) this.context.clearRect(d6t.W6, d6t.W6, this.canvas.width, this.canvas.height);
        this.context.font = this.style.font;
        this.context.strokeStyle = this.style.stroke;
        this.context.lineWidth = this.style.strokeThickness;
        this.context.textBaseline = d6t.j1x;
        this.context.lineJoin = d6t.E7f;
        var j5, Y5;
        if (this.style.dropShadow) {
            this.context.fillStyle = this.style.dropShadowColor;
            var z5 = Math.sin(this.style.dropShadowAngle) * this.style.dropShadowDistance,
                P5 = Math.cos(this.style.dropShadowAngle) * this.style.dropShadowDistance;
            for (q = d6t.W6; q < k.length; q++) {
                j5 = this.style.strokeThickness / d6t.D6;
                Y5 = (this.style.strokeThickness / d6t.D6 + q * C5) + e.ascent;
                if (this.style.align === d6t.w3B) {
                    j5 += o - j[q];
                } else if (this.style.align === d6t.G6f) {
                    j5 += (o - j[q]) / d6t.D6;
                }
                if (this.style.fill) {
                    this.context.fillText(k[q], j5 + z5, Y5 + P5);
                }
            }
        }
        this.context.fillStyle = this.style.fill;
        for (q = d6t.W6; q < k.length; q++) {
            j5 = this.style.strokeThickness / d6t.D6;
            Y5 = (this.style.strokeThickness / d6t.D6 + q * C5) + e.ascent;
            if (this.style.align === d6t.w3B) {
                j5 += o - j[q];
            } else if (this.style.align === d6t.G6f) {
                j5 += (o - j[q]) / d6t.D6;
            }
            if (this.style.stroke && this.style.strokeThickness) {
                this.context.strokeText(k[q], j5, Y5);
            }
            if (this.style.fill) {
                this.context.fillText(k[q], j5, Y5);
            }
        }
        this.updateTexture();
    };
    V5.Text.prototype.updateTexture = function() {
        this.texture.baseTexture.width = this.canvas.width;
        this.texture.baseTexture.height = this.canvas.height;
        this.texture.crop.width = this.texture.frame.width = this.canvas.width;
        this.texture.crop.height = this.texture.frame.height = this.canvas.height;
        this._width = this.canvas.width;
        this._height = this.canvas.height;
        this.texture.baseTexture.dirty();
    };
    V5.Text.prototype._renderWebGL = function(t) {
        if (this.dirty) {
            this.resolution = t.resolution;
            this.updateText();
            this.dirty = d6t.F18;
        }
        V5.Sprite.prototype._renderWebGL.call(this, t);
    };
    V5.Text.prototype._renderCanvas = function(t) {
        if (this.dirty) {
            this.resolution = t.resolution;
            this.updateText();
            this.dirty = d6t.F18;
        }
        V5.Sprite.prototype._renderCanvas.call(this, t);
    };
    V5.Text.prototype.determineFontProperties = function(t) {
        var k = '#f00',
            j = 1.4,
            o = (0x112 <= (11.0E1, 0x161) ? (40.1E1, 'M') : (1.32E2, 106) <= 0x12 ? "f" : 8.75E2 < (4.41E2, 0xFD) ? (0xCA, 136) : (0x1FC, 1.061E3)),
            e = '|Mq',
            q = V5.Text.fontPropertiesCache[t];
        if (!q) {
            q = {};
            var m = V5.Text.fontPropertiesCanvas,
                k5 = V5.Text.fontPropertiesContext;
            k5.font = t;
            var C5 = Math.ceil(k5.measureText(e).width),
                H5 = Math.ceil(k5.measureText(o).width),
                j5 = d6t.D6 * H5;
            H5 = H5 * j | d6t.W6;
            m.width = C5;
            m.height = j5;
            k5.fillStyle = k;
            k5.fillRect(d6t.W6, d6t.W6, C5, j5);
            k5.font = t;
            k5.textBaseline = d6t.j1x;
            k5.fillStyle = d6t.m7x;
            k5.fillText(e, d6t.W6, H5);
            var Y5 = k5.getImageData(d6t.W6, d6t.W6, C5, j5).data,
                z5 = Y5.length,
                P5 = C5 * d6t.M6,
                p5, w5, R5 = d6t.W6,
                r5 = d6t.F18;
            for (p5 = d6t.W6; p5 < H5; p5++) {
                for (w5 = d6t.W6; w5 < P5; w5 += d6t.M6) {
                    if (Y5[R5 + w5] !== d6t.s8) {
                        r5 = d6t.s73;
                        break;
                    }
                }
                if (!r5) {
                    R5 += P5;
                } else {
                    break;
                }
            }
            q.ascent = H5 - p5;
            R5 = z5 - P5;
            r5 = d6t.F18;
            for (p5 = j5; p5 > H5; p5--) {
                for (w5 = d6t.W6; w5 < P5; w5 += d6t.M6) {
                    if (Y5[R5 + w5] !== d6t.s8) {
                        r5 = d6t.s73;
                        break;
                    }
                }
                if (!r5) {
                    R5 -= P5;
                } else {
                    break;
                }
            }
            q.descent = p5 - H5;
            q.fontSize = q.ascent + q.descent;
            V5.Text.fontPropertiesCache[t] = q;
        }
        return q;
    };
    V5.Text.prototype.wordWrap = function(t) {
        var k = d6t.I6x,
            j = t.split(d6t.C7);
        for (var o = d6t.W6; o < j.length; o++) {
            var e = this.style.wordWrapWidth,
                q = j[o].split(d6t.p93);
            for (var m = d6t.W6; m < q.length; m++) {
                var k5 = this.context.measureText(q[m]).width,
                    C5 = k5 + this.context.measureText(d6t.p93).width;
                if (m === d6t.W6 || C5 > e) {
                    if (m > d6t.W6) {
                        k += d6t.C7;
                    }
                    k += q[m];
                    e = this.style.wordWrapWidth - k5;
                } else {
                    e -= C5;
                    k += d6t.p93 + q[m];
                }
            }
            if (o < j.length - d6t.A6) {
                k += d6t.C7;
            }
        }
        return k;
    };
    V5.Text.prototype.destroy = function(t) {
        this.context = d6t.B3x;
        this.canvas = d6t.B3x;
        this.texture.destroy(t === undefined ? d6t.s73 : t);
    };
    V5.Text.fontPropertiesCache = {};
    V5.Text.fontPropertiesCanvas = document.createElement(d6t.f3B);
    V5.Text.fontPropertiesContext = V5.Text.fontPropertiesCanvas.getContext(d6t.J8);
    V5.BitmapText = function(t, k) {
        V5.DisplayObjectContainer.call(this);
        this.textWidth = d6t.W6;
        this.textHeight = d6t.W6;
        this._pool = [];
        this.setText(t);
        this.setStyle(k);
        this.updateText();
        this.dirty = d6t.F18;
    };
    V5.BitmapText.prototype = Object.create(V5.DisplayObjectContainer.prototype);
    V5.BitmapText.prototype.constructor = V5.BitmapText;
    V5.BitmapText.prototype.setText = function(t) {
        this.text = t || d6t.p93;
        this.dirty = d6t.s73;
    };
    V5.BitmapText.prototype.setStyle = function(t) {
        t = t || {};
        t.align = t.align || d6t.m6H;
        this.style = t;
        var k = t.font.split(d6t.p93);
        this.fontName = k[k.length - d6t.A6];
        this.fontSize = k.length >= d6t.D6 ? parseInt(k[k.length - d6t.D6], d6t.x7x) : V5.BitmapText.fonts[this.fontName].size;
        this.dirty = d6t.s73;
        this.tint = t.tint;
    };
    V5.BitmapText.prototype.updateText = function() {
        var t = V5.BitmapText.fonts[this.fontName],
            k = new V5.Point(),
            j = d6t.B3x,
            o = [],
            e = d6t.W6,
            q = [],
            m = d6t.W6,
            k5 = this.fontSize / t.size;
        for (var C5 = d6t.W6; C5 < this.text.length; C5++) {
            var H5 = this.text.charCodeAt(C5);
            if (/(?:\r\n|\r|\n)/.test(this.text.charAt(C5))) {
                q.push(k.x);
                e = Math.max(e, k.x);
                m++;
                k.x = d6t.W6;
                k.y += t.lineHeight;
                j = d6t.B3x;
                continue;
            }
            var j5 = t.chars[H5];
            if (!j5) continue;
            if (j && j5.kerning[j]) {
                k.x += j5.kerning[j];
            }
            o.push({
                texture: j5.texture,
                line: m,
                charCode: H5,
                position: new V5.Point(k.x + j5.xOffset, k.y + j5.yOffset)
            });
            k.x += j5.xAdvance;
            j = H5;
        }
        q.push(k.x);
        e = Math.max(e, k.x);
        var Y5 = [];
        for (C5 = d6t.W6; C5 <= m; C5++) {
            var z5 = d6t.W6;
            if (this.style.align === d6t.w3B) {
                z5 = e - q[C5];
            } else if (this.style.align === d6t.G6f) {
                z5 = (e - q[C5]) / d6t.D6;
            }
            Y5.push(z5);
        }
        var P5 = this.children.length,
            p5 = o.length,
            w5 = this.tint || 0xFFFFFF;
        for (C5 = d6t.W6; C5 < p5; C5++) {
            var R5 = C5 < P5 ? this.children[C5] : this._pool.pop();
            if (R5) R5.setTexture(o[C5].texture);
            else R5 = new V5.Sprite(o[C5].texture);
            R5.position.x = (o[C5].position.x + Y5[o[C5].line]) * k5;
            R5.position.y = o[C5].position.y * k5;
            R5.scale.x = R5.scale.y = k5;
            R5.tint = w5;
            if (!R5.parent) this.addChild(R5);
        }
        while (this.children.length > p5) {
            var r5 = this.getChildAt(this.children.length - d6t.A6);
            this._pool.push(r5);
            this.removeChild(r5);
        }
        this.textWidth = e * k5;
        this.textHeight = (k.y + t.lineHeight) * k5;
    };
    V5.BitmapText.prototype.updateTransform = function() {
        if (this.dirty) {
            this.updateText();
            this.dirty = d6t.F18;
        }
        V5.DisplayObjectContainer.prototype.updateTransform.call(this);
    };
    V5.BitmapText.fonts = {};
    V5.Stage = function(t) {
        var k = ((0x214, 0x18C) < (1, 11.450E2) ? (0x21E, 100000) : (1.3980E3, 68) > 3.14E2 ? "P" : (0x208, 37.6E1) <= 1.2E2 ? (130., 'P') : (0x194, 62.));
        V5.DisplayObjectContainer.call(this);
        this.worldTransform = new V5.Matrix();
        this.interactive = d6t.s73;
        this.interactionManager = new V5.InteractionManager(this);
        this.dirty = d6t.s73;
        this.stage = this;
        this.stage.hitArea = new V5.Rectangle(d6t.W6, d6t.W6, k, k);
        this.setBackgroundColor(t);
    };
    V5.Stage.prototype = Object.create(V5.DisplayObjectContainer.prototype);
    V5.Stage.prototype.constructor = V5.Stage;
    V5.Stage.prototype.setInteractionDelegate = function(t) {
        this.interactionManager.setTargetDomElement(t);
    };
    V5.Stage.prototype.updateTransform = function() {
        this.worldAlpha = d6t.A6;
        for (var t = d6t.W6, k = this.children.length; t < k; t++) {
            this.children[t].updateTransform();
        }
        if (this.dirty) {
            this.dirty = d6t.F18;
            this.interactionManager.dirty = d6t.s73;
        }
        if (this.interactive) this.interactionManager.update();
    };
    V5.Stage.prototype.setBackgroundColor = function(t) {
        var k = '000000';
        this.backgroundColor = t || 0x000000;
        this.backgroundColorSplit = V5.hex2rgb(this.backgroundColor);
        var j = this.backgroundColor.toString(d6t.M7x);
        j = k.substr(d6t.W6, d6t.J6 - j.length) + j;
        this.backgroundColorString = d6t.L83 + j;
    };
    V5.Stage.prototype.getMousePosition = function() {
        return this.interactionManager.mouse.global;
    };
    (function(e) {
        var q = 'CancelRequestAnimationFrame',
            m = d6t.W6,
            k5 = [d6t.J7, d6t.K0f, d6t.T4f, d6t.M3B];
        for (var C5 = d6t.W6; C5 < k5.length && !e.requestAnimationFrame; ++C5) {
            e.requestAnimationFrame = e[k5[C5] + d6t.o2f];
            e.cancelAnimationFrame = e[k5[C5] + d6t.F8H] || e[k5[C5] + q];
        }
        if (!e.requestAnimationFrame) {
            e.requestAnimationFrame = function(t) {
                var k = new Date().getTime(),
                    j = Math.max(d6t.W6, d6t.M7x - (k - m)),
                    o = e.setTimeout(function() {
                        t(k + j);
                    }, j);
                m = k + j;
                return o;
            };
        }
        if (!e.cancelAnimationFrame) {
            e.cancelAnimationFrame = function(t) {
                clearTimeout(t);
            };
        }
        e.requestAnimFrame = e.requestAnimationFrame;
    })(this);
    V5.hex2rgb = function(t) {
        return [(t >> d6t.M7x & (2.15E2 >= (0x16F, 1.118E3) ? 16. : (5E0, 10.26E2) >= 0x32 ? (75.0E1, 0xFF) : (0x1, 147.))) / d6t.s8, (t >> d6t.d6 & 0xFF) / d6t.s8, (t & 0xFF) / d6t.s8];
    };
    V5.rgb2hex = function(t) {
        return ((t[d6t.W6] * d6t.s8 << d6t.M7x) + (t[d6t.A6] * d6t.s8 << d6t.d6) + t[d6t.D6] * d6t.s8);
    };
    if (typeof Function.prototype.bind !== d6t.j5f) {
        Function.prototype.bind = (function() {
            return function(j) {
                var o = this,
                    e = arguments.length - d6t.A6,
                    q = [];
                if (e > d6t.W6) {
                    q.length = e;
                    while (e--) q[e] = arguments[e + d6t.A6];
                }
                if (typeof o !== d6t.j5f) throw new TypeError();

                function m() {
                    var t = arguments.length,
                        k = new Array(t);
                    while (t--) k[t] = arguments[t];
                    k = q.concat(k);
                    return o.apply(this instanceof m ? this : j, k);
                }
                m.prototype = (function k5(t) {
                    if (t) k5.prototype = t;
                    if (!(this instanceof k5)) return new k5();
                })(o.prototype);
                return m;
            };
        })();
    }
    V5.AjaxRequest = function() {
        var k = 'Microsoft.XMLHTTP',
            j = 'Msxml2.XMLHTTP.3.0',
            o = 'Msxml2.XMLHTTP.6.0',
            e = [o, j, k];
        if (window.ActiveXObject) {
            for (var q = d6t.W6; q < e.length; q++) {
                try {
                    return new window.ActiveXObject(e[q]);
                } catch (t) {}
            }
        } else if (window.XMLHttpRequest) {
            return new window.XMLHttpRequest();
        } else {
            return d6t.F18;
        }
    };
    V5.canUseNewCanvasBlendModes = function() {
        if (typeof document === d6t.k43) return d6t.F18;
        var t = document.createElement(d6t.f3B);
        t.width = d6t.A6;
        t.height = d6t.A6;
        var k = t.getContext(d6t.J8);
        k.fillStyle = d6t.m7x;
        k.fillRect(d6t.W6, d6t.W6, d6t.A6, d6t.A6);
        k.globalCompositeOperation = d6t.N33;
        k.fillStyle = d6t.A6x;
        k.fillRect(d6t.W6, d6t.W6, d6t.A6, d6t.A6);
        return k.getImageData(d6t.W6, d6t.W6, d6t.A6, d6t.A6).data[d6t.W6] === d6t.W6;
    };
    V5.getNextPowerOfTwo = function(t) {
        if (t > d6t.W6 && (t & (t - d6t.A6)) === d6t.W6) return t;
        else {
            var k = d6t.A6;
            while (k < t) k <<= d6t.A6;
            return k;
        }
    };
    V5.EventTarget = {
        call: function callCompat(t) {
            if (t) {
                t = t.prototype || t;
                V5.EventTarget.mixin(t);
            }
        },
        mixin: function mixin(m) {
            m.listeners = function k5(t) {
                this._listeners = this._listeners || {};
                return this._listeners[t] ? this._listeners[t].slice() : [];
            };
            m.emit = m.dispatchEvent = function C5(t, k) {
                this._listeners = this._listeners || {};
                if (typeof t === d6t.T7H) {
                    k = t;
                    t = t.type;
                }
                if (!k || k.__isEventObject !== d6t.s73) {
                    k = new V5.Event(this, t, k);
                }
                if (this._listeners && this._listeners[t]) {
                    var j = this._listeners[t],
                        o = j.length,
                        e = j[d6t.W6],
                        q;
                    for (q = d6t.W6; q < o; e = j[++q]) {
                        e.call(this, k);
                        if (k.stoppedImmediate) {
                            return this;
                        }
                    }
                    if (k.stopped) {
                        return this;
                    }
                }
                if (this.parent && this.parent.emit) {
                    this.parent.emit.call(this.parent, t, k);
                }
                return this;
            };
            m.on = m.addEventListener = function H5(t, k) {
                this._listeners = this._listeners || {};
                (this._listeners[t] = this._listeners[t] || []).push(k);
                return this;
            };
            m.once = function j5(t, k) {
                this._listeners = this._listeners || {};
                var j = this;

                function o() {
                    k.apply(j.off(t, o), arguments);
                }
                o._originalHandler = k;
                return this.on(t, o);
            };
            m.off = m.removeEventListener = function Y5(t, k) {
                this._listeners = this._listeners || {};
                if (!this._listeners[t]) return this;
                var j = this._listeners[t],
                    o = k ? j.length : d6t.W6;
                while (o-- > d6t.W6) {
                    if (j[o] === k || j[o]._originalHandler === k) {
                        j.splice(o, d6t.A6);
                    }
                }
                if (j.length === d6t.W6) {
                    delete this._listeners[t];
                }
                return this;
            };
            m.removeAllListeners = function z5(t) {
                this._listeners = this._listeners || {};
                if (!this._listeners[t]) return this;
                delete this._listeners[t];
                return this;
            };
        }
    };
    V5.Event = function(t, k, j) {
        this.__isEventObject = d6t.s73;
        this.stopped = d6t.F18;
        this.stoppedImmediate = d6t.F18;
        this.target = t;
        this.type = k;
        this.data = j;
        this.content = j;
        this.timeStamp = Date.now();
    };
    V5.Event.prototype.stopPropagation = function z3() {
        this.stopped = d6t.s73;
    };
    V5.Event.prototype.stopImmediatePropagation = function h4() {
        this.stoppedImmediate = d6t.s73;
    };
    V5.PolyK = {};
    V5.PolyK.Triangulate = function(t) {
        var k = "PIXI Warning: shape too complex to fill",
            j = d6t.s73,
            o = t.length >> d6t.A6;
        if (o < d6t.B6) return [];
        var e = [],
            q = [];
        for (var m = d6t.W6; m < o; m++) q.push(m);
        m = d6t.W6;
        var k5 = o;
        while (k5 > d6t.B6) {
            var C5 = q[(m + d6t.W6) % k5],
                H5 = q[(m + d6t.A6) % k5],
                j5 = q[(m + d6t.D6) % k5],
                Y5 = t[d6t.D6 * C5],
                z5 = t[d6t.D6 * C5 + d6t.A6],
                P5 = t[d6t.D6 * H5],
                p5 = t[d6t.D6 * H5 + d6t.A6],
                w5 = t[d6t.D6 * j5],
                R5 = t[d6t.D6 * j5 + d6t.A6],
                r5 = d6t.F18;
            if (V5.PolyK._convex(Y5, z5, P5, p5, w5, R5, j)) {
                r5 = d6t.s73;
                for (var T5 = d6t.W6; T5 < k5; T5++) {
                    var a5 = q[T5];
                    if (a5 === C5 || a5 === H5 || a5 === j5) continue;
                    if (V5.PolyK._PointInTriangle(t[d6t.D6 * a5], t[d6t.D6 * a5 + d6t.A6], Y5, z5, P5, p5, w5, R5)) {
                        r5 = d6t.F18;
                        break;
                    }
                }
            }
            if (r5) {
                e.push(C5, H5, j5);
                q.splice((m + d6t.A6) % k5, d6t.A6);
                k5--;
                m = d6t.W6;
            } else if (m++ > d6t.B6 * k5) {
                if (j) {
                    e = [];
                    q = [];
                    for (m = d6t.W6; m < o; m++) q.push(m);
                    m = d6t.W6;
                    k5 = o;
                    j = d6t.F18;
                } else {
                    window.console.log(k);
                    return [];
                }
            }
        }
        e.push(q[d6t.W6], q[d6t.A6], q[d6t.D6]);
        return e;
    };
    V5.PolyK._PointInTriangle = function(t, k, j, o, e, q, m, k5) {
        var C5 = m - j,
            H5 = k5 - o,
            j5 = e - j,
            Y5 = q - o,
            z5 = t - j,
            P5 = k - o,
            p5 = C5 * C5 + H5 * H5,
            w5 = C5 * j5 + H5 * Y5,
            R5 = C5 * z5 + H5 * P5,
            r5 = j5 * j5 + Y5 * Y5,
            T5 = j5 * z5 + Y5 * P5,
            a5 = d6t.A6 / (p5 * r5 - w5 * w5),
            x5 = (r5 * R5 - w5 * T5) * a5,
            f5 = (p5 * T5 - w5 * R5) * a5;
        return (x5 >= d6t.W6) && (f5 >= d6t.W6) && (x5 + f5 < d6t.A6);
    };
    V5.PolyK._convex = function(t, k, j, o, e, q, m) {
        return ((k - o) * (e - j) + (j - t) * (q - o) >= d6t.W6) === m;
    };
    V5.initDefaultShaders = function() {};
    V5.CompileVertexShader = function(t, k) {
        return V5._CompileShader(t, k, t.VERTEX_SHADER);
    };
    V5.CompileFragmentShader = function(t, k) {
        return V5._CompileShader(t, k, t.FRAGMENT_SHADER);
    };
    V5._CompileShader = function(t, k, j) {
        var o = k.join(d6t.t98),
            e = t.createShader(j);
        t.shaderSource(e, o);
        t.compileShader(e);
        if (!t.getShaderParameter(e, t.COMPILE_STATUS)) {
            window.console.log(t.getShaderInfoLog(e));
            return d6t.B3x;
        }
        return e;
    };
    V5.compileProgram = function(t, k, j) {
        var o = "Could not initialise shaders",
            e = V5.CompileFragmentShader(t, j),
            q = V5.CompileVertexShader(t, k),
            m = t.createProgram();
        t.attachShader(m, q);
        t.attachShader(m, e);
        t.linkProgram(m);
        if (!t.getProgramParameter(m, t.LINK_STATUS)) {
            window.console.log(o);
        }
        return m;
    };
    V5.PixiShader = function(t) {
        this._UID = V5._UID++;
        this.gl = t;
        this.program = d6t.B3x;
        this.fragmentSrc = [S4, T4, r4, d6t.y93, w6, d4, d6t.S7];
        this.textureCount = d6t.W6;
        this.firstRun = d6t.s73;
        this.dirty = d6t.s73;
        this.attributes = [];
        this.init();
    };
    V5.PixiShader.prototype.constructor = V5.PixiShader;
    V5.PixiShader.prototype.init = function() {
        var t = this.gl,
            k = V5.compileProgram(t, this.vertexSrc || V5.PixiShader.defaultVertexSrc, this.fragmentSrc);
        t.useProgram(k);
        this.uSampler = t.getUniformLocation(k, N4);
        this.projectionVector = t.getUniformLocation(k, D4);
        this.offsetVector = t.getUniformLocation(k, a4);
        this.dimensions = t.getUniformLocation(k, o4);
        this.aVertexPosition = t.getAttribLocation(k, O4);
        this.aTextureCoord = t.getAttribLocation(k, W4);
        this.colorAttribute = t.getAttribLocation(k, o6);
        if (this.colorAttribute === -d6t.A6) {
            this.colorAttribute = d6t.D6;
        }
        this.attributes = [this.aVertexPosition, this.aTextureCoord, this.colorAttribute];
        for (var j in this.uniforms) {
            this.uniforms[j].uniformLocation = t.getUniformLocation(k, j);
        }
        this.initUniforms();
        this.program = k;
    };
    V5.PixiShader.prototype.initUniforms = function() {
        var t = '4i',
            k = '4f',
            j = '3i',
            o = '3f',
            e = '2i',
            q = 'uniform',
            m = 'mat4',
            k5 = 'mat3',
            C5 = 'mat2';
        this.textureCount = d6t.A6;
        var H5 = this.gl,
            j5;
        for (var Y5 in this.uniforms) {
            j5 = this.uniforms[Y5];
            var z5 = j5.type;
            if (z5 === d6t.l43) {
                j5._init = d6t.F18;
                if (j5.value !== d6t.B3x) {
                    this.initSampler2D(j5);
                }
            } else if (z5 === C5 || z5 === k5 || z5 === m) {
                j5.glMatrix = d6t.s73;
                j5.glValueLength = d6t.A6;
                if (z5 === C5) {
                    j5.glFunc = H5.uniformMatrix2fv;
                } else if (z5 === k5) {
                    j5.glFunc = H5.uniformMatrix3fv;
                } else if (z5 === m) {
                    j5.glFunc = H5.uniformMatrix4fv;
                }
            } else {
                j5.glFunc = H5[q + z5];
                if (z5 === d6t.q8 || z5 === e) {
                    j5.glValueLength = d6t.D6;
                } else if (z5 === o || z5 === j) {
                    j5.glValueLength = d6t.B6;
                } else if (z5 === k || z5 === t) {
                    j5.glValueLength = d6t.M6;
                } else {
                    j5.glValueLength = d6t.A6;
                }
            }
        }
    };
    V5.PixiShader.prototype.initSampler2D = function(t) {
        if (!t.value || !t.value.baseTexture || !t.value.baseTexture.hasLoaded) {
            return;
        }
        var k = this.gl;
        k.activeTexture(k[R4 + this.textureCount]);
        k.bindTexture(k.TEXTURE_2D, t.value.baseTexture._glTextures[k.id]);
        if (t.textureData) {
            var j = t.textureData,
                o = (j.magFilter) ? j.magFilter : k.LINEAR,
                e = (j.minFilter) ? j.minFilter : k.LINEAR,
                q = (j.wrapS) ? j.wrapS : k.CLAMP_TO_EDGE,
                m = (j.wrapT) ? j.wrapT : k.CLAMP_TO_EDGE,
                k5 = (j.luminance) ? k.LUMINANCE : k.RGBA;
            if (j.repeat) {
                q = k.REPEAT;
                m = k.REPEAT;
            }
            k.pixelStorei(k.UNPACK_FLIP_Y_WEBGL, !!j.flipY);
            if (j.width) {
                var C5 = (j.width) ? j.width : d6t.U2H,
                    H5 = (j.height) ? j.height : d6t.D6,
                    j5 = (j.border) ? j.border : d6t.W6;
                k.texImage2D(k.TEXTURE_2D, d6t.W6, k5, C5, H5, j5, k5, k.UNSIGNED_BYTE, d6t.B3x);
            } else {
                k.texImage2D(k.TEXTURE_2D, d6t.W6, k5, k.RGBA, k.UNSIGNED_BYTE, t.value.baseTexture.source);
            }
            k.texParameteri(k.TEXTURE_2D, k.TEXTURE_MAG_FILTER, o);
            k.texParameteri(k.TEXTURE_2D, k.TEXTURE_MIN_FILTER, e);
            k.texParameteri(k.TEXTURE_2D, k.TEXTURE_WRAP_S, q);
            k.texParameteri(k.TEXTURE_2D, k.TEXTURE_WRAP_T, m);
        }
        k.uniform1i(t.uniformLocation, this.textureCount);
        t._init = d6t.s73;
        this.textureCount++;
    };
    V5.PixiShader.prototype.syncUniforms = function() {
        this.textureCount = d6t.A6;
        var t, k = this.gl;
        for (var j in this.uniforms) {
            t = this.uniforms[j];
            if (t.glValueLength === d6t.A6) {
                if (t.glMatrix === d6t.s73) {
                    t.glFunc.call(k, t.uniformLocation, t.transpose, t.value);
                } else {
                    t.glFunc.call(k, t.uniformLocation, t.value);
                }
            } else if (t.glValueLength === d6t.D6) {
                t.glFunc.call(k, t.uniformLocation, t.value.x, t.value.y);
            } else if (t.glValueLength === d6t.B6) {
                t.glFunc.call(k, t.uniformLocation, t.value.x, t.value.y, t.value.z);
            } else if (t.glValueLength === d6t.M6) {
                t.glFunc.call(k, t.uniformLocation, t.value.x, t.value.y, t.value.z, t.value.w);
            } else if (t.type === d6t.l43) {
                if (t._init) {
                    k.activeTexture(k[R4 + this.textureCount]);
                    if (t.value.baseTexture._dirty[k.id]) {
                        V5.defaultRenderer.updateTexture(t.value.baseTexture);
                    } else {
                        k.bindTexture(k.TEXTURE_2D, t.value.baseTexture._glTextures[k.id]);
                    }
                    k.uniform1i(t.uniformLocation, this.textureCount);
                    this.textureCount++;
                } else {
                    this.initSampler2D(t);
                }
            }
        }
    };
    V5.PixiShader.prototype.destroy = function() {
        this.gl.deleteProgram(this.program);
        this.uniforms = d6t.B3x;
        this.gl = d6t.B3x;
        this.attributes = d6t.B3x;
    };
    V5.PixiShader.defaultVertexSrc = [p4, Q6, v5, C4, s4, T4, r4, n6, w6, v4, b6, U4, P4, d6t.S7];
    V5.PixiFastShader = function(t) {
        var k = '   vColor = aColor;',
            j = '   gl_Position = vec4( ( v / projectionVector) + center , 0.0, 1.0);',
            o = '   v = ( uMatrix * vec3(v + aPositionCoord , 1.0) ).xy ;',
            e = '   v.y = (sv.x) * sin(aRotation) + (sv.y) * cos(aRotation);',
            q = '   v.x = (sv.x) * cos(aRotation) - (sv.y) * sin(aRotation);',
            m = '   vec2 sv = aVertexPosition * aScale;',
            k5 = '   vec2 v;',
            C5 = 'uniform mat3 uMatrix;',
            H5 = 'attribute float aColor;',
            j5 = 'attribute float aRotation;',
            Y5 = 'attribute vec2 aScale;',
            z5 = 'attribute vec2 aPositionCoord;',
            P5 = 'varying float vColor;';
        this._UID = V5._UID++;
        this.gl = t;
        this.program = d6t.B3x;
        this.fragmentSrc = [S4, T4, P5, d6t.y93, w6, d4, d6t.S7];
        this.vertexSrc = [p4, z5, Y5, j5, Q6, H5, C4, s4, C5, T4, P5, n6, w6, k5, m, q, e, o, j, b6, k, d6t.S7];
        this.textureCount = d6t.W6;
        this.init();
    };
    V5.PixiFastShader.prototype.constructor = V5.PixiFastShader;
    V5.PixiFastShader.prototype.init = function() {
        var t = 'aRotation',
            k = 'aScale',
            j = 'aPositionCoord',
            o = 'uMatrix',
            e = this.gl,
            q = V5.compileProgram(e, this.vertexSrc, this.fragmentSrc);
        e.useProgram(q);
        this.uSampler = e.getUniformLocation(q, N4);
        this.projectionVector = e.getUniformLocation(q, D4);
        this.offsetVector = e.getUniformLocation(q, a4);
        this.dimensions = e.getUniformLocation(q, o4);
        this.uMatrix = e.getUniformLocation(q, o);
        this.aVertexPosition = e.getAttribLocation(q, O4);
        this.aPositionCoord = e.getAttribLocation(q, j);
        this.aScale = e.getAttribLocation(q, k);
        this.aRotation = e.getAttribLocation(q, t);
        this.aTextureCoord = e.getAttribLocation(q, W4);
        this.colorAttribute = e.getAttribLocation(q, o6);
        if (this.colorAttribute === -d6t.A6) {
            this.colorAttribute = d6t.D6;
        }
        this.attributes = [this.aVertexPosition, this.aPositionCoord, this.aScale, this.aRotation, this.aTextureCoord, this.colorAttribute];
        this.program = q;
    };
    V5.PixiFastShader.prototype.destroy = function() {
        this.gl.deleteProgram(this.program);
        this.uniforms = d6t.B3x;
        this.gl = d6t.B3x;
        this.attributes = d6t.B3x;
    };
    V5.StripShader = function(t) {
        var k = '   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y));';
        this._UID = V5._UID++;
        this.gl = t;
        this.program = d6t.B3x;
        this.fragmentSrc = [i6, T4, t4, d6t.y93, w6, k, d6t.S7];
        this.vertexSrc = [p4, Q6, m5, C4, s4, T4, w6, P6, N6, Z6, b6, d6t.S7];
        this.init();
    };
    V5.StripShader.prototype.constructor = V5.StripShader;
    V5.StripShader.prototype.init = function() {
        var t = this.gl,
            k = V5.compileProgram(t, this.vertexSrc, this.fragmentSrc);
        t.useProgram(k);
        this.uSampler = t.getUniformLocation(k, N4);
        this.projectionVector = t.getUniformLocation(k, D4);
        this.offsetVector = t.getUniformLocation(k, a4);
        this.colorAttribute = t.getAttribLocation(k, o6);
        this.aVertexPosition = t.getAttribLocation(k, O4);
        this.aTextureCoord = t.getAttribLocation(k, W4);
        this.attributes = [this.aVertexPosition, this.aTextureCoord];
        this.translationMatrix = t.getUniformLocation(k, z6);
        this.alpha = t.getUniformLocation(k, d5);
        this.program = k;
    };
    V5.StripShader.prototype.destroy = function() {
        this.gl.deleteProgram(this.program);
        this.uniforms = d6t.B3x;
        this.gl = d6t.B3x;
        this.attribute = d6t.B3x;
    };
    V5.PrimitiveShader = function(t) {
        var k = '   vColor = aColor * vec4(tint * alpha, alpha);';
        this._UID = V5._UID++;
        this.gl = t;
        this.program = d6t.B3x;
        this.fragmentSrc = [i6, r4, w6, y6, d6t.S7];
        this.vertexSrc = [p4, v5, m5, C4, s4, t4, Q5, r4, w6, P6, N6, Z6, k, d6t.S7];
        this.init();
    };
    V5.PrimitiveShader.prototype.constructor = V5.PrimitiveShader;
    V5.PrimitiveShader.prototype.init = function() {
        var t = this.gl,
            k = V5.compileProgram(t, this.vertexSrc, this.fragmentSrc);
        t.useProgram(k);
        this.projectionVector = t.getUniformLocation(k, D4);
        this.offsetVector = t.getUniformLocation(k, a4);
        this.tintColor = t.getUniformLocation(k, d6t.h3x);
        this.aVertexPosition = t.getAttribLocation(k, O4);
        this.colorAttribute = t.getAttribLocation(k, o6);
        this.attributes = [this.aVertexPosition, this.colorAttribute];
        this.translationMatrix = t.getUniformLocation(k, z6);
        this.alpha = t.getUniformLocation(k, d5);
        this.program = k;
    };
    V5.PrimitiveShader.prototype.destroy = function() {
        this.gl.deleteProgram(this.program);
        this.uniforms = d6t.B3x;
        this.gl = d6t.B3x;
        this.attributes = d6t.B3x;
    };
    V5.ComplexPrimitiveShader = function(t) {
        var k = '   vColor = vec4(color * alpha * tint, alpha);',
            j = 'uniform vec3 color;';
        this._UID = V5._UID++;
        this.gl = t;
        this.program = d6t.B3x;
        this.fragmentSrc = [i6, r4, w6, y6, d6t.S7];
        this.vertexSrc = [p4, m5, C4, s4, Q5, t4, j, r4, w6, P6, N6, Z6, k, d6t.S7];
        this.init();
    };
    V5.ComplexPrimitiveShader.prototype.constructor = V5.ComplexPrimitiveShader;
    V5.ComplexPrimitiveShader.prototype.init = function() {
        var t = this.gl,
            k = V5.compileProgram(t, this.vertexSrc, this.fragmentSrc);
        t.useProgram(k);
        this.projectionVector = t.getUniformLocation(k, D4);
        this.offsetVector = t.getUniformLocation(k, a4);
        this.tintColor = t.getUniformLocation(k, d6t.h3x);
        this.color = t.getUniformLocation(k, d6t.k38);
        this.aVertexPosition = t.getAttribLocation(k, O4);
        this.attributes = [this.aVertexPosition, this.colorAttribute];
        this.translationMatrix = t.getUniformLocation(k, z6);
        this.alpha = t.getUniformLocation(k, d5);
        this.program = k;
    };
    V5.ComplexPrimitiveShader.prototype.destroy = function() {
        this.gl.deleteProgram(this.program);
        this.uniforms = d6t.B3x;
        this.gl = d6t.B3x;
        this.attribute = d6t.B3x;
    };
    V5.WebGLGraphics = function() {};
    V5.WebGLGraphics.renderGraphics = function(t, k) {
        var j = k.gl,
            o = k.projection,
            e = k.offset,
            q = k.shaderManager.primitiveShader,
            m;
        if (t.dirty) {
            V5.WebGLGraphics.updateGraphics(t, j);
        }
        var k5 = t._webGL[j.id];
        for (var C5 = d6t.W6; C5 < k5.data.length; C5++) {
            if (k5.data[C5].mode === d6t.A6) {
                m = k5.data[C5];
                k.stencilManager.pushStencil(t, m, k);
                j.drawElements(j.TRIANGLE_FAN, d6t.M6, j.UNSIGNED_SHORT, (m.indices.length - d6t.M6) * d6t.D6);
                k.stencilManager.popStencil(t, m, k);
            } else {
                m = k5.data[C5];
                k.shaderManager.setShader(q);
                q = k.shaderManager.primitiveShader;
                j.uniformMatrix3fv(q.translationMatrix, d6t.F18, t.worldTransform.toArray(d6t.s73));
                j.uniform2f(q.projectionVector, o.x, -o.y);
                j.uniform2f(q.offsetVector, -e.x, -e.y);
                j.uniform3fv(q.tintColor, V5.hex2rgb(t.tint));
                j.uniform1f(q.alpha, t.worldAlpha);
                j.bindBuffer(j.ARRAY_BUFFER, m.buffer);
                j.vertexAttribPointer(q.aVertexPosition, d6t.D6, j.FLOAT, d6t.F18, d6t.M6 * d6t.J6, d6t.W6);
                j.vertexAttribPointer(q.colorAttribute, d6t.M6, j.FLOAT, d6t.F18, d6t.M6 * d6t.J6, d6t.D6 * d6t.M6);
                j.bindBuffer(j.ELEMENT_ARRAY_BUFFER, m.indexBuffer);
                j.drawElements(j.TRIANGLE_STRIP, m.indices.length, j.UNSIGNED_SHORT, d6t.W6);
            }
        }
    };
    V5.WebGLGraphics.updateGraphics = function(t, k) {
        var j = t._webGL[k.id];
        if (!j) j = t._webGL[k.id] = {
            lastIndex: d6t.W6,
            data: [],
            gl: k
        };
        t.dirty = d6t.F18;
        var o;
        if (t.clearDirty) {
            t.clearDirty = d6t.F18;
            for (o = d6t.W6; o < j.data.length; o++) {
                var e = j.data[o];
                e.reset();
                V5.WebGLGraphics.graphicsDataPool.push(e);
            }
            j.data = [];
            j.lastIndex = d6t.W6;
        }
        var q;
        for (o = j.lastIndex; o < t.graphicsData.length; o++) {
            var m = t.graphicsData[o];
            if (m.type === V5.Graphics.POLY) {
                m.points = m.shape.points.slice();
                if (m.shape.closed) {
                    if (m.points[d6t.W6] !== m.points[m.points.length - d6t.D6] && m.points[d6t.A6] !== m.points[m.points.length - d6t.A6]) {
                        m.points.push(m.points[d6t.W6], m.points[d6t.A6]);
                    }
                }
                if (m.fill) {
                    if (m.points.length >= d6t.J6) {
                        if (m.points.length > d6t.U6 * d6t.D6) {
                            q = V5.WebGLGraphics.switchMode(j, d6t.A6);
                            V5.WebGLGraphics.buildComplexPoly(m, q);
                        } else {
                            q = V5.WebGLGraphics.switchMode(j, d6t.W6);
                            V5.WebGLGraphics.buildPoly(m, q);
                        }
                    }
                }
                if (m.lineWidth > d6t.W6) {
                    q = V5.WebGLGraphics.switchMode(j, d6t.W6);
                    V5.WebGLGraphics.buildLine(m, q);
                }
            } else {
                q = V5.WebGLGraphics.switchMode(j, d6t.W6);
                if (m.type === V5.Graphics.RECT) {
                    V5.WebGLGraphics.buildRectangle(m, q);
                } else if (m.type === V5.Graphics.CIRC || m.type === V5.Graphics.ELIP) {
                    V5.WebGLGraphics.buildCircle(m, q);
                } else if (m.type === V5.Graphics.RREC) {
                    V5.WebGLGraphics.buildRoundedRectangle(m, q);
                }
            }
            j.lastIndex++;
        }
        for (o = d6t.W6; o < j.data.length; o++) {
            q = j.data[o];
            if (q.dirty) q.upload();
        }
    };
    V5.WebGLGraphics.switchMode = function(t, k) {
        var j;
        if (!t.data.length) {
            j = V5.WebGLGraphics.graphicsDataPool.pop() || new V5.WebGLGraphicsData(t.gl);
            j.mode = k;
            t.data.push(j);
        } else {
            j = t.data[t.data.length - d6t.A6];
            if (j.mode !== k || k === d6t.A6) {
                j = V5.WebGLGraphics.graphicsDataPool.pop() || new V5.WebGLGraphicsData(t.gl);
                j.mode = k;
                t.data.push(j);
            }
        }
        j.dirty = d6t.s73;
        return j;
    };
    V5.WebGLGraphics.buildRectangle = function(t, k) {
        var j = t.shape,
            o = j.x,
            e = j.y,
            q = j.width,
            m = j.height;
        if (t.fill) {
            var k5 = V5.hex2rgb(t.fillColor),
                C5 = t.fillAlpha,
                H5 = k5[d6t.W6] * C5,
                j5 = k5[d6t.A6] * C5,
                Y5 = k5[d6t.D6] * C5,
                z5 = k.points,
                P5 = k.indices,
                p5 = z5.length / d6t.J6;
            z5.push(o, e);
            z5.push(H5, j5, Y5, C5);
            z5.push(o + q, e);
            z5.push(H5, j5, Y5, C5);
            z5.push(o, e + m);
            z5.push(H5, j5, Y5, C5);
            z5.push(o + q, e + m);
            z5.push(H5, j5, Y5, C5);
            P5.push(p5, p5, p5 + d6t.A6, p5 + d6t.D6, p5 + d6t.B6, p5 + d6t.B6);
        }
        if (t.lineWidth) {
            var w5 = t.points;
            t.points = [o, e, o + q, e, o + q, e + m, o, e + m, o, e];
            V5.WebGLGraphics.buildLine(t, k);
            t.points = w5;
        }
    };
    V5.WebGLGraphics.buildRoundedRectangle = function(t, k) {
        var j = t.shape.points,
            o = j[d6t.W6],
            e = j[d6t.A6],
            q = j[d6t.D6],
            m = j[d6t.B6],
            k5 = j[d6t.M6],
            C5 = [];
        C5.push(o, e + k5);
        C5 = C5.concat(V5.WebGLGraphics.quadraticBezierCurve(o, e + m - k5, o, e + m, o + k5, e + m));
        C5 = C5.concat(V5.WebGLGraphics.quadraticBezierCurve(o + q - k5, e + m, o + q, e + m, o + q, e + m - k5));
        C5 = C5.concat(V5.WebGLGraphics.quadraticBezierCurve(o + q, e + k5, o + q, e, o + q - k5, e));
        C5 = C5.concat(V5.WebGLGraphics.quadraticBezierCurve(o + k5, e, o, e, o, e + k5));
        if (t.fill) {
            var H5 = V5.hex2rgb(t.fillColor),
                j5 = t.fillAlpha,
                Y5 = H5[d6t.W6] * j5,
                z5 = H5[d6t.A6] * j5,
                P5 = H5[d6t.D6] * j5,
                p5 = k.points,
                w5 = k.indices,
                R5 = p5.length / d6t.J6,
                r5 = V5.PolyK.Triangulate(C5),
                T5 = d6t.W6;
            for (T5 = d6t.W6; T5 < r5.length; T5 += d6t.B6) {
                w5.push(r5[T5] + R5);
                w5.push(r5[T5] + R5);
                w5.push(r5[T5 + d6t.A6] + R5);
                w5.push(r5[T5 + d6t.D6] + R5);
                w5.push(r5[T5 + d6t.D6] + R5);
            }
            for (T5 = d6t.W6; T5 < C5.length; T5++) {
                p5.push(C5[T5], C5[++T5], Y5, z5, P5, j5);
            }
        }
        if (t.lineWidth) {
            var a5 = t.points;
            t.points = C5;
            V5.WebGLGraphics.buildLine(t, k);
            t.points = a5;
        }
    };
    V5.WebGLGraphics.quadraticBezierCurve = function(e, q, m, k5, C5, H5) {
        var j5, Y5, z5, P5, p5, w5, R5 = d6t.X7x,
            r5 = [];

        function T5(t, k, j) {
            var o = k - t;
            return t + (o * j);
        }
        var a5 = d6t.W6;
        for (var x5 = d6t.W6; x5 <= R5; x5++) {
            a5 = x5 / R5;
            j5 = T5(e, m, a5);
            Y5 = T5(q, k5, a5);
            z5 = T5(m, C5, a5);
            P5 = T5(k5, H5, a5);
            p5 = T5(j5, z5, a5);
            w5 = T5(Y5, P5, a5);
            r5.push(p5, w5);
        }
        return r5;
    };
    V5.WebGLGraphics.buildCircle = function(t, k) {
        var j = t.shape,
            o = j.x,
            e = j.y,
            q, m;
        if (t.type === V5.Graphics.CIRC) {
            q = j.radius;
            m = j.radius;
        } else {
            q = j.width;
            m = j.height;
        }
        var k5 = d6t.B9x,
            C5 = (Math.PI * d6t.D6) / k5,
            H5 = d6t.W6;
        if (t.fill) {
            var j5 = V5.hex2rgb(t.fillColor),
                Y5 = t.fillAlpha,
                z5 = j5[d6t.W6] * Y5,
                P5 = j5[d6t.A6] * Y5,
                p5 = j5[d6t.D6] * Y5,
                w5 = k.points,
                R5 = k.indices,
                r5 = w5.length / d6t.J6;
            R5.push(r5);
            for (H5 = d6t.W6; H5 < k5 + d6t.A6; H5++) {
                w5.push(o, e, z5, P5, p5, Y5);
                w5.push(o + Math.sin(C5 * H5) * q, e + Math.cos(C5 * H5) * m, z5, P5, p5, Y5);
                R5.push(r5++, r5++);
            }
            R5.push(r5 - d6t.A6);
        }
        if (t.lineWidth) {
            var T5 = t.points;
            t.points = [];
            for (H5 = d6t.W6; H5 < k5 + d6t.A6; H5++) {
                t.points.push(o + Math.sin(C5 * H5) * q, e + Math.cos(C5 * H5) * m);
            }
            V5.WebGLGraphics.buildLine(t, k);
            t.points = T5;
        }
    };
    V5.WebGLGraphics.buildLine = function(t, k) {
        var j = 140,
            o = 10.1,
            e = d6t.W6,
            q = t.points;
        if (q.length === d6t.W6) return;
        if (t.lineWidth % d6t.D6) {
            for (e = d6t.W6; e < q.length; e++) {
                q[e] += d6t.z48;
            }
        }
        var m = new V5.Point(q[d6t.W6], q[d6t.A6]),
            k5 = new V5.Point(q[q.length - d6t.D6], q[q.length - d6t.A6]);
        if (m.x === k5.x && m.y === k5.y) {
            q = q.slice();
            q.pop();
            q.pop();
            k5 = new V5.Point(q[q.length - d6t.D6], q[q.length - d6t.A6]);
            var C5 = k5.x + (m.x - k5.x) * d6t.z48,
                H5 = k5.y + (m.y - k5.y) * d6t.z48;
            q.unshift(C5, H5);
            q.push(C5, H5);
        }
        var j5 = k.points,
            Y5 = k.indices,
            z5 = q.length / d6t.D6,
            P5 = q.length,
            p5 = j5.length / d6t.J6,
            w5 = t.lineWidth / d6t.D6,
            R5 = V5.hex2rgb(t.lineColor),
            r5 = t.lineAlpha,
            T5 = R5[d6t.W6] * r5,
            a5 = R5[d6t.A6] * r5,
            x5 = R5[d6t.D6] * r5,
            f5, A5, u5, B5, D5, o5, N5, y5, U5, W5, J5, g5, c5, Z5, M5, n5, R6, h5, K6, s6, i5, V6, b5;
        u5 = q[d6t.W6];
        B5 = q[d6t.A6];
        D5 = q[d6t.D6];
        o5 = q[d6t.B6];
        U5 = -(B5 - o5);
        W5 = u5 - D5;
        b5 = Math.sqrt(U5 * U5 + W5 * W5);
        U5 /= b5;
        W5 /= b5;
        U5 *= w5;
        W5 *= w5;
        j5.push(u5 - U5, B5 - W5, T5, a5, x5, r5);
        j5.push(u5 + U5, B5 + W5, T5, a5, x5, r5);
        for (e = d6t.A6; e < z5 - d6t.A6; e++) {
            u5 = q[(e - d6t.A6) * d6t.D6];
            B5 = q[(e - d6t.A6) * d6t.D6 + d6t.A6];
            D5 = q[(e) * d6t.D6];
            o5 = q[(e) * d6t.D6 + d6t.A6];
            N5 = q[(e + d6t.A6) * d6t.D6];
            y5 = q[(e + d6t.A6) * d6t.D6 + d6t.A6];
            U5 = -(B5 - o5);
            W5 = u5 - D5;
            b5 = Math.sqrt(U5 * U5 + W5 * W5);
            U5 /= b5;
            W5 /= b5;
            U5 *= w5;
            W5 *= w5;
            J5 = -(o5 - y5);
            g5 = D5 - N5;
            b5 = Math.sqrt(J5 * J5 + g5 * g5);
            J5 /= b5;
            g5 /= b5;
            J5 *= w5;
            g5 *= w5;
            M5 = (-W5 + B5) - (-W5 + o5);
            n5 = (-U5 + D5) - (-U5 + u5);
            R6 = (-U5 + u5) * (-W5 + o5) - (-U5 + D5) * (-W5 + B5);
            h5 = (-g5 + y5) - (-g5 + o5);
            K6 = (-J5 + D5) - (-J5 + N5);
            s6 = (-J5 + N5) * (-g5 + o5) - (-J5 + D5) * (-g5 + y5);
            i5 = M5 * K6 - h5 * n5;
            if (Math.abs(i5) < d6t.H48) {
                i5 += o;
                j5.push(D5 - U5, o5 - W5, T5, a5, x5, r5);
                j5.push(D5 + U5, o5 + W5, T5, a5, x5, r5);
                continue;
            }
            f5 = (n5 * s6 - K6 * R6) / i5;
            A5 = (h5 * R6 - M5 * s6) / i5;
            V6 = (f5 - D5) * (f5 - D5) + (A5 - o5) + (A5 - o5);
            if (V6 > j * j) {
                c5 = U5 - J5;
                Z5 = W5 - g5;
                b5 = Math.sqrt(c5 * c5 + Z5 * Z5);
                c5 /= b5;
                Z5 /= b5;
                c5 *= w5;
                Z5 *= w5;
                j5.push(D5 - c5, o5 - Z5);
                j5.push(T5, a5, x5, r5);
                j5.push(D5 + c5, o5 + Z5);
                j5.push(T5, a5, x5, r5);
                j5.push(D5 - c5, o5 - Z5);
                j5.push(T5, a5, x5, r5);
                P5++;
            } else {
                j5.push(f5, A5);
                j5.push(T5, a5, x5, r5);
                j5.push(D5 - (f5 - D5), o5 - (A5 - o5));
                j5.push(T5, a5, x5, r5);
            }
        }
        u5 = q[(z5 - d6t.D6) * d6t.D6];
        B5 = q[(z5 - d6t.D6) * d6t.D6 + d6t.A6];
        D5 = q[(z5 - d6t.A6) * d6t.D6];
        o5 = q[(z5 - d6t.A6) * d6t.D6 + d6t.A6];
        U5 = -(B5 - o5);
        W5 = u5 - D5;
        b5 = Math.sqrt(U5 * U5 + W5 * W5);
        U5 /= b5;
        W5 /= b5;
        U5 *= w5;
        W5 *= w5;
        j5.push(D5 - U5, o5 - W5);
        j5.push(T5, a5, x5, r5);
        j5.push(D5 + U5, o5 + W5);
        j5.push(T5, a5, x5, r5);
        Y5.push(p5);
        for (e = d6t.W6; e < P5; e++) {
            Y5.push(p5++);
        }
        Y5.push(p5 - d6t.A6);
    };
    V5.WebGLGraphics.buildComplexPoly = function(t, k) {
        var j = t.points.slice();
        if (j.length < d6t.J6) return;
        var o = k.indices;
        k.points = j;
        k.alpha = t.fillAlpha;
        k.color = V5.hex2rgb(t.fillColor);
        var e = Infinity,
            q = -Infinity,
            m = Infinity,
            k5 = -Infinity,
            C5, H5;
        for (var j5 = d6t.W6; j5 < j.length; j5 += d6t.D6) {
            C5 = j[j5];
            H5 = j[j5 + d6t.A6];
            e = C5 < e ? C5 : e;
            q = C5 > q ? C5 : q;
            m = H5 < m ? H5 : m;
            k5 = H5 > k5 ? H5 : k5;
        }
        j.push(e, m, q, m, q, k5, e, k5);
        var Y5 = j.length / d6t.D6;
        for (j5 = d6t.W6; j5 < Y5; j5++) {
            o.push(j5);
        }
    };
    V5.WebGLGraphics.buildPoly = function(t, k) {
        var j = t.points;
        if (j.length < d6t.J6) return;
        var o = k.points,
            e = k.indices,
            q = j.length / d6t.D6,
            m = V5.hex2rgb(t.fillColor),
            k5 = t.fillAlpha,
            C5 = m[d6t.W6] * k5,
            H5 = m[d6t.A6] * k5,
            j5 = m[d6t.D6] * k5,
            Y5 = V5.PolyK.Triangulate(j),
            z5 = o.length / d6t.J6,
            P5 = d6t.W6;
        for (P5 = d6t.W6; P5 < Y5.length; P5 += d6t.B6) {
            e.push(Y5[P5] + z5);
            e.push(Y5[P5] + z5);
            e.push(Y5[P5 + d6t.A6] + z5);
            e.push(Y5[P5 + d6t.D6] + z5);
            e.push(Y5[P5 + d6t.D6] + z5);
        }
        for (P5 = d6t.W6; P5 < q; P5++) {
            o.push(j[P5 * d6t.D6], j[P5 * d6t.D6 + d6t.A6], C5, H5, j5, k5);
        }
    };
    V5.WebGLGraphics.graphicsDataPool = [];
    V5.WebGLGraphicsData = function(t) {
        this.gl = t;
        this.color = [d6t.W6, d6t.W6, d6t.W6];
        this.points = [];
        this.indices = [];
        this.lastIndex = d6t.W6;
        this.buffer = t.createBuffer();
        this.indexBuffer = t.createBuffer();
        this.mode = d6t.A6;
        this.alpha = d6t.A6;
        this.dirty = d6t.s73;
    };
    V5.WebGLGraphicsData.prototype.reset = function() {
        this.points = [];
        this.indices = [];
        this.lastIndex = d6t.W6;
    };
    V5.WebGLGraphicsData.prototype.upload = function() {
        var t = this.gl;
        this.glPoints = new Float32Array(this.points);
        t.bindBuffer(t.ARRAY_BUFFER, this.buffer);
        t.bufferData(t.ARRAY_BUFFER, this.glPoints, t.STATIC_DRAW);
        this.glIndicies = new Uint16Array(this.indices);
        t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
        t.bufferData(t.ELEMENT_ARRAY_BUFFER, this.glIndicies, t.STATIC_DRAW);
        this.dirty = d6t.F18;
    };
    V5.glContexts = [];
    V5.WebGLRenderer = function(t, k, j) {
        var o = 'notMultiplied',
            e = 'webGL';
        if (j) {
            for (var q in V5.defaultRenderOptions) {
                if (typeof j[q] === d6t.k43) j[q] = V5.defaultRenderOptions[q];
            }
        } else {
            j = V5.defaultRenderOptions;
        }
        if (!V5.defaultRenderer) {
            V5.sayHello(e);
            V5.defaultRenderer = this;
        }
        this.type = V5.WEBGL_RENDERER;
        this.resolution = j.resolution;
        this.transparent = j.transparent;
        this.preserveDrawingBuffer = j.preserveDrawingBuffer;
        this.clearBeforeRender = j.clearBeforeRender;
        this.width = t || d6t.i23;
        this.height = k || d6t.h7f;
        this.view = j.view || document.createElement(d6t.f3B);
        this.contextLostBound = this.handleContextLost.bind(this);
        this.contextRestoredBound = this.handleContextRestored.bind(this);
        this.view.addEventListener(j6, this.contextLostBound, d6t.F18);
        this.view.addEventListener(O6, this.contextRestoredBound, d6t.F18);
        this._contextOptions = {
            alpha: this.transparent,
            antialias: j.antialias,
            premultipliedAlpha: this.transparent && this.transparent !== o,
            stencil: d6t.s73,
            preserveDrawingBuffer: j.preserveDrawingBuffer
        };
        this.projection = new V5.Point();
        this.offset = new V5.Point(d6t.W6, d6t.W6);
        this.shaderManager = new V5.WebGLShaderManager();
        this.spriteBatch = new V5.WebGLSpriteBatch();
        this.maskManager = new V5.WebGLMaskManager();
        this.filterManager = new V5.WebGLFilterManager();
        this.stencilManager = new V5.WebGLStencilManager();
        this.blendModeManager = new V5.WebGLBlendModeManager();
        this.renderSession = {};
        this.renderSession.gl = this.gl;
        this.renderSession.drawCount = d6t.W6;
        this.renderSession.shaderManager = this.shaderManager;
        this.renderSession.maskManager = this.maskManager;
        this.renderSession.filterManager = this.filterManager;
        this.renderSession.blendModeManager = this.blendModeManager;
        this.renderSession.spriteBatch = this.spriteBatch;
        this.renderSession.stencilManager = this.stencilManager;
        this.renderSession.renderer = this;
        this.renderSession.resolution = this.resolution;
        this.initContext();
        this.mapBlendModes();
    };
    V5.WebGLRenderer.prototype.constructor = V5.WebGLRenderer;
    V5.WebGLRenderer.prototype.initContext = function() {
        var t = 'This browser does not support webGL. Try using the canvas renderer',
            k = this.view.getContext(d6t.r4x, this._contextOptions) || this.view.getContext(d6t.K93, this._contextOptions);
        this.gl = k;
        if (!k) {
            throw new Error(t);
        }
        this.glContextId = k.id = V5.WebGLRenderer.glContextId++;
        V5.glContexts[this.glContextId] = k;
        k.disable(k.DEPTH_TEST);
        k.disable(k.CULL_FACE);
        k.enable(k.BLEND);
        this.shaderManager.setContext(k);
        this.spriteBatch.setContext(k);
        this.maskManager.setContext(k);
        this.filterManager.setContext(k);
        this.blendModeManager.setContext(k);
        this.stencilManager.setContext(k);
        this.renderSession.gl = this.gl;
        this.resize(this.width, this.height);
    };
    V5.WebGLRenderer.prototype.render = function(t) {
        if (this.contextLost) return;
        if (this.__stage !== t) {
            if (t.interactive) t.interactionManager.removeEvents();
            this.__stage = t;
        }
        t.updateTransform();
        var k = this.gl;
        if (t._interactive) {
            if (!t._interactiveEventsAdded) {
                t._interactiveEventsAdded = d6t.s73;
                t.interactionManager.setTarget(this);
            }
        } else {
            if (t._interactiveEventsAdded) {
                t._interactiveEventsAdded = d6t.F18;
                t.interactionManager.setTarget(this);
            }
        }
        k.viewport(d6t.W6, d6t.W6, this.width, this.height);
        k.bindFramebuffer(k.FRAMEBUFFER, d6t.B3x);
        if (this.clearBeforeRender) {
            if (this.transparent) {
                k.clearColor(d6t.W6, d6t.W6, d6t.W6, d6t.W6);
            } else {
                k.clearColor(t.backgroundColorSplit[d6t.W6], t.backgroundColorSplit[d6t.A6], t.backgroundColorSplit[d6t.D6], d6t.A6);
            }
            k.clear(k.COLOR_BUFFER_BIT);
        }
        this.renderDisplayObject(t, this.projection);
    };
    V5.WebGLRenderer.prototype.renderDisplayObject = function(t, k, j) {
        this.renderSession.blendModeManager.setBlendMode(V5.blendModes.NORMAL);
        this.renderSession.drawCount = d6t.W6;
        this.renderSession.projection = k;
        this.renderSession.offset = this.offset;
        this.spriteBatch.begin(this.renderSession);
        this.filterManager.begin(this.renderSession, j);
        t._renderWebGL(this.renderSession);
        this.spriteBatch.end();
    };
    V5.WebGLRenderer.prototype.resize = function(t, k) {
        this.width = t * this.resolution;
        this.height = k * this.resolution;
        this.view.width = this.width;
        this.view.height = this.height;
        this.gl.viewport(d6t.W6, d6t.W6, this.width, this.height);
        this.projection.x = this.width / d6t.D6 / this.resolution;
        this.projection.y = -this.height / d6t.D6 / this.resolution;
    };
    V5.WebGLRenderer.prototype.updateTexture = function(t) {
        if (!t.hasLoaded) return;
        var k = this.gl;
        if (!t._glTextures[k.id]) t._glTextures[k.id] = k.createTexture();
        k.bindTexture(k.TEXTURE_2D, t._glTextures[k.id]);
        k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL, t.premultipliedAlpha);
        k.texImage2D(k.TEXTURE_2D, d6t.W6, k.RGBA, k.RGBA, k.UNSIGNED_BYTE, t.source);
        k.texParameteri(k.TEXTURE_2D, k.TEXTURE_MAG_FILTER, t.scaleMode === V5.scaleModes.LINEAR ? k.LINEAR : k.NEAREST);
        k.texParameteri(k.TEXTURE_2D, k.TEXTURE_MIN_FILTER, t.scaleMode === V5.scaleModes.LINEAR ? k.LINEAR : k.NEAREST);
        if (!t._powerOf2) {
            k.texParameteri(k.TEXTURE_2D, k.TEXTURE_WRAP_S, k.CLAMP_TO_EDGE);
            k.texParameteri(k.TEXTURE_2D, k.TEXTURE_WRAP_T, k.CLAMP_TO_EDGE);
        } else {
            k.texParameteri(k.TEXTURE_2D, k.TEXTURE_WRAP_S, k.REPEAT);
            k.texParameteri(k.TEXTURE_2D, k.TEXTURE_WRAP_T, k.REPEAT);
        }
        t._dirty[k.id] = d6t.F18;
        return t._glTextures[k.id];
    };
    V5.WebGLRenderer.prototype.handleContextLost = function(t) {
        t.preventDefault();
        this.contextLost = d6t.s73;
    };
    V5.WebGLRenderer.prototype.handleContextRestored = function() {
        this.initContext();
        for (var t in V5.TextureCache) {
            var k = V5.TextureCache[t].baseTexture;
            k._glTextures = [];
        }
        this.contextLost = d6t.F18;
    };
    V5.WebGLRenderer.prototype.destroy = function() {
        this.view.off(j6, this.contextLostBound);
        this.view.off(O6, this.contextRestoredBound);
        V5.glContexts[this.glContextId] = d6t.B3x;
        this.projection = d6t.B3x;
        this.offset = d6t.B3x;
        this.shaderManager.destroy();
        this.spriteBatch.destroy();
        this.maskManager.destroy();
        this.filterManager.destroy();
        this.shaderManager = d6t.B3x;
        this.spriteBatch = d6t.B3x;
        this.maskManager = d6t.B3x;
        this.filterManager = d6t.B3x;
        this.gl = d6t.B3x;
        this.renderSession = d6t.B3x;
    };
    V5.WebGLRenderer.prototype.mapBlendModes = function() {
        var t = this.gl;
        if (!V5.blendModesWebGL) {
            V5.blendModesWebGL = [];
            V5.blendModesWebGL[V5.blendModes.NORMAL] = [t.ONE, t.ONE_MINUS_SRC_ALPHA];
            V5.blendModesWebGL[V5.blendModes.ADD] = [t.SRC_ALPHA, t.DST_ALPHA];
            V5.blendModesWebGL[V5.blendModes.MULTIPLY] = [t.DST_COLOR, t.ONE_MINUS_SRC_ALPHA];
            V5.blendModesWebGL[V5.blendModes.SCREEN] = [t.SRC_ALPHA, t.ONE];
            V5.blendModesWebGL[V5.blendModes.OVERLAY] = [t.ONE, t.ONE_MINUS_SRC_ALPHA];
            V5.blendModesWebGL[V5.blendModes.DARKEN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA];
            V5.blendModesWebGL[V5.blendModes.LIGHTEN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA];
            V5.blendModesWebGL[V5.blendModes.COLOR_DODGE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA];
            V5.blendModesWebGL[V5.blendModes.COLOR_BURN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA];
            V5.blendModesWebGL[V5.blendModes.HARD_LIGHT] = [t.ONE, t.ONE_MINUS_SRC_ALPHA];
            V5.blendModesWebGL[V5.blendModes.SOFT_LIGHT] = [t.ONE, t.ONE_MINUS_SRC_ALPHA];
            V5.blendModesWebGL[V5.blendModes.DIFFERENCE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA];
            V5.blendModesWebGL[V5.blendModes.EXCLUSION] = [t.ONE, t.ONE_MINUS_SRC_ALPHA];
            V5.blendModesWebGL[V5.blendModes.HUE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA];
            V5.blendModesWebGL[V5.blendModes.SATURATION] = [t.ONE, t.ONE_MINUS_SRC_ALPHA];
            V5.blendModesWebGL[V5.blendModes.COLOR] = [t.ONE, t.ONE_MINUS_SRC_ALPHA];
            V5.blendModesWebGL[V5.blendModes.LUMINOSITY] = [t.ONE, t.ONE_MINUS_SRC_ALPHA];
        }
    };
    V5.WebGLRenderer.glContextId = d6t.W6;
    V5.WebGLBlendModeManager = function() {
        this.currentBlendMode = E6;
    };
    V5.WebGLBlendModeManager.prototype.constructor = V5.WebGLBlendModeManager;
    V5.WebGLBlendModeManager.prototype.setContext = function(t) {
        this.gl = t;
    };
    V5.WebGLBlendModeManager.prototype.setBlendMode = function(t) {
        if (this.currentBlendMode === t) return d6t.F18;
        this.currentBlendMode = t;
        var k = V5.blendModesWebGL[this.currentBlendMode];
        this.gl.blendFunc(k[d6t.W6], k[d6t.A6]);
        return d6t.s73;
    };
    V5.WebGLBlendModeManager.prototype.destroy = function() {
        this.gl = d6t.B3x;
    };
    V5.WebGLMaskManager = function() {};
    V5.WebGLMaskManager.prototype.constructor = V5.WebGLMaskManager;
    V5.WebGLMaskManager.prototype.setContext = function(t) {
        this.gl = t;
    };
    V5.WebGLMaskManager.prototype.pushMask = function(t, k) {
        var j = k.gl;
        if (t.dirty) {
            V5.WebGLGraphics.updateGraphics(t, j);
        }
        if (!t._webGL[j.id].data.length) return;
        k.stencilManager.pushStencil(t, t._webGL[j.id].data[d6t.W6], k);
    };
    V5.WebGLMaskManager.prototype.popMask = function(t, k) {
        var j = this.gl;
        k.stencilManager.popStencil(t, t._webGL[j.id].data[d6t.W6], k);
    };
    V5.WebGLMaskManager.prototype.destroy = function() {
        this.gl = d6t.B3x;
    };
    V5.WebGLStencilManager = function() {
        this.stencilStack = [];
        this.reverse = d6t.s73;
        this.count = d6t.W6;
    };
    V5.WebGLStencilManager.prototype.setContext = function(t) {
        this.gl = t;
    };
    V5.WebGLStencilManager.prototype.pushStencil = function(t, k, j) {
        var o = this.gl;
        this.bindGraphics(t, k, j);
        if (this.stencilStack.length === d6t.W6) {
            o.enable(o.STENCIL_TEST);
            o.clear(o.STENCIL_BUFFER_BIT);
            this.reverse = d6t.s73;
            this.count = d6t.W6;
        }
        this.stencilStack.push(k);
        var e = this.count;
        o.colorMask(d6t.F18, d6t.F18, d6t.F18, d6t.F18);
        o.stencilFunc(o.ALWAYS, d6t.W6, ((8.38E2, 114.) >= (10.5E2, 13.06E2) ? 10 : (3.30E1, 2.73E2) > (0x196, 2) ? (46.30E1, 0xFF) : (17, 22.)));
        o.stencilOp(o.KEEP, o.KEEP, o.INVERT);
        if (k.mode === d6t.A6) {
            o.drawElements(o.TRIANGLE_FAN, k.indices.length - d6t.M6, o.UNSIGNED_SHORT, d6t.W6);
            if (this.reverse) {
                o.stencilFunc(o.EQUAL, ((0x1F3, 5.74E2) <= 1.380E2 ? 0xF4 : (0x35, 2.82E2) >= (120., 145.) ? (52.6E1, 0xFF) : (127.5E1, 141.20E1)) - e, ((0x1DB, 0x248) > 0xB4 ? (0x28, 0xFF) : 8.43E2 < (0x72, 39.) ? (0x52, 1.053E3) : (0x126, 13.790E2)));
                o.stencilOp(o.KEEP, o.KEEP, o.DECR);
            } else {
                o.stencilFunc(o.EQUAL, e, 0xFF);
                o.stencilOp(o.KEEP, o.KEEP, o.INCR);
            }
            o.drawElements(o.TRIANGLE_FAN, d6t.M6, o.UNSIGNED_SHORT, (k.indices.length - d6t.M6) * d6t.D6);
            if (this.reverse) {
                o.stencilFunc(o.EQUAL, ((131.4E1, 115.2E1) > (0x188, 65.) ? (144, 0xFF) : (0x103, 0x218)) - (e + d6t.A6), 0xFF);
            } else {
                o.stencilFunc(o.EQUAL, e + d6t.A6, 0xFF);
            }
            this.reverse = !this.reverse;
        } else {
            if (!this.reverse) {
                o.stencilFunc(o.EQUAL, 0xFF - e, 0xFF);
                o.stencilOp(o.KEEP, o.KEEP, o.DECR);
            } else {
                o.stencilFunc(o.EQUAL, e, ((22, 6.74E2) < (7.82E2, 0x1A3) ? 'c' : 0xE0 > (12.700E2, 0x63) ? (0xC3, 0xFF) : (1.880E2, 121)));
                o.stencilOp(o.KEEP, o.KEEP, o.INCR);
            }
            o.drawElements(o.TRIANGLE_STRIP, k.indices.length, o.UNSIGNED_SHORT, d6t.W6);
            if (!this.reverse) {
                o.stencilFunc(o.EQUAL, ((8, 0x1B8) < (114, 4.91E2) ? (5.33E2, 0xFF) : (5.19E2, 1.112E3)) - (e + d6t.A6), 0xFF);
            } else {
                o.stencilFunc(o.EQUAL, e + d6t.A6, 0xFF);
            }
        }
        o.colorMask(d6t.s73, d6t.s73, d6t.s73, d6t.s73);
        o.stencilOp(o.KEEP, o.KEEP, o.KEEP);
        this.count++;
    };
    V5.WebGLStencilManager.prototype.bindGraphics = function(t, k, j) {
        this._currentGraphics = t;
        var o = this.gl,
            e = j.projection,
            q = j.offset,
            m;
        if (k.mode === d6t.A6) {
            m = j.shaderManager.complexPrimitiveShader;
            j.shaderManager.setShader(m);
            o.uniformMatrix3fv(m.translationMatrix, d6t.F18, t.worldTransform.toArray(d6t.s73));
            o.uniform2f(m.projectionVector, e.x, -e.y);
            o.uniform2f(m.offsetVector, -q.x, -q.y);
            o.uniform3fv(m.tintColor, V5.hex2rgb(t.tint));
            o.uniform3fv(m.color, k.color);
            o.uniform1f(m.alpha, t.worldAlpha * k.alpha);
            o.bindBuffer(o.ARRAY_BUFFER, k.buffer);
            o.vertexAttribPointer(m.aVertexPosition, d6t.D6, o.FLOAT, d6t.F18, d6t.M6 * d6t.D6, d6t.W6);
            o.bindBuffer(o.ELEMENT_ARRAY_BUFFER, k.indexBuffer);
        } else {
            m = j.shaderManager.primitiveShader;
            j.shaderManager.setShader(m);
            o.uniformMatrix3fv(m.translationMatrix, d6t.F18, t.worldTransform.toArray(d6t.s73));
            o.uniform2f(m.projectionVector, e.x, -e.y);
            o.uniform2f(m.offsetVector, -q.x, -q.y);
            o.uniform3fv(m.tintColor, V5.hex2rgb(t.tint));
            o.uniform1f(m.alpha, t.worldAlpha);
            o.bindBuffer(o.ARRAY_BUFFER, k.buffer);
            o.vertexAttribPointer(m.aVertexPosition, d6t.D6, o.FLOAT, d6t.F18, d6t.M6 * d6t.J6, d6t.W6);
            o.vertexAttribPointer(m.colorAttribute, d6t.M6, o.FLOAT, d6t.F18, d6t.M6 * d6t.J6, d6t.D6 * d6t.M6);
            o.bindBuffer(o.ELEMENT_ARRAY_BUFFER, k.indexBuffer);
        }
    };
    V5.WebGLStencilManager.prototype.popStencil = function(t, k, j) {
        var o = this.gl;
        this.stencilStack.pop();
        this.count--;
        if (this.stencilStack.length === d6t.W6) {
            o.disable(o.STENCIL_TEST);
        } else {
            var e = this.count;
            this.bindGraphics(t, k, j);
            o.colorMask(d6t.F18, d6t.F18, d6t.F18, d6t.F18);
            if (k.mode === d6t.A6) {
                this.reverse = !this.reverse;
                if (this.reverse) {
                    o.stencilFunc(o.EQUAL, 0xFF - (e + d6t.A6), 0xFF);
                    o.stencilOp(o.KEEP, o.KEEP, o.INCR);
                } else {
                    o.stencilFunc(o.EQUAL, e + d6t.A6, ((0x13, 0x176) > (0x1F2, 104.) ? (16., 0xFF) : (137, 96.9E1) < (0x9F, 8.5E1) ? "X" : (26.0E1, 52)));
                    o.stencilOp(o.KEEP, o.KEEP, o.DECR);
                }
                o.drawElements(o.TRIANGLE_FAN, d6t.M6, o.UNSIGNED_SHORT, (k.indices.length - d6t.M6) * d6t.D6);
                o.stencilFunc(o.ALWAYS, d6t.W6, ((66, 0x10E) >= (108, 38.5E1) ? 'i' : (0x10A, 2) <= (20., 1.074E3) ? (0x1AF, 0xFF) : (59., 1)));
                o.stencilOp(o.KEEP, o.KEEP, o.INVERT);
                o.drawElements(o.TRIANGLE_FAN, k.indices.length - d6t.M6, o.UNSIGNED_SHORT, d6t.W6);
                if (!this.reverse) {
                    o.stencilFunc(o.EQUAL, ((103, 8.4E2) >= 0x176 ? (0x8B, 0xFF) : (0x70, 0xD4) < (4.2E2, 85) ? "SD" : (58, 0xC8)) - (e), ((120, 0x20B) >= (30, 0x1F4) ? (94.80E1, 0xFF) : (0x168, 0x7C)));
                } else {
                    o.stencilFunc(o.EQUAL, e, 0xFF);
                }
            } else {
                if (!this.reverse) {
                    o.stencilFunc(o.EQUAL, 0xFF - (e + d6t.A6), 0xFF);
                    o.stencilOp(o.KEEP, o.KEEP, o.INCR);
                } else {
                    o.stencilFunc(o.EQUAL, e + d6t.A6, ((20, 20) > (4, 1.493E3) ? 112. : 0x21C >= (11.290E2, 0x14B) ? (0x162, 0xFF) : (0x217, 97.4E1)));
                    o.stencilOp(o.KEEP, o.KEEP, o.DECR);
                }
                o.drawElements(o.TRIANGLE_STRIP, k.indices.length, o.UNSIGNED_SHORT, d6t.W6);
                if (!this.reverse) {
                    o.stencilFunc(o.EQUAL, (0x1CA > (0x1BE, 4.600E2) ? (0xDF, 0x7) : (0xF4, 7.21E2) >= (13.63E2, 25.) ? (14.23E2, 0xFF) : (30., 1.2630E3)) - (e), 0xFF);
                } else {
                    o.stencilFunc(o.EQUAL, e, 0xFF);
                }
            }
            o.colorMask(d6t.s73, d6t.s73, d6t.s73, d6t.s73);
            o.stencilOp(o.KEEP, o.KEEP, o.KEEP);
        }
    };
    V5.WebGLStencilManager.prototype.destroy = function() {
        this.stencilStack = d6t.B3x;
        this.gl = d6t.B3x;
    };
    V5.WebGLShaderManager = function() {
        this.maxAttibs = d6t.x7x;
        this.attribState = [];
        this.tempAttribState = [];
        for (var t = d6t.W6; t < this.maxAttibs; t++) {
            this.attribState[t] = d6t.F18;
        }
        this.stack = [];
    };
    V5.WebGLShaderManager.prototype.constructor = V5.WebGLShaderManager;
    V5.WebGLShaderManager.prototype.setContext = function(t) {
        this.gl = t;
        this.primitiveShader = new V5.PrimitiveShader(t);
        this.complexPrimitiveShader = new V5.ComplexPrimitiveShader(t);
        this.defaultShader = new V5.PixiShader(t);
        this.fastShader = new V5.PixiFastShader(t);
        this.stripShader = new V5.StripShader(t);
        this.setShader(this.defaultShader);
    };
    V5.WebGLShaderManager.prototype.setAttribs = function(t) {
        var k;
        for (k = d6t.W6; k < this.tempAttribState.length; k++) {
            this.tempAttribState[k] = d6t.F18;
        }
        for (k = d6t.W6; k < t.length; k++) {
            var j = t[k];
            this.tempAttribState[j] = d6t.s73;
        }
        var o = this.gl;
        for (k = d6t.W6; k < this.attribState.length; k++) {
            if (this.attribState[k] !== this.tempAttribState[k]) {
                this.attribState[k] = this.tempAttribState[k];
                if (this.tempAttribState[k]) {
                    o.enableVertexAttribArray(k);
                } else {
                    o.disableVertexAttribArray(k);
                }
            }
        }
    };
    V5.WebGLShaderManager.prototype.setShader = function(t) {
        if (this._currentId === t._UID) return d6t.F18;
        this._currentId = t._UID;
        this.currentShader = t;
        this.gl.useProgram(t.program);
        this.setAttribs(t.attributes);
        return d6t.s73;
    };
    V5.WebGLShaderManager.prototype.destroy = function() {
        this.attribState = d6t.B3x;
        this.tempAttribState = d6t.B3x;
        this.primitiveShader.destroy();
        this.complexPrimitiveShader.destroy();
        this.defaultShader.destroy();
        this.fastShader.destroy();
        this.stripShader.destroy();
        this.gl = d6t.B3x;
    };
    V5.WebGLSpriteBatch = function() {
        this.vertSize = d6t.J6;
        this.size = d6t.P43;
        var t = this.size * d6t.M6 * this.vertSize,
            k = this.size * d6t.J6;
        this.vertices = new Float32Array(t);
        this.indices = new Uint16Array(k);
        this.lastIndexCount = d6t.W6;
        for (var j = d6t.W6, o = d6t.W6; j < k; j += d6t.J6, o += d6t.M6) {
            this.indices[j + d6t.W6] = o + d6t.W6;
            this.indices[j + d6t.A6] = o + d6t.A6;
            this.indices[j + d6t.D6] = o + d6t.D6;
            this.indices[j + d6t.B6] = o + d6t.W6;
            this.indices[j + d6t.M6] = o + d6t.D6;
            this.indices[j + d6t.U6] = o + d6t.B6;
        }
        this.drawing = d6t.F18;
        this.currentBatchSize = d6t.W6;
        this.currentBaseTexture = d6t.B3x;
        this.dirty = d6t.s73;
        this.textures = [];
        this.blendModes = [];
        this.shaders = [];
        this.sprites = [];
        this.defaultShader = new V5.AbstractFilter([S4, T4, r4, d6t.y93, w6, d4, d6t.S7]);
    };
    V5.WebGLSpriteBatch.prototype.setContext = function(t) {
        this.gl = t;
        this.vertexBuffer = t.createBuffer();
        this.indexBuffer = t.createBuffer();
        t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
        t.bufferData(t.ELEMENT_ARRAY_BUFFER, this.indices, t.STATIC_DRAW);
        t.bindBuffer(t.ARRAY_BUFFER, this.vertexBuffer);
        t.bufferData(t.ARRAY_BUFFER, this.vertices, t.DYNAMIC_DRAW);
        this.currentBlendMode = E6;
        var k = new V5.PixiShader(t);
        k.fragmentSrc = this.defaultShader.fragmentSrc;
        k.uniforms = {};
        k.init();
        this.defaultShader.shaders[t.id] = k;
    };
    V5.WebGLSpriteBatch.prototype.begin = function(t) {
        this.renderSession = t;
        this.shader = this.renderSession.shaderManager.defaultShader;
        this.start();
    };
    V5.WebGLSpriteBatch.prototype.end = function() {
        this.flush();
    };
    V5.WebGLSpriteBatch.prototype.render = function(t) {
        var k = t.texture;
        if (this.currentBatchSize >= this.size) {
            this.flush();
            this.currentBaseTexture = k.baseTexture;
        }
        var j = k._uvs;
        if (!j) return;
        var o = t.worldAlpha,
            e = t.tint,
            q = this.vertices,
            m = t.anchor.x,
            k5 = t.anchor.y,
            C5, H5, j5, Y5;
        if (k.trim) {
            var z5 = k.trim;
            H5 = z5.x - m * z5.width;
            C5 = H5 + k.crop.width;
            Y5 = z5.y - k5 * z5.height;
            j5 = Y5 + k.crop.height;
        } else {
            C5 = (k.frame.width) * (d6t.A6 - m);
            H5 = (k.frame.width) * -m;
            j5 = k.frame.height * (d6t.A6 - k5);
            Y5 = k.frame.height * -k5;
        }
        var P5 = this.currentBatchSize * d6t.M6 * this.vertSize,
            p5 = k.baseTexture.resolution,
            w5 = t.worldTransform,
            R5 = w5.a / p5,
            r5 = w5.b / p5,
            T5 = w5.c / p5,
            a5 = w5.d / p5,
            x5 = w5.tx,
            f5 = w5.ty;
        q[P5++] = R5 * H5 + T5 * Y5 + x5;
        q[P5++] = a5 * Y5 + r5 * H5 + f5;
        q[P5++] = j.x0;
        q[P5++] = j.y0;
        q[P5++] = o;
        q[P5++] = e;
        q[P5++] = R5 * C5 + T5 * Y5 + x5;
        q[P5++] = a5 * Y5 + r5 * C5 + f5;
        q[P5++] = j.x1;
        q[P5++] = j.y1;
        q[P5++] = o;
        q[P5++] = e;
        q[P5++] = R5 * C5 + T5 * j5 + x5;
        q[P5++] = a5 * j5 + r5 * C5 + f5;
        q[P5++] = j.x2;
        q[P5++] = j.y2;
        q[P5++] = o;
        q[P5++] = e;
        q[P5++] = R5 * H5 + T5 * j5 + x5;
        q[P5++] = a5 * j5 + r5 * H5 + f5;
        q[P5++] = j.x3;
        q[P5++] = j.y3;
        q[P5++] = o;
        q[P5++] = e;
        this.sprites[this.currentBatchSize++] = t;
    };
    V5.WebGLSpriteBatch.prototype.renderTilingSprite = function(t) {
        var k = t.tilingTexture;
        if (this.currentBatchSize >= this.size) {
            this.flush();
            this.currentBaseTexture = k.baseTexture;
        }
        if (!t._uvs) t._uvs = new V5.TextureUvs();
        var j = t._uvs;
        t.tilePosition.x %= k.baseTexture.width * t.tileScaleOffset.x;
        t.tilePosition.y %= k.baseTexture.height * t.tileScaleOffset.y;
        var o = t.tilePosition.x / (k.baseTexture.width * t.tileScaleOffset.x),
            e = t.tilePosition.y / (k.baseTexture.height * t.tileScaleOffset.y),
            q = (t.width / k.baseTexture.width) / (t.tileScale.x * t.tileScaleOffset.x),
            m = (t.height / k.baseTexture.height) / (t.tileScale.y * t.tileScaleOffset.y);
        j.x0 = d6t.W6 - o;
        j.y0 = d6t.W6 - e;
        j.x1 = (d6t.A6 * q) - o;
        j.y1 = d6t.W6 - e;
        j.x2 = (d6t.A6 * q) - o;
        j.y2 = (d6t.A6 * m) - e;
        j.x3 = d6t.W6 - o;
        j.y3 = (d6t.A6 * m) - e;
        var k5 = t.worldAlpha,
            C5 = t.tint,
            H5 = this.vertices,
            j5 = t.width,
            Y5 = t.height,
            z5 = t.anchor.x,
            P5 = t.anchor.y,
            p5 = j5 * (d6t.A6 - z5),
            w5 = j5 * -z5,
            R5 = Y5 * (d6t.A6 - P5),
            r5 = Y5 * -P5,
            T5 = this.currentBatchSize * d6t.M6 * this.vertSize,
            a5 = k.baseTexture.resolution,
            x5 = t.worldTransform,
            f5 = x5.a / a5,
            A5 = x5.b / a5,
            u5 = x5.c / a5,
            B5 = x5.d / a5,
            D5 = x5.tx,
            o5 = x5.ty;
        H5[T5++] = f5 * w5 + u5 * r5 + D5;
        H5[T5++] = B5 * r5 + A5 * w5 + o5;
        H5[T5++] = j.x0;
        H5[T5++] = j.y0;
        H5[T5++] = k5;
        H5[T5++] = C5;
        H5[T5++] = (f5 * p5 + u5 * r5 + D5);
        H5[T5++] = B5 * r5 + A5 * p5 + o5;
        H5[T5++] = j.x1;
        H5[T5++] = j.y1;
        H5[T5++] = k5;
        H5[T5++] = C5;
        H5[T5++] = f5 * p5 + u5 * R5 + D5;
        H5[T5++] = B5 * R5 + A5 * p5 + o5;
        H5[T5++] = j.x2;
        H5[T5++] = j.y2;
        H5[T5++] = k5;
        H5[T5++] = C5;
        H5[T5++] = f5 * w5 + u5 * R5 + D5;
        H5[T5++] = B5 * R5 + A5 * w5 + o5;
        H5[T5++] = j.x3;
        H5[T5++] = j.y3;
        H5[T5++] = k5;
        H5[T5++] = C5;
        this.sprites[this.currentBatchSize++] = t;
    };
    V5.WebGLSpriteBatch.prototype.flush = function() {
        if (this.currentBatchSize === d6t.W6) return;
        var t = this.gl,
            k;
        if (this.dirty) {
            this.dirty = d6t.F18;
            t.activeTexture(t.TEXTURE0);
            t.bindBuffer(t.ARRAY_BUFFER, this.vertexBuffer);
            t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
            k = this.defaultShader.shaders[t.id];
            var j = this.vertSize * d6t.M6;
            t.vertexAttribPointer(k.aVertexPosition, d6t.D6, t.FLOAT, d6t.F18, j, d6t.W6);
            t.vertexAttribPointer(k.aTextureCoord, d6t.D6, t.FLOAT, d6t.F18, j, d6t.D6 * d6t.M6);
            t.vertexAttribPointer(k.colorAttribute, d6t.D6, t.FLOAT, d6t.F18, j, d6t.M6 * d6t.M6);
        }
        if (this.currentBatchSize > (this.size * d6t.z48)) {
            t.bufferSubData(t.ARRAY_BUFFER, d6t.W6, this.vertices);
        } else {
            var o = this.vertices.subarray(d6t.W6, this.currentBatchSize * d6t.M6 * this.vertSize);
            t.bufferSubData(t.ARRAY_BUFFER, d6t.W6, o);
        }
        var e, q, m, k5 = d6t.W6,
            C5 = d6t.W6,
            H5 = d6t.B3x,
            j5 = this.renderSession.blendModeManager.currentBlendMode,
            Y5 = d6t.B3x,
            z5 = d6t.F18,
            P5 = d6t.F18,
            p5;
        for (var w5 = d6t.W6, R5 = this.currentBatchSize; w5 < R5; w5++) {
            p5 = this.sprites[w5];
            e = p5.texture.baseTexture;
            q = p5.blendMode;
            m = p5.shader || this.defaultShader;
            z5 = j5 !== q;
            P5 = Y5 !== m;
            if (H5 !== e || z5 || P5) {
                this.renderBatch(H5, k5, C5);
                C5 = w5;
                k5 = d6t.W6;
                H5 = e;
                if (z5) {
                    j5 = q;
                    this.renderSession.blendModeManager.setBlendMode(j5);
                }
                if (P5) {
                    Y5 = m;
                    k = Y5.shaders[t.id];
                    if (!k) {
                        k = new V5.PixiShader(t);
                        k.fragmentSrc = Y5.fragmentSrc;
                        k.uniforms = Y5.uniforms;
                        k.init();
                        Y5.shaders[t.id] = k;
                    }
                    this.renderSession.shaderManager.setShader(k);
                    if (k.dirty) k.syncUniforms();
                    var r5 = this.renderSession.projection;
                    t.uniform2f(k.projectionVector, r5.x, r5.y);
                    var T5 = this.renderSession.offset;
                    t.uniform2f(k.offsetVector, T5.x, T5.y);
                }
            }
            k5++;
        }
        this.renderBatch(H5, k5, C5);
        this.currentBatchSize = d6t.W6;
    };
    V5.WebGLSpriteBatch.prototype.renderBatch = function(t, k, j) {
        if (k === d6t.W6) return;
        var o = this.gl;
        if (t._dirty[o.id]) {
            this.renderSession.renderer.updateTexture(t);
        } else {
            o.bindTexture(o.TEXTURE_2D, t._glTextures[o.id]);
        }
        o.drawElements(o.TRIANGLES, k * d6t.J6, o.UNSIGNED_SHORT, j * d6t.J6 * d6t.D6);
        this.renderSession.drawCount++;
    };
    V5.WebGLSpriteBatch.prototype.stop = function() {
        this.flush();
        this.dirty = d6t.s73;
    };
    V5.WebGLSpriteBatch.prototype.start = function() {
        this.dirty = d6t.s73;
    };
    V5.WebGLSpriteBatch.prototype.destroy = function() {
        this.vertices = d6t.B3x;
        this.indices = d6t.B3x;
        this.gl.deleteBuffer(this.vertexBuffer);
        this.gl.deleteBuffer(this.indexBuffer);
        this.currentBaseTexture = d6t.B3x;
        this.gl = d6t.B3x;
    };
    V5.WebGLFastSpriteBatch = function(t) {
        var k = ((0x251, 60.) <= (45.90E1, 0x208) ? (0x100, 6000) : (0x68, 80));
        this.vertSize = d6t.x7x;
        this.maxSize = k;
        this.size = this.maxSize;
        var j = this.size * d6t.M6 * this.vertSize,
            o = this.maxSize * d6t.J6;
        this.vertices = new Float32Array(j);
        this.indices = new Uint16Array(o);
        this.vertexBuffer = d6t.B3x;
        this.indexBuffer = d6t.B3x;
        this.lastIndexCount = d6t.W6;
        for (var e = d6t.W6, q = d6t.W6; e < o; e += d6t.J6, q += d6t.M6) {
            this.indices[e + d6t.W6] = q + d6t.W6;
            this.indices[e + d6t.A6] = q + d6t.A6;
            this.indices[e + d6t.D6] = q + d6t.D6;
            this.indices[e + d6t.B6] = q + d6t.W6;
            this.indices[e + d6t.M6] = q + d6t.D6;
            this.indices[e + d6t.U6] = q + d6t.B6;
        }
        this.drawing = d6t.F18;
        this.currentBatchSize = d6t.W6;
        this.currentBaseTexture = d6t.B3x;
        this.currentBlendMode = d6t.W6;
        this.renderSession = d6t.B3x;
        this.shader = d6t.B3x;
        this.matrix = d6t.B3x;
        this.setContext(t);
    };
    V5.WebGLFastSpriteBatch.prototype.constructor = V5.WebGLFastSpriteBatch;
    V5.WebGLFastSpriteBatch.prototype.setContext = function(t) {
        this.gl = t;
        this.vertexBuffer = t.createBuffer();
        this.indexBuffer = t.createBuffer();
        t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
        t.bufferData(t.ELEMENT_ARRAY_BUFFER, this.indices, t.STATIC_DRAW);
        t.bindBuffer(t.ARRAY_BUFFER, this.vertexBuffer);
        t.bufferData(t.ARRAY_BUFFER, this.vertices, t.DYNAMIC_DRAW);
    };
    V5.WebGLFastSpriteBatch.prototype.begin = function(t, k) {
        this.renderSession = k;
        this.shader = this.renderSession.shaderManager.fastShader;
        this.matrix = t.worldTransform.toArray(d6t.s73);
        this.start();
    };
    V5.WebGLFastSpriteBatch.prototype.end = function() {
        this.flush();
    };
    V5.WebGLFastSpriteBatch.prototype.render = function(t) {
        var k = t.children,
            j = k[d6t.W6];
        if (!j.texture._uvs) return;
        this.currentBaseTexture = j.texture.baseTexture;
        if (j.blendMode !== this.renderSession.blendModeManager.currentBlendMode) {
            this.flush();
            this.renderSession.blendModeManager.setBlendMode(j.blendMode);
        }
        for (var o = d6t.W6, e = k.length; o < e; o++) {
            this.renderSprite(k[o]);
        }
        this.flush();
    };
    V5.WebGLFastSpriteBatch.prototype.renderSprite = function(t) {
        if (!t.visible) return;
        if (t.texture.baseTexture !== this.currentBaseTexture) {
            this.flush();
            this.currentBaseTexture = t.texture.baseTexture;
            if (!t.texture._uvs) return;
        }
        var k, j = this.vertices,
            o, e, q, m, k5, C5, H5;
        k = t.texture._uvs;
        o = t.texture.frame.width;
        e = t.texture.frame.height;
        if (t.texture.trim) {
            var j5 = t.texture.trim;
            m = j5.x - t.anchor.x * j5.width;
            q = m + t.texture.crop.width;
            C5 = j5.y - t.anchor.y * j5.height;
            k5 = C5 + t.texture.crop.height;
        } else {
            q = (t.texture.frame.width) * (d6t.A6 - t.anchor.x);
            m = (t.texture.frame.width) * -t.anchor.x;
            k5 = t.texture.frame.height * (d6t.A6 - t.anchor.y);
            C5 = t.texture.frame.height * -t.anchor.y;
        }
        H5 = this.currentBatchSize * d6t.M6 * this.vertSize;
        j[H5++] = m;
        j[H5++] = C5;
        j[H5++] = t.position.x;
        j[H5++] = t.position.y;
        j[H5++] = t.scale.x;
        j[H5++] = t.scale.y;
        j[H5++] = t.rotation;
        j[H5++] = k.x0;
        j[H5++] = k.y1;
        j[H5++] = t.alpha;
        j[H5++] = q;
        j[H5++] = C5;
        j[H5++] = t.position.x;
        j[H5++] = t.position.y;
        j[H5++] = t.scale.x;
        j[H5++] = t.scale.y;
        j[H5++] = t.rotation;
        j[H5++] = k.x1;
        j[H5++] = k.y1;
        j[H5++] = t.alpha;
        j[H5++] = q;
        j[H5++] = k5;
        j[H5++] = t.position.x;
        j[H5++] = t.position.y;
        j[H5++] = t.scale.x;
        j[H5++] = t.scale.y;
        j[H5++] = t.rotation;
        j[H5++] = k.x2;
        j[H5++] = k.y2;
        j[H5++] = t.alpha;
        j[H5++] = m;
        j[H5++] = k5;
        j[H5++] = t.position.x;
        j[H5++] = t.position.y;
        j[H5++] = t.scale.x;
        j[H5++] = t.scale.y;
        j[H5++] = t.rotation;
        j[H5++] = k.x3;
        j[H5++] = k.y3;
        j[H5++] = t.alpha;
        this.currentBatchSize++;
        if (this.currentBatchSize >= this.size) {
            this.flush();
        }
    };
    V5.WebGLFastSpriteBatch.prototype.flush = function() {
        if (this.currentBatchSize === d6t.W6) return;
        var t = this.gl;
        if (!this.currentBaseTexture._glTextures[t.id]) this.renderSession.renderer.updateTexture(this.currentBaseTexture, t);
        t.bindTexture(t.TEXTURE_2D, this.currentBaseTexture._glTextures[t.id]);
        if (this.currentBatchSize > (this.size * d6t.z48)) {
            t.bufferSubData(t.ARRAY_BUFFER, d6t.W6, this.vertices);
        } else {
            var k = this.vertices.subarray(d6t.W6, this.currentBatchSize * d6t.M6 * this.vertSize);
            t.bufferSubData(t.ARRAY_BUFFER, d6t.W6, k);
        }
        t.drawElements(t.TRIANGLES, this.currentBatchSize * d6t.J6, t.UNSIGNED_SHORT, d6t.W6);
        this.currentBatchSize = d6t.W6;
        this.renderSession.drawCount++;
    };
    V5.WebGLFastSpriteBatch.prototype.stop = function() {
        this.flush();
    };
    V5.WebGLFastSpriteBatch.prototype.start = function() {
        var t = this.gl;
        t.activeTexture(t.TEXTURE0);
        t.bindBuffer(t.ARRAY_BUFFER, this.vertexBuffer);
        t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
        var k = this.renderSession.projection;
        t.uniform2f(this.shader.projectionVector, k.x, k.y);
        t.uniformMatrix3fv(this.shader.uMatrix, d6t.F18, this.matrix);
        var j = this.vertSize * d6t.M6;
        t.vertexAttribPointer(this.shader.aVertexPosition, d6t.D6, t.FLOAT, d6t.F18, j, d6t.W6);
        t.vertexAttribPointer(this.shader.aPositionCoord, d6t.D6, t.FLOAT, d6t.F18, j, d6t.D6 * d6t.M6);
        t.vertexAttribPointer(this.shader.aScale, d6t.D6, t.FLOAT, d6t.F18, j, d6t.M6 * d6t.M6);
        t.vertexAttribPointer(this.shader.aRotation, d6t.A6, t.FLOAT, d6t.F18, j, d6t.J6 * d6t.M6);
        t.vertexAttribPointer(this.shader.aTextureCoord, d6t.D6, t.FLOAT, d6t.F18, j, d6t.v6 * d6t.M6);
        t.vertexAttribPointer(this.shader.colorAttribute, d6t.A6, t.FLOAT, d6t.F18, j, d6t.S6 * d6t.M6);
    };
    V5.WebGLFilterManager = function() {
        this.filterStack = [];
        this.offsetX = d6t.W6;
        this.offsetY = d6t.W6;
    };
    V5.WebGLFilterManager.prototype.constructor = V5.WebGLFilterManager;
    V5.WebGLFilterManager.prototype.setContext = function(t) {
        this.gl = t;
        this.texturePool = [];
        this.initShaderBuffers();
    };
    V5.WebGLFilterManager.prototype.begin = function(t, k) {
        this.renderSession = t;
        this.defaultShader = t.shaderManager.defaultShader;
        var j = this.renderSession.projection;
        this.width = j.x * d6t.D6;
        this.height = -j.y * d6t.D6;
        this.buffer = k;
    };
    V5.WebGLFilterManager.prototype.pushFilter = function(t) {
        var k = this.gl,
            j = this.renderSession.projection,
            o = this.renderSession.offset;
        t._filterArea = t.target.filterArea || t.target.getBounds();
        this.filterStack.push(t);
        var e = t.filterPasses[d6t.W6];
        this.offsetX += t._filterArea.x;
        this.offsetY += t._filterArea.y;
        var q = this.texturePool.pop();
        if (!q) {
            q = new V5.FilterTexture(this.gl, this.width, this.height);
        } else {
            q.resize(this.width, this.height);
        }
        k.bindTexture(k.TEXTURE_2D, q.texture);
        var m = t._filterArea,
            k5 = e.padding;
        m.x -= k5;
        m.y -= k5;
        m.width += k5 * d6t.D6;
        m.height += k5 * d6t.D6;
        if (m.x < d6t.W6) m.x = d6t.W6;
        if (m.width > this.width) m.width = this.width;
        if (m.y < d6t.W6) m.y = d6t.W6;
        if (m.height > this.height) m.height = this.height;
        k.bindFramebuffer(k.FRAMEBUFFER, q.frameBuffer);
        k.viewport(d6t.W6, d6t.W6, m.width, m.height);
        j.x = m.width / d6t.D6;
        j.y = -m.height / d6t.D6;
        o.x = -m.x;
        o.y = -m.y;
        k.colorMask(d6t.s73, d6t.s73, d6t.s73, d6t.s73);
        k.clearColor(d6t.W6, d6t.W6, d6t.W6, d6t.W6);
        k.clear(k.COLOR_BUFFER_BIT);
        t._glFilterTexture = q;
    };
    V5.WebGLFilterManager.prototype.popFilter = function() {
        var t = this.gl,
            k = this.filterStack.pop(),
            j = k._filterArea,
            o = k._glFilterTexture,
            e = this.renderSession.projection,
            q = this.renderSession.offset;
        if (k.filterPasses.length > d6t.A6) {
            t.viewport(d6t.W6, d6t.W6, j.width, j.height);
            t.bindBuffer(t.ARRAY_BUFFER, this.vertexBuffer);
            this.vertexArray[d6t.W6] = d6t.W6;
            this.vertexArray[d6t.A6] = j.height;
            this.vertexArray[d6t.D6] = j.width;
            this.vertexArray[d6t.B6] = j.height;
            this.vertexArray[d6t.M6] = d6t.W6;
            this.vertexArray[d6t.U6] = d6t.W6;
            this.vertexArray[d6t.J6] = j.width;
            this.vertexArray[d6t.v6] = d6t.W6;
            t.bufferSubData(t.ARRAY_BUFFER, d6t.W6, this.vertexArray);
            t.bindBuffer(t.ARRAY_BUFFER, this.uvBuffer);
            this.uvArray[d6t.D6] = j.width / this.width;
            this.uvArray[d6t.U6] = j.height / this.height;
            this.uvArray[d6t.J6] = j.width / this.width;
            this.uvArray[d6t.v6] = j.height / this.height;
            t.bufferSubData(t.ARRAY_BUFFER, d6t.W6, this.uvArray);
            var m = o,
                k5 = this.texturePool.pop();
            if (!k5) k5 = new V5.FilterTexture(this.gl, this.width, this.height);
            k5.resize(this.width, this.height);
            t.bindFramebuffer(t.FRAMEBUFFER, k5.frameBuffer);
            t.clear(t.COLOR_BUFFER_BIT);
            t.disable(t.BLEND);
            for (var C5 = d6t.W6; C5 < k.filterPasses.length - d6t.A6; C5++) {
                var H5 = k.filterPasses[C5];
                t.bindFramebuffer(t.FRAMEBUFFER, k5.frameBuffer);
                t.activeTexture(t.TEXTURE0);
                t.bindTexture(t.TEXTURE_2D, m.texture);
                this.applyFilterPass(H5, j, j.width, j.height);
                var j5 = m;
                m = k5;
                k5 = j5;
            }
            t.enable(t.BLEND);
            o = m;
            this.texturePool.push(k5);
        }
        var Y5 = k.filterPasses[k.filterPasses.length - d6t.A6];
        this.offsetX -= j.x;
        this.offsetY -= j.y;
        var z5 = this.width,
            P5 = this.height,
            p5 = d6t.W6,
            w5 = d6t.W6,
            R5 = this.buffer;
        if (this.filterStack.length === d6t.W6) {
            t.colorMask(d6t.s73, d6t.s73, d6t.s73, d6t.s73);
        } else {
            var r5 = this.filterStack[this.filterStack.length - d6t.A6];
            j = r5._filterArea;
            z5 = j.width;
            P5 = j.height;
            p5 = j.x;
            w5 = j.y;
            R5 = r5._glFilterTexture.frameBuffer;
        }
        e.x = z5 / d6t.D6;
        e.y = -P5 / d6t.D6;
        q.x = p5;
        q.y = w5;
        j = k._filterArea;
        var T5 = j.x - p5,
            a5 = j.y - w5;
        t.bindBuffer(t.ARRAY_BUFFER, this.vertexBuffer);
        this.vertexArray[d6t.W6] = T5;
        this.vertexArray[d6t.A6] = a5 + j.height;
        this.vertexArray[d6t.D6] = T5 + j.width;
        this.vertexArray[d6t.B6] = a5 + j.height;
        this.vertexArray[d6t.M6] = T5;
        this.vertexArray[d6t.U6] = a5;
        this.vertexArray[d6t.J6] = T5 + j.width;
        this.vertexArray[d6t.v6] = a5;
        t.bufferSubData(t.ARRAY_BUFFER, d6t.W6, this.vertexArray);
        t.bindBuffer(t.ARRAY_BUFFER, this.uvBuffer);
        this.uvArray[d6t.D6] = j.width / this.width;
        this.uvArray[d6t.U6] = j.height / this.height;
        this.uvArray[d6t.J6] = j.width / this.width;
        this.uvArray[d6t.v6] = j.height / this.height;
        t.bufferSubData(t.ARRAY_BUFFER, d6t.W6, this.uvArray);
        t.viewport(d6t.W6, d6t.W6, z5, P5);
        t.bindFramebuffer(t.FRAMEBUFFER, R5);
        t.activeTexture(t.TEXTURE0);
        t.bindTexture(t.TEXTURE_2D, o.texture);
        this.applyFilterPass(Y5, j, z5, P5);
        this.texturePool.push(o);
        k._glFilterTexture = d6t.B3x;
    };
    V5.WebGLFilterManager.prototype.applyFilterPass = function(t, k, j, o) {
        var e = this.gl,
            q = t.shaders[e.id];
        if (!q) {
            q = new V5.PixiShader(e);
            q.fragmentSrc = t.fragmentSrc;
            q.uniforms = t.uniforms;
            q.init();
            t.shaders[e.id] = q;
        }
        this.renderSession.shaderManager.setShader(q);
        e.uniform2f(q.projectionVector, j / d6t.D6, -o / d6t.D6);
        e.uniform2f(q.offsetVector, d6t.W6, d6t.W6);
        if (t.uniforms.dimensions) {
            t.uniforms.dimensions.value[d6t.W6] = this.width;
            t.uniforms.dimensions.value[d6t.A6] = this.height;
            t.uniforms.dimensions.value[d6t.D6] = this.vertexArray[d6t.W6];
            t.uniforms.dimensions.value[d6t.B6] = this.vertexArray[d6t.U6];
        }
        q.syncUniforms();
        e.bindBuffer(e.ARRAY_BUFFER, this.vertexBuffer);
        e.vertexAttribPointer(q.aVertexPosition, d6t.D6, e.FLOAT, d6t.F18, d6t.W6, d6t.W6);
        e.bindBuffer(e.ARRAY_BUFFER, this.uvBuffer);
        e.vertexAttribPointer(q.aTextureCoord, d6t.D6, e.FLOAT, d6t.F18, d6t.W6, d6t.W6);
        e.bindBuffer(e.ARRAY_BUFFER, this.colorBuffer);
        e.vertexAttribPointer(q.colorAttribute, d6t.D6, e.FLOAT, d6t.F18, d6t.W6, d6t.W6);
        e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
        e.drawElements(e.TRIANGLES, d6t.J6, e.UNSIGNED_SHORT, d6t.W6);
        this.renderSession.drawCount++;
    };
    V5.WebGLFilterManager.prototype.initShaderBuffers = function() {
        var t = this.gl;
        this.vertexBuffer = t.createBuffer();
        this.uvBuffer = t.createBuffer();
        this.colorBuffer = t.createBuffer();
        this.indexBuffer = t.createBuffer();
        this.vertexArray = new Float32Array([d6t.K48, d6t.K48, d6t.N28, d6t.K48, d6t.K48, d6t.N28, d6t.N28, d6t.N28]);
        t.bindBuffer(t.ARRAY_BUFFER, this.vertexBuffer);
        t.bufferData(t.ARRAY_BUFFER, this.vertexArray, t.STATIC_DRAW);
        this.uvArray = new Float32Array([d6t.K48, d6t.K48, d6t.N28, d6t.K48, d6t.K48, d6t.N28, d6t.N28, d6t.N28]);
        t.bindBuffer(t.ARRAY_BUFFER, this.uvBuffer);
        t.bufferData(t.ARRAY_BUFFER, this.uvArray, t.STATIC_DRAW);
        this.colorArray = new Float32Array([d6t.N28, ((78.5E1, 25.) <= 104. ? (0x18B, 0xFFFFFF) : (94., 18)), d6t.N28, 0xFFFFFF, d6t.N28, 0xFFFFFF, d6t.N28, ((56.30E1, 0xB8) <= (4., 1.0230E3) ? (0x147, 0xFFFFFF) : (4.54E2, 67.9E1) > (0x1F9, 7.850E2) ? 9.09E2 : (82., 34))]);
        t.bindBuffer(t.ARRAY_BUFFER, this.colorBuffer);
        t.bufferData(t.ARRAY_BUFFER, this.colorArray, t.STATIC_DRAW);
        t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
        t.bufferData(t.ELEMENT_ARRAY_BUFFER, new Uint16Array([d6t.W6, d6t.A6, d6t.D6, d6t.A6, d6t.B6, d6t.D6]), t.STATIC_DRAW);
    };
    V5.WebGLFilterManager.prototype.destroy = function() {
        var t = this.gl;
        this.filterStack = d6t.B3x;
        this.offsetX = d6t.W6;
        this.offsetY = d6t.W6;
        for (var k = d6t.W6; k < this.texturePool.length; k++) {
            this.texturePool[k].destroy();
        }
        this.texturePool = d6t.B3x;
        t.deleteBuffer(this.vertexBuffer);
        t.deleteBuffer(this.uvBuffer);
        t.deleteBuffer(this.colorBuffer);
        t.deleteBuffer(this.indexBuffer);
    };
    V5.FilterTexture = function(t, k, j, o) {
        this.gl = t;
        this.frameBuffer = t.createFramebuffer();
        this.texture = t.createTexture();
        o = o || V5.scaleModes.DEFAULT;
        t.bindTexture(t.TEXTURE_2D, this.texture);
        t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MAG_FILTER, o === V5.scaleModes.LINEAR ? t.LINEAR : t.NEAREST);
        t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MIN_FILTER, o === V5.scaleModes.LINEAR ? t.LINEAR : t.NEAREST);
        t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.CLAMP_TO_EDGE);
        t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE);
        t.bindFramebuffer(t.FRAMEBUFFER, this.frameBuffer);
        t.bindFramebuffer(t.FRAMEBUFFER, this.frameBuffer);
        t.framebufferTexture2D(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0, t.TEXTURE_2D, this.texture, d6t.W6);
        this.renderBuffer = t.createRenderbuffer();
        t.bindRenderbuffer(t.RENDERBUFFER, this.renderBuffer);
        t.framebufferRenderbuffer(t.FRAMEBUFFER, t.DEPTH_STENCIL_ATTACHMENT, t.RENDERBUFFER, this.renderBuffer);
        this.resize(k, j);
    };
    V5.FilterTexture.prototype.constructor = V5.FilterTexture;
    V5.FilterTexture.prototype.clear = function() {
        var t = this.gl;
        t.clearColor(d6t.W6, d6t.W6, d6t.W6, d6t.W6);
        t.clear(t.COLOR_BUFFER_BIT);
    };
    V5.FilterTexture.prototype.resize = function(t, k) {
        if (this.width === t && this.height === k) return;
        this.width = t;
        this.height = k;
        var j = this.gl;
        j.bindTexture(j.TEXTURE_2D, this.texture);
        j.texImage2D(j.TEXTURE_2D, d6t.W6, j.RGBA, t, k, d6t.W6, j.RGBA, j.UNSIGNED_BYTE, d6t.B3x);
        j.bindRenderbuffer(j.RENDERBUFFER, this.renderBuffer);
        j.renderbufferStorage(j.RENDERBUFFER, j.DEPTH_STENCIL, t, k);
    };
    V5.FilterTexture.prototype.destroy = function() {
        var t = this.gl;
        t.deleteFramebuffer(this.frameBuffer);
        t.deleteTexture(this.texture);
        this.frameBuffer = d6t.B3x;
        this.texture = d6t.B3x;
    };
    V5.CanvasBuffer = function(t, k) {
        this.width = t;
        this.height = k;
        this.canvas = document.createElement(d6t.N2x);
        this.context = this.canvas.getContext(Y6);
        this.canvas.width = t;
        this.canvas.height = k;
    };
    V5.CanvasBuffer.prototype.constructor = V5.CanvasBuffer;
    V5.CanvasBuffer.prototype.clear = function() {
        this.context.clearRect(d6t.W6, d6t.W6, this.width, this.height);
    };
    V5.CanvasBuffer.prototype.resize = function(t, k) {
        this.width = this.canvas.width = t;
        this.height = this.canvas.height = k;
    };
    V5.CanvasMaskManager = function() {};
    V5.CanvasMaskManager.prototype.constructor = V5.CanvasMaskManager;
    V5.CanvasMaskManager.prototype.pushMask = function(t, k) {
        var j = k.context;
        j.save();
        var o = t.alpha,
            e = t.worldTransform,
            q = k.resolution;
        j.setTransform(e.a * q, e.b * q, e.c * q, e.d * q, e.tx * q, e.ty * q);
        V5.CanvasGraphics.renderGraphicsMask(t, j);
        j.clip();
        t.worldAlpha = o;
    };
    V5.CanvasMaskManager.prototype.popMask = function(t) {
        t.context.restore();
    };
    V5.CanvasTinter = function() {};
    V5.CanvasTinter.getTintedTexture = function(t, k) {
        var j = t.texture;
        k = V5.CanvasTinter.roundColor(k);
        var o = c6 + (G5 + (k | d6t.W6).toString(d6t.M7x)).substr(-d6t.J6);
        j.tintCache = j.tintCache || {};
        if (j.tintCache[o]) return j.tintCache[o];
        var e = V5.CanvasTinter.canvas || document.createElement(d6t.N2x);
        V5.CanvasTinter.tintMethod(j, k, e);
        if (V5.CanvasTinter.convertTintToImage) {
            var q = new Image();
            q.src = e.toDataURL();
            j.tintCache[o] = q;
        } else {
            j.tintCache[o] = e;
            V5.CanvasTinter.canvas = d6t.B3x;
        }
        return e;
    };
    V5.CanvasTinter.tintWithMultiply = function(t, k, j) {
        var o = j.getContext(Y6),
            e = t.crop;
        j.width = e.width;
        j.height = e.height;
        o.fillStyle = c6 + (G5 + (k | d6t.W6).toString(d6t.M7x)).substr(-d6t.J6);
        o.fillRect(d6t.W6, d6t.W6, e.width, e.height);
        o.globalCompositeOperation = m6;
        o.drawImage(t.baseTexture.source, e.x, e.y, e.width, e.height, d6t.W6, d6t.W6, e.width, e.height);
        o.globalCompositeOperation = C6;
        o.drawImage(t.baseTexture.source, e.x, e.y, e.width, e.height, d6t.W6, d6t.W6, e.width, e.height);
    };
    V5.CanvasTinter.tintWithOverlay = function(t, k, j) {
        var o = j.getContext(Y6),
            e = t.crop;
        j.width = e.width;
        j.height = e.height;
        o.globalCompositeOperation = h6;
        o.fillStyle = c6 + (G5 + (k | d6t.W6).toString(d6t.M7x)).substr(-d6t.J6);
        o.fillRect(d6t.W6, d6t.W6, e.width, e.height);
        o.globalCompositeOperation = C6;
        o.drawImage(t.baseTexture.source, e.x, e.y, e.width, e.height, d6t.W6, d6t.W6, e.width, e.height);
    };
    V5.CanvasTinter.tintWithPerPixel = function(t, k, j) {
        var o = j.getContext(Y6),
            e = t.crop;
        j.width = e.width;
        j.height = e.height;
        o.globalCompositeOperation = h6;
        o.drawImage(t.baseTexture.source, e.x, e.y, e.width, e.height, d6t.W6, d6t.W6, e.width, e.height);
        var q = V5.hex2rgb(k),
            m = q[d6t.W6],
            k5 = q[d6t.A6],
            C5 = q[d6t.D6],
            H5 = o.getImageData(d6t.W6, d6t.W6, e.width, e.height),
            j5 = H5.data;
        for (var Y5 = d6t.W6; Y5 < j5.length; Y5 += d6t.M6) {
            j5[Y5 + d6t.W6] *= m;
            j5[Y5 + d6t.A6] *= k5;
            j5[Y5 + d6t.D6] *= C5;
        }
        o.putImageData(H5, d6t.W6, d6t.W6);
    };
    V5.CanvasTinter.roundColor = function(t) {
        var k = V5.CanvasTinter.cacheStepsPerColorChannel,
            j = V5.hex2rgb(t);
        j[d6t.W6] = Math.min(d6t.s8, (j[d6t.W6] / k) * k);
        j[d6t.A6] = Math.min(d6t.s8, (j[d6t.A6] / k) * k);
        j[d6t.D6] = Math.min(d6t.s8, (j[d6t.D6] / k) * k);
        return V5.rgb2hex(j);
    };
    V5.CanvasTinter.cacheStepsPerColorChannel = d6t.d6;
    V5.CanvasTinter.convertTintToImage = d6t.F18;
    V5.CanvasTinter.canUseMultiply = V5.canUseNewCanvasBlendModes();
    V5.CanvasTinter.tintMethod = V5.CanvasTinter.canUseMultiply ? V5.CanvasTinter.tintWithMultiply : V5.CanvasTinter.tintWithPerPixel;
    V5.CanvasRenderer = function(t, k, j) {
        var o = "msImageSmoothingEnabled",
            e = "oImageSmoothingEnabled",
            q = "mozImageSmoothingEnabled",
            m = "webkitImageSmoothingEnabled",
            k5 = "imageSmoothingEnabled",
            C5 = "Canvas";
        if (j) {
            for (var H5 in V5.defaultRenderOptions) {
                if (typeof j[H5] === d6t.k6f) j[H5] = V5.defaultRenderOptions[H5];
            }
        } else {
            j = V5.defaultRenderOptions;
        }
        if (!V5.defaultRenderer) {
            V5.sayHello(C5);
            V5.defaultRenderer = this;
        }
        this.type = V5.CANVAS_RENDERER;
        this.resolution = j.resolution;
        this.clearBeforeRender = j.clearBeforeRender;
        this.transparent = j.transparent;
        this.width = t || d6t.i23;
        this.height = k || d6t.h7f;
        this.width *= this.resolution;
        this.height *= this.resolution;
        this.view = j.view || document.createElement(d6t.N2x);
        this.context = this.view.getContext(Y6, {
            alpha: this.transparent
        });
        this.refresh = d6t.s73;
        this.view.width = this.width * this.resolution;
        this.view.height = this.height * this.resolution;
        this.count = d6t.W6;
        this.maskManager = new V5.CanvasMaskManager();
        this.renderSession = {
            context: this.context,
            maskManager: this.maskManager,
            scaleMode: d6t.B3x,
            smoothProperty: d6t.B3x,
            roundPixels: d6t.F18
        };
        this.mapBlendModes();
        this.resize(t, k);
        if (k5 in this.context) this.renderSession.smoothProperty = k5;
        else if (m in this.context) this.renderSession.smoothProperty = m;
        else if (q in this.context) this.renderSession.smoothProperty = q;
        else if (e in this.context) this.renderSession.smoothProperty = e;
        else if (o in this.context) this.renderSession.smoothProperty = o;
    };
    V5.CanvasRenderer.prototype.constructor = V5.CanvasRenderer;
    V5.CanvasRenderer.prototype.render = function(t) {
        var k = "black";
        t.updateTransform();
        this.context.setTransform(d6t.A6, d6t.W6, d6t.W6, d6t.A6, d6t.W6, d6t.W6);
        this.context.globalAlpha = d6t.A6;
        this.renderSession.currentBlendMode = V5.blendModes.NORMAL;
        this.context.globalCompositeOperation = V5.blendModesCanvas[V5.blendModes.NORMAL];
        if (navigator.isCocoonJS && this.view.screencanvas) {
            this.context.fillStyle = k;
            this.context.clear();
        }
        if (this.clearBeforeRender) {
            if (this.transparent) {
                this.context.clearRect(d6t.W6, d6t.W6, this.width, this.height);
            } else {
                this.context.fillStyle = t.backgroundColorString;
                this.context.fillRect(d6t.W6, d6t.W6, this.width, this.height);
            }
        }
        this.renderDisplayObject(t);
        if (t.interactive) {
            if (!t._interactiveEventsAdded) {
                t._interactiveEventsAdded = d6t.s73;
                t.interactionManager.setTarget(this);
            }
        }
    };
    V5.CanvasRenderer.prototype.destroy = function(t) {
        if (typeof t === d6t.k6f) {
            t = d6t.s73;
        }
        if (t && this.view.parent) {
            this.view.parent.removeChild(this.view);
        }
        this.view = d6t.B3x;
        this.context = d6t.B3x;
        this.maskManager = d6t.B3x;
        this.renderSession = d6t.B3x;
    };
    V5.CanvasRenderer.prototype.resize = function(t, k) {
        var j = "px";
        this.width = t * this.resolution;
        this.height = k * this.resolution;
        this.view.width = this.width;
        this.view.height = this.height;
        this.view.style.width = this.width / this.resolution + j;
        this.view.style.height = this.height / this.resolution + j;
    };
    V5.CanvasRenderer.prototype.renderDisplayObject = function(t, k) {
        this.renderSession.context = k || this.context;
        this.renderSession.resolution = this.resolution;
        t._renderCanvas(this.renderSession);
    };
    V5.CanvasRenderer.prototype.mapBlendModes = function() {
        var t = "luminosity",
            k = "saturation",
            j = "hue",
            o = "exclusion",
            e = "difference",
            q = "soft-light",
            m = "hard-light",
            k5 = "color-burn",
            C5 = "color-dodge",
            H5 = "lighten",
            j5 = "darken",
            Y5 = "overlay",
            z5 = "screen",
            P5 = "lighter",
            p5 = "source-over";
        if (!V5.blendModesCanvas) {
            V5.blendModesCanvas = [];
            if (V5.canUseNewCanvasBlendModes()) {
                V5.blendModesCanvas[V5.blendModes.NORMAL] = p5;
                V5.blendModesCanvas[V5.blendModes.ADD] = P5;
                V5.blendModesCanvas[V5.blendModes.MULTIPLY] = m6;
                V5.blendModesCanvas[V5.blendModes.SCREEN] = z5;
                V5.blendModesCanvas[V5.blendModes.OVERLAY] = Y5;
                V5.blendModesCanvas[V5.blendModes.DARKEN] = j5;
                V5.blendModesCanvas[V5.blendModes.LIGHTEN] = H5;
                V5.blendModesCanvas[V5.blendModes.COLOR_DODGE] = C5;
                V5.blendModesCanvas[V5.blendModes.COLOR_BURN] = k5;
                V5.blendModesCanvas[V5.blendModes.HARD_LIGHT] = m;
                V5.blendModesCanvas[V5.blendModes.SOFT_LIGHT] = q;
                V5.blendModesCanvas[V5.blendModes.DIFFERENCE] = e;
                V5.blendModesCanvas[V5.blendModes.EXCLUSION] = o;
                V5.blendModesCanvas[V5.blendModes.HUE] = j;
                V5.blendModesCanvas[V5.blendModes.SATURATION] = k;
                V5.blendModesCanvas[V5.blendModes.COLOR] = d6t.u5f;
                V5.blendModesCanvas[V5.blendModes.LUMINOSITY] = t;
            } else {
                V5.blendModesCanvas[V5.blendModes.NORMAL] = p5;
                V5.blendModesCanvas[V5.blendModes.ADD] = P5;
                V5.blendModesCanvas[V5.blendModes.MULTIPLY] = p5;
                V5.blendModesCanvas[V5.blendModes.SCREEN] = p5;
                V5.blendModesCanvas[V5.blendModes.OVERLAY] = p5;
                V5.blendModesCanvas[V5.blendModes.DARKEN] = p5;
                V5.blendModesCanvas[V5.blendModes.LIGHTEN] = p5;
                V5.blendModesCanvas[V5.blendModes.COLOR_DODGE] = p5;
                V5.blendModesCanvas[V5.blendModes.COLOR_BURN] = p5;
                V5.blendModesCanvas[V5.blendModes.HARD_LIGHT] = p5;
                V5.blendModesCanvas[V5.blendModes.SOFT_LIGHT] = p5;
                V5.blendModesCanvas[V5.blendModes.DIFFERENCE] = p5;
                V5.blendModesCanvas[V5.blendModes.EXCLUSION] = p5;
                V5.blendModesCanvas[V5.blendModes.HUE] = p5;
                V5.blendModesCanvas[V5.blendModes.SATURATION] = p5;
                V5.blendModesCanvas[V5.blendModes.COLOR] = p5;
                V5.blendModesCanvas[V5.blendModes.LUMINOSITY] = p5;
            }
        }
    };
    V5.CanvasGraphics = function() {};
    V5.CanvasGraphics.renderGraphics = function(t, k) {
        var j = '00000',
            o = t.worldAlpha,
            e = d6t.I6x;
        for (var q = d6t.W6; q < t.graphicsData.length; q++) {
            var m = t.graphicsData[q],
                k5 = m.shape;
            k.strokeStyle = e = d6t.L83 + (j + (m.lineColor | d6t.W6).toString(d6t.M7x)).substr(-d6t.J6);
            k.lineWidth = m.lineWidth;
            if (m.type === V5.Graphics.POLY) {
                k.beginPath();
                var C5 = k5.points;
                k.moveTo(C5[d6t.W6], C5[d6t.A6]);
                for (var H5 = d6t.A6; H5 < C5.length / d6t.D6; H5++) {
                    k.lineTo(C5[H5 * d6t.D6], C5[H5 * d6t.D6 + d6t.A6]);
                }
                if (k5.closed) {
                    k.lineTo(C5[d6t.W6], C5[d6t.A6]);
                }
                if (C5[d6t.W6] === C5[C5.length - d6t.D6] && C5[d6t.A6] === C5[C5.length - d6t.A6]) {
                    k.closePath();
                }
                if (m.fill) {
                    k.globalAlpha = m.fillAlpha * o;
                    k.fillStyle = e = d6t.L83 + (j + (m.fillColor | d6t.W6).toString(d6t.M7x)).substr(-d6t.J6);
                    k.fill();
                }
                if (m.lineWidth) {
                    k.globalAlpha = m.lineAlpha * o;
                    k.stroke();
                }
            } else if (m.type === V5.Graphics.RECT) {
                if (m.fillColor || m.fillColor === d6t.W6) {
                    k.globalAlpha = m.fillAlpha * o;
                    k.fillStyle = e = d6t.L83 + (j + (m.fillColor | d6t.W6).toString(d6t.M7x)).substr(-d6t.J6);
                    k.fillRect(k5.x, k5.y, k5.width, k5.height);
                }
                if (m.lineWidth) {
                    k.globalAlpha = m.lineAlpha * o;
                    k.strokeRect(k5.x, k5.y, k5.width, k5.height);
                }
            } else if (m.type === V5.Graphics.CIRC) {
                k.beginPath();
                k.arc(k5.x, k5.y, k5.radius, d6t.W6, d6t.D6 * Math.PI);
                k.closePath();
                if (m.fill) {
                    k.globalAlpha = m.fillAlpha * o;
                    k.fillStyle = e = d6t.L83 + (j + (m.fillColor | d6t.W6).toString(d6t.M7x)).substr(-d6t.J6);
                    k.fill();
                }
                if (m.lineWidth) {
                    k.globalAlpha = m.lineAlpha * o;
                    k.stroke();
                }
            } else if (m.type === V5.Graphics.ELIP) {
                var j5 = k5.width * d6t.D6,
                    Y5 = k5.height * d6t.D6,
                    z5 = k5.x - j5 / d6t.D6,
                    P5 = k5.y - Y5 / d6t.D6;
                k.beginPath();
                var p5 = q6,
                    w5 = (j5 / d6t.D6) * p5,
                    R5 = (Y5 / d6t.D6) * p5,
                    r5 = z5 + j5,
                    T5 = P5 + Y5,
                    a5 = z5 + j5 / d6t.D6,
                    x5 = P5 + Y5 / d6t.D6;
                k.moveTo(z5, x5);
                k.bezierCurveTo(z5, x5 - R5, a5 - w5, P5, a5, P5);
                k.bezierCurveTo(a5 + w5, P5, r5, x5 - R5, r5, x5);
                k.bezierCurveTo(r5, x5 + R5, a5 + w5, T5, a5, T5);
                k.bezierCurveTo(a5 - w5, T5, z5, x5 + R5, z5, x5);
                k.closePath();
                if (m.fill) {
                    k.globalAlpha = m.fillAlpha * o;
                    k.fillStyle = e = d6t.L83 + (j + (m.fillColor | d6t.W6).toString(d6t.M7x)).substr(-d6t.J6);
                    k.fill();
                }
                if (m.lineWidth) {
                    k.globalAlpha = m.lineAlpha * o;
                    k.stroke();
                }
            } else if (m.type === V5.Graphics.RREC) {
                var f5 = k5.points,
                    A5 = f5[d6t.W6],
                    u5 = f5[d6t.A6],
                    B5 = f5[d6t.D6],
                    D5 = f5[d6t.B6],
                    o5 = f5[d6t.M6],
                    N5 = Math.min(B5, D5) / d6t.D6 | d6t.W6;
                o5 = o5 > N5 ? N5 : o5;
                k.beginPath();
                k.moveTo(A5, u5 + o5);
                k.lineTo(A5, u5 + D5 - o5);
                k.quadraticCurveTo(A5, u5 + D5, A5 + o5, u5 + D5);
                k.lineTo(A5 + B5 - o5, u5 + D5);
                k.quadraticCurveTo(A5 + B5, u5 + D5, A5 + B5, u5 + D5 - o5);
                k.lineTo(A5 + B5, u5 + o5);
                k.quadraticCurveTo(A5 + B5, u5, A5 + B5 - o5, u5);
                k.lineTo(A5 + o5, u5);
                k.quadraticCurveTo(A5, u5, A5, u5 + o5);
                k.closePath();
                if (m.fillColor || m.fillColor === d6t.W6) {
                    k.globalAlpha = m.fillAlpha * o;
                    k.fillStyle = e = d6t.L83 + (j + (m.fillColor | d6t.W6).toString(d6t.M7x)).substr(-d6t.J6);
                    k.fill();
                }
                if (m.lineWidth) {
                    k.globalAlpha = m.lineAlpha * o;
                    k.stroke();
                }
            }
        }
    };
    V5.CanvasGraphics.renderGraphicsMask = function(t, k) {
        var j = 'Pixi.js warning: masks in canvas can only mask using the first path in the graphics object',
            o = t.graphicsData.length;
        if (o === d6t.W6) return;
        if (o > d6t.A6) {
            o = d6t.A6;
            window.console.log(j);
        }
        for (var e = d6t.W6; e < d6t.A6; e++) {
            var q = t.graphicsData[e],
                m = q.shape;
            if (q.type === V5.Graphics.POLY) {
                k.beginPath();
                var k5 = m.points;
                k.moveTo(k5[d6t.W6], k5[d6t.A6]);
                for (var C5 = d6t.A6; C5 < k5.length / d6t.D6; C5++) {
                    k.lineTo(k5[C5 * d6t.D6], k5[C5 * d6t.D6 + d6t.A6]);
                }
                if (k5[d6t.W6] === k5[k5.length - d6t.D6] && k5[d6t.A6] === k5[k5.length - d6t.A6]) {
                    k.closePath();
                }
            } else if (q.type === V5.Graphics.RECT) {
                k.beginPath();
                k.rect(m.x, m.y, m.width, m.height);
                k.closePath();
            } else if (q.type === V5.Graphics.CIRC) {
                k.beginPath();
                k.arc(m.x, m.y, m.radius, d6t.W6, d6t.D6 * Math.PI);
                k.closePath();
            } else if (q.type === V5.Graphics.ELIP) {
                var H5 = m.width * d6t.D6,
                    j5 = m.height * d6t.D6,
                    Y5 = m.x - H5 / d6t.D6,
                    z5 = m.y - j5 / d6t.D6;
                k.beginPath();
                var P5 = q6,
                    p5 = (H5 / d6t.D6) * P5,
                    w5 = (j5 / d6t.D6) * P5,
                    R5 = Y5 + H5,
                    r5 = z5 + j5,
                    T5 = Y5 + H5 / d6t.D6,
                    a5 = z5 + j5 / d6t.D6;
                k.moveTo(Y5, a5);
                k.bezierCurveTo(Y5, a5 - w5, T5 - p5, z5, T5, z5);
                k.bezierCurveTo(T5 + p5, z5, R5, a5 - w5, R5, a5);
                k.bezierCurveTo(R5, a5 + w5, T5 + p5, r5, T5, r5);
                k.bezierCurveTo(T5 - p5, r5, Y5, a5 + w5, Y5, a5);
                k.closePath();
            } else if (q.type === V5.Graphics.RREC) {
                var x5 = m.points,
                    f5 = x5[d6t.W6],
                    A5 = x5[d6t.A6],
                    u5 = x5[d6t.D6],
                    B5 = x5[d6t.B6],
                    D5 = x5[d6t.M6],
                    o5 = Math.min(u5, B5) / d6t.D6 | d6t.W6;
                D5 = D5 > o5 ? o5 : D5;
                k.beginPath();
                k.moveTo(f5, A5 + D5);
                k.lineTo(f5, A5 + B5 - D5);
                k.quadraticCurveTo(f5, A5 + B5, f5 + D5, A5 + B5);
                k.lineTo(f5 + u5 - D5, A5 + B5);
                k.quadraticCurveTo(f5 + u5, A5 + B5, f5 + u5, A5 + B5 - D5);
                k.lineTo(f5 + u5, A5 + D5);
                k.quadraticCurveTo(f5 + u5, A5, f5 + u5 - D5, A5);
                k.lineTo(f5 + D5, A5);
                k.quadraticCurveTo(f5, A5, f5, A5 + D5);
                k.closePath();
            }
        }
    };
    V5.Strip = function(t) {
        V5.DisplayObjectContainer.call(this);
        this.texture = t;
        this.uvs = new V5.Float32Array([d6t.W6, d6t.A6, d6t.A6, d6t.A6, d6t.A6, d6t.W6, d6t.W6, d6t.A6]);
        this.verticies = new V5.Float32Array([d6t.W6, d6t.W6, d6t.a08, d6t.W6, d6t.a08, d6t.a08, d6t.W6, d6t.a08]);
        this.colors = new V5.Float32Array([d6t.A6, d6t.A6, d6t.A6, d6t.A6]);
        this.indices = new V5.Uint16Array([d6t.W6, d6t.A6, d6t.D6, d6t.B6]);
        this.dirty = d6t.s73;
        this.padding = d6t.W6;
    };
    V5.Strip.prototype = Object.create(V5.DisplayObjectContainer.prototype);
    V5.Strip.prototype.constructor = V5.Strip;
    V5.Strip.prototype._renderWebGL = function(t) {
        if (!this.visible || this.alpha <= d6t.W6) return;
        t.spriteBatch.stop();
        if (!this._vertexBuffer) this._initWebGL(t);
        t.shaderManager.setShader(t.shaderManager.stripShader);
        this._renderStrip(t);
        t.spriteBatch.start();
    };
    V5.Strip.prototype._initWebGL = function(t) {
        var k = t.gl;
        this._vertexBuffer = k.createBuffer();
        this._indexBuffer = k.createBuffer();
        this._uvBuffer = k.createBuffer();
        this._colorBuffer = k.createBuffer();
        k.bindBuffer(k.ARRAY_BUFFER, this._vertexBuffer);
        k.bufferData(k.ARRAY_BUFFER, this.verticies, k.DYNAMIC_DRAW);
        k.bindBuffer(k.ARRAY_BUFFER, this._uvBuffer);
        k.bufferData(k.ARRAY_BUFFER, this.uvs, k.STATIC_DRAW);
        k.bindBuffer(k.ARRAY_BUFFER, this._colorBuffer);
        k.bufferData(k.ARRAY_BUFFER, this.colors, k.STATIC_DRAW);
        k.bindBuffer(k.ELEMENT_ARRAY_BUFFER, this._indexBuffer);
        k.bufferData(k.ELEMENT_ARRAY_BUFFER, this.indices, k.STATIC_DRAW);
    };
    V5.Strip.prototype._renderStrip = function(t) {
        var k = t.gl,
            j = t.projection,
            o = t.offset,
            e = t.shaderManager.stripShader;
        k.blendFunc(k.ONE, k.ONE_MINUS_SRC_ALPHA);
        k.uniformMatrix3fv(e.translationMatrix, d6t.F18, this.worldTransform.toArray(d6t.s73));
        k.uniform2f(e.projectionVector, j.x, -j.y);
        k.uniform2f(e.offsetVector, -o.x, -o.y);
        k.uniform1f(e.alpha, this.worldAlpha);
        if (!this.dirty) {
            k.bindBuffer(k.ARRAY_BUFFER, this._vertexBuffer);
            k.bufferSubData(k.ARRAY_BUFFER, d6t.W6, this.verticies);
            k.vertexAttribPointer(e.aVertexPosition, d6t.D6, k.FLOAT, d6t.F18, d6t.W6, d6t.W6);
            k.bindBuffer(k.ARRAY_BUFFER, this._uvBuffer);
            k.vertexAttribPointer(e.aTextureCoord, d6t.D6, k.FLOAT, d6t.F18, d6t.W6, d6t.W6);
            k.activeTexture(k.TEXTURE0);
            if (this.texture.baseTexture._dirty[k.id]) {
                t.renderer.updateTexture(this.texture.baseTexture);
            } else {
                k.bindTexture(k.TEXTURE_2D, this.texture.baseTexture._glTextures[k.id]);
            }
            k.bindBuffer(k.ELEMENT_ARRAY_BUFFER, this._indexBuffer);
        } else {
            this.dirty = d6t.F18;
            k.bindBuffer(k.ARRAY_BUFFER, this._vertexBuffer);
            k.bufferData(k.ARRAY_BUFFER, this.verticies, k.STATIC_DRAW);
            k.vertexAttribPointer(e.aVertexPosition, d6t.D6, k.FLOAT, d6t.F18, d6t.W6, d6t.W6);
            k.bindBuffer(k.ARRAY_BUFFER, this._uvBuffer);
            k.bufferData(k.ARRAY_BUFFER, this.uvs, k.STATIC_DRAW);
            k.vertexAttribPointer(e.aTextureCoord, d6t.D6, k.FLOAT, d6t.F18, d6t.W6, d6t.W6);
            k.activeTexture(k.TEXTURE0);
            if (this.texture.baseTexture._dirty[k.id]) {
                t.renderer.updateTexture(this.texture.baseTexture);
            } else {
                k.bindTexture(k.TEXTURE_2D, this.texture.baseTexture._glTextures[k.id]);
            }
            k.bindBuffer(k.ELEMENT_ARRAY_BUFFER, this._indexBuffer);
            k.bufferData(k.ELEMENT_ARRAY_BUFFER, this.indices, k.STATIC_DRAW);
        }
        k.drawElements(k.TRIANGLE_STRIP, this.indices.length, k.UNSIGNED_SHORT, d6t.W6);
    };
    V5.Strip.prototype._renderCanvas = function(t) {
        var k = t.context,
            j = this.worldTransform;
        if (t.roundPixels) {
            k.setTransform(j.a, j.b, j.c, j.d, j.tx | d6t.W6, j.ty | d6t.W6);
        } else {
            k.setTransform(j.a, j.b, j.c, j.d, j.tx, j.ty);
        }
        var o = this,
            e = o.verticies,
            q = o.uvs,
            m = e.length / d6t.D6;
        this.count++;
        for (var k5 = d6t.W6; k5 < m - d6t.D6; k5++) {
            var C5 = k5 * d6t.D6,
                H5 = e[C5],
                j5 = e[C5 + d6t.D6],
                Y5 = e[C5 + d6t.M6],
                z5 = e[C5 + d6t.A6],
                P5 = e[C5 + d6t.B6],
                p5 = e[C5 + d6t.U6];
            if (this.padding > d6t.W6) {
                var w5 = (H5 + j5 + Y5) / d6t.B6,
                    R5 = (z5 + P5 + p5) / d6t.B6,
                    r5 = H5 - w5,
                    T5 = z5 - R5,
                    a5 = Math.sqrt(r5 * r5 + T5 * T5);
                H5 = w5 + (r5 / a5) * (a5 + d6t.B6);
                z5 = R5 + (T5 / a5) * (a5 + d6t.B6);
                r5 = j5 - w5;
                T5 = P5 - R5;
                a5 = Math.sqrt(r5 * r5 + T5 * T5);
                j5 = w5 + (r5 / a5) * (a5 + d6t.B6);
                P5 = R5 + (T5 / a5) * (a5 + d6t.B6);
                r5 = Y5 - w5;
                T5 = p5 - R5;
                a5 = Math.sqrt(r5 * r5 + T5 * T5);
                Y5 = w5 + (r5 / a5) * (a5 + d6t.B6);
                p5 = R5 + (T5 / a5) * (a5 + d6t.B6);
            }
            var x5 = q[C5] * o.texture.width,
                f5 = q[C5 + d6t.D6] * o.texture.width,
                A5 = q[C5 + d6t.M6] * o.texture.width,
                u5 = q[C5 + d6t.A6] * o.texture.height,
                B5 = q[C5 + d6t.B6] * o.texture.height,
                D5 = q[C5 + d6t.U6] * o.texture.height;
            k.save();
            k.beginPath();
            k.moveTo(H5, z5);
            k.lineTo(j5, P5);
            k.lineTo(Y5, p5);
            k.closePath();
            k.clip();
            var o5 = x5 * B5 + u5 * A5 + f5 * D5 - B5 * A5 - u5 * f5 - x5 * D5,
                N5 = H5 * B5 + u5 * Y5 + j5 * D5 - B5 * Y5 - u5 * j5 - H5 * D5,
                y5 = x5 * j5 + H5 * A5 + f5 * Y5 - j5 * A5 - H5 * f5 - x5 * Y5,
                U5 = x5 * B5 * Y5 + u5 * j5 * A5 + H5 * f5 * D5 - H5 * B5 * A5 - u5 * f5 * Y5 - x5 * j5 * D5,
                W5 = z5 * B5 + u5 * p5 + P5 * D5 - B5 * p5 - u5 * P5 - z5 * D5,
                J5 = x5 * P5 + z5 * A5 + f5 * p5 - P5 * A5 - z5 * f5 - x5 * p5,
                g5 = x5 * B5 * p5 + u5 * P5 * A5 + z5 * f5 * D5 - z5 * B5 * A5 - u5 * f5 * p5 - x5 * P5 * D5;
            k.transform(N5 / o5, W5 / o5, y5 / o5, J5 / o5, U5 / o5, g5 / o5);
            k.drawImage(o.texture.baseTexture.source, d6t.W6, d6t.W6);
            k.restore();
        }
    };
    V5.Strip.prototype.renderStripFlat = function(t) {
        var k = "#FF0000",
            j = this.context,
            o = t.verticies,
            e = o.length / d6t.D6;
        this.count++;
        j.beginPath();
        for (var q = d6t.A6; q < e - d6t.D6; q++) {
            var m = q * d6t.D6,
                k5 = o[m],
                C5 = o[m + d6t.D6],
                H5 = o[m + d6t.M6],
                j5 = o[m + d6t.A6],
                Y5 = o[m + d6t.B6],
                z5 = o[m + d6t.U6];
            j.moveTo(k5, j5);
            j.lineTo(C5, Y5);
            j.lineTo(H5, z5);
        }
        j.fillStyle = k;
        j.fill();
        j.closePath();
    };
    V5.Strip.prototype.onTextureUpdate = function() {
        this.updateFrame = d6t.s73;
    };
    V5.Rope = function(t, k) {
        V5.Strip.call(this, t);
        this.points = k;
        this.verticies = new V5.Float32Array(k.length * d6t.M6);
        this.uvs = new V5.Float32Array(k.length * d6t.M6);
        this.colors = new V5.Float32Array(k.length * d6t.D6);
        this.indices = new V5.Uint16Array(k.length * d6t.D6);
        this.refresh();
    };
    V5.Rope.prototype = Object.create(V5.Strip.prototype);
    V5.Rope.prototype.constructor = V5.Rope;
    V5.Rope.prototype.refresh = function() {
        var t = this.points;
        if (t.length < d6t.A6) return;
        var k = this.uvs,
            j = t[d6t.W6],
            o = this.indices,
            e = this.colors;
        this.count -= d6t.j48;
        k[d6t.W6] = d6t.W6;
        k[d6t.A6] = d6t.W6;
        k[d6t.D6] = d6t.W6;
        k[d6t.B6] = d6t.A6;
        e[d6t.W6] = d6t.A6;
        e[d6t.A6] = d6t.A6;
        o[d6t.W6] = d6t.W6;
        o[d6t.A6] = d6t.A6;
        var q = t.length,
            m, k5, C5;
        for (var H5 = d6t.A6; H5 < q; H5++) {
            m = t[H5];
            k5 = H5 * d6t.M6;
            C5 = H5 / (q - d6t.A6);
            if (H5 % d6t.D6) {
                k[k5] = C5;
                k[k5 + d6t.A6] = d6t.W6;
                k[k5 + d6t.D6] = C5;
                k[k5 + d6t.B6] = d6t.A6;
            } else {
                k[k5] = C5;
                k[k5 + d6t.A6] = d6t.W6;
                k[k5 + d6t.D6] = C5;
                k[k5 + d6t.B6] = d6t.A6;
            }
            k5 = H5 * d6t.D6;
            e[k5] = d6t.A6;
            e[k5 + d6t.A6] = d6t.A6;
            k5 = H5 * d6t.D6;
            o[k5] = k5;
            o[k5 + d6t.A6] = k5 + d6t.A6;
            j = m;
        }
    };
    V5.Rope.prototype.updateTransform = function() {
        var t = this.points;
        if (t.length < d6t.A6) return;
        var k = t[d6t.W6],
            j, o = {
                x: d6t.W6,
                y: d6t.W6
            };
        this.count -= d6t.j48;
        var e = this.verticies,
            q = t.length,
            m, k5, C5, H5, j5;
        for (var Y5 = d6t.W6; Y5 < q; Y5++) {
            m = t[Y5];
            k5 = Y5 * d6t.M6;
            if (Y5 < t.length - d6t.A6) {
                j = t[Y5 + d6t.A6];
            } else {
                j = m;
            }
            o.y = -(j.x - k.x);
            o.x = j.y - k.y;
            C5 = (d6t.A6 - (Y5 / (q - d6t.A6))) * d6t.x7x;
            if (C5 > d6t.A6) C5 = d6t.A6;
            H5 = Math.sqrt(o.x * o.x + o.y * o.y);
            j5 = this.texture.height / d6t.D6;
            o.x /= H5;
            o.y /= H5;
            o.x *= j5;
            o.y *= j5;
            e[k5] = m.x + o.x;
            e[k5 + d6t.A6] = m.y + o.y;
            e[k5 + d6t.D6] = m.x - o.x;
            e[k5 + d6t.B6] = m.y - o.y;
            k = m;
        }
        V5.DisplayObjectContainer.prototype.updateTransform.call(this);
    };
    V5.Rope.prototype.setTexture = function(t) {
        this.texture = t;
    };
    V5.TilingSprite = function(t, k, j) {
        V5.Sprite.call(this, t);
        this._width = k || d6t.a08;
        this._height = j || d6t.a08;
        this.tileScale = new V5.Point(d6t.A6, d6t.A6);
        this.tileScaleOffset = new V5.Point(d6t.A6, d6t.A6);
        this.tilePosition = new V5.Point(d6t.W6, d6t.W6);
        this.renderable = d6t.s73;
        this.tint = (0x22E <= (141., 94.9E1) ? (0x21F, 0xFFFFFF) : (129.0E1, 1.8E1));
        this.blendMode = V5.blendModes.NORMAL;
    };
    V5.TilingSprite.prototype = Object.create(V5.Sprite.prototype);
    V5.TilingSprite.prototype.constructor = V5.TilingSprite;
    Object.defineProperty(V5.TilingSprite.prototype, d6t.y1f, {
        get: function() {
            return this._width;
        },
        set: function(t) {
            this._width = t;
        }
    });
    Object.defineProperty(V5.TilingSprite.prototype, d6t.I7H, {
        get: function() {
            return this._height;
        },
        set: function(t) {
            this._height = t;
        }
    });
    V5.TilingSprite.prototype.setTexture = function(t) {
        if (this.texture === t) return;
        this.texture = t;
        this.refreshTexture = d6t.s73;
        this.cachedTint = ((0x1A, 64.3E1) < (0x62, 124) ? 38 : (9.47E2, 0x193) >= 0x16F ? (123, 0xFFFFFF) : (4.09E2, 70.));
    };
    V5.TilingSprite.prototype._renderWebGL = function(t) {
        if (this.visible === d6t.F18 || this.alpha === d6t.W6) return;
        var k, j;
        if (this._mask) {
            t.spriteBatch.stop();
            t.maskManager.pushMask(this.mask, t);
            t.spriteBatch.start();
        }
        if (this._filters) {
            t.spriteBatch.flush();
            t.filterManager.pushFilter(this._filterBlock);
        }
        if (!this.tilingTexture || this.refreshTexture) {
            this.generateTilingTexture(d6t.s73);
            if (this.tilingTexture && this.tilingTexture.needsUpdate) {
                V5.updateWebGLTexture(this.tilingTexture.baseTexture, t.gl);
                this.tilingTexture.needsUpdate = d6t.F18;
            }
        } else {
            t.spriteBatch.renderTilingSprite(this);
        }
        for (k = d6t.W6, j = this.children.length; k < j; k++) {
            this.children[k]._renderWebGL(t);
        }
        t.spriteBatch.stop();
        if (this._filters) t.filterManager.popFilter();
        if (this._mask) t.maskManager.popMask(this._mask, t);
        t.spriteBatch.start();
    };
    V5.TilingSprite.prototype._renderCanvas = function(t) {
        var k = 'repeat';
        if (this.visible === d6t.F18 || this.alpha === d6t.W6) return;
        var j = t.context;
        if (this._mask) {
            t.maskManager.pushMask(this._mask, j);
        }
        j.globalAlpha = this.worldAlpha;
        var o = this.worldTransform,
            e, q, m = t.resolution;
        j.setTransform(o.a * m, o.c * m, o.b * m, o.d * m, o.tx * m, o.ty * m);
        if (!this.__tilePattern || this.refreshTexture) {
            this.generateTilingTexture(d6t.F18);
            if (this.tilingTexture) {
                this.__tilePattern = j.createPattern(this.tilingTexture.baseTexture.source, k);
            } else {
                return;
            }
        }
        if (this.blendMode !== t.currentBlendMode) {
            t.currentBlendMode = this.blendMode;
            j.globalCompositeOperation = V5.blendModesCanvas[t.currentBlendMode];
        }
        var k5 = this.tilePosition,
            C5 = this.tileScale;
        k5.x %= this.tilingTexture.baseTexture.width;
        k5.y %= this.tilingTexture.baseTexture.height;
        j.scale(C5.x, C5.y);
        j.translate(k5.x + (this.anchor.x * -this._width), k5.y + (this.anchor.y * -this._height));
        j.fillStyle = this.__tilePattern;
        j.fillRect(-k5.x, -k5.y, this._width / C5.x, this._height / C5.y);
        j.scale(d6t.A6 / C5.x, d6t.A6 / C5.y);
        j.translate(-k5.x + (this.anchor.x * this._width), -k5.y + (this.anchor.y * this._height));
        if (this._mask) {
            t.maskManager.popMask(t.context);
        }
        for (e = d6t.W6, q = this.children.length; e < q; e++) {
            this.children[e]._renderCanvas(t);
        }
    };
    V5.TilingSprite.prototype.getBounds = function() {
        var t = this._width,
            k = this._height,
            j = t * (d6t.A6 - this.anchor.x),
            o = t * -this.anchor.x,
            e = k * (d6t.A6 - this.anchor.y),
            q = k * -this.anchor.y,
            m = this.worldTransform,
            k5 = m.a,
            C5 = m.c,
            H5 = m.b,
            j5 = m.d,
            Y5 = m.tx,
            z5 = m.ty,
            P5 = k5 * o + H5 * q + Y5,
            p5 = j5 * q + C5 * o + z5,
            w5 = k5 * j + H5 * q + Y5,
            R5 = j5 * q + C5 * j + z5,
            r5 = k5 * j + H5 * e + Y5,
            T5 = j5 * e + C5 * j + z5,
            a5 = k5 * o + H5 * e + Y5,
            x5 = j5 * e + C5 * o + z5,
            f5 = -Infinity,
            A5 = -Infinity,
            u5 = Infinity,
            B5 = Infinity;
        u5 = P5 < u5 ? P5 : u5;
        u5 = w5 < u5 ? w5 : u5;
        u5 = r5 < u5 ? r5 : u5;
        u5 = a5 < u5 ? a5 : u5;
        B5 = p5 < B5 ? p5 : B5;
        B5 = R5 < B5 ? R5 : B5;
        B5 = T5 < B5 ? T5 : B5;
        B5 = x5 < B5 ? x5 : B5;
        f5 = P5 > f5 ? P5 : f5;
        f5 = w5 > f5 ? w5 : f5;
        f5 = r5 > f5 ? r5 : f5;
        f5 = a5 > f5 ? a5 : f5;
        A5 = p5 > A5 ? p5 : A5;
        A5 = R5 > A5 ? R5 : A5;
        A5 = T5 > A5 ? T5 : A5;
        A5 = x5 > A5 ? x5 : A5;
        var D5 = this._bounds;
        D5.x = u5;
        D5.width = f5 - u5;
        D5.y = B5;
        D5.height = A5 - B5;
        this._currentBounds = D5;
        return D5;
    };
    V5.TilingSprite.prototype.onTextureUpdate = function() {};
    V5.TilingSprite.prototype.generateTilingTexture = function(t) {
        if (!this.texture.baseTexture.hasLoaded) return;
        var k = this.originalTexture || this.texture,
            j = k.frame,
            o, e, q = j.width !== k.baseTexture.width || j.height !== k.baseTexture.height,
            m = d6t.F18;
        if (!t) {
            if (q) {
                o = j.width;
                e = j.height;
                m = d6t.s73;
            }
        } else {
            o = V5.getNextPowerOfTwo(j.width);
            e = V5.getNextPowerOfTwo(j.height);
            if (j.width !== o || j.height !== e) m = d6t.s73;
        }
        if (m) {
            var k5;
            if (this.tilingTexture && this.tilingTexture.isTiling) {
                k5 = this.tilingTexture.canvasBuffer;
                k5.resize(o, e);
                this.tilingTexture.baseTexture.width = o;
                this.tilingTexture.baseTexture.height = e;
                this.tilingTexture.needsUpdate = d6t.s73;
            } else {
                k5 = new V5.CanvasBuffer(o, e);
                this.tilingTexture = V5.Texture.fromCanvas(k5.canvas);
                this.tilingTexture.canvasBuffer = k5;
                this.tilingTexture.isTiling = d6t.s73;
            }
            k5.context.drawImage(k.baseTexture.source, k.crop.x, k.crop.y, k.crop.width, k.crop.height, d6t.W6, d6t.W6, o, e);
            this.tileScaleOffset.x = j.width / o;
            this.tileScaleOffset.y = j.height / e;
        } else {
            if (this.tilingTexture && this.tilingTexture.isTiling) {
                this.tilingTexture.destroy(d6t.s73);
            }
            this.tileScaleOffset.x = d6t.A6;
            this.tileScaleOffset.y = d6t.A6;
            this.tilingTexture = k;
        }
        this.refreshTexture = d6t.F18;
        this.originalTexture = this.texture;
        this.texture = this.tilingTexture;
        this.tilingTexture.baseTexture._powerOf2 = d6t.s73;
    };
    V5.BaseTextureCache = {};
    V5.BaseTextureCacheIdGenerator = d6t.W6;
    V5.BaseTexture = function(k, j) {
        this.resolution = d6t.A6;
        this.width = d6t.a08;
        this.height = d6t.a08;
        this.scaleMode = j || V5.scaleModes.DEFAULT;
        this.hasLoaded = d6t.F18;
        this.source = k;
        this._UID = V5._UID++;
        this.premultipliedAlpha = d6t.s73;
        this._glTextures = [];
        this._dirty = [d6t.s73, d6t.s73, d6t.s73, d6t.s73];
        if (!k) return;
        if ((this.source.complete || this.source.getContext) && this.source.width && this.source.height) {
            this.hasLoaded = d6t.s73;
            this.width = this.source.naturalWidth || this.source.width;
            this.height = this.source.naturalHeight || this.source.height;
            this.dirty();
        } else {
            var o = this;
            this.source.onload = function() {
                o.hasLoaded = d6t.s73;
                o.width = o.source.naturalWidth || o.source.width;
                o.height = o.source.naturalHeight || o.source.height;
                o.dirty();
                o.dispatchEvent({
                    type: S5,
                    content: o
                });
            };
            this.source.onerror = function() {
                var t = 'error';
                o.dispatchEvent({
                    type: t,
                    content: o
                });
            };
        }
        this.imageUrl = d6t.B3x;
        this._powerOf2 = d6t.F18;
    };
    V5.BaseTexture.prototype.constructor = V5.BaseTexture;
    V5.EventTarget.mixin(V5.BaseTexture.prototype);
    V5.BaseTexture.prototype.destroy = function() {
        if (this.imageUrl) {
            delete V5.BaseTextureCache[this.imageUrl];
            delete V5.TextureCache[this.imageUrl];
            this.imageUrl = d6t.B3x;
            this.source.src = d6t.I6x;
        } else if (this.source && this.source._pixiId) {
            delete V5.BaseTextureCache[this.source._pixiId];
        }
        this.source = d6t.B3x;
        for (var t = this._glTextures.length - d6t.A6; t >= d6t.W6; t--) {
            var k = this._glTextures[t],
                j = V5.glContexts[t];
            if (j && k) {
                j.deleteTexture(k);
            }
        }
        this._glTextures.length = d6t.W6;
    };
    V5.BaseTexture.prototype.updateSourceImage = function(t) {
        this.hasLoaded = d6t.F18;
        this.source.src = d6t.B3x;
        this.source.src = t;
    };
    V5.BaseTexture.prototype.dirty = function() {
        for (var t = d6t.W6; t < this._glTextures.length; t++) {
            this._dirty[t] = d6t.s73;
        }
    };
    V5.BaseTexture.fromImage = function(t, k, j) {
        var o = 'data:',
            e = V5.BaseTextureCache[t];
        if (k === undefined && t.indexOf(o) === -d6t.A6) k = d6t.s73;
        if (!e) {
            var q = new Image();
            if (k) {
                q.crossOrigin = d6t.I6x;
            }
            q.src = t;
            e = new V5.BaseTexture(q, j);
            e.imageUrl = t;
            V5.BaseTextureCache[t] = e;
            if (t.indexOf(V5.RETINA_PREFIX + d6t.N23) !== -d6t.A6) {
                e.resolution = d6t.D6;
            }
        }
        return e;
    };
    V5.BaseTexture.fromCanvas = function(t, k) {
        var j = 'canvas_';
        if (!t._pixiId) {
            t._pixiId = j + V5.TextureCacheIdGenerator++;
        }
        var o = V5.BaseTextureCache[t._pixiId];
        if (!o) {
            o = new V5.BaseTexture(t, k);
            V5.BaseTextureCache[t._pixiId] = o;
        }
        return o;
    };
    V5.TextureCache = {};
    V5.FrameCache = {};
    V5.TextureCacheIdGenerator = d6t.W6;
    V5.Texture = function(t, k, j, o) {
        this.noFrame = d6t.F18;
        if (!k) {
            this.noFrame = d6t.s73;
            k = new V5.Rectangle(d6t.W6, d6t.W6, d6t.A6, d6t.A6);
        }
        if (t instanceof V5.Texture) {
            t = t.baseTexture;
        }
        this.baseTexture = t;
        this.frame = k;
        this.trim = o;
        this.valid = d6t.F18;
        this.requiresUpdate = d6t.F18;
        this._uvs = d6t.B3x;
        this.width = d6t.W6;
        this.height = d6t.W6;
        this.crop = j || new V5.Rectangle(d6t.W6, d6t.W6, d6t.A6, d6t.A6);
        if (t.hasLoaded) {
            if (this.noFrame) k = new V5.Rectangle(d6t.W6, d6t.W6, t.width, t.height);
            this.setFrame(k);
        } else {
            t.addEventListener(S5, this.onBaseTextureLoaded.bind(this));
        }
    };
    V5.Texture.prototype.constructor = V5.Texture;
    V5.EventTarget.mixin(V5.Texture.prototype);
    V5.Texture.prototype.onBaseTextureLoaded = function() {
        var t = this.baseTexture;
        t.removeEventListener(S5, this.onLoaded);
        if (this.noFrame) this.frame = new V5.Rectangle(d6t.W6, d6t.W6, t.width, t.height);
        this.setFrame(this.frame);
        this.dispatchEvent({
            type: d6t.o0f,
            content: this
        });
    };
    V5.Texture.prototype.destroy = function(t) {
        if (t) this.baseTexture.destroy();
        this.valid = d6t.F18;
    };
    V5.Texture.prototype.setFrame = function(t) {
        this.noFrame = d6t.F18;
        this.frame = t;
        this.width = t.width;
        this.height = t.height;
        this.crop.x = t.x;
        this.crop.y = t.y;
        this.crop.width = t.width;
        this.crop.height = t.height;
        if (!this.trim && (t.x + t.width > this.baseTexture.width || t.y + t.height > this.baseTexture.height)) {
            throw new Error(d6t.Q6f + this);
        }
        this.valid = t && t.width && t.height && this.baseTexture.source && this.baseTexture.hasLoaded;
        if (this.trim) {
            this.width = this.trim.width;
            this.height = this.trim.height;
            this.frame.width = this.trim.width;
            this.frame.height = this.trim.height;
        }
        if (this.valid) this._updateUvs();
    };
    V5.Texture.prototype._updateUvs = function() {
        if (!this._uvs) this._uvs = new V5.TextureUvs();
        var t = this.crop,
            k = this.baseTexture.width,
            j = this.baseTexture.height;
        this._uvs.x0 = t.x / k;
        this._uvs.y0 = t.y / j;
        this._uvs.x1 = (t.x + t.width) / k;
        this._uvs.y1 = t.y / j;
        this._uvs.x2 = (t.x + t.width) / k;
        this._uvs.y2 = (t.y + t.height) / j;
        this._uvs.x3 = t.x / k;
        this._uvs.y3 = (t.y + t.height) / j;
    };
    V5.Texture.fromImage = function(t, k, j) {
        var o = V5.TextureCache[t];
        if (!o) {
            o = new V5.Texture(V5.BaseTexture.fromImage(t, k, j));
            V5.TextureCache[t] = o;
        }
        return o;
    };
    V5.Texture.fromFrame = function(t) {
        var k = '" does not exist in the texture cache ',
            j = V5.TextureCache[t];
        if (!j) throw new Error(l4 + t + k);
        return j;
    };
    V5.Texture.fromCanvas = function(t, k) {
        var j = V5.BaseTexture.fromCanvas(t, k);
        return new V5.Texture(j);
    };
    V5.Texture.addTextureToCache = function(t, k) {
        V5.TextureCache[k] = t;
    };
    V5.Texture.removeTextureFromCache = function(t) {
        var k = V5.TextureCache[t];
        delete V5.TextureCache[t];
        delete V5.BaseTextureCache[t];
        return k;
    };
    V5.TextureUvs = function() {
        this.x0 = d6t.W6;
        this.y0 = d6t.W6;
        this.x1 = d6t.W6;
        this.y1 = d6t.W6;
        this.x2 = d6t.W6;
        this.y2 = d6t.W6;
        this.x3 = d6t.W6;
        this.y3 = d6t.W6;
    };
    V5.RenderTexture = function(t, k, j, o, e) {
        this.width = t || d6t.a08;
        this.height = k || d6t.a08;
        this.resolution = e || d6t.A6;
        this.frame = new V5.Rectangle(d6t.W6, d6t.W6, this.width * this.resolution, this.height * this.resolution);
        this.crop = new V5.Rectangle(d6t.W6, d6t.W6, this.width * this.resolution, this.height * this.resolution);
        this.baseTexture = new V5.BaseTexture();
        this.baseTexture.width = this.width * this.resolution;
        this.baseTexture.height = this.height * this.resolution;
        this.baseTexture._glTextures = [];
        this.baseTexture.resolution = this.resolution;
        this.baseTexture.scaleMode = o || V5.scaleModes.DEFAULT;
        this.baseTexture.hasLoaded = d6t.s73;
        V5.Texture.call(this, this.baseTexture, new V5.Rectangle(d6t.W6, d6t.W6, this.width, this.height));
        this.renderer = j || V5.defaultRenderer;
        if (this.renderer.type === V5.WEBGL_RENDERER) {
            var q = this.renderer.gl;
            this.baseTexture._dirty[q.id] = d6t.F18;
            this.textureBuffer = new V5.FilterTexture(q, this.width * this.resolution, this.height * this.resolution, this.baseTexture.scaleMode);
            this.baseTexture._glTextures[q.id] = this.textureBuffer.texture;
            this.render = this.renderWebGL;
            this.projection = new V5.Point(this.width * d6t.z48, -this.height * d6t.z48);
        } else {
            this.render = this.renderCanvas;
            this.textureBuffer = new V5.CanvasBuffer(this.width * this.resolution, this.height * this.resolution);
            this.baseTexture.source = this.textureBuffer.canvas;
        }
        this.valid = d6t.s73;
        this._updateUvs();
    };
    V5.RenderTexture.prototype = Object.create(V5.Texture.prototype);
    V5.RenderTexture.prototype.constructor = V5.RenderTexture;
    V5.RenderTexture.prototype.resize = function(t, k, j) {
        if (t === this.width && k === this.height) return;
        this.valid = (t > d6t.W6 && k > d6t.W6);
        this.width = this.frame.width = this.crop.width = t;
        this.height = this.frame.height = this.crop.height = k;
        if (j) {
            this.baseTexture.width = this.width;
            this.baseTexture.height = this.height;
        }
        if (this.renderer.type === V5.WEBGL_RENDERER) {
            this.projection.x = this.width / d6t.D6;
            this.projection.y = -this.height / d6t.D6;
        }
        if (!this.valid) return;
        this.textureBuffer.resize(this.width * this.resolution, this.height * this.resolution);
    };
    V5.RenderTexture.prototype.clear = function() {
        if (!this.valid) return;
        if (this.renderer.type === V5.WEBGL_RENDERER) {
            this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER, this.textureBuffer.frameBuffer);
        }
        this.textureBuffer.clear();
    };
    V5.RenderTexture.prototype.renderWebGL = function(t, k, j) {
        if (!this.valid) return;
        var o = t.worldTransform;
        o.identity();
        o.translate(d6t.W6, this.projection.y * d6t.D6);
        if (k) o.append(k);
        o.scale(d6t.A6, -d6t.A6);
        t.worldAlpha = d6t.A6;
        var e = t.children;
        for (var q = d6t.W6, m = e.length; q < m; q++) {
            e[q].updateTransform();
        }
        var k5 = this.renderer.gl;
        k5.viewport(d6t.W6, d6t.W6, this.width * this.resolution, this.height * this.resolution);
        k5.bindFramebuffer(k5.FRAMEBUFFER, this.textureBuffer.frameBuffer);
        if (j) this.textureBuffer.clear();
        this.renderer.spriteBatch.dirty = d6t.s73;
        this.renderer.renderDisplayObject(t, this.projection, this.textureBuffer.frameBuffer);
        this.renderer.spriteBatch.dirty = d6t.s73;
    };
    V5.RenderTexture.prototype.renderCanvas = function(t, k, j) {
        if (!this.valid) return;
        var o = t.worldTransform;
        o.identity();
        if (k) o.append(k);
        var e = t.children;
        for (var q = d6t.W6, m = e.length; q < m; q++) {
            e[q].updateTransform();
        }
        if (j) this.textureBuffer.clear();
        var k5 = this.textureBuffer.context,
            C5 = this.renderer.resolution;
        this.renderer.resolution = this.resolution;
        this.renderer.renderDisplayObject(t, k5);
        this.renderer.resolution = C5;
    };
    V5.RenderTexture.prototype.getImage = function() {
        var t = new Image();
        t.src = this.getBase64();
        return t;
    };
    V5.RenderTexture.prototype.getBase64 = function() {
        return this.getCanvas().toDataURL();
    };
    V5.RenderTexture.prototype.getCanvas = function() {
        if (this.renderer.type === V5.WEBGL_RENDERER) {
            var t = this.renderer.gl,
                k = this.textureBuffer.width,
                j = this.textureBuffer.height,
                o = new Uint8Array(d6t.M6 * k * j);
            t.bindFramebuffer(t.FRAMEBUFFER, this.textureBuffer.frameBuffer);
            t.readPixels(d6t.W6, d6t.W6, k, j, t.RGBA, t.UNSIGNED_BYTE, o);
            t.bindFramebuffer(t.FRAMEBUFFER, d6t.B3x);
            var e = new V5.CanvasBuffer(k, j),
                q = e.context.getImageData(d6t.W6, d6t.W6, k, j),
                m = q.data;
            for (var k5 = d6t.W6; k5 < o.length; k5 += d6t.M6) {
                var C5 = o[k5 + d6t.B6];
                m[k5] = o[k5] * C5;
                m[k5 + d6t.A6] = o[k5 + d6t.A6] * C5;
                m[k5 + d6t.D6] = o[k5 + d6t.D6] * C5;
                m[k5 + d6t.B6] = C5;
            }
            e.context.putImageData(q, d6t.W6, d6t.W6);
            return e.canvas;
        } else {
            return this.textureBuffer.canvas;
        }
    };
    V5.RenderTexture.tempMatrix = new V5.Matrix();
    V5.AbstractFilter = function(t, k) {
        this.passes = [this];
        this.shaders = [];
        this.dirty = d6t.s73;
        this.padding = d6t.W6;
        this.uniforms = k || {};
        this.fragmentSrc = t || [];
    };
    V5.AbstractFilter.prototype.constructor = V5.AbstractFilter;
    V5.AbstractFilter.prototype.syncUniforms = function() {
        for (var t = d6t.W6, k = this.shaders.length; t < k; t++) {
            this.shaders[t].dirty = d6t.s73;
        }
    };
    if (typeof exports !== d6t.k43) {
        if (typeof module !== d6t.k43 && module.exports) {
            exports = module.exports = V5;
        }
        exports.PIXI = V5;
    } else if (typeof define !== d6t.k43 && define.amd) {
        define('PIXI', (function() {
            return Q4.PIXI = V5;
        })());
    } else {
        Q4.PIXI = V5;
    }
}).call(this);
define("pixi", function() {});;
window.Modernizr = (function(w5, R5, r5) {
    var T5 = ' js ',
        a5 = '$1$2',
        x5 = 'no-',
        f5 = 'webworkers',
        A5 = 'sessionstorage',
        u5 = 'localstorage',
        B5 = 'fontface',
        D5 = 'websockets',
        o5 = 'draganddrop',
        N5 = 'history',
        y5 = 'hashchange',
        U5 = 'indexedDB',
        W5 = 'websqldatabase',
        J5 = 'postmessage',
        g5 = 'geolocation',
        c5 = 'touch',
        Z5 = 'pfx',
        M5 = 'http://www.w3.org/2000/svg',
        n5 = 'Webkit Moz O ms',
        R6 = ' -webkit- -moz- -o- -ms- ',
        h5 = ':)',
        K6 = '2.8.1',
        s6 = K6,
        i5 = {},
        V6 = d6t.s73,
        b5 = R5.documentElement,
        S5 = d6t.H8x,
        q6 = R5.createElement(S5),
        h6 = q6.style,
        C6 = R5.createElement(d6t.t6),
        m6 = h5,
        G5 = {}.toString,
        c6 = R6.split(d6t.p93),
        Y6 = n5,
        E6 = Y6.split(d6t.p93),
        O6 = Y6.toLowerCase().split(d6t.p93),
        j6 = {
            'svg': M5
        },
        Q5 = {},
        y6 = {},
        d5 = {},
        z6 = [],
        Z6 = z6.slice,
        N6, P6 = function(t, k, j, o) {
            var e = '</style>';
            var q = '">';
            var m = '<style id="s';
            var k5 = '&#173;';
            var C5, H5, j5, Y5, z5 = R5.createElement(d6t.k6),
                P5 = R5.body,
                p5 = P5 || R5.createElement(d6t.m2f);
            if (parseInt(j, d6t.x7x)) {
                while (j--) {
                    j5 = R5.createElement(d6t.k6);
                    j5.id = o ? o[j] : S5 + (j + d6t.A6);
                    z5.appendChild(j5);
                }
            }
            C5 = [k5, m, S5, q, t, e].join(d6t.I6x);
            z5.id = S5;
            (P5 ? z5 : p5).innerHTML += C5;
            p5.appendChild(z5);
            if (!P5) {
                p5.style.background = d6t.I6x;
                p5.style.overflow = d6t.K5x;
                Y5 = b5.style.overflow;
                b5.style.overflow = d6t.K5x;
                b5.appendChild(p5);
            }
            H5 = k(z5, t);
            if (!P5) {
                p5.parentNode.removeChild(p5);
                b5.style.overflow = Y5;
            } else {
                z5.parentNode.removeChild(z5);
            }
            return !!H5;
        },
        m5 = function(o) {
            var e = ' { position: absolute; } }';
            var q = ' { #';
            var m = '@media ';
            var k5 = w5.matchMedia || w5.msMatchMedia;
            if (k5) {
                return k5(o) && k5(o).matches || d6t.F18;
            }
            var C5;
            P6(m + o + q + S5 + e, function(t) {
                var k = 'absolute';
                var j = 'position';
                C5 = (w5.getComputedStyle ? getComputedStyle(t, d6t.B3x) : t.currentStyle)[j] == k;
            });
            return C5;
        },
        t4 = (function() {
            var e = 'img';
            var q = 'form';
            var m = {
                'select': d6t.t6,
                'change': d6t.t6,
                'submit': q,
                'reset': q,
                'error': e,
                'load': e,
                'abort': e
            };

            function k5(t, k) {
                var j = 'on';
                k = k || R5.createElement(m[t] || d6t.k6);
                t = j + t;
                var o = t in k;
                if (!o) {
                    if (!k.setAttribute) {
                        k = R5.createElement(d6t.k6);
                    }
                    if (k.setAttribute && k.removeAttribute) {
                        k.setAttribute(t, d6t.I6x);
                        o = n6(k[t], d6t.j5f);
                        if (!n6(k[t], d6t.k43)) {
                            k[t] = r5;
                        }
                        k.removeAttribute(t);
                    }
                }
                k = d6t.B3x;
                return o;
            }
            return k5;
        })(),
        i6 = ({}).hasOwnProperty,
        P4;
    if (!n6(i6, d6t.k43) && !n6(i6.call, d6t.k43)) {
        P4 = function(t, k) {
            return i6.call(t, k);
        };
    } else {
        P4 = function(t, k) {
            return ((k in t) && n6(t.constructor.prototype[k], d6t.k43));
        };
    }
    if (!Function.prototype.bind) {
        Function.prototype.bind = function U4(o) {
            var e = this;
            if (typeof e != d6t.H5x) {
                throw new TypeError();
            }
            var q = Z6.call(arguments, d6t.A6),
                m = function() {
                    if (this instanceof m) {
                        var t = function() {};
                        t.prototype = e.prototype;
                        var k = new t(),
                            j = e.apply(k, q.concat(Z6.call(arguments)));
                        if (Object(j) === j) {
                            return j;
                        }
                        return k;
                    } else {
                        return e.apply(o, q.concat(Z6.call(arguments)));
                    }
                };
            return m;
        };
    }

    function b6(t) {
        h6.cssText = t;
    }

    function v4(t, k) {
        var j = ((41., 1.042E3) < (1.479E3, 24.40E1) ? (0xE, 'p2') : (71., 3.2E1) >= (0x16, 0x17E) ? (122, 58.80E1) : (31, 0x92) <= 1.0050E3 ? (43.0E1, ';') : (89., 1.52E2));
        return b6(c6.join(t + j) + (k || d6t.I6x));
    }

    function n6(t, k) {
        return typeof t === k;
    }

    function s4(t, k) {
        return !!~(d6t.I6x + t).indexOf(k);
    }

    function C4(t, k) {
        for (var j in t) {
            var o = t[j];
            if (!s4(o, d6t.U4x) && h6[o] !== r5) {
                return k == Z5 ? o : d6t.s73;
            }
        }
        return d6t.F18;
    }

    function v5(t, k, j) {
        for (var o in t) {
            var e = k[t[o]];
            if (e !== r5) {
                if (j === d6t.F18) return t[o];
                if (n6(e, d6t.j5f)) {
                    return e.bind(j || k);
                }
                return e;
            }
        }
        return d6t.F18;
    }

    function Q6(t, k, j) {
        var o = t.charAt(d6t.W6).toUpperCase() + t.slice(d6t.A6),
            e = (t + d6t.p93 + E6.join(o + d6t.p93) + o).split(d6t.p93);
        if (n6(k, d6t.H1H) || n6(k, d6t.k6f)) {
            return C4(e, k);
        } else {
            e = (t + d6t.p93 + (O6).join(o + d6t.p93) + o).split(d6t.p93);
            return v5(e, k, j);
        }
    }
    Q5[d6t.r4x] = function() {
        return !!w5.WebGLRenderingContext;
    };
    Q5[c5] = function() {
        var k = '{#modernizr{top:9px;position:absolute}}',
            j = 'touch-enabled),(',
            o = '@media (',
            e;
        if ((d6t.j4f in w5) || w5.DocumentTouch && R5 instanceof DocumentTouch) {
            e = d6t.s73;
        } else {
            P6([o, c6.join(j), S5, d6t.A13, k].join(d6t.I6x), function(t) {
                e = t.offsetTop === d6t.S6;
            });
        }
        return e;
    };
    Q5[g5] = function() {
        return g5 in navigator;
    };
    Q5[J5] = function() {
        return !!w5.postMessage;
    };
    Q5[W5] = function() {
        return !!w5.openDatabase;
    };
    Q5[U5] = function() {
        var t = "indexedDB";
        return !!Q6(t, w5);
    };
    Q5[y5] = function() {
        return t4(y5, w5) && (R5.documentMode === r5 || R5.documentMode > d6t.v6);
    };
    Q5[N5] = function() {
        return !!(w5.history && history.pushState);
    };
    Q5[o5] = function() {
        var t = 'ondrop',
            k = 'ondragstart',
            j = 'draggable',
            o = R5.createElement(d6t.k6);
        return (j in o) || (k in o && t in o);
    };
    Q5[D5] = function() {
        var t = 'MozWebSocket',
            k = 'WebSocket';
        return k in w5 || t in w5;
    };
    Q5[B5] = function() {
        var m = '@font-face {font-family:"font";src:url("https://")}',
            k5;
        P6(m, function(t, k) {
            var j = 'smodernizr',
                o = R5.getElementById(j),
                e = o.sheet || o.styleSheet,
                q = e ? (e.cssRules && e.cssRules[d6t.W6] ? e.cssRules[d6t.W6].cssText : e.cssText || d6t.I6x) : d6t.I6x;
            k5 = /src/i.test(q) && q.indexOf(k.split(d6t.p93)[d6t.W6]) === d6t.W6;
        });
        return k5;
    };
    Q5[u5] = function() {
        try {
            localStorage.setItem(S5, S5);
            localStorage.removeItem(S5);
            return d6t.s73;
        } catch (t) {
            return d6t.F18;
        }
    };
    Q5[A5] = function() {
        try {
            sessionStorage.setItem(S5, S5);
            sessionStorage.removeItem(S5);
            return d6t.s73;
        } catch (t) {
            return d6t.F18;
        }
    };
    Q5[f5] = function() {
        return !!w5.Worker;
    };

    function p4() {
        var C5 = 'search tel url email datetime date month week time datetime-local number range color',
            H5 = 'inputtypes',
            j5 = 'autocomplete autofocus list placeholder max min multiple pattern required step';
        i5[d6t.t6] = (function(t) {
            var k = 'datalist';
            for (var j = d6t.W6, o = t.length; j < o; j++) {
                d5[t[j]] = !!(t[j] in C6);
            }
            if (d5.list) {
                d5.list = !!(R5.createElement(k) && w5.HTMLDataListElement);
            }
            return d5;
        })(j5.split(d6t.p93));
        i5[H5] = (function(t) {
            var k = 'textfield',
                j = 'position:absolute;visibility:hidden;';
            for (var o = d6t.W6, e, q, m, k5 = t.length; o < k5; o++) {
                C6.setAttribute(d6t.k8f, q = t[o]);
                e = C6.type !== d6t.M4H;
                if (e) {
                    C6.value = m6;
                    C6.style.cssText = j;
                    if (/^range$/.test(q) && C6.style.WebkitAppearance !== r5) {
                        b5.appendChild(C6);
                        m = R5.defaultView;
                        e = m.getComputedStyle && m.getComputedStyle(C6, d6t.B3x).WebkitAppearance !== k && (C6.offsetHeight !== d6t.W6);
                        b5.removeChild(C6);
                    } else if (/^(search|tel)$/.test(q)) {} else if (/^(url|email)$/.test(q)) {
                        e = C6.checkValidity && C6.checkValidity() === d6t.F18;
                    } else {
                        e = C6.value != m6;
                    }
                }
                y6[t[o]] = !!e;
            }
            return y6;
        })(C5.split(d6t.p93));
    }
    for (var R4 in Q5) {
        if (P4(Q5, R4)) {
            N6 = R4.toLowerCase();
            i5[N6] = Q5[R4]();
            z6.push((i5[N6] ? d6t.I6x : x5) + N6);
        }
    }
    i5.input || p4();
    i5.addTest = function(t, k) {
        if (typeof t == d6t.T7H) {
            for (var j in t) {
                if (P4(t, j)) {
                    i5.addTest(j, t[j]);
                }
            }
        } else {
            t = t.toLowerCase();
            if (i5[t] !== r5) {
                return i5;
            }
            k = typeof k == d6t.j5f ? k() : k;
            if (typeof V6 !== d6t.k6f && V6) {
                b5.className += d6t.p93 + (k ? d6t.I6x : x5) + t;
            }
            i5[t] = k;
        }
        return i5;
    };
    b6(d6t.I6x);
    q6 = C6 = d6t.B3x;
    i5._version = s6;
    i5._prefixes = c6;
    i5._domPrefixes = O6;
    i5._cssomPrefixes = E6;
    i5.mq = m5;
    i5.hasEvent = t4;
    i5.testProp = function(t) {
        return C4([t]);
    };
    i5.testAllProps = Q6;
    i5.testStyles = P6;
    i5.prefixed = function(t, k, j) {
        if (!k) {
            return Q6(t, Z5);
        } else {
            return Q6(t, k, j);
        }
    };
    b5.className = b5.className.replace(/(^|\s)no-js(\s|$)/, a5) + (V6 ? T5 + z6.join(d6t.p93) : d6t.I6x);
    return i5;
})(this, this.document);
Modernizr.addTest(d6t.a6, function() {
    return (function() {
        "use strict";
        return !this;
    })();
});
Modernizr.addTest(d6t.f3f, (d6t.A9x in window));
Modernizr.addTest(d6t.S3x, (d6t.Z2f in window));
Modernizr.addTest(d6t.L48, !!Modernizr.prefixed(d6t.L48, navigator));
define("modernizr", function() {});
define('gt/utils/device', [], function() {
    var C5 = 'chromeOS',
        H5 = 'windows',
        j5 = 'blackberry',
        Y5 = 'android',
        z5 = 'ios',
        P5 = 'meego',
        p5 = 'galaxyS4',
        w5 = 'galaxyS3',
        R5 = 'ipod',
        r5 = 'Android ',
        T5 = navigator.userAgent,
        a5 = {};
    a5.iOS = /iphone|ipad|ipod/gi.test(T5);
    a5.iOS6 = a5.iOS && /OS 6/gi.test(T5);
    a5.iOS7 = a5.iOS && /OS 7/gi.test(T5);
    a5.iOS8 = a5.iOS && /OS 8/gi.test(T5);
    a5.iPhone = /iphone/gi.test(T5);
    a5.iPod = /ipod/gi.test(T5);
    a5.iPad = /ipad/gi.test(T5);
    a5.android = /android/gi.test(T5);
    a5.androidPhone = a5.android && /mobile/gi.test(T5);
    a5.androidTablet = a5.android && !/mobile/gi.test(T5);
    a5.androidVersion = a5.android ? T5.match(/Android (\d+(?:\.\d+)+)/)[d6t.W6].replace(r5, d6t.I6x) : d6t.B3x;
    a5.blackberry = /blackberry|bb10|rim/gi.test(T5);
    a5.blackberryPhone = a5.blackberry && !/tablet/gi.test(T5);
    a5.blackberryTablet = a5.blackberry && /tablet/gi.test(T5);
    a5.chromeOS = /CrOS/gi.test(T5);
    a5.arm = /ARM/gi.test(T5);
    a5.windows = /windows/gi.test(T5);
    a5.windowsPhone = a5.windows && /phone/gi.test(T5);
    a5.windowsTouch = a5.windows && /touch/gi.test(T5);
    a5.fxOS = /(\(mobile|\(tablet)(?=.*; rv:)/gi.test(T5);
    a5.fxOSPhone = a5.fxOS && /mobile/gi.test(T5);
    a5.fxOSTablet = a5.fxOS && /tablet/gi.test(T5);
    a5.meego = /meego/gi.test(T5);
    a5.sony = /sony|SO-/gi.test(T5);
    a5.samsung = /samsung|GT-/gi.test(T5);
    a5.galaxyS3 = /GT-I93/gi.test(T5);
    a5.galaxyS4 = /GT-I95/gi.test(T5);
    a5.galaxyS5 = /SM-G900/gi.test(T5);
    a5.mobile = a5.androidPhone || a5.iPhone || a5.iPod || a5.windowsPhone || a5.blackberryPhone || a5.fxOSPhone || a5.meego;
    a5.tablet = a5.iPad || a5.androidTablet || a5.blackberryTablet || a5.fxOSTablet || (a5.windows && a5.arm);
    a5.portable = a5.mobile || a5.tablet;
    a5.desktop = !a5.portable;
    a5.getPlatformString = function() {
        return a5.desktop ? d6t.G4f : d6t.m3x;
    };
    var x5 = window.devicePixelRatio || d6t.A6;
    a5.screen = {
        width: screen.width * x5,
        height: screen.height * x5,
        pixelRatio: x5
    };
    a5.bigScreen = a5.tablet || a5.desktop;
    var f5 = document.documentElement;

    function A5(t) {
        return f5.className += d6t.D0 + t;
    }
    if (a5.samsung) A5(d6t.J6x);
    if (a5.mobile) A5(d6t.m3x);
    if (a5.tablet) A5(d6t.g2f);
    if (a5.desktop) A5(d6t.G4f);
    if (a5.iPhone) A5(d6t.T6B);
    if (a5.iPad) A5(d6t.v6f);
    if (a5.iPod) A5(R5);
    if (a5.galaxyS3) A5(w5);
    if (a5.galaxyS4) A5(p5);
    if (a5.galaxyS5) A5(p5);
    if (a5.fxOS) A5(d6t.d7f);
    if (a5.meego) A5(P5);
    if (a5.iOS) A5(z5);
    if (a5.android) A5(Y5);
    if (a5.blackberry) A5(j5);
    if (a5.windows) A5(H5);
    if (a5.chromeOS) A5(C5);
    a5.webGL = u5();

    function u5() {
        var k = "webkit-3d",
            j = "moz-webgl",
            o = "experimental-webgl";
        if (!!window.WebGLRenderingContext) {
            var e = document.createElement(d6t.N2x),
                q = [d6t.Z3x, o, j, k],
                m = d6t.F18;
            for (var k5 = d6t.W6; k5 < q.length; k5++) {
                try {
                    m = e.getContext(q[k5]);
                    if (m && typeof m.getParameter == d6t.H5x) {
                        return d6t.s73;
                    }
                } catch (t) {}
            }
            return d6t.F18;
        }
        return d6t.F18;
    }
    return window.device = a5;
});
define('gt/utils/browser', ['bottom_line', 'gt/utils/device', 'modernizr'], function(j, o) {
    var e = 'bad',
        q = 'ie',
        m = 'safari',
        k5 = 'firefox',
        C5 = navigator.userAgent,
        H5 = Modernizr;

    function j5(t, k) {
        if (k) {
            Modernizr.addTest(t, k);
        } else {
            H5[t] = k;
        }
    }
    j5(d6t.J6x, /SamsungBrowser/gi.test(C5));
    j5(d6t.x9H, o.android && ((C5.match(/AppleWebKit\/([\d.]+)/) || [])[d6t.A6] < d6t.C0H));
    j5(d6t.A2f, /chrome/gi.test(C5) && !H5.stock);
    j5(k5, /firefox/gi.test(C5));
    j5(m, /safari/gi.test(C5) && !H5.chrome);
    j5(q, /MSIE/gi.test(C5) || /Trident/gi.test(C5));
    j5(e, H5.ie);
    H5.firefoxTextOffset = d6t.D6;
    return window.browser = H5;
});
(function(Y5, z5) {
    "use strict";
    var P5 = "Mac OS",
        p5 = "iOS",
        w5 = "Solaris",
        R5 = "Chromium OS",
        r5 = "Firefox OS",
        T5 = "Symbian",
        a5 = "Windows",
        x5 = "EdgeHTML",
        f5 = "Xiaomi",
        A5 = "Google",
        u5 = "Lenovo",
        B5 = "LG",
        D5 = "Acer",
        o5 = "Nokia",
        N5 = "Siemens",
        y5 = "Sharp",
        U5 = "Samsung",
        W5 = "Motorola",
        J5 = "Microsoft",
        g5 = "HTC",
        c5 = "Nvidia",
        Z5 = "Xperia Phone",
        M5 = "Xperia Tablet",
        n5 = "Sony",
        R6 = "Asus",
        h5 = "BlackBerry",
        K6 = "Amazon",
        s6 = "Apple TV",
        i5 = "Apple",
        V6 = "sparc",
        b5 = "arm",
        S5 = "ia32",
        q6 = "amd64",
        h6 = "Netscape",
        C6 = "Mobile Safari",
        m6 = "Firefox",
        G5 = "Facebook",
        c6 = "Android Browser",
        Y6 = "MIUI Browser",
        E6 = "Chrome",
        O6 = "Dolphin",
        j6 = "UCBrowser",
        Q5 = "Yandex",
        y6 = "IE",
        d5 = "Opera",
        z6 = "ARM",
        Z6 = "NT 10.0",
        N6 = "NT 6.4",
        P6 = "NT 6.3",
        m5 = "NT 6.2",
        t4 = "NT 6.1",
        i6 = "NT 6.0",
        P4 = "NT 5.2",
        U4 = "NT 5.1",
        b6 = "NT 5.0",
        v4 = "NT4.0",
        n6 = "NT3.51",
        s4 = "4.90",
        C4 = "Sprint",
        v5 = "APA",
        Q6 = "7373KT",
        p4 = "KF",
        R4 = "SD",
        o6 = "/419",
        W4 = "/417",
        O4 = "/416",
        o4 = "/412",
        a4 = "/3",
        D4 = "/1",
        N4 = "/8",
        d4 = "embedded",
        w6 = "wearable",
        r4 = "smarttv",
        T4 = "tablet",
        S4 = "mobile",
        l4 = "console",
        b4 = "architecture",
        X4 = "version",
        K3 = "vendor",
        H3 = "model",
        j3 = "major",
        V3 = "0.7.10",
        Q4 = V3,
        V5 = d6t.g5x,
        z3 = d6t.G1x,
        h4 = d6t.H5x,
        t3 = d6t.k6f,
        I4 = d6t.O2f,
        M3 = d6t.H1H,
        P3 = j3,
        l5 = H3,
        e5 = d6t.y88,
        E5 = d6t.p08,
        X5 = K3,
        I5 = X4,
        x4 = b4,
        J4 = l4,
        T6 = S4,
        e6 = T4,
        E4 = r4,
        p3 = w6,
        R3 = d4,
        H4 = {
            extend: function(t, k) {
                var j = "browser cpu device engine os";
                for (var o in k) j.indexOf(o) !== -d6t.A6 && k[o].length % d6t.D6 === d6t.W6 && (t[o] = k[o].concat(t[o]));
                return t;
            },
            has: function(t, k) {
                return typeof t == d6t.H1H ? k.toLowerCase().indexOf(t.toLowerCase()) !== -d6t.A6 : !d6t.A6;
            },
            lowerize: function(t) {
                return t.toLowerCase();
            },
            major: function(t) {
                return typeof t === M3 ? t.split(d6t.b4x)[d6t.W6] : z5;
            }
        },
        j4 = {
            rgx: function() {
                var t, k = d6t.W6,
                    j, o, e, q, m, k5, C5 = arguments;
                while (k < C5.length && !m) {
                    var H5 = C5[k],
                        j5 = C5[k + d6t.A6];
                    if (typeof t === t3) {
                        t = {};
                        for (e in j5) j5.hasOwnProperty(e) && (q = j5[e], typeof q === I4 ? t[q[d6t.W6]] = z5 : t[q] = z5);
                    }
                    j = o = d6t.W6;
                    while (j < H5.length && !m) {
                        m = H5[j++].exec(this.getUA());
                        if (!!m)
                            for (e = d6t.W6; e < j5.length; e++) k5 = m[++o], q = j5[e], typeof q === I4 && q.length > d6t.W6 ? q.length == d6t.D6 ? typeof q[d6t.A6] == h4 ? t[q[d6t.W6]] = q[d6t.A6].call(this, k5) : t[q[d6t.W6]] = q[d6t.A6] : q.length == d6t.B6 ? typeof q[d6t.A6] === h4 && (!q[d6t.A6].exec || !q[d6t.A6].test) ? t[q[d6t.W6]] = k5 ? q[d6t.A6].call(this, k5, q[d6t.D6]) : z5 : t[q[d6t.W6]] = k5 ? k5.replace(q[d6t.A6], q[d6t.D6]) : z5 : q.length == d6t.M6 && (t[q[d6t.W6]] = k5 ? q[d6t.B6].call(this, k5.replace(q[d6t.A6], q[d6t.D6])) : z5) : t[q] = k5 ? k5 : z5;
                    }
                    k += d6t.D6;
                }
                return t;
            },
            str: function(t, k) {
                for (var j in k)
                    if (typeof k[j] === I4 && k[j].length > d6t.W6) {
                        for (var o = d6t.W6; o < k[j].length; o++)
                            if (H4.has(k[j][o], t)) return j === z3 ? z5 : j;
                    } else if (H4.has(k[j], t)) return j === z3 ? z5 : j;
                return t;
            }
        },
        u4 = {
            browser: {
                oldsafari: {
                    version: {
                        "1.0": N4,
                        1.2: D4,
                        1.3: a4,
                        "2.0": o4,
                        "2.0.2": O4,
                        "2.0.3": W4,
                        "2.0.4": o6,
                        "?": d6t.j3x
                    }
                }
            },
            device: {
                amazon: {
                    model: {
                        "Fire Phone": [R4, p4]
                    }
                },
                sprint: {
                    model: {
                        "Evo Shift 4G": Q6
                    },
                    vendor: {
                        HTC: v5,
                        Sprint: C4
                    }
                }
            },
            os: {
                windows: {
                    version: {
                        ME: s4,
                        "NT 3.11": n6,
                        "NT 4.0": v4,
                        2e3: b6,
                        XP: [U4, P4],
                        Vista: i6,
                        7: t4,
                        8: m5,
                        8.1: P6,
                        10: [N6, Z6],
                        RT: z6
                    }
                }
            }
        },
        T3 = {
            browser: [
                [/(opera\smini)\/([\w\.-]+)/i, /(opera\s[mobiletab]+).+version\/([\w\.-]+)/i, /(opera).+version\/([\w\.]+)/i, /(opera)[\/\s]+([\w\.]+)/i],
                [e5, I5],
                [/\s(opr)\/([\w\.]+)/i],
                [
                    [e5, d5], I5
                ],
                [/(kindle)\/([\w\.]+)/i, /(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i, /(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i, /(?:ms|\()(ie)\s([\w\.]+)/i, /(rekonq)\/([\w\.]+)*/i, /(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],
                [e5, I5],
                [/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],
                [
                    [e5, y6], I5
                ],
                [/(edge)\/((\d+)?[\w\.]+)/i],
                [e5, I5],
                [/(yabrowser)\/([\w\.]+)/i],
                [
                    [e5, Q5], I5
                ],
                [/(comodo_dragon)\/([\w\.]+)/i],
                [
                    [e5, /_/g, d6t.D0], I5
                ],
                [/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i, /(qqbrowser)[\/\s]?([\w\.]+)/i],
                [e5, I5],
                [/(uc\s?browser)[\/\s]?([\w\.]+)/i, /ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i, /JUC.+(ucweb)[\/\s]?([\w\.]+)/i],
                [
                    [e5, j6], I5
                ],
                [/(dolfin)\/([\w\.]+)/i],
                [
                    [e5, O6], I5
                ],
                [/((?:android.+)crmo|crios)\/([\w\.]+)/i],
                [
                    [e5, E6], I5
                ],
                [/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],
                [I5, [e5, Y6]],
                [/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],
                [I5, [e5, c6]],
                [/FBAV\/([\w\.]+);/i],
                [I5, [e5, G5]],
                [/fxios\/([\w\.-]+)/i],
                [I5, [e5, m6]],
                [/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],
                [I5, [e5, C6]],
                [/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],
                [I5, e5],
                [/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],
                [e5, [I5, j4.str, u4.browser.oldsafari.version]],
                [/(konqueror)\/([\w\.]+)/i, /(webkit|khtml)\/([\w\.]+)/i],
                [e5, I5],
                [/(navigator|netscape)\/([\w\.-]+)/i],
                [
                    [e5, h6], I5
                ],
                [/(swiftfox)/i, /(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i, /(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i, /(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i, /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i, /(links)\s\(([\w\.]+)/i, /(gobrowser)\/?([\w\.]+)*/i, /(ice\s?browser)\/v?([\w\._]+)/i, /(mosaic)[\/\s]([\w\.]+)/i],
                [e5, I5]
            ],
            cpu: [
                [/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],
                [
                    [x4, q6]
                ],
                [/(ia32(?=;))/i],
                [
                    [x4, H4.lowerize]
                ],
                [/((?:i[346]|x)86)[;\)]/i],
                [
                    [x4, S5]
                ],
                [/windows\s(ce|mobile);\sppc;/i],
                [
                    [x4, b5]
                ],
                [/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],
                [
                    [x4, /ower/, d6t.g5x, H4.lowerize]
                ],
                [/(sun4\w)[;\)]/i],
                [
                    [x4, V6]
                ],
                [/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],
                [
                    [x4, H4.lowerize]
                ]
            ],
            device: [
                [/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],
                [l5, X5, [E5, e6]],
                [/applecoremedia\/[\w\.]+ \((ipad)/],
                [l5, [X5, i5],
                    [E5, e6]
                ],
                [/(apple\s{0,1}tv)/i],
                [
                    [l5, s6],
                    [X5, i5]
                ],
                [/(archos)\s(gamepad2?)/i, /(hp).+(touchpad)/i, /(kindle)\/([\w\.]+)/i, /\s(nook)[\w\s]+build\/(\w+)/i, /(dell)\s(strea[kpr\s\d]*[\dko])/i],
                [X5, l5, [E5, e6]],
                [/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],
                [l5, [X5, K6],
                    [E5, e6]
                ],
                [/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],
                [
                    [l5, j4.str, u4.device.amazon.model],
                    [X5, K6],
                    [E5, T6]
                ],
                [/\((ip[honed|\s\w*]+);.+(apple)/i],
                [l5, X5, [E5, T6]],
                [/\((ip[honed|\s\w*]+);/i],
                [l5, [X5, i5],
                    [E5, T6]
                ],
                [/(blackberry)[\s-]?(\w+)/i, /(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i, /(hp)\s([\w\s]+\w)/i, /(asus)-?(\w+)/i],
                [X5, l5, [E5, T6]],
                [/\(bb10;\s(\w+)/i],
                [l5, [X5, h5],
                    [E5, T6]
                ],
                [/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],
                [l5, [X5, R6],
                    [E5, e6]
                ],
                [/(sony)\s(tablet\s[ps])\sbuild\//i, /(sony)?(?:sgp.+)\sbuild\//i],
                [
                    [X5, n5],
                    [l5, M5],
                    [E5, e6]
                ],
                [/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],
                [
                    [X5, n5],
                    [l5, Z5],
                    [E5, T6]
                ],
                [/\s(ouya)\s/i, /(nintendo)\s([wids3u]+)/i],
                [X5, l5, [E5, J4]],
                [/android.+;\s(shield)\sbuild/i],
                [l5, [X5, c5],
                    [E5, J4]
                ],
                [/(playstation\s[34portablevi]+)/i],
                [l5, [X5, n5],
                    [E5, J4]
                ],
                [/(sprint\s(\w+))/i],
                [
                    [X5, j4.str, u4.device.sprint.vendor],
                    [l5, j4.str, u4.device.sprint.model],
                    [E5, T6]
                ],
                [/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],
                [X5, l5, [E5, e6]],
                [/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i, /(zte)-(\w+)*/i, /(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],
                [X5, [l5, /_/g, d6t.D0],
                    [E5, T6]
                ],
                [/(nexus\s9)/i],
                [l5, [X5, g5],
                    [E5, e6]
                ],
                [/[\s\(;](xbox(?:\sone)?)[\s\);]/i],
                [l5, [X5, J5],
                    [E5, J4]
                ],
                [/(kin\.[onetw]{3})/i],
                [
                    [l5, /\./g, d6t.D0],
                    [X5, J5],
                    [E5, T6]
                ],
                [/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i, /mot[\s-]?(\w+)*/i, /(XT\d{3,4}) build\//i, /(nexus\s[6])/i],
                [l5, [X5, W5],
                    [E5, T6]
                ],
                [/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],
                [l5, [X5, W5],
                    [E5, e6]
                ],
                [/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i, /((SM-T\w+))/i],
                [
                    [X5, U5], l5, [E5, e6]
                ],
                [/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i, /(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i, /sec-((sgh\w+))/i],
                [
                    [X5, U5], l5, [E5, T6]
                ],
                [/(samsung);smarttv/i],
                [X5, l5, [E5, E4]],
                [/\(dtv[\);].+(aquos)/i],
                [l5, [X5, y5],
                    [E5, E4]
                ],
                [/sie-(\w+)*/i],
                [l5, [X5, N5],
                    [E5, T6]
                ],
                [/(maemo|nokia).*(n900|lumia\s\d+)/i, /(nokia)[\s_-]?([\w-]+)*/i],
                [
                    [X5, o5], l5, [E5, T6]
                ],
                [/android\s3\.[\s\w;-]{10}(a\d{3})/i],
                [l5, [X5, D5],
                    [E5, e6]
                ],
                [/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],
                [
                    [X5, B5], l5, [E5, e6]
                ],
                [/(lg) netcast\.tv/i],
                [X5, l5, [E5, E4]],
                [/(nexus\s[45])/i, /lg[e;\s\/-]+(\w+)*/i],
                [l5, [X5, B5],
                    [E5, T6]
                ],
                [/android.+(ideatab[a-z0-9\-\s]+)/i],
                [l5, [X5, u5],
                    [E5, e6]
                ],
                [/linux;.+((jolla));/i],
                [X5, l5, [E5, T6]],
                [/((pebble))app\/[\d\.]+\s/i],
                [X5, l5, [E5, p3]],
                [/android.+;\s(glass)\s\d/i],
                [l5, [X5, A5],
                    [E5, p3]
                ],
                [/android.+(\w+)\s+build\/hm\1/i, /android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i, /android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],
                [
                    [l5, /_/g, d6t.D0],
                    [X5, f5],
                    [E5, T6]
                ],
                [/\s(tablet)[;\/\s]/i, /\s(mobile)[;\/\s]/i],
                [
                    [E5, H4.lowerize], X5, l5
                ]
            ],
            engine: [
                [/windows.+\sedge\/([\w\.]+)/i],
                [I5, [e5, x5]],
                [/(presto)\/([\w\.]+)/i, /(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i, /(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i, /(icab)[\/\s]([23]\.[\d\.]+)/i],
                [e5, I5],
                [/rv\:([\w\.]+).*(gecko)/i],
                [I5, e5]
            ],
            os: [
                [/microsoft\s(windows)\s(vista|xp)/i],
                [e5, I5],
                [/(windows)\snt\s6\.2;\s(arm)/i, /(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],
                [e5, [I5, j4.str, u4.os.windows.version]],
                [/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],
                [
                    [e5, a5],
                    [I5, j4.str, u4.os.windows.version]
                ],
                [/\((bb)(10);/i],
                [
                    [e5, h5], I5
                ],
                [/(blackberry)\w*\/?([\w\.]+)*/i, /(tizen)[\/\s]([\w\.]+)/i, /(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i, /linux;.+(sailfish);/i],
                [e5, I5],
                [/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],
                [
                    [e5, T5], I5
                ],
                [/\((series40);/i],
                [e5],
                [/mozilla.+\(mobile;.+gecko.+firefox/i],
                [
                    [e5, r5], I5
                ],
                [/(nintendo|playstation)\s([wids34portablevu]+)/i, /(mint)[\/\s\(]?(\w+)*/i, /(mageia|vectorlinux)[;\s]/i, /(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i, /(hurd|linux)\s?([\w\.]+)*/i, /(gnu)\s?([\w\.]+)*/i],
                [e5, I5],
                [/(cros)\s[\w]+\s([\w\.]+\w)/i],
                [
                    [e5, R5], I5
                ],
                [/(sunos)\s?([\w\.]+\d)*/i],
                [
                    [e5, w5], I5
                ],
                [/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],
                [e5, I5],
                [/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],
                [
                    [e5, p5],
                    [I5, /_/g, d6t.b4x]
                ],
                [/(mac\sos\sx)\s?([\w\s\.]+\w)*/i, /(macintosh|mac(?=_powerpc)\s)/i],
                [
                    [e5, P5],
                    [I5, /_/g, d6t.b4x]
                ],
                [/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i, /(haiku)\s(\w+)/i, /(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i, /(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i, /(unix)\s?([\w\.]+)*/i],
                [e5, I5]
            ]
        },
        V4 = function(k, j) {
            if (this instanceof V4) {
                var o = k || (Y5 && Y5.navigator && Y5.navigator.userAgent ? Y5.navigator.userAgent : V5),
                    e = j ? H4.extend(T3, j) : T3;
                return this.getBrowser = function() {
                    var t = j4.rgx.apply(this, e.browser);
                    return t.major = H4.major(t.version), t;
                }, this.getCPU = function() {
                    return j4.rgx.apply(this, e.cpu);
                }, this.getDevice = function() {
                    return j4.rgx.apply(this, e.device);
                }, this.getEngine = function() {
                    return j4.rgx.apply(this, e.engine);
                }, this.getOS = function() {
                    return j4.rgx.apply(this, e.os);
                }, this.getResult = function() {
                    return {
                        ua: this.getUA(),
                        browser: this.getBrowser(),
                        engine: this.getEngine(),
                        os: this.getOS(),
                        device: this.getDevice(),
                        cpu: this.getCPU()
                    };
                }, this.getUA = function() {
                    return o;
                }, this.setUA = function(t) {
                    return o = t, this;
                }, this.setUA(o), this;
            }
            return (new V4(k, j)).getResult();
        };
    V4.VERSION = Q4, V4.BROWSER = {
        NAME: e5,
        MAJOR: P3,
        VERSION: I5
    }, V4.CPU = {
        ARCHITECTURE: x4
    }, V4.DEVICE = {
        MODEL: l5,
        VENDOR: X5,
        TYPE: E5,
        CONSOLE: J4,
        MOBILE: T6,
        SMARTTV: E4,
        TABLET: e6,
        WEARABLE: p3,
        EMBEDDED: R3
    }, V4.ENGINE = {
        NAME: e5,
        VERSION: I5
    }, V4.OS = {
        NAME: e5,
        VERSION: I5
    }, typeof exports !== t3 ? (typeof module !== t3 && module.exports && (exports = module.exports = V4), exports.UAParser = V4) : typeof define === h4 && define.amd ? define(d6t.W23, [], function() {
        return V4;
    }) : Y5.UAParser = V4;
    var z4 = Y5.jQuery || Y5.Zepto;
    if (typeof z4 !== t3) {
        var B4 = new V4;
        z4.ua = B4.getResult(), z4.ua.get = function() {
            return B4.getUA();
        }, z4.ua.set = function(t) {
            B4.setUA(t);
            var k = B4.getResult();
            for (var j in k) z4.ua[j] = k[j];
        };
    }
})(typeof window == d6t.O2f ? window : this);
'use strict';
define('gt/utils/device.info', ['bottom_line', 'gt/utils/device', 'gt/utils/browser', 'uaparser'], function(t, k, j, o) {
    var e = 'IE',
        q = 'Safari',
        m = 'Firefox',
        k5 = 'Chrome',
        C5 = 'Stock',
        H5 = 'Sony',
        j5 = 'Samsung',
        Y5 = navigator.userAgent,
        z5 = o(Y5);
    z5.screen = k.screen;
    if (!z5.device.type) {
        z5.device.type = k.desktop ? d6t.G4f : k.tablet ? d6t.g2f : k.mobile ? d6t.m3x : undefined;
    }
    if (!z5.device.vendor) {
        z5.device.vendor = k.samsung ? j5 : k.sony ? H5 : undefined;
    }
    if (!z5.browser.name) {
        z5.browser.name = j.stock ? C5 : j.chrome ? k5 : j.firefox ? m : j.safari ? q : j.ie ? e : undefined;
    }
    if (k.android && /safari/gi.test(z5.browser.name)) {
        z5.browser.major = undefined;
        z5.browser.name = j.stock ? d6t.x9H : undefined;
        z5.browser.version = j.stock ? k.androidVersion : undefined;
    }
    if (z5.device.vendor === H5 && !z5.device.model) {
        z5.device.model = (/so-\S+/gi.exec(Y5) || [])[d6t.W6];
    }
    k.info = z5;
    return z5;
});
define('gt/utils/polyfills', ['gt/utils/device', 'gt/utils/browser'], function(e, q) {
    if (q.ie) {
        var m;
        m = function(t, k) {
            var j = "CustomEvent",
                o;
            k = k || {
                bubbles: d6t.F18,
                cancelable: d6t.F18,
                detail: undefined
            };
            o = document.createEvent(j);
            o.initCustomEvent(t, k.bubbles, k.cancelable, k.detail);
            return o;
        };
        m.prototype = window.Event.prototype;
        window.CustomEvent = m;
    }

    function k5(t) {
        t.preventDefault();
        t.returnValue = d6t.F18;
    }
    if (window.addEventListener) {
        window.addEventListener(d6t.A3B, k5, d6t.F18);
    }
    window.onmousewheel = document.onmousewheel = k5;
    navigator.vibrate = navigator.vibrate || navigator.webkitVibrate || navigator.mozVibrate || navigator.msVibrate || function() {};
});
define('gt/utils/dom', ['bottom_line'], function(e) {
    e.extend(window, {
        dom: document.querySelector.bind(document),
        dom$: document.querySelectorAll.bind(document)
    });
    var q = function(t, k, j) {
        var o = function() {
            k.apply(d6t.B3x, arguments);
            this.removeEventListener(t, o);
        }.bind(this);
        this.on.call(this, t, o, j);
    };
    e.extend(Element.prototype, {
        enumerable: d6t.F18
    }, {
        on: Element.prototype.addEventListener,
        once: q
    });
    e.extend(Document.prototype, {
        enumerable: d6t.F18
    }, {
        on: Document.prototype.addEventListener,
        once: q
    });
    e.extend(window.constructor.prototype, {
        enumerable: d6t.F18
    }, {
        on: window.constructor.prototype.addEventListener,
        once: q
    });
});
var spine = {};
spine.BoneData = function(t, k) {
    this.name = t;
    this.parent = k;
};
spine.BoneData.prototype = {
    length: d6t.W6,
    x: d6t.W6,
    y: d6t.W6,
    rotation: d6t.W6,
    scaleX: d6t.A6,
    scaleY: d6t.A6
};
spine.SlotData = function(t, k) {
    this.name = t;
    this.boneData = k;
};
spine.SlotData.prototype = {
    r: d6t.A6,
    g: d6t.A6,
    b: d6t.A6,
    a: d6t.A6,
    attachmentName: d6t.B3x
};
spine.Bone = function(t, k) {
    this.data = t;
    this.parent = k;
    this.setToSetupPose();
};
spine.Bone.yDown = d6t.F18;
spine.Bone.prototype = {
    x: d6t.W6,
    y: d6t.W6,
    rotation: d6t.W6,
    scaleX: d6t.A6,
    scaleY: d6t.A6,
    m00: d6t.W6,
    m01: d6t.W6,
    worldX: d6t.W6,
    m10: d6t.W6,
    m11: d6t.W6,
    worldY: d6t.W6,
    worldRotation: d6t.W6,
    worldScaleX: d6t.A6,
    worldScaleY: d6t.A6,
    updateWorldTransform: function(t, k) {
        var j = this.parent;
        if (j != d6t.B3x) {
            this.worldX = this.x * j.m00 + this.y * j.m01 + j.worldX;
            this.worldY = this.x * j.m10 + this.y * j.m11 + j.worldY;
            this.worldScaleX = j.worldScaleX * this.scaleX;
            this.worldScaleY = j.worldScaleY * this.scaleY;
            this.worldRotation = j.worldRotation + this.rotation;
        } else {
            this.worldX = this.x;
            this.worldY = this.y;
            this.worldScaleX = this.scaleX;
            this.worldScaleY = this.scaleY;
            this.worldRotation = this.rotation;
        }
        var o = this.worldRotation * Math.PI / d6t.D6B,
            e = Math.cos(o),
            q = Math.sin(o);
        this.m00 = e * this.worldScaleX;
        this.m10 = q * this.worldScaleX;
        this.m01 = -q * this.worldScaleY;
        this.m11 = e * this.worldScaleY;
        if (t) {
            this.m00 = -this.m00;
            this.m01 = -this.m01;
        }
        if (k) {
            this.m10 = -this.m10;
            this.m11 = -this.m11;
        }
        if (spine.Bone.yDown) {
            this.m10 = -this.m10;
            this.m11 = -this.m11;
        }
    },
    setToSetupPose: function() {
        var t = this.data;
        this.x = t.x;
        this.y = t.y;
        this.rotation = t.rotation;
        this.scaleX = t.scaleX;
        this.scaleY = t.scaleY;
    }
};
spine.Slot = function(t, k, j) {
    this.data = t;
    this.skeleton = k;
    this.bone = j;
    this.setToSetupPose();
};
spine.Slot.prototype = {
    r: d6t.A6,
    g: d6t.A6,
    b: d6t.A6,
    a: d6t.A6,
    _attachmentTime: d6t.W6,
    attachment: d6t.B3x,
    setAttachment: function(t) {
        this.attachment = t;
        this._attachmentTime = this.skeleton.time;
    },
    setAttachmentTime: function(t) {
        this._attachmentTime = this.skeleton.time - t;
    },
    getAttachmentTime: function() {
        return this.skeleton.time - this._attachmentTime;
    },
    setToSetupPose: function() {
        var t = this.data;
        this.r = t.r;
        this.g = t.g;
        this.b = t.b;
        this.a = t.a;
        var k = this.skeleton.data.slots;
        for (var j = d6t.W6, o = k.length; j < o; j++) {
            if (k[j] == t) {
                this.setAttachment(!t.attachmentName ? d6t.B3x : this.skeleton.getAttachmentBySlotIndex(j, t.attachmentName));
                break;
            }
        }
    }
};
spine.Skin = function(t) {
    this.name = t;
    this.attachments = {};
};
spine.Skin.prototype = {
    addAttachment: function(t, k, j) {
        this.attachments[t + d6t.R8x + k] = j;
    },
    getAttachment: function(t, k) {
        return this.attachments[t + d6t.R8x + k];
    },
    _attachAll: function(t, k) {
        for (var j in k.attachments) {
            var o = j.indexOf(d6t.R8x),
                e = parseInt(j.substring(d6t.W6, o), d6t.x7x),
                q = j.substring(o + d6t.A6),
                m = t.slots[e];
            if (m.attachment && m.attachment.name == q) {
                var k5 = this.getAttachment(e, q);
                if (k5) m.setAttachment(k5);
            }
        }
    }
};
spine.Animation = function(t, k, j) {
    this.name = t;
    this.timelines = k;
    this.duration = j;
};
spine.Animation.prototype = {
    apply: function(t, k, j) {
        if (j && this.duration) k %= this.duration;
        var o = this.timelines;
        for (var e = d6t.W6, q = o.length; e < q; e++) o[e].apply(t, k, d6t.A6);
    },
    mix: function(t, k, j, o) {
        if (j && this.duration) k %= this.duration;
        var e = this.timelines;
        for (var q = d6t.W6, m = e.length; q < m; q++) e[q].apply(t, k, o);
    }
};
spine.binarySearch = function(t, k, j) {
    var o = d6t.W6,
        e = Math.floor(t.length / j) - d6t.D6;
    if (!e) return j;
    var q = e >>> d6t.A6;
    while (d6t.s73) {
        if (t[(q + d6t.A6) * j] <= k) o = q + d6t.A6;
        else e = q;
        if (o == e) return (o + d6t.A6) * j;
        q = (o + e) >>> d6t.A6;
    }
};
spine.linearSearch = function(t, k, j) {
    for (var o = d6t.W6, e = t.length - j; o <= e; o += j)
        if (t[o] > k) return o;
    return -d6t.A6;
};
spine.Curves = function(t) {
    this.curves = [];
    this.curves.length = (t - d6t.A6) * d6t.J6;
};
spine.Curves.prototype = {
    setLinear: function(t) {
        this.curves[t * d6t.J6] = d6t.W6;
    },
    setStepped: function(t) {
        this.curves[t * d6t.J6] = -d6t.A6;
    },
    setCurve: function(t, k, j, o, e) {
        var q = d6t.A6 / d6t.x7x,
            m = q * q,
            k5 = m * q,
            C5 = d6t.B6 * q,
            H5 = d6t.B6 * m,
            j5 = d6t.J6 * m,
            Y5 = d6t.J6 * k5,
            z5 = -k * d6t.D6 + o,
            P5 = -j * d6t.D6 + e,
            p5 = (k - o) * d6t.B6 + d6t.A6,
            w5 = (j - e) * d6t.B6 + d6t.A6,
            R5 = t * d6t.J6,
            r5 = this.curves;
        r5[R5] = k * C5 + z5 * H5 + p5 * k5;
        r5[R5 + d6t.A6] = j * C5 + P5 * H5 + w5 * k5;
        r5[R5 + d6t.D6] = z5 * j5 + p5 * Y5;
        r5[R5 + d6t.B6] = P5 * j5 + w5 * Y5;
        r5[R5 + d6t.M6] = p5 * Y5;
        r5[R5 + d6t.U6] = w5 * Y5;
    },
    getCurvePercent: function(t, k) {
        k = k < d6t.W6 ? d6t.W6 : (k > d6t.A6 ? d6t.A6 : k);
        var j = t * d6t.J6,
            o = this.curves,
            e = o[j];
        if (!e) return k;
        if (e == -d6t.A6) return d6t.W6;
        var q = o[j + d6t.A6],
            m = o[j + d6t.D6],
            k5 = o[j + d6t.B6],
            C5 = o[j + d6t.M6],
            H5 = o[j + d6t.U6],
            j5 = e,
            Y5 = q,
            z5 = d6t.x7x - d6t.D6;
        while (d6t.s73) {
            if (j5 >= k) {
                var P5 = j5 - e,
                    p5 = Y5 - q;
                return p5 + (Y5 - p5) * (k - P5) / (j5 - P5);
            }
            if (!z5) break;
            z5--;
            e += m;
            q += k5;
            m += C5;
            k5 += H5;
            j5 += e;
            Y5 += q;
        }
        return Y5 + (d6t.A6 - Y5) * (k - j5) / (d6t.A6 - j5);
    }
};
spine.RotateTimeline = function(t) {
    this.curves = new spine.Curves(t);
    this.frames = [];
    this.frames.length = t * d6t.D6;
};
spine.RotateTimeline.prototype = {
    boneIndex: d6t.W6,
    getFrameCount: function() {
        return this.frames.length / d6t.D6;
    },
    setFrame: function(t, k, j) {
        t *= d6t.D6;
        this.frames[t] = k;
        this.frames[t + d6t.A6] = j;
    },
    apply: function(t, k, j) {
        var o = this.frames,
            e;
        if (k < o[d6t.W6]) return;
        var q = t.bones[this.boneIndex];
        if (k >= o[o.length - d6t.D6]) {
            e = q.data.rotation + o[o.length - d6t.A6] - q.rotation;
            while (e > d6t.D6B) e -= d6t.v7x;
            while (e < -d6t.D6B) e += d6t.v7x;
            q.rotation += e * j;
            return;
        }
        var m = spine.binarySearch(o, k, d6t.D6),
            k5 = o[m - d6t.A6],
            C5 = o[m],
            H5 = d6t.A6 - (k - C5) / (o[m - d6t.D6] - C5);
        H5 = this.curves.getCurvePercent(m / d6t.D6 - d6t.A6, H5);
        e = o[m + d6t.A6] - k5;
        while (e > d6t.D6B) e -= d6t.v7x;
        while (e < -d6t.D6B) e += d6t.v7x;
        e = q.data.rotation + (k5 + e * H5) - q.rotation;
        while (e > d6t.D6B) e -= d6t.v7x;
        while (e < -d6t.D6B) e += d6t.v7x;
        q.rotation += e * j;
    }
};
spine.TranslateTimeline = function(t) {
    this.curves = new spine.Curves(t);
    this.frames = [];
    this.frames.length = t * d6t.B6;
};
spine.TranslateTimeline.prototype = {
    boneIndex: d6t.W6,
    getFrameCount: function() {
        return this.frames.length / d6t.B6;
    },
    setFrame: function(t, k, j, o) {
        t *= d6t.B6;
        this.frames[t] = k;
        this.frames[t + d6t.A6] = j;
        this.frames[t + d6t.D6] = o;
    },
    apply: function(t, k, j) {
        var o = this.frames;
        if (k < o[d6t.W6]) return;
        var e = t.bones[this.boneIndex];
        if (k >= o[o.length - d6t.B6]) {
            e.x += (e.data.x + o[o.length - d6t.D6] - e.x) * j;
            e.y += (e.data.y + o[o.length - d6t.A6] - e.y) * j;
            return;
        }
        var q = spine.binarySearch(o, k, d6t.B6),
            m = o[q - d6t.D6],
            k5 = o[q - d6t.A6],
            C5 = o[q],
            H5 = d6t.A6 - (k - C5) / (o[q + -d6t.B6] - C5);
        H5 = this.curves.getCurvePercent(q / d6t.B6 - d6t.A6, H5);
        e.x += (e.data.x + m + (o[q + d6t.A6] - m) * H5 - e.x) * j;
        e.y += (e.data.y + k5 + (o[q + d6t.D6] - k5) * H5 - e.y) * j;
    }
};
spine.ScaleTimeline = function(t) {
    this.curves = new spine.Curves(t);
    this.frames = [];
    this.frames.length = t * d6t.B6;
};
spine.ScaleTimeline.prototype = {
    boneIndex: d6t.W6,
    getFrameCount: function() {
        return this.frames.length / d6t.B6;
    },
    setFrame: function(t, k, j, o) {
        t *= d6t.B6;
        this.frames[t] = k;
        this.frames[t + d6t.A6] = j;
        this.frames[t + d6t.D6] = o;
    },
    apply: function(t, k, j) {
        var o = this.frames;
        if (k < o[d6t.W6]) return;
        var e = t.bones[this.boneIndex];
        if (k >= o[o.length - d6t.B6]) {
            e.scaleX += (e.data.scaleX - d6t.A6 + o[o.length - d6t.D6] - e.scaleX) * j;
            e.scaleY += (e.data.scaleY - d6t.A6 + o[o.length - d6t.A6] - e.scaleY) * j;
            return;
        }
        var q = spine.binarySearch(o, k, d6t.B6),
            m = o[q - d6t.D6],
            k5 = o[q - d6t.A6],
            C5 = o[q],
            H5 = d6t.A6 - (k - C5) / (o[q + -d6t.B6] - C5);
        H5 = this.curves.getCurvePercent(q / d6t.B6 - d6t.A6, H5);
        e.scaleX += (e.data.scaleX - d6t.A6 + m + (o[q + d6t.A6] - m) * H5 - e.scaleX) * j;
        e.scaleY += (e.data.scaleY - d6t.A6 + k5 + (o[q + d6t.D6] - k5) * H5 - e.scaleY) * j;
    }
};
spine.ColorTimeline = function(t) {
    this.curves = new spine.Curves(t);
    this.frames = [];
    this.frames.length = t * d6t.U6;
};
spine.ColorTimeline.prototype = {
    slotIndex: d6t.W6,
    getFrameCount: function() {
        return this.frames.length / d6t.U6;
    },
    setFrame: function(t, k, j, o, e, q) {
        t *= d6t.U6;
        this.frames[t] = k;
        this.frames[t + d6t.A6] = j;
        this.frames[t + d6t.D6] = o;
        this.frames[t + d6t.B6] = e;
        this.frames[t + d6t.M6] = q;
    },
    apply: function(t, k, j) {
        var o = this.frames;
        if (k < o[d6t.W6]) return;
        var e = t.slots[this.slotIndex];
        if (k >= o[o.length - d6t.U6]) {
            var q = o.length - d6t.A6;
            e.r = o[q - d6t.B6];
            e.g = o[q - d6t.D6];
            e.b = o[q - d6t.A6];
            e.a = o[q];
            return;
        }
        var m = spine.binarySearch(o, k, d6t.U6),
            k5 = o[m - d6t.M6],
            C5 = o[m - d6t.B6],
            H5 = o[m - d6t.D6],
            j5 = o[m - d6t.A6],
            Y5 = o[m],
            z5 = d6t.A6 - (k - Y5) / (o[m - d6t.U6] - Y5);
        z5 = this.curves.getCurvePercent(m / d6t.U6 - d6t.A6, z5);
        var P5 = k5 + (o[m + d6t.A6] - k5) * z5,
            p5 = C5 + (o[m + d6t.D6] - C5) * z5,
            w5 = H5 + (o[m + d6t.B6] - H5) * z5,
            R5 = j5 + (o[m + d6t.M6] - j5) * z5;
        if (j < d6t.A6) {
            e.r += (P5 - e.r) * j;
            e.g += (p5 - e.g) * j;
            e.b += (w5 - e.b) * j;
            e.a += (R5 - e.a) * j;
        } else {
            e.r = P5;
            e.g = p5;
            e.b = w5;
            e.a = R5;
        }
    }
};
spine.AttachmentTimeline = function(t) {
    this.curves = new spine.Curves(t);
    this.frames = [];
    this.frames.length = t;
    this.attachmentNames = [];
    this.attachmentNames.length = t;
};
spine.AttachmentTimeline.prototype = {
    slotIndex: d6t.W6,
    getFrameCount: function() {
        return this.frames.length;
    },
    setFrame: function(t, k, j) {
        this.frames[t] = k;
        this.attachmentNames[t] = j;
    },
    apply: function(t, k, j) {
        var o = this.frames;
        if (k < o[d6t.W6]) return;
        var e;
        if (k >= o[o.length - d6t.A6]) e = o.length - d6t.A6;
        else e = spine.binarySearch(o, k, d6t.A6) - d6t.A6;
        var q = this.attachmentNames[e];
        t.slots[this.slotIndex].setAttachment(!q ? d6t.B3x : t.getAttachmentBySlotIndex(this.slotIndex, q));
    }
};
spine.SkeletonData = function() {
    this.bones = [];
    this.slots = [];
    this.skins = [];
    this.animations = [];
};
spine.SkeletonData.prototype = {
    defaultSkin: d6t.B3x,
    findBone: function(t) {
        var k = this.bones;
        for (var j = d6t.W6, o = k.length; j < o; j++)
            if (k[j].name == t) return k[j];
        return d6t.B3x;
    },
    findBoneIndex: function(t) {
        var k = this.bones;
        for (var j = d6t.W6, o = k.length; j < o; j++)
            if (k[j].name == t) return j;
        return -d6t.A6;
    },
    findSlot: function(t) {
        var k = this.slots;
        for (var j = d6t.W6, o = k.length; j < o; j++) {
            if (k[j].name == t) return slot[j];
        }
        return d6t.B3x;
    },
    findSlotIndex: function(t) {
        var k = this.slots;
        for (var j = d6t.W6, o = k.length; j < o; j++)
            if (k[j].name == t) return j;
        return -d6t.A6;
    },
    findSkin: function(t) {
        var k = this.skins;
        for (var j = d6t.W6, o = k.length; j < o; j++)
            if (k[j].name == t) return k[j];
        return d6t.B3x;
    },
    findAnimation: function(t) {
        var k = this.animations;
        for (var j = d6t.W6, o = k.length; j < o; j++)
            if (k[j].name == t) return k[j];
        return d6t.B3x;
    }
};
spine.Skeleton = function(t) {
    this.data = t;
    this.bones = [];
    for (var k = d6t.W6, j = t.bones.length; k < j; k++) {
        var o = t.bones[k],
            e = !o.parent ? d6t.B3x : this.bones[t.bones.indexOf(o.parent)];
        this.bones.push(new spine.Bone(o, e));
    }
    this.slots = [];
    this.drawOrder = [];
    for (k = d6t.W6, j = t.slots.length; k < j; k++) {
        var q = t.slots[k],
            m = this.bones[t.bones.indexOf(q.boneData)],
            k5 = new spine.Slot(q, this, m);
        this.slots.push(k5);
        this.drawOrder.push(k5);
    }
};
spine.Skeleton.prototype = {
    x: d6t.W6,
    y: d6t.W6,
    skin: d6t.B3x,
    r: d6t.A6,
    g: d6t.A6,
    b: d6t.A6,
    a: d6t.A6,
    time: d6t.W6,
    flipX: d6t.F18,
    flipY: d6t.F18,
    updateWorldTransform: function() {
        var t = this.flipX,
            k = this.flipY,
            j = this.bones;
        for (var o = d6t.W6, e = j.length; o < e; o++) j[o].updateWorldTransform(t, k);
    },
    setToSetupPose: function() {
        this.setBonesToSetupPose();
        this.setSlotsToSetupPose();
    },
    setBonesToSetupPose: function() {
        var t = this.bones;
        for (var k = d6t.W6, j = t.length; k < j; k++) t[k].setToSetupPose();
    },
    setSlotsToSetupPose: function() {
        var t = this.slots;
        for (var k = d6t.W6, j = t.length; k < j; k++) t[k].setToSetupPose(k);
    },
    getRootBone: function() {
        return this.bones.length ? this.bones[d6t.W6] : d6t.B3x;
    },
    findBone: function(t) {
        var k = this.bones;
        for (var j = d6t.W6, o = k.length; j < o; j++)
            if (k[j].data.name == t) return k[j];
        return d6t.B3x;
    },
    findBoneIndex: function(t) {
        var k = this.bones;
        for (var j = d6t.W6, o = k.length; j < o; j++)
            if (k[j].data.name == t) return j;
        return -d6t.A6;
    },
    findSlot: function(t) {
        var k = this.slots;
        for (var j = d6t.W6, o = k.length; j < o; j++)
            if (k[j].data.name == t) return k[j];
        return d6t.B3x;
    },
    findSlotIndex: function(t) {
        var k = this.slots;
        for (var j = d6t.W6, o = k.length; j < o; j++)
            if (k[j].data.name == t) return j;
        return -d6t.A6;
    },
    setSkinByName: function(t) {
        var k = "Skin not found: ",
            j = this.data.findSkin(t);
        if (!j) throw k + t;
        this.setSkin(j);
    },
    setSkin: function(t) {
        if (this.skin && t) t._attachAll(this, this.skin);
        this.skin = t;
    },
    getAttachmentBySlotName: function(t, k) {
        return this.getAttachmentBySlotIndex(this.data.findSlotIndex(t), k);
    },
    getAttachmentBySlotIndex: function(t, k) {
        if (this.skin) {
            var j = this.skin.getAttachment(t, k);
            if (j) return j;
        }
        if (this.data.defaultSkin) return this.data.defaultSkin.getAttachment(t, k);
        return d6t.B3x;
    },
    setAttachment: function(t, k) {
        var j = "Slot not found: ",
            o = ", for slot: ",
            e = "Attachment not found: ",
            q = this.slots;
        for (var m = d6t.W6, k5 = q.size; m < k5; m++) {
            var C5 = q[m];
            if (C5.data.name == t) {
                var H5 = d6t.B3x;
                if (k) {
                    H5 = this.getAttachment(m, k);
                    if (H5 == d6t.B3x) throw e + k + o + t;
                }
                C5.setAttachment(H5);
                return;
            }
        }
        throw j + t;
    },
    update: function(t) {
        time += t;
    }
};
spine.AttachmentType = {
    region: d6t.W6
};
spine.RegionAttachment = function() {
    this.offset = [];
    this.offset.length = d6t.d6;
    this.uvs = [];
    this.uvs.length = d6t.d6;
};
spine.RegionAttachment.prototype = {
    x: d6t.W6,
    y: d6t.W6,
    rotation: d6t.W6,
    scaleX: d6t.A6,
    scaleY: d6t.A6,
    width: d6t.W6,
    height: d6t.W6,
    rendererObject: d6t.B3x,
    regionOffsetX: d6t.W6,
    regionOffsetY: d6t.W6,
    regionWidth: d6t.W6,
    regionHeight: d6t.W6,
    regionOriginalWidth: d6t.W6,
    regionOriginalHeight: d6t.W6,
    setUVs: function(t, k, j, o, e) {
        var q = this.uvs;
        if (e) {
            q[d6t.D6] = t;
            q[d6t.B6] = o;
            q[d6t.M6] = t;
            q[d6t.U6] = k;
            q[d6t.J6] = j;
            q[d6t.v6] = k;
            q[d6t.W6] = j;
            q[d6t.A6] = o;
        } else {
            q[d6t.W6] = t;
            q[d6t.A6] = o;
            q[d6t.D6] = t;
            q[d6t.B6] = k;
            q[d6t.M6] = j;
            q[d6t.U6] = k;
            q[d6t.J6] = j;
            q[d6t.v6] = o;
        }
    },
    updateOffset: function() {
        var t = this.width / this.regionOriginalWidth * this.scaleX,
            k = this.height / this.regionOriginalHeight * this.scaleY,
            j = -this.width / d6t.D6 * this.scaleX + this.regionOffsetX * t,
            o = -this.height / d6t.D6 * this.scaleY + this.regionOffsetY * k,
            e = j + this.regionWidth * t,
            q = o + this.regionHeight * k,
            m = this.rotation * Math.PI / d6t.D6B,
            k5 = Math.cos(m),
            C5 = Math.sin(m),
            H5 = j * k5 + this.x,
            j5 = j * C5,
            Y5 = o * k5 + this.y,
            z5 = o * C5,
            P5 = e * k5 + this.x,
            p5 = e * C5,
            w5 = q * k5 + this.y,
            R5 = q * C5,
            r5 = this.offset;
        r5[d6t.W6] = H5 - z5;
        r5[d6t.A6] = Y5 + j5;
        r5[d6t.D6] = H5 - R5;
        r5[d6t.B6] = w5 + j5;
        r5[d6t.M6] = P5 - R5;
        r5[d6t.U6] = w5 + p5;
        r5[d6t.J6] = P5 - z5;
        r5[d6t.v6] = Y5 + p5;
    },
    computeVertices: function(t, k, j, o) {
        t += j.worldX;
        k += j.worldY;
        var e = j.m00,
            q = j.m01,
            m = j.m10,
            k5 = j.m11,
            C5 = this.offset;
        o[d6t.W6] = C5[d6t.W6] * e + C5[d6t.A6] * q + t;
        o[d6t.A6] = C5[d6t.W6] * m + C5[d6t.A6] * k5 + k;
        o[d6t.D6] = C5[d6t.D6] * e + C5[d6t.B6] * q + t;
        o[d6t.B6] = C5[d6t.D6] * m + C5[d6t.B6] * k5 + k;
        o[d6t.M6] = C5[d6t.M6] * e + C5[d6t.U6] * q + t;
        o[d6t.U6] = C5[d6t.M6] * m + C5[d6t.U6] * k5 + k;
        o[d6t.J6] = C5[d6t.J6] * e + C5[d6t.v6] * q + t;
        o[d6t.v6] = C5[d6t.J6] * m + C5[d6t.v6] * k5 + k;
    }
};
spine.AnimationStateData = function(t) {
    this.skeletonData = t;
    this.animationToMixTime = {};
};
spine.AnimationStateData.prototype = {
    defaultMix: d6t.W6,
    setMixByName: function(t, k, j) {
        var o = this.skeletonData.findAnimation(t);
        if (!o) throw d6t.g78 + t;
        var e = this.skeletonData.findAnimation(k);
        if (!e) throw d6t.g78 + k;
        this.setMix(o, e, j);
    },
    setMix: function(t, k, j) {
        this.animationToMixTime[t.name + d6t.R8x + k.name] = j;
    },
    getMix: function(t, k) {
        var j = this.animationToMixTime[t.name + d6t.R8x + k.name];
        return j ? j : this.defaultMix;
    }
};
spine.AnimationState = function(t) {
    this.data = t;
    this.queue = [];
};
spine.AnimationState.prototype = {
    animationSpeed: d6t.A6,
    current: d6t.B3x,
    previous: d6t.B3x,
    currentTime: d6t.W6,
    previousTime: d6t.W6,
    currentLoop: d6t.F18,
    previousLoop: d6t.F18,
    mixTime: d6t.W6,
    mixDuration: d6t.W6,
    update: function(t) {
        this.currentTime += (t * this.animationSpeed);
        this.previousTime += t;
        this.mixTime += t;
        if (this.queue.length > d6t.W6) {
            var k = this.queue[d6t.W6];
            if (this.currentTime >= k.delay) {
                this._setAnimation(k.animation, k.loop);
                this.queue.shift();
            }
        }
    },
    apply: function(t) {
        if (!this.current) return;
        if (this.previous) {
            this.previous.apply(t, this.previousTime, this.previousLoop);
            var k = this.mixTime / this.mixDuration;
            if (k >= d6t.A6) {
                k = d6t.A6;
                this.previous = d6t.B3x;
            }
            this.current.mix(t, this.currentTime, this.currentLoop, k);
        } else this.current.apply(t, this.currentTime, this.currentLoop);
    },
    clearAnimation: function() {
        this.previous = d6t.B3x;
        this.current = d6t.B3x;
        this.queue.length = d6t.W6;
    },
    _setAnimation: function(t, k) {
        this.previous = d6t.B3x;
        if (t && this.current) {
            this.mixDuration = this.data.getMix(this.current, t);
            if (this.mixDuration > d6t.W6) {
                this.mixTime = d6t.W6;
                this.previous = this.current;
                this.previousTime = this.currentTime;
                this.previousLoop = this.currentLoop;
            }
        }
        this.current = t;
        this.currentLoop = k;
        this.currentTime = d6t.W6;
    },
    setAnimationByName: function(t, k) {
        var j = this.data.skeletonData.findAnimation(t);
        if (!j) throw d6t.g78 + t;
        this.setAnimation(j, k);
    },
    setAnimation: function(t, k) {
        this.queue.length = d6t.W6;
        this._setAnimation(t, k);
    },
    addAnimationByName: function(t, k, j) {
        var o = this.data.skeletonData.findAnimation(t);
        if (!o) throw d6t.g78 + t;
        this.addAnimation(o, k, j);
    },
    addAnimation: function(t, k, j) {
        var o = {};
        o.animation = t;
        o.loop = k;
        if (!j || j <= d6t.W6) {
            var e = this.queue.length ? this.queue[this.queue.length - d6t.A6].animation : this.current;
            if (e != d6t.B3x) j = e.duration - this.data.getMix(e, t) + (j || d6t.W6);
            else j = d6t.W6;
        }
        o.delay = j;
        this.queue.push(o);
    },
    isComplete: function() {
        return !this.current || this.currentTime >= this.current.duration;
    }
};
spine.SkeletonJson = function(t) {
    this.attachmentLoader = t;
};
spine.SkeletonJson.prototype = {
    scale: d6t.A6,
    readSkeletonData: function(t) {
        var k = "animations",
            j = "skins",
            o = "Slot bone not found: ",
            e = "bone",
            q = "Parent bone not found: ",
            m = "parent",
            k5 = new spine.SkeletonData(),
            C5, H5 = t[d6t.m1f];
        for (var j5 = d6t.W6, Y5 = H5.length; j5 < Y5; j5++) {
            var z5 = H5[j5],
                P5 = d6t.B3x;
            if (z5[m]) {
                P5 = k5.findBone(z5[m]);
                if (!P5) throw q + z5[m];
            }
            C5 = new spine.BoneData(z5[d6t.y88], P5);
            C5.length = (z5[d6t.e23] || d6t.W6) * this.scale;
            C5.x = (z5[d6t.m5f] || d6t.W6) * this.scale;
            C5.y = (z5[d6t.w6f] || d6t.W6) * this.scale;
            C5.rotation = (z5[d6t.I7] || d6t.W6);
            C5.scaleX = z5[d6t.J1] || d6t.A6;
            C5.scaleY = z5[d6t.n8] || d6t.A6;
            k5.bones.push(C5);
        }
        var p5 = t[d6t.R3B];
        for (j5 = d6t.W6, Y5 = p5.length; j5 < Y5; j5++) {
            var w5 = p5[j5];
            C5 = k5.findBone(w5[e]);
            if (!C5) throw o + w5[e];
            var R5 = new spine.SlotData(w5[d6t.y88], C5),
                r5 = w5[d6t.u5f];
            if (r5) {
                R5.r = spine.SkeletonJson.toColor(r5, d6t.W6);
                R5.g = spine.SkeletonJson.toColor(r5, d6t.A6);
                R5.b = spine.SkeletonJson.toColor(r5, d6t.D6);
                R5.a = spine.SkeletonJson.toColor(r5, d6t.B6);
            }
            R5.attachmentName = w5[d6t.V03];
            k5.slots.push(R5);
        }
        var T5 = t[j];
        for (var a5 in T5) {
            if (!T5.hasOwnProperty(a5)) continue;
            var x5 = T5[a5],
                f5 = new spine.Skin(a5);
            for (var A5 in x5) {
                if (!x5.hasOwnProperty(A5)) continue;
                var u5 = k5.findSlotIndex(A5),
                    B5 = x5[A5];
                for (var D5 in B5) {
                    if (!B5.hasOwnProperty(D5)) continue;
                    var o5 = this.readAttachment(f5, D5, B5[D5]);
                    if (o5 != d6t.B3x) f5.addAttachment(u5, D5, o5);
                }
            }
            k5.skins.push(f5);
            if (f5.name == d6t.M1x) k5.defaultSkin = f5;
        }
        var N5 = t[k];
        for (var y5 in N5) {
            if (!N5.hasOwnProperty(y5)) continue;
            this.readAnimation(y5, N5[y5], k5);
        }
        return k5;
    },
    readAttachment: function(t, k, j) {
        var o = "region";
        k = j[d6t.y88] || k;
        var e = spine.AttachmentType[j[d6t.p08] || o];
        if (e == spine.AttachmentType.region) {
            var q = new spine.RegionAttachment();
            q.x = (j[d6t.m5f] || d6t.W6) * this.scale;
            q.y = (j[d6t.w6f] || d6t.W6) * this.scale;
            q.scaleX = j[d6t.J1] || d6t.A6;
            q.scaleY = j[d6t.n8] || d6t.A6;
            q.rotation = j[d6t.I7] || d6t.W6;
            q.width = (j[d6t.K5B] || d6t.z9x) * this.scale;
            q.height = (j[d6t.B2f] || d6t.z9x) * this.scale;
            q.updateOffset();
            q.rendererObject = {};
            q.rendererObject.name = k;
            q.rendererObject.scale = {};
            q.rendererObject.scale.x = q.scaleX;
            q.rendererObject.scale.y = q.scaleY;
            q.rendererObject.rotation = -q.rotation * Math.PI / d6t.D6B;
            return q;
        }
        throw d6t.p8 + e;
    },
    readAnimation: function(t, k, j) {
        var o = "Invalid timeline type for a slot: ",
            e = "Invalid timeline type for a bone: ",
            q = "scale",
            m = "translate",
            k5 = "time",
            C5 = "rotate",
            H5 = "Bone not found: ",
            j5 = [],
            Y5 = d6t.W6,
            z5, P5, p5, w5, R5, r5, T5, a5 = k[d6t.m1f];
        for (var x5 in a5) {
            if (!a5.hasOwnProperty(x5)) continue;
            var f5 = j.findBoneIndex(x5);
            if (f5 == -d6t.A6) throw H5 + x5;
            var A5 = a5[x5];
            for (p5 in A5) {
                if (!A5.hasOwnProperty(p5)) continue;
                R5 = A5[p5];
                if (p5 == C5) {
                    P5 = new spine.RotateTimeline(R5.length);
                    P5.boneIndex = f5;
                    z5 = d6t.W6;
                    for (r5 = d6t.W6, T5 = R5.length; r5 < T5; r5++) {
                        w5 = R5[r5];
                        P5.setFrame(z5, w5[k5], w5[d6t.F1f]);
                        spine.SkeletonJson.readCurve(P5, z5, w5);
                        z5++;
                    }
                    j5.push(P5);
                    Y5 = Math.max(Y5, P5.frames[P5.getFrameCount() * d6t.D6 - d6t.D6]);
                } else if (p5 == m || p5 == q) {
                    var u5 = d6t.A6;
                    if (p5 == q) P5 = new spine.ScaleTimeline(R5.length);
                    else {
                        P5 = new spine.TranslateTimeline(R5.length);
                        u5 = this.scale;
                    }
                    P5.boneIndex = f5;
                    z5 = d6t.W6;
                    for (r5 = d6t.W6, T5 = R5.length; r5 < T5; r5++) {
                        w5 = R5[r5];
                        var B5 = (w5[d6t.m5f] || d6t.W6) * u5,
                            D5 = (w5[d6t.w6f] || d6t.W6) * u5;
                        P5.setFrame(z5, w5[k5], B5, D5);
                        spine.SkeletonJson.readCurve(P5, z5, w5);
                        z5++;
                    }
                    j5.push(P5);
                    Y5 = Math.max(Y5, P5.frames[P5.getFrameCount() * d6t.B6 - d6t.B6]);
                } else throw e + p5 + d6t.e8f + x5 + d6t.u6x;
            }
        }
        var o5 = k[d6t.R3B];
        for (var N5 in o5) {
            if (!o5.hasOwnProperty(N5)) continue;
            var y5 = o5[N5],
                U5 = j.findSlotIndex(N5);
            for (p5 in y5) {
                if (!y5.hasOwnProperty(p5)) continue;
                R5 = y5[p5];
                if (p5 == d6t.u5f) {
                    P5 = new spine.ColorTimeline(R5.length);
                    P5.slotIndex = U5;
                    z5 = d6t.W6;
                    for (r5 = d6t.W6, T5 = R5.length; r5 < T5; r5++) {
                        w5 = R5[r5];
                        var W5 = w5[d6t.u5f],
                            J5 = spine.SkeletonJson.toColor(W5, d6t.W6),
                            g5 = spine.SkeletonJson.toColor(W5, d6t.A6),
                            c5 = spine.SkeletonJson.toColor(W5, d6t.D6),
                            Z5 = spine.SkeletonJson.toColor(W5, d6t.B6);
                        P5.setFrame(z5, w5[k5], J5, g5, c5, Z5);
                        spine.SkeletonJson.readCurve(P5, z5, w5);
                        z5++;
                    }
                    j5.push(P5);
                    Y5 = Math.max(Y5, P5.frames[P5.getFrameCount() * d6t.U6 - d6t.U6]);
                } else if (p5 == d6t.V03) {
                    P5 = new spine.AttachmentTimeline(R5.length);
                    P5.slotIndex = U5;
                    z5 = d6t.W6;
                    for (r5 = d6t.W6, T5 = R5.length; r5 < T5; r5++) {
                        w5 = R5[r5];
                        P5.setFrame(z5++, w5[k5], w5[d6t.y88]);
                    }
                    j5.push(P5);
                    Y5 = Math.max(Y5, P5.frames[P5.getFrameCount() - d6t.A6]);
                } else throw o + p5 + d6t.e8f + N5 + d6t.u6x;
            }
        }
        j.animations.push(new spine.Animation(t, j5, Y5));
    }
};
spine.SkeletonJson.readCurve = function(t, k, j) {
    var o = "stepped",
        e = "curve",
        q = j[e];
    if (!q) return;
    if (q == o) t.curves.setStepped(k);
    else if (q instanceof Array) t.curves.setCurve(k, q[d6t.W6], q[d6t.A6], q[d6t.D6], q[d6t.B6]);
};
spine.SkeletonJson.toColor = function(t, k) {
    var j = "Color hexidecimal length must be 8, recieved: ";
    if (t.length != d6t.d6) throw j + t;
    return parseInt(t.substr(k * d6t.D6, d6t.D6), d6t.M7x) / d6t.s8;
};
spine.Atlas = function(t, k) {
    var j = "true",
        o = "xy";
    this.textureLoader = k;
    this.pages = [];
    this.regions = [];
    var e = new spine.AtlasReader(t),
        q = [];
    q.length = d6t.M6;
    var m = d6t.B3x;
    while (d6t.s73) {
        var k5 = e.readLine();
        if (k5 == d6t.B3x) break;
        k5 = e.trim(k5);
        if (!k5.length) m = d6t.B3x;
        else if (!m) {
            m = new spine.AtlasPage();
            m.name = k5;
            m.format = spine.Atlas.Format[e.readValue()];
            e.readTuple(q);
            m.minFilter = spine.Atlas.TextureFilter[q[d6t.W6]];
            m.magFilter = spine.Atlas.TextureFilter[q[d6t.A6]];
            var C5 = e.readValue();
            m.uWrap = spine.Atlas.TextureWrap.clampToEdge;
            m.vWrap = spine.Atlas.TextureWrap.clampToEdge;
            if (C5 == d6t.m5f) m.uWrap = spine.Atlas.TextureWrap.repeat;
            else if (C5 == d6t.w6f) m.vWrap = spine.Atlas.TextureWrap.repeat;
            else if (C5 == o) m.uWrap = m.vWrap = spine.Atlas.TextureWrap.repeat;
            k.load(m, k5);
            this.pages.push(m);
        } else {
            var H5 = new spine.AtlasRegion();
            H5.name = k5;
            H5.page = m;
            H5.rotate = e.readValue() == j;
            e.readTuple(q);
            var j5 = parseInt(q[d6t.W6], d6t.x7x),
                Y5 = parseInt(q[d6t.A6], d6t.x7x);
            e.readTuple(q);
            var z5 = parseInt(q[d6t.W6], d6t.x7x),
                P5 = parseInt(q[d6t.A6], d6t.x7x);
            H5.u = j5 / m.width;
            H5.v = Y5 / m.height;
            if (H5.rotate) {
                H5.u2 = (j5 + P5) / m.width;
                H5.v2 = (Y5 + z5) / m.height;
            } else {
                H5.u2 = (j5 + z5) / m.width;
                H5.v2 = (Y5 + P5) / m.height;
            }
            H5.x = j5;
            H5.y = Y5;
            H5.width = Math.abs(z5);
            H5.height = Math.abs(P5);
            if (e.readTuple(q) == d6t.M6) {
                H5.splits = [parseInt(q[d6t.W6], d6t.x7x), parseInt(q[d6t.A6], d6t.x7x), parseInt(q[d6t.D6], d6t.x7x), parseInt(q[d6t.B6], d6t.x7x)];
                if (e.readTuple(q) == d6t.M6) {
                    H5.pads = [parseInt(q[d6t.W6], d6t.x7x), parseInt(q[d6t.A6], d6t.x7x), parseInt(q[d6t.D6], d6t.x7x), parseInt(q[d6t.B6], d6t.x7x)];
                    e.readTuple(q);
                }
            }
            H5.originalWidth = parseInt(q[d6t.W6], d6t.x7x);
            H5.originalHeight = parseInt(q[d6t.A6], d6t.x7x);
            e.readTuple(q);
            H5.offsetX = parseInt(q[d6t.W6], d6t.x7x);
            H5.offsetY = parseInt(q[d6t.A6], d6t.x7x);
            H5.index = parseInt(e.readValue(), d6t.x7x);
            this.regions.push(H5);
        }
    }
};
spine.Atlas.prototype = {
    findRegion: function(t) {
        var k = this.regions;
        for (var j = d6t.W6, o = k.length; j < o; j++)
            if (k[j].name == t) return k[j];
        return d6t.B3x;
    },
    dispose: function() {
        var t = this.pages;
        for (var k = d6t.W6, j = t.length; k < j; k++) this.textureLoader.unload(t[k].rendererObject);
    },
    updateUVs: function(t) {
        var k = this.regions;
        for (var j = d6t.W6, o = k.length; j < o; j++) {
            var e = k[j];
            if (e.page != t) continue;
            e.u = e.x / t.width;
            e.v = e.y / t.height;
            if (e.rotate) {
                e.u2 = (e.x + e.height) / t.width;
                e.v2 = (e.y + e.width) / t.height;
            } else {
                e.u2 = (e.x + e.width) / t.width;
                e.v2 = (e.y + e.height) / t.height;
            }
        }
    }
};
spine.Atlas.Format = {
    alpha: d6t.W6,
    intensity: d6t.A6,
    luminanceAlpha: d6t.D6,
    rgb565: d6t.B6,
    rgba4444: d6t.M6,
    rgb888: d6t.U6,
    rgba8888: d6t.J6
};
spine.Atlas.TextureFilter = {
    nearest: d6t.W6,
    linear: d6t.A6,
    mipMap: d6t.D6,
    mipMapNearestNearest: d6t.B6,
    mipMapLinearNearest: d6t.M6,
    mipMapNearestLinear: d6t.U6,
    mipMapLinearLinear: d6t.J6
};
spine.Atlas.TextureWrap = {
    mirroredRepeat: d6t.W6,
    clampToEdge: d6t.A6,
    repeat: d6t.D6
};
spine.AtlasPage = function() {};
spine.AtlasPage.prototype = {
    name: d6t.B3x,
    format: d6t.B3x,
    minFilter: d6t.B3x,
    magFilter: d6t.B3x,
    uWrap: d6t.B3x,
    vWrap: d6t.B3x,
    rendererObject: d6t.B3x,
    width: d6t.W6,
    height: d6t.W6
};
spine.AtlasRegion = function() {};
spine.AtlasRegion.prototype = {
    page: d6t.B3x,
    name: d6t.B3x,
    x: d6t.W6,
    y: d6t.W6,
    width: d6t.W6,
    height: d6t.W6,
    u: d6t.W6,
    v: d6t.W6,
    u2: d6t.W6,
    v2: d6t.W6,
    offsetX: d6t.W6,
    offsetY: d6t.W6,
    originalWidth: d6t.W6,
    originalHeight: d6t.W6,
    index: d6t.W6,
    rotate: d6t.F18,
    splits: d6t.B3x,
    pads: d6t.B3x
};
spine.AtlasReader = function(t) {
    this.lines = t.split(/\r\n|\r|\n/);
};
spine.AtlasReader.prototype = {
    index: d6t.W6,
    trim: function(t) {
        return t.replace(/^\s+|\s+$/g, d6t.g5x);
    },
    readLine: function() {
        if (this.index >= this.lines.length) return d6t.B3x;
        return this.lines[this.index++];
    },
    readValue: function() {
        var t = this.readLine(),
            k = t.indexOf(d6t.R8x);
        if (k == -d6t.A6) throw d6t.O4B + t;
        return this.trim(t.substring(k + d6t.A6));
    },
    readTuple: function(t) {
        var k = this.readLine(),
            j = k.indexOf(d6t.R8x);
        if (j == -d6t.A6) throw d6t.O4B + k;
        var o = d6t.W6,
            e = j + d6t.A6;
        for (; o < d6t.B6; o++) {
            var q = k.indexOf(d6t.T4x, e);
            if (q == -d6t.A6) {
                if (!o) throw d6t.O4B + k;
                break;
            }
            t[o] = this.trim(k.substr(e, q - e));
            e = q + d6t.A6;
        }
        t[o] = this.trim(k.substring(e));
        return o + d6t.A6;
    }
};
spine.AtlasAttachmentLoader = function(t) {
    this.atlas = t;
};
spine.AtlasAttachmentLoader.prototype = {
    newAttachment: function(t, k, j) {
        var o = "Region not found in atlas: ";
        switch (k) {
            case spine.AttachmentType.region:
                var e = this.atlas.findRegion(j);
                if (!e) throw o + j + d6t.e8f + k + d6t.u6x;
                var q = new spine.RegionAttachment(j);
                q.rendererObject = e;
                q.setUVs(e.u, e.v, e.u2, e.v2, e.rotate);
                q.regionOffsetX = e.offsetX;
                q.regionOffsetY = e.offsetY;
                q.regionWidth = e.width;
                q.regionHeight = e.height;
                q.regionOriginalWidth = e.originalWidth;
                q.regionOriginalHeight = e.originalHeight;
                return q;
        }
        throw d6t.p8 + k;
    }
};
spine.Bone.yDown = d6t.s73;
PIXI.AnimCache = {};
PIXI.Spine = function(t) {
    var k = "Spine data must be preloaded using PIXI.SpineLoader or PIXI.AssetLoader: ";
    PIXI.DisplayObjectContainer.call(this);
    this.spineData = PIXI.AnimCache[t];
    if (!this.spineData) {
        throw new Error(k + t);
    }
    this.skeleton = new spine.Skeleton(this.spineData);
    this.skeleton.updateWorldTransform();
    this.stateData = new spine.AnimationStateData(this.spineData);
    this.state = new spine.AnimationState(this.stateData);
    this.slotContainers = [];
    for (var j = d6t.W6, o = this.skeleton.drawOrder.length; j < o; j++) {
        var e = this.skeleton.drawOrder[j],
            q = e.attachment,
            m = new PIXI.DisplayObjectContainer();
        this.slotContainers.push(m);
        this.addChild(m);
        if (!(q instanceof spine.RegionAttachment)) {
            continue;
        }
        var k5 = q.rendererObject.name,
            C5 = this.createSprite(e, q.rendererObject);
        e.currentSprite = C5;
        e.currentSpriteName = k5;
        m.addChild(C5);
    }
};
PIXI.Spine.prototype = Object.create(PIXI.DisplayObjectContainer.prototype);
PIXI.Spine.prototype.constructor = PIXI.Spine;
PIXI.Spine.prototype.updateTransform = function() {
    this.lastTime = this.lastTime || Date.now();
    var t = (Date.now() - this.lastTime) * d6t.u4H;
    this.lastTime = Date.now();
    this.state.update(t);
    this.state.apply(this.skeleton);
    this.skeleton.updateWorldTransform();
    var k = this.skeleton.drawOrder;
    for (var j = d6t.W6, o = k.length; j < o; j++) {
        var e = k[j],
            q = e.attachment,
            m = this.slotContainers[j];
        if (!(q instanceof spine.RegionAttachment)) {
            m.visible = d6t.F18;
            continue;
        }
        if (q.rendererObject) {
            if (!e.currentSpriteName || e.currentSpriteName != q.name) {
                var k5 = q.rendererObject.name;
                if (e.currentSprite !== undefined) {
                    e.currentSprite.visible = d6t.F18;
                }
                e.sprites = e.sprites || {};
                if (e.sprites[k5] !== undefined) {
                    e.sprites[k5].visible = d6t.s73;
                } else {
                    var C5 = this.createSprite(e, q.rendererObject);
                    m.addChild(C5);
                }
                e.currentSprite = e.sprites[k5];
                e.currentSpriteName = k5;
            }
        }
        m.visible = d6t.s73;
        var H5 = e.bone;
        m.position.x = H5.worldX + q.x * H5.m00 + q.y * H5.m01;
        m.position.y = H5.worldY + q.x * H5.m10 + q.y * H5.m11;
        m.scale.x = H5.worldScaleX;
        m.scale.y = H5.worldScaleY;
        m.rotation = -(e.bone.worldRotation * Math.PI / d6t.D6B);
        m.alpha = e.a;
        e.currentSprite.tint = PIXI.rgb2hex([e.r, e.g, e.b]);
    }
    PIXI.DisplayObjectContainer.prototype.updateTransform.call(this);
};
PIXI.Spine.prototype.createSprite = function(t, k) {
    var j = PIXI.TextureCache[k.name] ? k.name : k.name + d6t.l0H,
        o = new PIXI.Sprite(PIXI.Texture.fromFrame(j));
    o.scale = k.scale;
    o.rotation = k.rotation;
    o.anchor.x = o.anchor.y = d6t.z48;
    t.sprites = t.sprites || {};
    t.sprites[k.name] = o;
    return o;
};
define("spine", function() {});
define('gt/tweaks/Pixi/Sprite', ['bottom_line', 'pixi'], function(m) {
    m.extend(PIXI.Sprite.prototype, {
        enumerable: d6t.F18
    }, {
        _renderCanvas: {
            overwriteaction: d6t.w6H,
            value: function(t) {
                if (this.visible === d6t.F18 || this.alpha === d6t.W6 || this.texture.crop.width <= d6t.W6 || this.texture.crop.height <= d6t.W6) return;
                if (this.blendMode !== t.currentBlendMode) {
                    t.currentBlendMode = this.blendMode;
                    t.context.globalCompositeOperation = PIXI.blendModesCanvas[t.currentBlendMode];
                }
                if (this._mask) {
                    t.maskManager.pushMask(this._mask, t);
                }
                if (this.texture.valid) {
                    var k = this.texture.baseTexture.resolution / t.resolution;
                    t.context.globalAlpha = this.worldAlpha;
                    if (t.roundPixels) {
                        t.context.setTransform(this.worldTransform.a, this.worldTransform.b, this.worldTransform.c, this.worldTransform.d, (this.worldTransform.tx * t.resolution) | d6t.W6, (this.worldTransform.ty * t.resolution) | d6t.W6);
                    } else {
                        t.context.setTransform(this.worldTransform.a, this.worldTransform.b, this.worldTransform.c, this.worldTransform.d, (this.worldTransform.tx * t.resolution) | d6t.W6, (this.worldTransform.ty * t.resolution) | d6t.W6);
                    }
                    if (t.smoothProperty && t.scaleMode !== this.texture.baseTexture.scaleMode) {
                        t.scaleMode = this.texture.baseTexture.scaleMode;
                        t.context[t.smoothProperty] = (t.scaleMode === PIXI.scaleModes.LINEAR);
                    }
                    var j = (this.texture.trim) ? this.texture.trim.x - this.anchor.x * this.texture.trim.width : this.anchor.x * -this.texture.frame.width,
                        o = (this.texture.trim) ? this.texture.trim.y - this.anchor.y * this.texture.trim.height : this.anchor.y * -this.texture.frame.height;
                    if (this.tint !== ((10.620E2, 3.570E2) <= (0x163, 0x24) ? (56, 44) : (0x10B, 130.5E1) >= (119, 24) ? (96., 0xFFFFFF) : (11.4E2, 0x15A))) {
                        if (this.cachedTint !== this.tint) {
                            this.cachedTint = this.tint;
                            this.tintedTexture = PIXI.CanvasTinter.getTintedTexture(this, this.tint);
                        }
                        t.context.drawImage(this.tintedTexture, d6t.W6, d6t.W6, this.texture.crop.width | d6t.W6, this.texture.crop.height | d6t.W6, j / k, o / k, (this.texture.crop.width / k) | d6t.W6, (this.texture.crop.height / k) | d6t.W6);
                    } else {
                        t.context.drawImage(this.texture.baseTexture.source, this.texture.crop.x, this.texture.crop.y, this.texture.crop.width | d6t.W6, this.texture.crop.height | d6t.W6, j / k, o / k, (this.texture.crop.width / k) | d6t.W6, (this.texture.crop.height / k) | d6t.W6);
                    }
                }
                for (var e = d6t.W6, q = this.children.length; e < q; e++) {
                    this.children[e]._renderCanvas(t);
                }
                if (this._mask) {
                    t.maskManager.popMask(t);
                }
            }
        }
    });
});
(function() {
    var V6 = 'orthogonal',
        b5 = "collisionHeight",
        S5 = "collisionWidth",
        q6 = "scrollY",
        h6 = "scrollX",
        C6 = "layer",
        m6 = "canCollide",
        G5 = "collides",
        c6 = 10000,
        Y6 = ((50, 4.34E2) <= (6.43E2, 0x223) ? (0x1AC, 359) : (3.63E2, 0x1DE)),
        E6 = 'rgba(0, 255, 0, 0.4)',
        O6 = 'rgba(0,255,0,0.4)',
        j6 = 'angle: ',
        Q5 = 'down: ',
        y6 = ' y: ',
        d5 = 'Screen X: ',
        z6 = 'World X: ',
        Z6 = ' Duration: ',
        N6 = 'rgb(255,255,255)',
        P6 = 'PhaserGlobal',
        m5 = "mute",
        t4 = "isDecoded",
        i6 = "isDecoding",
        P4 = ' from URL ',
        U4 = '-audioatlas',
        b6 = 'frames',
        v4 = 'enableUpdate',
        n6 = 'speed',
        s4 = 'frame',
        C4 = 'name',
        v5 = 'frameTotal',
        Q6 = 'frameData',
        p4 = "seconds",
        R4 = "ms",
        o6 = 60000,
        W4 = 1.70158,
        O4 = 1024,
        o4 = ((94.10E1, 3.550E2) < 126 ? 700 : (144, 33) >= (58., 0x1) ? (0x1B7, 2.3283064365386963e-10) : (100, 32)),
        a4 = 0.0001,
        D4 = 'AudioContext',
        N4 = 'webkitAudioContext',
        d4 = 'Audio',
        w6 = 'image-rendering',
        r4 = 'msImageSmoothingEnabled',
        T4 = 'webkitImageSmoothingEnabled',
        S4 = 'oImageSmoothingEnabled',
        l4 = 'mozImageSmoothingEnabled',
        b4 = 'imageSmoothingEnabled',
        X4 = 'rgb(0,0,0)',
        K3 = "ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789",
        H3 = "ABCDEFGHIJKLMNOPQRSTUVWXYZ",
        j3 = "ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",
        V3 = "0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",
        Q4 = "AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",
        V5 = "ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",
        z3 = "ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",
        h4 = "ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",
        t3 = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",
        I4 = " !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",
        M3 = " !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",
        P3 = "center",
        l5 = 'shadowBlur',
        e5 = 'shadowColor',
        E5 = 'shadowOffsetY',
        X5 = 'shadowOffsetX',
        I5 = 'lineSpacing',
        x4 = 'wordWrapWidth',
        J4 = 'wordWrap',
        T6 = 'strokeThickness',
        e6 = 'stroke',
        E4 = 'align',
        p3 = 'fontWeight',
        R3 = 'fontSize',
        H4 = "px '",
        j4 = 'font',
        u4 = 'angle',
        T3 = "segments",
        V4 = "updateAnimation",
        z4 = "destroyPhase",
        B4 = "exists",
        g4 = "inputEnabled",
        l3 = "renderOrderID",
        f3 = "frameName",
        O3 = "frame",
        N3 = "inCamera",
        J3 = "inWorld",
        G3 = "deltaZ",
        v3 = "deltaY",
        S3 = "deltaX",
        W3 = "' not found.",
        o3 = "Texture with key '",
        X3 = 'source-over',
        g3 = 'rgba(0,0,0,0)',
        s3 = 'rgba(',
        I3 = 'ArrayBuffer',
        a3 = "pad4",
        w3 = "pad3",
        H7 = "pad2",
        j7 = "pad1",
        V7 = "padsConnected",
        Y7 = "supported",
        z7 = "active",
        E3 = 'gamepaddisconnected',
        b3 = 'gamepadconnected',
        Q3 = 'touchleave',
        q3 = 'touchenter',
        m3 = 'touchcancel',
        c3 = 'touchend',
        Z3 = 'touchmove',
        w4 = "duration",
        P7 = 'pointerUp',
        p7 = 'pointerMove',
        R7 = 'pointerDown',
        O7 = 'MSPointerUp',
        w7 = 'MSPointerMove',
        G6 = 'MSPointerDown',
        A3 = 'webkitpointerlockchange',
        u3 = 'mozpointerlockchange',
        c4 = 'pointerlockchange',
        x6 = 'identifier',
        B3 = 'mousewheel',
        g6 = 'mouseout',
        L6 = 'mouseover',
        q5 = 'mouseup',
        u6 = 'mousemove',
        o7 = 43,
        k3 = 144,
        t7 = ((6.9E1, 0x10A) >= (114., 3.22E2) ? 0xE : (55.0E1, 0x96) > (36., 1) ? (0x216, 47) : (0x15E, 88.60E1) > (148., 127.60E1) ? 537 : (0x36, 0x1D8)),
        U7 = 46,
        B7 = 45,
        Z4 = ((0x6A, 9.) <= 0xDF ? (0x23B, 39) : (0x1B4, 22.8E1)),
        n4 = 38,
        i4 = (0x14C >= (0x1A4, 5.560E2) ? (19., 128) : 110. <= (0x1D7, 0x1B5) ? (0xD7, 37) : (131, 59)),
        G4 = 36,
        l6 = (149.6E1 > (0xA8, 116) ? (8.700E2, 34) : (45, 50.)),
        e4 = ((0x61, 0xCC) >= (85, 87) ? (0x127, 27) : 101 < (0x2C, 20.) ? 96. : (43, 9.700E2) <= (0x1A4, 0x1AD) ? (59.7E1, 'U') : (10.31E2, 0x236)),
        A7 = 222,
        r7 = ((7.65E2, 0x20F) > 44 ? (0x11E, 221) : (65, 97.10E1) < (49, 0xC5) ? 'fnc' : 0x11A >= (49., 0x1C1) ? 'fnc' : (8.6E1, 0x103)),
        y4 = 220,
        r3 = ((0x17F, 106) > 0x32 ? (0x86, 219) : (0x1FE, 0x3E)),
        M4 = ((93., 13.70E1) > 72 ? (12.70E1, 192) : (0x203, 0x17C)),
        D7 = 191,
        N7 = ((55, 0x1C1) <= (36., 1.422E3) ? (6.47E2, 189) : (0xAB, 1.285E3)),
        G7 = 187,
        O5 = 186,
        X6 = 126,
        T9 = 125,
        x9 = 124,
        f9 = ((0x115, 68.0E1) <= 61 ? (0x1BD, "P") : 50. >= (4.10E1, 87.) ? "P" : (141, 0x13A) > 148. ? (149, 123) : (0x9D, 12.75E2)),
        y9 = 122,
        W9 = 121,
        o9 = 120,
        A9 = ((56., 1.224E3) >= 149. ? (0x130, 119) : 19 > (10.16E2, 8.72E2) ? (130, 0xD4) : 76.10E1 < (12.02E2, 0x1BE) ? (0x163, 140.) : (12.91E2, 0x97)),
        D9 = 118,
        u9 = 117,
        M9 = (0xAB > (0x217, 23.) ? (11.700E2, 116) : (35, 0x110)),
        N9 = 115,
        J9 = ((95.60E1, 107.) >= (54.90E1, 122) ? 12.97E2 : (6.94E2, 0x16) <= 14. ? 0x116 : 66 < (62., 0x154) ? (0x97, 114) : (59., 45)),
        G9 = ((0x221, 40.7E1) >= (1.247E3, 34.2E1) ? (0x1C1, 113) : (0x221, 6.350E2) <= (14.200E2, 144) ? (5.03E2, 17) : 0x12F >= (9., 134.0E1) ? (82, 'B') : (0x11D, 14)),
        v9 = 112,
        d9 = ((9.22E2, 72) >= (99.2E1, 140) ? 'f' : (80., 94.80E1) >= 135 ? (0xC6, 111) : (0x13F, 34)),
        S9 = 110,
        Z9 = (146. > (24.5E1, 8.3E1) ? (1.293E3, 109) : (40., 98.)),
        n9 = 108,
        i9 = 107,
        e9 = ((1.23E2, 66) >= (5.10E1, 0x15) ? (49, 106) : (11.120E2, 0x127) < 0x15 ? (3.71E2, 'Y') : (0x141, 141.)),
        l9 = (56. <= (37., 59.) ? (0x5A, 105) : (128., 0x13F)),
        X9 = ((122, 0x188) > (0xB7, 125.) ? (0x257, 104) : (0x142, 12.18E2) <= 1.380E2 ? (135.6E1, 1.6E1) : (57., 0x107)),
        I9 = ((0x237, 0x54) <= 5.68E2 ? (0x1F, 103) : 63. > (0x14C, 75) ? (0x205, 124) : (8.53E2, 21.40E1)),
        E9 = 102,
        b9 = ((0x7E, 75) <= (3., 105.) ? (0x1B9, 101) : (0x209, 79)),
        Q9 = 99,
        h9 = 98,
        m9 = ((90., 0x215) >= (0x223, 1.85E2) ? (0x236, 97) : 4. >= (0x230, 0x190) ? (11.16E2, 'e') : (143, 131.0E1)),
        t8 = 96,
        L8 = "9",
        C8 = ((8.18E2, 0x1AA) > (0x135, 0x36) ? (0x39, "8") : (128.0E1, 0x21D)),
        H8 = ((143.20E1, 23) < (145, 0x1E2) ? (65., "7") : (0x1AC, 0x16)),
        j8 = "6",
        V8 = (94 >= (0x169, 11.) ? (136., "5") : (0x79, 0x54)),
        Y8 = "4",
        z8 = ((0x56, 0x24E) <= 9.07E2 ? (71.5E1, "3") : (12.39E2, 94) > (47, 0x182) ? e : (10.96E2, 31) > (0x1CD, 117.) ? (123.80E1, e) : (0xCC, 0x1BB)),
        P8 = ((0x52, 0x26) <= 8.73E2 ? (4.33E2, "2") : (6.91E2, 12.58E2)),
        R8 = "Y",
        O8 = (0x21D <= (131., 7.36E2) ? (0x227, "X") : 46 >= (10.68E2, 87.) ? 'div' : (95, 0x1B1)),
        a8 = ((19.6E1, 101.0E1) < 4.82E2 ? (14, 0xCE) : (6.84E2, 0x3B) <= 0x94 ? (0., "W") : (103., 5.100E2) <= (148., 121.) ? (0x12, 0x170) : (41, 3.820E2)),
        w8 = "V",
        r8 = "U",
        T8 = "R",
        x8 = "Q",
        f8 = "P",
        y8 = "N",
        W8 = "M",
        o8 = ((0x7F, 101.9E1) >= (0x14A, 146) ? (125., "K") : (32., 0xB4)),
        A8 = ((0x39, 120) > (0x136, 79) ? (22., "H") : (11.11E2, 43.40E1)),
        D8 = ((2.19E2, 0x1E0) <= 105.4E1 ? (89., "G") : (0xE1, 0x181) <= (6.73E2, 48) ? 1.363E3 : (0x1F6, 0x206)),
        u8 = ((0x1A6, 0xB9) >= (0x173, 126.) ? (9.36E2, "F") : (0x1EB, 20.70E1)),
        M8 = (1.2670E3 <= (0x1E2, 116.9E1) ? 0x1D1 : (141.3E1, 1.2550E3) < 6.11E2 ? 5.2E1 : 1 <= (5.79E2, 123.60E1) ? (9.3E1, "E") : (0x13D, 53.)),
        U8 = ((42, 15.) < 0x10E ? (0x130, "D") : 33. >= (0x182, 0x1CA) ? "l" : (47, 47.)),
        N8 = "C",
        v8 = "B",
        d8 = "A",
        S8 = "lastKey",
        g8 = "lastChar",
        X7 = 'keypress',
        E7 = 'keyup',
        Q7 = 'keydown',
        q7 = "worldY",
        m7 = "worldX",
        i8 = "totalActivePointers",
        e8 = "totalInactivePointers",
        l8 = "pollLocked",
        t9 = ((75., 3.44E2) < (0x223, 13.530E2) ? (14.88E2, 44) : (0x10D, 0x1A2) > (131., 0x1A6) ? "g" : (0x1C3, 0x2A)),
        X8 = "paused",
        M7 = 'enableDebug',
        L9 = 'load',
        s9 = 'DOMContentLoaded',
        I8 = "isLandscape",
        E8 = "isPortrait",
        b8 = "isFullScreen",
        Q8 = "scaleMode",
        v7 = 'orientation',
        x7 = ' x ',
        i3 = "fixedToCamera",
        k9 = "total",
        y7 = 'alive',
        d7 = 'exists',
        c7 = 'group',
        u7 = "smoothed",
        h8 = "backgroundColor",
        K9 = "pause",
        C9 = "next",
        m8 = "first",
        H9 = 'init',
        Z7 = 'render',
        j9 = 'create',
        V9 = 'preload',
        t1 = "position",
        L1 = "cacheAsBitmap",
        k1 = 'area',
        K1 = 'points',
        C1 = "perpSlope",
        H1 = "slope",
        j1 = "topRight",
        V1 = "topLeft",
        Y9 = "randomY",
        z9 = "randomX",
        p9 = "centerY",
        R9 = "centerX",
        Y1 = "perimeter",
        n7 = "volume",
        z1 = "bottomRight",
        P1 = "halfHeight",
        p1 = "halfWidth",
        O9 = " height=",
        a9 = " width=",
        i7 = "empty",
        R1 = "area",
        K7 = "bottom",
        W7 = "top",
        O1 = "radius",
        a1 = "diameter",
        e7 = ")}]",
        l7 = " y=",
        w1 = 'Int16Array',
        r1 = 'Uint32Array',
        T1 = '2.1.3',
        w9 = this,
        s5 = s5 || {
            VERSION: T1,
            GAMES: [],
            AUTO: d6t.W6,
            CANVAS: d6t.A6,
            WEBGL: d6t.D6,
            HEADLESS: d6t.B6,
            NONE: d6t.W6,
            LEFT: d6t.A6,
            RIGHT: d6t.D6,
            UP: d6t.B6,
            DOWN: d6t.M6,
            SPRITE: d6t.W6,
            BUTTON: d6t.A6,
            IMAGE: d6t.D6,
            GRAPHICS: d6t.B6,
            TEXT: d6t.M6,
            TILESPRITE: d6t.U6,
            BITMAPTEXT: d6t.J6,
            GROUP: d6t.v6,
            RENDERTEXTURE: d6t.d6,
            TILEMAP: d6t.S6,
            TILEMAPLAYER: d6t.x7x,
            EMITTER: d6t.f7x,
            POLYGON: d6t.W7x,
            BITMAPDATA: d6t.o7x,
            CANVAS_FILTER: d6t.A7x,
            WEBGL_FILTER: d6t.B7x,
            ELLIPSE: d6t.M7x,
            SPRITEBATCH: d6t.U7x,
            RETROFONT: d6t.N7x,
            POINTER: d6t.J7x,
            ROPE: d6t.X7x,
            blendModes: {
                NORMAL: d6t.W6,
                ADD: d6t.A6,
                MULTIPLY: d6t.D6,
                SCREEN: d6t.B6,
                OVERLAY: d6t.M6,
                DARKEN: d6t.U6,
                LIGHTEN: d6t.J6,
                COLOR_DODGE: d6t.v6,
                COLOR_BURN: d6t.d6,
                HARD_LIGHT: d6t.S6,
                SOFT_LIGHT: d6t.x7x,
                DIFFERENCE: d6t.f7x,
                EXCLUSION: d6t.W7x,
                HUE: d6t.o7x,
                SATURATION: d6t.A7x,
                COLOR: d6t.B7x,
                LUMINOSITY: d6t.M7x
            },
            scaleModes: {
                DEFAULT: d6t.W6,
                LINEAR: d6t.W6,
                NEAREST: d6t.A6
            }
        };
    PIXI.InteractionManager = PIXI.InteractionManager || function() {};
    PIXI.dontSayHello = d6t.s73;
    s5.Utils = {
        getProperty: function(t, k) {
            var j = k.split(d6t.N23),
                o = j.pop(),
                e = j.length,
                q = d6t.A6,
                m = j[d6t.W6];
            while (q < e && (t = t[m])) {
                m = j[q];
                q++;
            }
            if (t) {
                return t[o];
            } else {
                return d6t.B3x;
            }
        },
        setProperty: function(t, k, j) {
            var o = k.split(d6t.N23),
                e = o.pop(),
                q = o.length,
                m = d6t.A6,
                k5 = o[d6t.W6];
            while (m < q && (t = t[k5])) {
                k5 = o[m];
                m++;
            }
            if (t) {
                t[e] = j;
            }
            return t;
        },
        transposeArray: function(t) {
            var k = new Array(t[d6t.W6].length);
            for (var j = d6t.W6; j < t[d6t.W6].length; j++) {
                k[j] = new Array(t.length - d6t.A6);
                for (var o = t.length - d6t.A6; o > -d6t.A6; o--) {
                    k[j][o] = t[o][j];
                }
            }
            return k;
        },
        rotateArray: function(t, k) {
            var j = 'rotate180',
                o = 'rotateRight',
                e = 'rotateLeft',
                q = ((77., 13) < (141, 0x232) ? (0x1E4, 270) : (63, 0x88) <= 25 ? (2.86E2, 38.) : (0x209, 46.));
            if (typeof k !== d6t.F78) {
                k = ((k % d6t.v7x) + d6t.v7x) % d6t.v7x;
            }
            if (k === d6t.h8x || k === -q || k === e) {
                t = s5.Utils.transposeArray(t);
                t = t.reverse();
            } else if (k === -d6t.h8x || k === q || k === o) {
                t = t.reverse();
                t = s5.Utils.transposeArray(t);
            } else if (Math.abs(k) === d6t.D6B || k === j) {
                for (var m = d6t.W6; m < t.length; m++) {
                    t[m].reverse();
                }
                t = t.reverse();
            }
            return t;
        },
        parseDimension: function(t, k) {
            var j = ((132., 0x8) <= 107.2E1 ? (0x8A, '%') : (0x232, 143.9E1)),
                o = d6t.W6,
                e = d6t.W6;
            if (typeof t === d6t.F78) {
                if (t.substr(-d6t.A6) === j) {
                    o = parseInt(t, d6t.x7x) / d6t.a08;
                    if (k === d6t.W6) {
                        e = window.innerWidth * o;
                    } else {
                        e = window.innerHeight * o;
                    }
                } else {
                    e = parseInt(t, d6t.x7x);
                }
            } else {
                e = t;
            }
            return e;
        },
        shuffle: function(t) {
            for (var k = t.length - d6t.A6; k > d6t.W6; k--) {
                var j = Math.floor(Math.random() * (k + d6t.A6)),
                    o = t[k];
                t[k] = t[j];
                t[j] = o;
            }
            return t;
        },
        pad: function(t, k, j, o) {
            if (typeof(k) === d6t.k6f) {
                var k = d6t.W6;
            }
            if (typeof(j) === d6t.k6f) {
                var j = d6t.p93;
            }
            if (typeof(o) === d6t.k6f) {
                var o = d6t.B6;
            }
            var e = d6t.W6;
            if (k + d6t.A6 >= t.length) {
                switch (o) {
                    case d6t.A6:
                        t = new Array(k + d6t.A6 - t.length).join(j) + t;
                        break;
                    case d6t.B6:
                        var q = Math.ceil((e = k - t.length) / d6t.D6),
                            m = e - q;
                        t = new Array(m + d6t.A6).join(j) + t + new Array(q + d6t.A6).join(j);
                        break;
                    default:
                        t = t + new Array(k + d6t.A6 - t.length).join(j);
                        break;
                }
            }
            return t;
        },
        isPlainObject: function(k) {
            var j = "isPrototypeOf";
            if (typeof(k) !== d6t.O2f || k.nodeType || k === k.window) {
                return d6t.F18;
            }
            try {
                if (k.constructor && !({}).hasOwnProperty.call(k.constructor.prototype, j)) {
                    return d6t.F18;
                }
            } catch (t) {
                return d6t.F18;
            }
            return d6t.s73;
        },
        extend: function() {
            var t = "boolean",
                k, j, o, e, q, m, k5 = arguments[d6t.W6] || {},
                C5 = d6t.A6,
                H5 = arguments.length,
                j5 = d6t.F18;
            if (typeof k5 === t) {
                j5 = k5;
                k5 = arguments[d6t.A6] || {};
                C5 = d6t.D6;
            }
            if (H5 === C5) {
                k5 = this;
                --C5;
            }
            for (; C5 < H5; C5++) {
                if ((k = arguments[C5]) != d6t.B3x) {
                    for (j in k) {
                        o = k5[j];
                        e = k[j];
                        if (k5 === e) {
                            continue;
                        }
                        if (j5 && e && (s5.Utils.isPlainObject(e) || (q = Array.isArray(e)))) {
                            if (q) {
                                q = d6t.F18;
                                m = o && Array.isArray(o) ? o : [];
                            } else {
                                m = o && s5.Utils.isPlainObject(o) ? o : {};
                            }
                            k5[j] = s5.Utils.extend(j5, m, e);
                        } else if (e !== undefined) {
                            k5[j] = e;
                        }
                    }
                }
            }
            return k5;
        },
        mixin: function(t, k) {
            if (!t || typeof(t) !== d6t.O2f) {
                return k;
            }
            for (var j in t) {
                var o = t[j];
                if (o.childNodes || o.cloneNode) {
                    continue;
                }
                var e = typeof(t[j]);
                if (!t[j] || e !== d6t.O2f) {
                    k[j] = t[j];
                } else {
                    if (typeof(k[j]) === e) {
                        k[j] = s5.Utils.mixin(t[j], k[j]);
                    } else {
                        k[j] = s5.Utils.mixin(t[j], new o.constructor());
                    }
                }
            }
            return k;
        }
    };
    if (typeof Function.prototype.bind !== d6t.j5f) {
        Function.prototype.bind = (function() {
            var m = Array.prototype.slice;
            return function(k) {
                var j = this,
                    o = m.call(arguments, d6t.A6);
                if (typeof j !== d6t.j5f) {
                    throw new TypeError();
                }

                function e() {
                    var t = o.concat(m.call(arguments));
                    j.apply(this instanceof e ? this : k, t);
                }
                e.prototype = (function q(t) {
                    if (t) {
                        q.prototype = t;
                    }
                    if (!(this instanceof q)) {
                        return new q;
                    }
                })(j.prototype);
                return e;
            };
        })();
    }
    if (!Array.isArray) {
        Array.isArray = function(t) {
            return Object.prototype.toString.call(t) == d6t.b8f;
        };
    }
    if (!Array.prototype.forEach) {
        Array.prototype.forEach = function(t) {
            "use strict";
            if (this === void d6t.W6 || this === d6t.B3x) {
                throw new TypeError();
            }
            var k = Object(this),
                j = k.length >>> d6t.W6;
            if (typeof t !== d6t.H5x) {
                throw new TypeError();
            }
            var o = arguments.length >= d6t.D6 ? arguments[d6t.A6] : void d6t.W6;
            for (var e = d6t.W6; e < j; e++) {
                if (e in k) {
                    t.call(o, k[e], e, k);
                }
            }
        };
    }
    if (typeof window.Uint32Array !== d6t.H5x && typeof window.Uint32Array !== d6t.O2f) {
        var r9 = function(j) {
            var o = new Array();
            window[j] = function(t) {
                if (typeof(t) === d6t.k13) {
                    Array.call(this, t);
                    this.length = t;
                    for (var k = d6t.W6; k < this.length; k++) {
                        this[k] = d6t.W6;
                    }
                } else {
                    Array.call(this, t.length);
                    this.length = t.length;
                    for (var k = d6t.W6; k < this.length; k++) {
                        this[k] = t[k];
                    }
                }
            };
            window[j].prototype = o;
            window[j].constructor = window[j];
        };
        r9(r1);
        r9(w1);
    }
    if (!window.console) {
        window.console = {};
        window.console.log = window.console.assert = function() {};
        window.console.warn = window.console.assert = function() {};
    }
    s5.Circle = function(t, k, j) {
        t = t || d6t.W6;
        k = k || d6t.W6;
        j = j || d6t.W6;
        this.x = t;
        this.y = k;
        this._diameter = j;
        if (j > d6t.W6) {
            this._radius = j * d6t.z48;
        } else {
            this._radius = d6t.W6;
        }
    };
    s5.Circle.prototype = {
        type: d6t.B3x,
        circumference: function() {
            return d6t.D6 * (Math.PI * this._radius);
        },
        getBounds: function() {
            return new s5.Rectangle(this.x - this.radius, this.y - this.radius, this.radius * d6t.D6, this.radius * d6t.D6);
        },
        setTo: function(t, k, j) {
            this.x = t;
            this.y = k;
            this._diameter = j;
            this._radius = j * d6t.z48;
            return this;
        },
        copyFrom: function(t) {
            return this.setTo(t.x, t.y, t.diameter);
        },
        copyTo: function(t) {
            t.x = this.x;
            t.y = this.y;
            t.diameter = this._diameter;
            return t;
        },
        distance: function(t, k) {
            if (typeof k === d6t.k6f) {
                k = d6t.F18;
            }
            if (k) {
                return s5.Math.distanceRounded(this.x, this.y, t.x, t.y);
            } else {
                return s5.Math.distance(this.x, this.y, t.x, t.y);
            }
        },
        clone: function(t) {
            if (typeof t === d6t.k6f || t === d6t.B3x) {
                t = new s5.Circle(this.x, this.y, this.diameter);
            } else {
                t.setTo(this.x, this.y, this.diameter);
            }
            return t;
        },
        contains: function(t, k) {
            return s5.Circle.contains(this, t, k);
        },
        circumferencePoint: function(t, k, j) {
            return s5.Circle.circumferencePoint(this, t, k, j);
        },
        offset: function(t, k) {
            this.x += t;
            this.y += k;
            return this;
        },
        offsetPoint: function(t) {
            return this.offset(t.x, t.y);
        },
        toString: function() {
            var t = " radius=",
                k = " diameter=",
                j = "[{Phaser.Circle (x=";
            return j + this.x + l7 + this.y + k + this.diameter + t + this.radius + e7;
        }
    };
    s5.Circle.prototype.constructor = s5.Circle;
    Object.defineProperty(s5.Circle.prototype, a1, {
        get: function() {
            return this._diameter;
        },
        set: function(t) {
            if (t > d6t.W6) {
                this._diameter = t;
                this._radius = t * d6t.z48;
            }
        }
    });
    Object.defineProperty(s5.Circle.prototype, O1, {
        get: function() {
            return this._radius;
        },
        set: function(t) {
            if (t > d6t.W6) {
                this._radius = t;
                this._diameter = t * d6t.D6;
            }
        }
    });
    Object.defineProperty(s5.Circle.prototype, d6t.I7x, {
        get: function() {
            return this.x - this._radius;
        },
        set: function(t) {
            if (t > this.x) {
                this._radius = d6t.W6;
                this._diameter = d6t.W6;
            } else {
                this.radius = this.x - t;
            }
        }
    });
    Object.defineProperty(s5.Circle.prototype, d6t.J4f, {
        get: function() {
            return this.x + this._radius;
        },
        set: function(t) {
            if (t < this.x) {
                this._radius = d6t.W6;
                this._diameter = d6t.W6;
            } else {
                this.radius = t - this.x;
            }
        }
    });
    Object.defineProperty(s5.Circle.prototype, W7, {
        get: function() {
            return this.y - this._radius;
        },
        set: function(t) {
            if (t > this.y) {
                this._radius = d6t.W6;
                this._diameter = d6t.W6;
            } else {
                this.radius = this.y - t;
            }
        }
    });
    Object.defineProperty(s5.Circle.prototype, K7, {
        get: function() {
            return this.y + this._radius;
        },
        set: function(t) {
            if (t < this.y) {
                this._radius = d6t.W6;
                this._diameter = d6t.W6;
            } else {
                this.radius = t - this.y;
            }
        }
    });
    Object.defineProperty(s5.Circle.prototype, R1, {
        get: function() {
            if (this._radius > d6t.W6) {
                return Math.PI * this._radius * this._radius;
            } else {
                return d6t.W6;
            }
        }
    });
    Object.defineProperty(s5.Circle.prototype, i7, {
        get: function() {
            return (this._diameter === d6t.W6);
        },
        set: function(t) {
            if (t === d6t.s73) {
                this.setTo(d6t.W6, d6t.W6, d6t.W6);
            }
        }
    });
    s5.Circle.contains = function(t, k, j) {
        if (t.radius > d6t.W6 && k >= t.left && k <= t.right && j >= t.top && j <= t.bottom) {
            var o = (t.x - k) * (t.x - k),
                e = (t.y - j) * (t.y - j);
            return (o + e) <= (t.radius * t.radius);
        } else {
            return d6t.F18;
        }
    };
    s5.Circle.equals = function(t, k) {
        return (t.x == k.x && t.y == k.y && t.diameter == k.diameter);
    };
    s5.Circle.intersects = function(t, k) {
        return (s5.Math.distance(t.x, t.y, k.x, k.y) <= (t.radius + k.radius));
    };
    s5.Circle.circumferencePoint = function(t, k, j, o) {
        if (typeof j === d6t.k6f) {
            j = d6t.F18;
        }
        if (typeof o === d6t.k6f) {
            o = new s5.Point();
        }
        if (j === d6t.s73) {
            k = s5.Math.degToRad(k);
        }
        o.x = t.x + t.radius * Math.cos(k);
        o.y = t.y + t.radius * Math.sin(k);
        return o;
    };
    s5.Circle.intersectsRectangle = function(t, k) {
        var j = Math.abs(t.x - k.x - k.halfWidth),
            o = k.halfWidth + t.radius;
        if (j > o) {
            return d6t.F18;
        }
        var e = Math.abs(t.y - k.y - k.halfHeight),
            q = k.halfHeight + t.radius;
        if (e > q) {
            return d6t.F18;
        }
        if (j <= k.halfWidth || e <= k.halfHeight) {
            return d6t.s73;
        }
        var m = j - k.halfWidth,
            k5 = e - k.halfHeight,
            C5 = m * m,
            H5 = k5 * k5,
            j5 = t.radius * t.radius;
        return C5 + H5 <= j5;
    };
    PIXI.Circle = s5.Circle;
    s5.Point = function(t, k) {
        t = t || d6t.W6;
        k = k || d6t.W6;
        this.x = t;
        this.y = k;
    };
    s5.Point.prototype = {
        copyFrom: function(t) {
            return this.setTo(t.x, t.y);
        },
        invert: function() {
            return this.setTo(this.y, this.x);
        },
        setTo: function(t, k) {
            this.x = t || d6t.W6;
            this.y = k || ((k !== d6t.W6) ? this.x : d6t.W6);
            return this;
        },
        set: function(t, k) {
            this.x = t || d6t.W6;
            this.y = k || ((k !== d6t.W6) ? this.x : d6t.W6);
            return this;
        },
        add: function(t, k) {
            this.x += t;
            this.y += k;
            return this;
        },
        subtract: function(t, k) {
            this.x -= t;
            this.y -= k;
            return this;
        },
        multiply: function(t, k) {
            this.x *= t;
            this.y *= k;
            return this;
        },
        divide: function(t, k) {
            this.x /= t;
            this.y /= k;
            return this;
        },
        clampX: function(t, k) {
            this.x = s5.Math.clamp(this.x, t, k);
            return this;
        },
        clampY: function(t, k) {
            this.y = s5.Math.clamp(this.y, t, k);
            return this;
        },
        clamp: function(t, k) {
            this.x = s5.Math.clamp(this.x, t, k);
            this.y = s5.Math.clamp(this.y, t, k);
            return this;
        },
        clone: function(t) {
            if (typeof t === d6t.k6f || t === d6t.B3x) {
                t = new s5.Point(this.x, this.y);
            } else {
                t.setTo(this.x, this.y);
            }
            return t;
        },
        copyTo: function(t) {
            t.x = this.x;
            t.y = this.y;
            return t;
        },
        distance: function(t, k) {
            return s5.Point.distance(this, t, k);
        },
        equals: function(t) {
            return (t.x === this.x && t.y === this.y);
        },
        angle: function(t, k) {
            if (typeof k === d6t.k43) {
                k = d6t.F18;
            }
            if (k) {
                return s5.Math.radToDeg(Math.atan2(t.y - this.y, t.x - this.x));
            } else {
                return Math.atan2(t.y - this.y, t.x - this.x);
            }
        },
        angleSq: function(t) {
            return this.subtract(t).angle(t.subtract(this));
        },
        rotate: function(t, k, j, o, e) {
            return s5.Point.rotate(this, t, k, j, o, e);
        },
        getMagnitude: function() {
            return Math.sqrt((this.x * this.x) + (this.y * this.y));
        },
        getMagnitudeSq: function() {
            return (this.x * this.x) + (this.y * this.y);
        },
        setMagnitude: function(t) {
            return this.normalize().multiply(t, t);
        },
        normalize: function() {
            if (!this.isZero()) {
                var t = this.getMagnitude();
                this.x /= t;
                this.y /= t;
            }
            return this;
        },
        isZero: function() {
            return (this.x === d6t.W6 && this.y === d6t.W6);
        },
        dot: function(t) {
            return ((this.x * t.x) + (this.y * t.y));
        },
        cross: function(t) {
            return ((this.x * t.y) - (this.y * t.x));
        },
        perp: function() {
            return this.setTo(-this.y, this.x);
        },
        rperp: function() {
            return this.setTo(this.y, -this.x);
        },
        normalRightHand: function() {
            return this.setTo(this.y * -d6t.A6, this.x);
        },
        toString: function() {
            var t = ')}]',
                k = ' y=',
                j = '[{Point (x=';
            return j + this.x + k + this.y + t;
        }
    };
    s5.Point.prototype.constructor = s5.Point;
    s5.Point.add = function(t, k, j) {
        if (typeof j === d6t.k6f) {
            j = new s5.Point();
        }
        j.x = t.x + k.x;
        j.y = t.y + k.y;
        return j;
    };
    s5.Point.subtract = function(t, k, j) {
        if (typeof j === d6t.k6f) {
            j = new s5.Point();
        }
        j.x = t.x - k.x;
        j.y = t.y - k.y;
        return j;
    };
    s5.Point.multiply = function(t, k, j) {
        if (typeof j === d6t.k6f) {
            j = new s5.Point();
        }
        j.x = t.x * k.x;
        j.y = t.y * k.y;
        return j;
    };
    s5.Point.divide = function(t, k, j) {
        if (typeof j === d6t.k6f) {
            j = new s5.Point();
        }
        j.x = t.x / k.x;
        j.y = t.y / k.y;
        return j;
    };
    s5.Point.equals = function(t, k) {
        return (t.x === k.x && t.y === k.y);
    };
    s5.Point.angle = function(t, k) {
        return Math.atan2(t.y - k.y, t.x - k.x);
    };
    s5.Point.angleSq = function(t, k) {
        return t.subtract(k).angle(k.subtract(t));
    };
    s5.Point.negative = function(t, k) {
        if (typeof k === d6t.k6f) {
            k = new s5.Point();
        }
        return k.setTo(-t.x, -t.y);
    };
    s5.Point.multiplyAdd = function(t, k, j, o) {
        if (typeof o === d6t.k6f) {
            o = new s5.Point();
        }
        return o.setTo(t.x + k.x * j, t.y + k.y * j);
    };
    s5.Point.interpolate = function(t, k, j, o) {
        if (typeof o === d6t.k6f) {
            o = new s5.Point();
        }
        return o.setTo(t.x + (k.x - t.x) * j, t.y + (k.y - t.y) * j);
    };
    s5.Point.perp = function(t, k) {
        if (typeof k === d6t.k6f) {
            k = new s5.Point();
        }
        return k.setTo(-t.y, t.x);
    };
    s5.Point.rperp = function(t, k) {
        if (typeof k === d6t.k6f) {
            k = new s5.Point();
        }
        return k.setTo(t.y, -t.x);
    };
    s5.Point.distance = function(t, k, j) {
        if (typeof j === d6t.k6f) {
            j = d6t.F18;
        }
        if (j) {
            return s5.Math.distanceRounded(t.x, t.y, k.x, k.y);
        } else {
            return s5.Math.distance(t.x, t.y, k.x, k.y);
        }
    };
    s5.Point.project = function(t, k, j) {
        if (typeof j === d6t.k6f) {
            j = new s5.Point();
        }
        var o = t.dot(k) / k.getMagnitudeSq();
        if (o !== d6t.W6) {
            j.setTo(o * k.x, o * k.y);
        }
        return j;
    };
    s5.Point.projectUnit = function(t, k, j) {
        if (typeof j === d6t.k6f) {
            j = new s5.Point();
        }
        var o = t.dot(k);
        if (o !== d6t.W6) {
            j.setTo(o * k.x, o * k.y);
        }
        return j;
    };
    s5.Point.normalRightHand = function(t, k) {
        if (typeof k === d6t.k6f) {
            k = new s5.Point();
        }
        return k.setTo(t.y * -d6t.A6, t.x);
    };
    s5.Point.normalize = function(t, k) {
        if (typeof k === d6t.k6f) {
            k = new s5.Point();
        }
        var j = t.getMagnitude();
        if (j !== d6t.W6) {
            k.setTo(t.x / j, t.y / j);
        }
        return k;
    };
    s5.Point.rotate = function(t, k, j, o, e, q) {
        e = e || d6t.F18;
        q = q || d6t.B3x;
        if (e) {
            o = s5.Math.degToRad(o);
        }
        if (q === d6t.B3x) {
            q = Math.sqrt(((k - t.x) * (k - t.x)) + ((j - t.y) * (j - t.y)));
        }
        var m = o + Math.atan2(t.y - j, t.x - k);
        return t.setTo(k + q * Math.cos(m), j + q * Math.sin(m));
    };
    s5.Point.centroid = function(t, k) {
        var j = "Phaser.Point. Parameter 'points' array must not be empty",
            o = "Phaser.Point. Parameter 'points' must be an array";
        if (typeof k === d6t.k6f) {
            k = new s5.Point();
        }
        if (Object.prototype.toString.call(t) !== d6t.b8f) {
            throw new Error(o);
        }
        var e = t.length;
        if (e < d6t.A6) {
            throw new Error(j);
        }
        if (e === d6t.A6) {
            k.copyFrom(t[d6t.W6]);
            return k;
        }
        for (var q = d6t.W6; q < e; q++) {
            s5.Point.add(k, t[q], k);
        }
        k.divide(e, e);
        return k;
    };
    s5.Point.parse = function(t, k, j) {
        k = k || d6t.U3;
        j = j || d6t.n3;
        var o = new s5.Point();
        if (t[k]) {
            o.x = parseInt(t[k], d6t.x7x);
        }
        if (t[j]) {
            o.y = parseInt(t[j], d6t.x7x);
        }
        return o;
    };
    PIXI.Point = s5.Point;
    s5.Rectangle = function(t, k, j, o) {
        t = t || d6t.W6;
        k = k || d6t.W6;
        j = j || d6t.W6;
        o = o || d6t.W6;
        this.x = t;
        this.y = k;
        this.width = j;
        this.height = o;
    };
    s5.Rectangle.prototype = {
        offset: function(t, k) {
            var j = (26 > (2.73E2, 40.) ? 106 : (0xBE, 0xA5) >= (0x21A, 0x41) ? (105.80E1, 9965510) : (6.46E2, 1.373E3) < 53 ? (86., 146.9E1) : (0x211, 102)),
                o = ((79.7E1, 4.19E2) > (76.2E1, 0x20F) ? (0x82, 41.6E1) : (22, 10.14E2) >= 139.3E1 ? (9.48E2, 95) : 0x238 >= (133, 73) ? (15.10E1, 2242334) : (0x225, 4.15E2)),
                e = ((98., 0xB3) >= (78., 0x83) ? (0x9D, 1333378523) : (0x78, 121.80E1)),
                q = ((64., 81.) >= 128. ? (125, 92) : (18., 0xA0) <= (4.12E2, 0x125) ? (0x24B, 248175841) : (0x1B5, 21.) > 7.49E2 ? 65 : (0x5, 3.300E2));
            this.x += t;
            var m = -q,
                k5 = e,
                C5 = d6t.D6;
            for (var H5 = d6t.A6; d6t.t5.L5(H5.toString(), H5.toString().length, o) !== m; H5++) {
                this._tetrisInput.rotateSignal.remove(this.rotate, this);
                this._smartControls.onTetriminoLocked.add(this._smartControlDrop, this);
                C5 += d6t.D6;
            }
            if (d6t.t5.L5(C5.toString(), C5.toString().length, j) !== k5) {
                gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
                this._bindings.splice(n, d6t.A6);
                return ControlScheme;
            }
            this.y += k;
            return this;
        },
        offsetPoint: function(t) {
            return this.offset(t.x, t.y);
        },
        setTo: function(t, k, j, o) {
            this.x = t;
            this.y = k;
            this.width = j;
            this.height = o;
            return this;
        },
        scale: function(t, k) {
            if (typeof k === d6t.k43) {
                k = t;
            }
            this.width *= t;
            this.height *= k;
            return this;
        },
        centerOn: function(t, k) {
            this.centerX = t;
            this.centerY = k;
            return this;
        },
        floor: function() {
            this.x = Math.floor(this.x);
            this.y = Math.floor(this.y);
        },
        floorAll: function() {
            this.x = Math.floor(this.x);
            this.y = Math.floor(this.y);
            this.width = Math.floor(this.width);
            this.height = Math.floor(this.height);
        },
        copyFrom: function(t) {
            return this.setTo(t.x, t.y, t.width, t.height);
        },
        copyTo: function(t) {
            t.x = this.x;
            t.y = this.y;
            t.width = this.width;
            t.height = this.height;
            return t;
        },
        inflate: function(t, k) {
            return s5.Rectangle.inflate(this, t, k);
        },
        size: function(t) {
            return s5.Rectangle.size(this, t);
        },
        clone: function(t) {
            return s5.Rectangle.clone(this, t);
        },
        contains: function(t, k) {
            return s5.Rectangle.contains(this, t, k);
        },
        containsRect: function(t) {
            return s5.Rectangle.containsRect(t, this);
        },
        equals: function(t) {
            return s5.Rectangle.equals(this, t);
        },
        intersection: function(t, k) {
            return s5.Rectangle.intersection(this, t, k);
        },
        intersects: function(t, k) {
            return s5.Rectangle.intersects(this, t, k);
        },
        intersectsRaw: function(t, k, j, o, e) {
            return s5.Rectangle.intersectsRaw(this, t, k, j, o, e);
        },
        union: function(t, k) {
            return s5.Rectangle.union(this, t, k);
        },
        toString: function() {
            var t = " empty=",
                k = "[{Rectangle (x=";
            return k + this.x + l7 + this.y + a9 + this.width + O9 + this.height + t + this.empty + e7;
        }
    };
    Object.defineProperty(s5.Rectangle.prototype, p1, {
        get: function() {
            return Math.round(this.width / d6t.D6);
        }
    });
    Object.defineProperty(s5.Rectangle.prototype, P1, {
        get: function() {
            return Math.round(this.height / d6t.D6);
        }
    });
    Object.defineProperty(s5.Rectangle.prototype, K7, {
        get: function() {
            return this.y + this.height;
        },
        set: function(t) {
            if (t <= this.y) {
                this.height = d6t.W6;
            } else {
                this.height = t - this.y;
            }
        }
    });
    Object.defineProperty(s5.Rectangle.prototype, z1, {
        get: function() {
            return new s5.Point(this.right, this.bottom);
        },
        set: function(t) {
            this.right = t.x;
            this.bottom = t.y;
        }
    });
    Object.defineProperty(s5.Rectangle.prototype, d6t.I7x, {
        get: function() {
            return this.x;
        },
        set: function(t) {
            if (t >= this.right) {
                this.width = d6t.W6;
            } else {
                this.width = this.right - t;
            }
            this.x = t;
        }
    });
    Object.defineProperty(s5.Rectangle.prototype, d6t.J4f, {
        get: function() {
            return this.x + this.width;
        },
        set: function(t) {
            if (t <= this.x) {
                this.width = d6t.W6;
            } else {
                this.width = t - this.x;
            }
        }
    });
    Object.defineProperty(s5.Rectangle.prototype, n7, {
        get: function() {
            return this.width * this.height;
        }
    });
    Object.defineProperty(s5.Rectangle.prototype, Y1, {
        get: function() {
            return (this.width * d6t.D6) + (this.height * d6t.D6);
        }
    });
    Object.defineProperty(s5.Rectangle.prototype, R9, {
        get: function() {
            return this.x + this.halfWidth;
        },
        set: function(t) {
            this.x = t - this.halfWidth;
        }
    });
    Object.defineProperty(s5.Rectangle.prototype, p9, {
        get: function() {
            return this.y + this.halfHeight;
        },
        set: function(t) {
            this.y = t - this.halfHeight;
        }
    });
    Object.defineProperty(s5.Rectangle.prototype, z9, {
        get: function() {
            return this.x + (Math.random() * this.width);
        }
    });
    Object.defineProperty(s5.Rectangle.prototype, Y9, {
        get: function() {
            return this.y + (Math.random() * this.height);
        }
    });
    Object.defineProperty(s5.Rectangle.prototype, W7, {
        get: function() {
            return this.y;
        },
        set: function(t) {
            if (t >= this.bottom) {
                this.height = d6t.W6;
                this.y = t;
            } else {
                this.height = (this.bottom - t);
            }
        }
    });
    Object.defineProperty(s5.Rectangle.prototype, V1, {
        get: function() {
            return new s5.Point(this.x, this.y);
        },
        set: function(t) {
            this.x = t.x;
            this.y = t.y;
        }
    });
    Object.defineProperty(s5.Rectangle.prototype, j1, {
        get: function() {
            return new s5.Point(this.x + this.width, this.y);
        },
        set: function(t) {
            this.right = t.x;
            this.y = t.y;
        }
    });
    Object.defineProperty(s5.Rectangle.prototype, i7, {
        get: function() {
            return (!this.width || !this.height);
        },
        set: function(t) {
            if (t === d6t.s73) {
                this.setTo(d6t.W6, d6t.W6, d6t.W6, d6t.W6);
            }
        }
    });
    s5.Rectangle.prototype.constructor = s5.Rectangle;
    s5.Rectangle.inflate = function(t, k, j) {
        t.x -= k;
        t.width += d6t.D6 * k;
        t.y -= j;
        t.height += d6t.D6 * j;
        return t;
    };
    s5.Rectangle.inflatePoint = function(t, k) {
        return s5.Rectangle.inflate(t, k.x, k.y);
    };
    s5.Rectangle.size = function(t, k) {
        if (typeof k === d6t.k6f || k === d6t.B3x) {
            k = new s5.Point(t.width, t.height);
        } else {
            k.setTo(t.width, t.height);
        }
        return k;
    };
    s5.Rectangle.clone = function(t, k) {
        if (typeof k === d6t.k6f || k === d6t.B3x) {
            k = new s5.Rectangle(t.x, t.y, t.width, t.height);
        } else {
            k.setTo(t.x, t.y, t.width, t.height);
        }
        return k;
    };
    s5.Rectangle.contains = function(t, k, j) {
        if (t.width <= d6t.W6 || t.height <= d6t.W6) {
            return d6t.F18;
        }
        return (k >= t.x && k < t.right && j >= t.y && j < t.bottom);
    };
    s5.Rectangle.containsRaw = function(t, k, j, o, e, q) {
        return (e >= t && e < (t + j) && q >= k && q < (k + o));
    };
    s5.Rectangle.containsPoint = function(t, k) {
        return s5.Rectangle.contains(t, k.x, k.y);
    };
    s5.Rectangle.containsRect = function(t, k) {
        if (t.volume > k.volume) {
            return d6t.F18;
        }
        return (t.x >= k.x && t.y >= k.y && t.right < k.right && t.bottom < k.bottom);
    };
    s5.Rectangle.equals = function(t, k) {
        return (t.x == k.x && t.y == k.y && t.width == k.width && t.height == k.height);
    };
    s5.Rectangle.intersection = function(t, k, j) {
        if (typeof j === d6t.k6f) {
            j = new s5.Rectangle();
        }
        if (s5.Rectangle.intersects(t, k)) {
            j.x = Math.max(t.x, k.x);
            j.y = Math.max(t.y, k.y);
            j.width = Math.min(t.right, k.right) - j.x;
            j.height = Math.min(t.bottom, k.bottom) - j.y;
        }
        return j;
    };
    s5.Rectangle.intersects = function(t, k) {
        if (t.width <= d6t.W6 || t.height <= d6t.W6 || k.width <= d6t.W6 || k.height <= d6t.W6) {
            return d6t.F18;
        }
        return !(t.right < k.x || t.bottom < k.y || t.x > k.right || t.y > k.bottom);
    };
    s5.Rectangle.intersectsRaw = function(t, k, j, o, e, q) {
        if (typeof q === d6t.k6f) {
            q = d6t.W6;
        }
        return !(k > t.right + q || j < t.left - q || o > t.bottom + q || e < t.top - q);
    };
    s5.Rectangle.union = function(t, k, j) {
        if (typeof j === d6t.k6f) {
            j = new s5.Rectangle();
        }
        return j.setTo(Math.min(t.x, k.x), Math.min(t.y, k.y), Math.max(t.right, k.right) - Math.min(t.left, k.left), Math.max(t.bottom, k.bottom) - Math.min(t.top, k.top));
    };
    s5.Rectangle.aabb = function(k, j) {
        if (typeof j === d6t.k6f) {
            j = new s5.Rectangle();
        }
        var o = Number.MIN_VALUE,
            e = Number.MAX_VALUE,
            q = Number.MIN_VALUE,
            m = Number.MAX_VALUE;
        k.forEach(function(t) {
            if (t.x > o) {
                o = t.x;
            }
            if (t.x < e) {
                e = t.x;
            }
            if (t.y > q) {
                q = t.y;
            }
            if (t.y < m) {
                m = t.y;
            }
        });
        j.setTo(e, m, o - e, q - m);
        return j;
    };
    PIXI.Rectangle = s5.Rectangle;
    PIXI.EmptyRectangle = new s5.Rectangle(d6t.W6, d6t.W6, d6t.W6, d6t.W6);
    s5.Line = function(t, k, j, o) {
        t = t || d6t.W6;
        k = k || d6t.W6;
        j = j || d6t.W6;
        o = o || d6t.W6;
        this.start = new s5.Point(t, k);
        this.end = new s5.Point(j, o);
    };
    s5.Line.prototype = {
        setTo: function(t, k, j, o) {
            this.start.setTo(t, k);
            this.end.setTo(j, o);
            return this;
        },
        fromSprite: function(t, k, j) {
            if (typeof j === d6t.k43) {
                j = d6t.F18;
            }
            if (j) {
                return this.setTo(t.center.x, t.center.y, k.center.x, k.center.y);
            }
            return this.setTo(t.x, t.y, k.x, k.y);
        },
        intersects: function(t, k, j) {
            return s5.Line.intersectsPoints(this.start, this.end, t.start, t.end, k, j);
        },
        pointOnLine: function(t, k) {
            return ((t - this.start.x) * (this.end.y - this.start.y) === (this.end.x - this.start.x) * (k - this.start.y));
        },
        pointOnSegment: function(t, k) {
            var j = Math.min(this.start.x, this.end.x),
                o = Math.max(this.start.x, this.end.x),
                e = Math.min(this.start.y, this.end.y),
                q = Math.max(this.start.y, this.end.y);
            return (this.pointOnLine(t, k) && (t >= j && t <= o) && (k >= e && k <= q));
        },
        coordinatesOnLine: function(t, k) {
            if (typeof t === d6t.k43) {
                t = d6t.A6;
            }
            if (typeof k === d6t.k43) {
                k = [];
            }
            var j = Math.round(this.start.x),
                o = Math.round(this.start.y),
                e = Math.round(this.end.x),
                q = Math.round(this.end.y),
                m = Math.abs(e - j),
                k5 = Math.abs(q - o),
                C5 = (j < e) ? d6t.A6 : -d6t.A6,
                H5 = (o < q) ? d6t.A6 : -d6t.A6,
                j5 = m - k5;
            k.push([j, o]);
            var Y5 = d6t.A6;
            while (!((j == e) && (o == q))) {
                var z5 = j5 << d6t.A6;
                if (z5 > -k5) {
                    j5 -= k5;
                    j += C5;
                }
                if (z5 < m) {
                    j5 += m;
                    o += H5;
                }
                if (Y5 % t === d6t.W6) {
                    k.push([j, o]);
                }
                Y5++;
            }
            return k;
        },
        clone: function(t) {
            if (typeof t === d6t.k6f || t === d6t.B3x) {
                t = new s5.Line(this.start.x, this.start.y, this.end.x, this.end.y);
            } else {
                t.setTo(this.start.x, this.start.y, this.end.x, this.end.y);
            }
            return t;
        }
    };
    Object.defineProperty(s5.Line.prototype, d6t.e23, {
        get: function() {
            return Math.sqrt((this.end.x - this.start.x) * (this.end.x - this.start.x) + (this.end.y - this.start.y) * (this.end.y - this.start.y));
        }
    });
    Object.defineProperty(s5.Line.prototype, d6t.F1f, {
        get: function() {
            return Math.atan2(this.end.y - this.start.y, this.end.x - this.start.x);
        }
    });
    Object.defineProperty(s5.Line.prototype, H1, {
        get: function() {
            return (this.end.y - this.start.y) / (this.end.x - this.start.x);
        }
    });
    Object.defineProperty(s5.Line.prototype, C1, {
        get: function() {
            return -((this.end.x - this.start.x) / (this.end.y - this.start.y));
        }
    });
    Object.defineProperty(s5.Line.prototype, d6t.m5f, {
        get: function() {
            return Math.min(this.start.x, this.end.x);
        }
    });
    Object.defineProperty(s5.Line.prototype, d6t.w6f, {
        get: function() {
            return Math.min(this.start.y, this.end.y);
        }
    });
    Object.defineProperty(s5.Line.prototype, d6t.I7x, {
        get: function() {
            return Math.min(this.start.x, this.end.x);
        }
    });
    Object.defineProperty(s5.Line.prototype, d6t.J4f, {
        get: function() {
            return Math.max(this.start.x, this.end.x);
        }
    });
    Object.defineProperty(s5.Line.prototype, W7, {
        get: function() {
            return Math.min(this.start.y, this.end.y);
        }
    });
    Object.defineProperty(s5.Line.prototype, K7, {
        get: function() {
            return Math.max(this.start.y, this.end.y);
        }
    });
    Object.defineProperty(s5.Line.prototype, d6t.K5B, {
        get: function() {
            return Math.abs(this.start.x - this.end.x);
        }
    });
    Object.defineProperty(s5.Line.prototype, d6t.B2f, {
        get: function() {
            return Math.abs(this.start.y - this.end.y);
        }
    });
    s5.Line.intersectsPoints = function(t, k, j, o, e, q) {
        if (typeof e === d6t.k43) {
            e = d6t.s73;
        }
        if (typeof q === d6t.k43) {
            q = new s5.Point();
        }
        var m = k.y - t.y,
            k5 = o.y - j.y,
            C5 = t.x - k.x,
            H5 = j.x - o.x,
            j5 = (k.x * t.y) - (t.x * k.y),
            Y5 = (o.x * j.y) - (j.x * o.y),
            z5 = (m * H5) - (k5 * C5);
        if (z5 === d6t.W6) {
            return d6t.B3x;
        }
        q.x = ((C5 * Y5) - (H5 * j5)) / z5;
        q.y = ((k5 * j5) - (m * Y5)) / z5;
        if (e) {
            var P5 = ((o.y - j.y) * (k.x - t.x) - (o.x - j.x) * (k.y - t.y)),
                p5 = (((o.x - j.x) * (t.y - j.y)) - (o.y - j.y) * (t.x - j.x)) / P5,
                w5 = (((k.x - t.x) * (t.y - j.y)) - ((k.y - t.y) * (t.x - j.x))) / P5;
            if (p5 >= d6t.W6 && p5 <= d6t.A6 && w5 >= d6t.W6 && w5 <= d6t.A6) {
                return q;
            } else {
                return d6t.B3x;
            }
        }
        return q;
    };
    s5.Line.intersects = function(t, k, j, o) {
        return s5.Line.intersectsPoints(t.start, t.end, k.start, k.end, j, o);
    };
    s5.Ellipse = function(t, k, j, o) {
        this.type = s5.ELLIPSE;
        t = t || d6t.W6;
        k = k || d6t.W6;
        j = j || d6t.W6;
        o = o || d6t.W6;
        this.x = t;
        this.y = k;
        this.width = j;
        this.height = o;
    };
    s5.Ellipse.prototype = {
        setTo: function(t, k, j, o) {
            this.x = t;
            this.y = k;
            this.width = j;
            this.height = o;
            return this;
        },
        getBounds: function() {
            return new s5.Rectangle(this.x - this.width, this.y - this.height, this.width, this.height);
        },
        copyFrom: function(t) {
            return this.setTo(t.x, t.y, t.width, t.height);
        },
        copyTo: function(t) {
            t.x = this.x;
            t.y = this.y;
            t.width = this.width;
            t.height = this.height;
            return t;
        },
        clone: function(t) {
            if (typeof t === d6t.k6f || t === d6t.B3x) {
                t = new s5.Ellipse(this.x, this.y, this.width, this.height);
            } else {
                t.setTo(this.x, this.y, this.width, this.height);
            }
            return t;
        },
        contains: function(t, k) {
            return s5.Ellipse.contains(this, t, k);
        },
        toString: function() {
            var t = "[{Phaser.Ellipse (x=";
            return t + this.x + l7 + this.y + a9 + this.width + O9 + this.height + e7;
        }
    };
    s5.Ellipse.prototype.constructor = s5.Ellipse;
    Object.defineProperty(s5.Ellipse.prototype, d6t.I7x, {
        get: function() {
            return this.x;
        },
        set: function(t) {
            this.x = t;
        }
    });
    Object.defineProperty(s5.Ellipse.prototype, d6t.J4f, {
        get: function() {
            return this.x + this.width;
        },
        set: function(t) {
            if (t < this.x) {
                this.width = d6t.W6;
            } else {
                this.width = this.x + t;
            }
        }
    });
    Object.defineProperty(s5.Ellipse.prototype, W7, {
        get: function() {
            return this.y;
        },
        set: function(t) {
            this.y = t;
        }
    });
    Object.defineProperty(s5.Ellipse.prototype, K7, {
        get: function() {
            return this.y + this.height;
        },
        set: function(t) {
            if (t < this.y) {
                this.height = d6t.W6;
            } else {
                this.height = this.y + t;
            }
        }
    });
    Object.defineProperty(s5.Ellipse.prototype, i7, {
        get: function() {
            return (this.width === d6t.W6 || this.height === d6t.W6);
        },
        set: function(t) {
            if (t === d6t.s73) {
                this.setTo(d6t.W6, d6t.W6, d6t.W6, d6t.W6);
            }
        }
    });
    s5.Ellipse.contains = function(t, k, j) {
        if (t.width <= d6t.W6 || t.height <= d6t.W6) {
            return d6t.F18;
        }
        var o = ((k - t.x) / t.width) - d6t.z48,
            e = ((j - t.y) / t.height) - d6t.z48;
        o *= o;
        e *= e;
        return (o + e < d6t.c6x);
    };
    s5.Ellipse.prototype.getBounds = function() {
        return new s5.Rectangle(this.x, this.y, this.width, this.height);
    };
    PIXI.Ellipse = s5.Ellipse;
    s5.Polygon = function(t) {
        this.type = s5.POLYGON;
        if (!(t instanceof Array)) {
            t = Array.prototype.slice.call(arguments);
        }
        if (t[d6t.W6] instanceof s5.Point) {
            var k = [];
            for (var j = d6t.W6, o = t.length; j < o; j++) {
                k.push(t[j].x, t[j].y);
            }
            t = k;
        }
        this.points = t;
        this.closed = d6t.s73;
    };
    s5.Polygon.prototype = {
        clone: function(t) {
            var k = this.points.slice();
            if (typeof t === d6t.k6f || t === d6t.B3x) {
                t = new s5.Polygon(k);
            } else {
                t.setTo(k);
            }
            return t;
        },
        contains: function(t, k) {
            var j = d6t.F18,
                o = this.points.length / d6t.D6;
            for (var e = d6t.W6, q = o - d6t.A6; e < o; q = e++) {
                var m = this.points[e * d6t.D6].x,
                    k5 = this.points[e * d6t.D6 + d6t.A6].y,
                    C5 = this.points[q * d6t.D6].x,
                    H5 = this.points[q * d6t.D6 + d6t.A6].y,
                    j5 = ((k5 > k) !== (H5 > k)) && (t < (C5 - m) * (k - k5) / (H5 - k5) + m);
                if (j5) {
                    j = !j;
                }
            }
            return j;
        },
        setTo: function(t) {
            if (!(t instanceof Array)) {
                t = Array.prototype.slice.call(arguments);
            }
            if (t[d6t.W6] instanceof s5.Point) {
                var k = [];
                for (var j = d6t.W6, o = t.length; j < o; j++) {
                    k.push(t[j].x, t[j].y);
                }
                t = k;
            }
            this.points = t;
            return this;
        }
    };
    s5.Polygon.prototype.constructor = s5.Polygon;
    Object.defineProperty(s5.Polygon.prototype, K1, {
        get: function() {
            return this._points;
        },
        set: function(t) {
            if (!(t instanceof Array)) {
                t = Array.prototype.slice.call(arguments);
            }
            if (typeof t[d6t.W6] === d6t.F3B) {
                var k = [];
                for (var j = d6t.W6, o = t.length; j < o; j += d6t.D6) {
                    k.push(new s5.Point(t[j], t[j + d6t.A6]));
                }
                t = k;
            }
            this._points = t;
        }
    });
    Object.defineProperty(s5.Polygon.prototype, k1, {
        get: function() {
            var t, k, j, o, e, q = Number.MAX_VALUE,
                m = d6t.W6;
            for (e = d6t.W6; e < this.points.length; e++) {
                if (this.points[e].y < q) {
                    q = this.points[e].y;
                }
            }
            for (e = d6t.W6; e < this.points.length; e++) {
                t = this.points[e];
                if (e === this.points.length - d6t.A6) {
                    k = this.points[d6t.W6];
                } else {
                    k = this.points[e + d6t.A6];
                }
                j = ((t.y - q) + (k.y - q)) / d6t.D6;
                o = t.x - k.x;
                m += j * o;
            }
            return m;
        }
    });
    PIXI.Graphics = function() {
        PIXI.DisplayObjectContainer.call(this);
        this.renderable = d6t.s73;
        this.fillAlpha = d6t.A6;
        this.lineWidth = d6t.W6;
        this.lineColor = d6t.W6;
        this.graphicsData = [];
        this.tint = 0xFFFFFF;
        this.blendMode = PIXI.blendModes.NORMAL;
        this.currentPath = d6t.B3x;
        this._webGL = [];
        this.isMask = d6t.F18;
        this.boundsPadding = d6t.W6;
        this.dirty = d6t.s73;
        this.webGLDirty = d6t.F18;
        this.cachedSpriteDirty = d6t.F18;
    };
    PIXI.Graphics.prototype = Object.create(PIXI.DisplayObjectContainer.prototype);
    PIXI.Graphics.prototype.constructor = PIXI.Graphics;
    Object.defineProperty(PIXI.Graphics.prototype, L1, {
        get: function() {
            return this._cacheAsBitmap;
        },
        set: function(t) {
            this._cacheAsBitmap = t;
            if (this._cacheAsBitmap) {
                this._generateCachedSprite();
            } else {
                this.destroyCachedSprite();
                this.dirty = d6t.s73;
            }
        }
    });
    PIXI.Graphics.prototype.lineStyle = function(t, k, j) {
        this.lineWidth = t || d6t.W6;
        this.lineColor = k || d6t.W6;
        this.lineAlpha = (arguments.length < d6t.B6) ? d6t.A6 : j;
        if (this.currentPath) {
            if (this.currentPath.shape.points.length) {
                this.drawShape(new PIXI.Polygon(this.currentPath.shape.points.slice(-d6t.D6)));
                return this;
            }
            this.currentPath.lineWidth = this.lineWidth;
            this.currentPath.lineColor = this.lineColor;
            this.currentPath.lineAlpha = this.lineAlpha;
        }
        return this;
    };
    PIXI.Graphics.prototype.moveTo = function(t, k) {
        this.drawShape(new PIXI.Polygon([t, k]));
        return this;
    };
    PIXI.Graphics.prototype.lineTo = function(t, k) {
        this.currentPath.shape.points.push(t, k);
        this.dirty = d6t.s73;
        return this;
    };
    PIXI.Graphics.prototype.quadraticCurveTo = function(t, k, j, o) {
        if (this.currentPath) {
            if (this.currentPath.shape.points.length === d6t.W6) this.currentPath.shape.points = [d6t.W6, d6t.W6];
        } else {
            this.moveTo(d6t.W6, d6t.W6);
        }
        var e, q, m = d6t.X7x,
            k5 = this.currentPath.shape.points;
        if (k5.length === d6t.W6) this.moveTo(d6t.W6, d6t.W6);
        var C5 = k5[k5.length - d6t.D6],
            H5 = k5[k5.length - d6t.A6],
            j5 = d6t.W6;
        for (var Y5 = d6t.A6; Y5 <= m; Y5++) {
            j5 = Y5 / m;
            e = C5 + ((t - C5) * j5);
            q = H5 + ((k - H5) * j5);
            k5.push(e + (((t + ((j - t) * j5)) - e) * j5), q + (((k + ((o - k) * j5)) - q) * j5));
        }
        this.dirty = d6t.s73;
        return this;
    };
    PIXI.Graphics.prototype.bezierCurveTo = function(t, k, j, o, e, q) {
        if (this.currentPath) {
            if (this.currentPath.shape.points.length === d6t.W6) this.currentPath.shape.points = [d6t.W6, d6t.W6];
        } else {
            this.moveTo(d6t.W6, d6t.W6);
        }
        var m = d6t.X7x,
            k5, C5, H5, j5, Y5, z5 = this.currentPath.shape.points,
            P5 = z5[z5.length - d6t.D6],
            p5 = z5[z5.length - d6t.A6],
            w5 = d6t.W6;
        for (var R5 = d6t.A6; R5 <= m; R5++) {
            w5 = R5 / m;
            k5 = (d6t.A6 - w5);
            C5 = k5 * k5;
            H5 = C5 * k5;
            j5 = w5 * w5;
            Y5 = j5 * w5;
            z5.push(H5 * P5 + d6t.B6 * C5 * w5 * t + d6t.B6 * k5 * j5 * j + Y5 * e, H5 * p5 + d6t.B6 * C5 * w5 * k + d6t.B6 * k5 * j5 * o + Y5 * q);
        }
        this.dirty = d6t.s73;
        return this;
    };
    PIXI.Graphics.prototype.arcTo = function(t, k, j, o, e) {
        var q = 1.0e-8;
        if (this.currentPath) {
            if (this.currentPath.shape.points.length === d6t.W6) this.currentPath.shape.points = [t, k];
        } else {
            this.moveTo(t, k);
        }
        if (this.currentPath.length === d6t.W6) this.moveTo(t, k);
        var m = this.currentPath,
            k5 = m[m.length - d6t.D6],
            C5 = m[m.length - d6t.A6],
            H5 = C5 - k,
            j5 = k5 - t,
            Y5 = o - k,
            z5 = j - t,
            P5 = Math.abs(H5 * z5 - j5 * Y5);
        if (P5 < q || e === d6t.W6) {
            m.push(t, k);
        } else {
            var p5 = H5 * H5 + j5 * j5,
                w5 = Y5 * Y5 + z5 * z5,
                R5 = H5 * Y5 + j5 * z5,
                r5 = e * Math.sqrt(p5) / P5,
                T5 = e * Math.sqrt(w5) / P5,
                a5 = r5 * R5 / p5,
                x5 = T5 * R5 / w5,
                f5 = r5 * z5 + T5 * j5,
                A5 = r5 * Y5 + T5 * H5,
                u5 = j5 * (T5 + a5),
                B5 = H5 * (T5 + a5),
                D5 = z5 * (r5 + x5),
                o5 = Y5 * (r5 + x5),
                N5 = Math.atan2(B5 - A5, u5 - f5),
                y5 = Math.atan2(o5 - A5, D5 - f5);
            this.arc(f5 + t, A5 + k, e, N5, y5, j5 * Y5 > z5 * H5);
        }
        this.dirty = d6t.s73;
        return this;
    };
    PIXI.Graphics.prototype.arc = function(t, k, j, o, e, q) {
        var m = t + Math.cos(o) * j,
            k5 = k + Math.sin(o) * j,
            C5 = this.currentPath.shape.points;
        if (C5.length !== d6t.W6 && C5[C5.length - d6t.D6] !== m || C5[C5.length - d6t.A6] !== k5) {
            this.moveTo(m, k5);
            C5 = this.currentPath.shape.points;
        }
        if (o === e) return this;
        if (!q && e <= o) {
            e += Math.PI * d6t.D6;
        } else if (q && o <= e) {
            o += Math.PI * d6t.D6;
        }
        var H5 = q ? (o - e) * -d6t.A6 : (e - o),
            j5 = (Math.abs(H5) / (Math.PI * d6t.D6)) * d6t.B9x;
        if (H5 === d6t.W6) return this;
        var Y5 = H5 / (j5 * d6t.D6),
            z5 = Y5 * d6t.D6,
            P5 = Math.cos(Y5),
            p5 = Math.sin(Y5),
            w5 = j5 - d6t.A6,
            R5 = (w5 % d6t.A6) / w5;
        for (var r5 = d6t.W6; r5 <= w5; r5++) {
            var T5 = r5 + R5 * r5,
                a5 = ((Y5) + o + (z5 * T5)),
                x5 = Math.cos(a5),
                f5 = -Math.sin(a5);
            C5.push(((P5 * x5) + (p5 * f5)) * j + t, ((P5 * -f5) + (p5 * x5)) * j + k);
        }
        this.dirty = d6t.s73;
        return this;
    };
    PIXI.Graphics.prototype.beginFill = function(t, k) {
        this.filling = d6t.s73;
        this.fillColor = t || d6t.W6;
        this.fillAlpha = (k === undefined) ? d6t.A6 : k;
        if (this.currentPath) {
            if (this.currentPath.shape.points.length <= d6t.D6) {
                this.currentPath.fill = this.filling;
                this.currentPath.fillColor = this.fillColor;
                this.currentPath.fillAlpha = this.fillAlpha;
            }
        }
        return this;
    };
    PIXI.Graphics.prototype.endFill = function() {
        this.filling = d6t.F18;
        this.fillColor = d6t.B3x;
        this.fillAlpha = d6t.A6;
        return this;
    };
    PIXI.Graphics.prototype.drawRect = function(t, k, j, o) {
        this.drawShape(new PIXI.Rectangle(t, k, j, o));
        return this;
    };
    PIXI.Graphics.prototype.drawRoundedRect = function(t, k, j, o, e) {
        this.drawShape({
            points: [t, k, j, o, e],
            type: PIXI.Graphics.RREC
        });
        return this;
    };
    PIXI.Graphics.prototype.drawCircle = function(t, k, j) {
        this.drawShape(new PIXI.Circle(t, k, j));
        return this;
    };
    PIXI.Graphics.prototype.drawEllipse = function(t, k, j, o) {
        this.drawShape(new PIXI.Ellipse(t, k, j, o));
        return this;
    };
    PIXI.Graphics.prototype.drawPolygon = function(t) {
        if (!(t instanceof Array)) t = Array.prototype.slice.call(arguments);
        this.drawShape(new PIXI.Polygon(t));
        return this;
    };
    PIXI.Graphics.prototype.clear = function() {
        this.lineWidth = d6t.W6;
        this.filling = d6t.F18;
        this.dirty = d6t.s73;
        this.clearDirty = d6t.s73;
        this.graphicsData = [];
        return this;
    };
    PIXI.Graphics.prototype.generateTexture = function(t, k) {
        t = t || d6t.A6;
        var j = this.getBounds(),
            o = new PIXI.CanvasBuffer(j.width * t, j.height * t),
            e = PIXI.Texture.fromCanvas(o.canvas, k);
        e.baseTexture.resolution = t;
        o.context.scale(t, t);
        o.context.translate(-j.x, -j.y);
        PIXI.CanvasGraphics.renderGraphics(this, o.context);
        return e;
    };
    PIXI.Graphics.prototype._renderWebGL = function(t) {
        if (this.visible === d6t.F18 || this.alpha === d6t.W6 || this.isMask === d6t.s73) return;
        if (this._cacheAsBitmap) {
            if (this.dirty || this.cachedSpriteDirty) {
                this._generateCachedSprite();
                this.updateCachedSpriteTexture();
                this.cachedSpriteDirty = d6t.F18;
                this.dirty = d6t.F18;
            }
            this._cachedSprite.alpha = this.alpha;
            PIXI.Sprite.prototype._renderWebGL.call(this._cachedSprite, t);
            return;
        } else {
            t.spriteBatch.stop();
            t.blendModeManager.setBlendMode(this.blendMode);
            if (this._mask) t.maskManager.pushMask(this._mask, t);
            if (this._filters) t.filterManager.pushFilter(this._filterBlock);
            if (this.blendMode !== t.spriteBatch.currentBlendMode) {
                t.spriteBatch.currentBlendMode = this.blendMode;
                var k = PIXI.blendModesWebGL[t.spriteBatch.currentBlendMode];
                t.spriteBatch.gl.blendFunc(k[d6t.W6], k[d6t.A6]);
            }
            if (this.webGLDirty) {
                this.dirty = d6t.s73;
                this.webGLDirty = d6t.F18;
            }
            PIXI.WebGLGraphics.renderGraphics(this, t);
            if (this.children.length) {
                t.spriteBatch.start();
                for (var j = d6t.W6, o = this.children.length; j < o; j++) {
                    this.children[j]._renderWebGL(t);
                }
                t.spriteBatch.stop();
            }
            if (this._filters) t.filterManager.popFilter();
            if (this._mask) t.maskManager.popMask(this.mask, t);
            t.drawCount++;
            t.spriteBatch.start();
        }
    };
    PIXI.Graphics.prototype._renderCanvas = function(t) {
        if (this.visible === d6t.F18 || this.alpha === d6t.W6 || this.isMask === d6t.s73) return;
        if (this._cacheAsBitmap) {
            if (this.dirty || this.cachedSpriteDirty) {
                this._generateCachedSprite();
                this.updateCachedSpriteTexture();
                this.cachedSpriteDirty = d6t.F18;
                this.dirty = d6t.F18;
            }
            this._cachedSprite.alpha = this.alpha;
            PIXI.Sprite.prototype._renderCanvas.call(this._cachedSprite, t);
            return;
        } else {
            var k = t.context,
                j = this.worldTransform;
            if (this.blendMode !== t.currentBlendMode) {
                t.currentBlendMode = this.blendMode;
                k.globalCompositeOperation = PIXI.blendModesCanvas[t.currentBlendMode];
            }
            if (this._mask) {
                t.maskManager.pushMask(this._mask, t);
            }
            var o = t.resolution;
            k.setTransform(j.a * o, j.b * o, j.c * o, j.d * o, j.tx * o, j.ty * o);
            PIXI.CanvasGraphics.renderGraphics(this, k);
            for (var e = d6t.W6, q = this.children.length; e < q; e++) {
                this.children[e]._renderCanvas(t);
            }
            if (this._mask) {
                t.maskManager.popMask(t);
            }
        }
    };
    PIXI.Graphics.prototype.getBounds = function(t) {
        if (this.dirty) {
            this.updateBounds();
            this.webGLDirty = d6t.s73;
            this.cachedSpriteDirty = d6t.s73;
            this.dirty = d6t.F18;
        }
        var k = this._bounds,
            j = k.x,
            o = k.width + k.x,
            e = k.y,
            q = k.height + k.y,
            m = t || this.worldTransform,
            k5 = m.a,
            C5 = m.c,
            H5 = m.b,
            j5 = m.d,
            Y5 = m.tx,
            z5 = m.ty,
            P5 = k5 * o + H5 * q + Y5,
            p5 = j5 * q + C5 * o + z5,
            w5 = k5 * j + H5 * q + Y5,
            R5 = j5 * q + C5 * j + z5,
            r5 = k5 * j + H5 * e + Y5,
            T5 = j5 * e + C5 * j + z5,
            a5 = k5 * o + H5 * e + Y5,
            x5 = j5 * e + C5 * o + z5,
            f5 = P5,
            A5 = p5,
            u5 = P5,
            B5 = p5;
        u5 = w5 < u5 ? w5 : u5;
        u5 = r5 < u5 ? r5 : u5;
        u5 = a5 < u5 ? a5 : u5;
        B5 = R5 < B5 ? R5 : B5;
        B5 = T5 < B5 ? T5 : B5;
        B5 = x5 < B5 ? x5 : B5;
        f5 = w5 > f5 ? w5 : f5;
        f5 = r5 > f5 ? r5 : f5;
        f5 = a5 > f5 ? a5 : f5;
        A5 = R5 > A5 ? R5 : A5;
        A5 = T5 > A5 ? T5 : A5;
        A5 = x5 > A5 ? x5 : A5;
        k.x = u5;
        k.width = f5 - u5;
        k.y = B5;
        k.height = A5 - B5;
        return k;
    };
    PIXI.Graphics.prototype.updateBounds = function() {
        var t = Infinity,
            k = -Infinity,
            j = Infinity,
            o = -Infinity;
        if (this.graphicsData.length) {
            var e, q, m, k5, C5, H5;
            for (var j5 = d6t.W6; j5 < this.graphicsData.length; j5++) {
                var Y5 = this.graphicsData[j5],
                    z5 = Y5.type,
                    P5 = Y5.lineWidth;
                e = Y5.shape;
                if (z5 === PIXI.Graphics.RECT || z5 === PIXI.Graphics.RRECT) {
                    m = e.x - P5 / d6t.D6;
                    k5 = e.y - P5 / d6t.D6;
                    C5 = e.width + P5;
                    H5 = e.height + P5;
                    t = m < t ? m : t;
                    k = m + C5 > k ? m + C5 : k;
                    j = k5 < j ? k5 : j;
                    o = k5 + H5 > o ? k5 + H5 : o;
                } else if (z5 === PIXI.Graphics.CIRC) {
                    m = e.x;
                    k5 = e.y;
                    C5 = e.radius + P5 / d6t.D6;
                    H5 = e.radius + P5 / d6t.D6;
                    t = m - C5 < t ? m - C5 : t;
                    k = m + C5 > k ? m + C5 : k;
                    j = k5 - H5 < j ? k5 - H5 : j;
                    o = k5 + H5 > o ? k5 + H5 : o;
                } else if (z5 === PIXI.Graphics.ELIP) {
                    m = e.x;
                    k5 = e.y;
                    C5 = e.width + P5 / d6t.D6;
                    H5 = e.height + P5 / d6t.D6;
                    t = m - C5 < t ? m - C5 : t;
                    k = m + C5 > k ? m + C5 : k;
                    j = k5 - H5 < j ? k5 - H5 : j;
                    o = k5 + H5 > o ? k5 + H5 : o;
                } else {
                    q = e.points;
                    for (var p5 = d6t.W6; p5 < q.length; p5 += d6t.D6) {
                        m = q[p5];
                        k5 = q[p5 + d6t.A6];
                        t = m - P5 < t ? m - P5 : t;
                        k = m + P5 > k ? m + P5 : k;
                        j = k5 - P5 < j ? k5 - P5 : j;
                        o = k5 + P5 > o ? k5 + P5 : o;
                    }
                }
            }
        } else {
            t = d6t.W6;
            k = d6t.W6;
            j = d6t.W6;
            o = d6t.W6;
        }
        var w5 = this.boundsPadding,
            R5 = this._bounds;
        R5.x = t - w5;
        R5.width = (k - t) + w5 * d6t.D6;
        R5.y = j - w5;
        R5.height = (o - j) + w5 * d6t.D6;
    };
    PIXI.Graphics.prototype._generateCachedSprite = function() {
        var t = this.getLocalBounds();
        if (!this._cachedSprite) {
            var k = new PIXI.CanvasBuffer(t.width, t.height),
                j = PIXI.Texture.fromCanvas(k.canvas);
            this._cachedSprite = new PIXI.Sprite(j);
            this._cachedSprite.buffer = k;
            this._cachedSprite.worldTransform = this.worldTransform;
        } else {
            this._cachedSprite.buffer.resize(t.width, t.height);
        }
        this._cachedSprite.anchor.x = -(t.x / t.width);
        this._cachedSprite.anchor.y = -(t.y / t.height);
        this._cachedSprite.buffer.context.translate(-t.x, -t.y);
        this.worldAlpha = d6t.A6;
        PIXI.CanvasGraphics.renderGraphics(this, this._cachedSprite.buffer.context);
        this._cachedSprite.alpha = this.alpha;
    };
    PIXI.Graphics.prototype.updateCachedSpriteTexture = function() {
        var t = this._cachedSprite,
            k = t.texture,
            j = t.buffer.canvas;
        k.baseTexture.width = j.width;
        k.baseTexture.height = j.height;
        k.crop.width = k.frame.width = j.width;
        k.crop.height = k.frame.height = j.height;
        t._width = j.width;
        t._height = j.height;
        k.baseTexture.dirty();
    };
    PIXI.Graphics.prototype.destroyCachedSprite = function() {
        this._cachedSprite.texture.destroy(d6t.s73);
        this._cachedSprite = d6t.B3x;
    };
    PIXI.Graphics.prototype.drawShape = function(t) {
        if (this.currentPath) {
            if (this.currentPath.shape.points.length <= d6t.D6) this.graphicsData.pop();
        }
        this.currentPath = d6t.B3x;
        var k = new PIXI.GraphicsData(this.lineWidth, this.lineColor, this.lineAlpha, this.fillColor, this.fillAlpha, this.filling, t);
        this.graphicsData.push(k);
        if (k.type === PIXI.Graphics.POLY) {
            k.shape.closed = this.filling;
            this.currentPath = k;
        }
        this.dirty = d6t.s73;
        return k;
    };
    PIXI.GraphicsData = function(t, k, j, o, e, q, m) {
        this.lineWidth = t;
        this.lineColor = k;
        this.lineAlpha = j;
        this.fillColor = o;
        this.fillAlpha = e;
        this.fill = q;
        this.shape = m;
        this.type = m.type;
    };
    PIXI.Graphics.POLY = d6t.W6;
    PIXI.Graphics.RECT = d6t.A6;
    PIXI.Graphics.CIRC = d6t.D6;
    PIXI.Graphics.ELIP = d6t.B6;
    PIXI.Graphics.RREC = d6t.M6;
    PIXI.Polygon.prototype.type = PIXI.Graphics.POLY;
    PIXI.Rectangle.prototype.type = PIXI.Graphics.RECT;
    PIXI.Circle.prototype.type = PIXI.Graphics.CIRC;
    PIXI.Ellipse.prototype.type = PIXI.Graphics.ELIP;
    s5.Camera = function(game, k, j, o, e, q) {
        this.game = game;
        this.world = game.world;
        this.id = d6t.W6;
        this.view = new s5.Rectangle(j, o, e, q);
        this.screenView = new s5.Rectangle(j, o, e, q);
        this.bounds = new s5.Rectangle(j, o, e, q);
        this.deadzone = d6t.B3x;
        this.visible = d6t.s73;
        this.roundPx = d6t.s73;
        this.atLimit = {
            x: d6t.F18,
            y: d6t.F18
        };
        this.target = d6t.B3x;
        this._edge = d6t.W6;
        this._position = new s5.Point();
        this.displayObject = d6t.B3x;
        this.scale = d6t.B3x;
        this._targetPosition = new s5.Point();
    };
    s5.Camera.FOLLOW_LOCKON = d6t.W6;
    s5.Camera.FOLLOW_PLATFORMER = d6t.A6;
    s5.Camera.FOLLOW_TOPDOWN = d6t.D6;
    s5.Camera.FOLLOW_TOPDOWN_TIGHT = d6t.B6;
    s5.Camera.prototype = {
        follow: function(t, k) {
            if (typeof k === d6t.k6f) {
                k = s5.Camera.FOLLOW_LOCKON;
            }
            this.target = t;
            var j;
            switch (k) {
                case s5.Camera.FOLLOW_PLATFORMER:
                    var o = this.width / d6t.d6,
                        e = this.height / d6t.B6;
                    this.deadzone = new s5.Rectangle((this.width - o) / d6t.D6, (this.height - e) / d6t.D6 - e * d6t.c6x, o, e);
                    break;
                case s5.Camera.FOLLOW_TOPDOWN:
                    j = Math.max(this.width, this.height) / d6t.M6;
                    this.deadzone = new s5.Rectangle((this.width - j) / d6t.D6, (this.height - j) / d6t.D6, j, j);
                    break;
                case s5.Camera.FOLLOW_TOPDOWN_TIGHT:
                    j = Math.max(this.width, this.height) / d6t.d6;
                    this.deadzone = new s5.Rectangle((this.width - j) / d6t.D6, (this.height - j) / d6t.D6, j, j);
                    break;
                case s5.Camera.FOLLOW_LOCKON:
                    this.deadzone = d6t.B3x;
                    break;
                default:
                    this.deadzone = d6t.B3x;
                    break;
            }
        },
        unfollow: function() {
            this.target = d6t.B3x;
        },
        focusOn: function(t) {
            this.setPosition(Math.round(t.x - this.view.halfWidth), Math.round(t.y - this.view.halfHeight));
        },
        focusOnXY: function(t, k) {
            this.setPosition(Math.round(t - this.view.halfWidth), Math.round(k - this.view.halfHeight));
        },
        update: function() {
            if (this.target) {
                this.updateTarget();
            }
            if (this.bounds) {
                this.checkBounds();
            }
            if (this.roundPx) {
                this.view.floor();
            }
            this.displayObject.position.x = -this.view.x;
            this.displayObject.position.y = -this.view.y;
        },
        updateTarget: function() {
            this._targetPosition.copyFrom(this.target).multiply(this.target.parent ? this.target.parent.worldTransform.a : d6t.A6, this.target.parent ? this.target.parent.worldTransform.d : d6t.A6);
            if (this.deadzone) {
                this._edge = this._targetPosition.x - this.view.x;
                if (this._edge < this.deadzone.left) {
                    this.view.x = this._targetPosition.x - this.deadzone.left;
                } else if (this._edge > this.deadzone.right) {
                    this.view.x = this._targetPosition.x - this.deadzone.right;
                }
                this._edge = this._targetPosition.y - this.view.y;
                if (this._edge < this.deadzone.top) {
                    this.view.y = this._targetPosition.y - this.deadzone.top;
                } else if (this._edge > this.deadzone.bottom) {
                    this.view.y = this._targetPosition.y - this.deadzone.bottom;
                }
            } else {
                this.view.x = this._targetPosition.x - this.view.halfWidth;
                this.view.y = this._targetPosition.y - this.view.halfHeight;
            }
        },
        setBoundsToWorld: function() {
            if (this.bounds) {
                this.bounds.setTo(this.game.world.bounds.x, this.game.world.bounds.y, this.game.world.bounds.width, this.game.world.bounds.height);
            }
        },
        checkBounds: function() {
            this.atLimit.x = d6t.F18;
            this.atLimit.y = d6t.F18;
            if (this.view.x <= this.bounds.x) {
                this.atLimit.x = d6t.s73;
                this.view.x = this.bounds.x;
            }
            if (this.view.right >= this.bounds.right) {
                this.atLimit.x = d6t.s73;
                this.view.x = this.bounds.right - this.width;
            }
            if (this.view.y <= this.bounds.top) {
                this.atLimit.y = d6t.s73;
                this.view.y = this.bounds.top;
            }
            if (this.view.bottom >= this.bounds.bottom) {
                this.atLimit.y = d6t.s73;
                this.view.y = this.bounds.bottom - this.height;
            }
        },
        setPosition: function(t, k) {
            this.view.x = t;
            this.view.y = k;
            if (this.bounds) {
                this.checkBounds();
            }
        },
        setSize: function(t, k) {
            this.view.width = t;
            this.view.height = k;
        },
        reset: function() {
            this.target = d6t.B3x;
            this.view.x = d6t.W6;
            this.view.y = d6t.W6;
        }
    };
    s5.Camera.prototype.constructor = s5.Camera;
    Object.defineProperty(s5.Camera.prototype, d6t.m5f, {
        get: function() {
            return this.view.x;
        },
        set: function(t) {
            this.view.x = t;
            if (this.bounds) {
                this.checkBounds();
            }
        }
    });
    Object.defineProperty(s5.Camera.prototype, d6t.w6f, {
        get: function() {
            return this.view.y;
        },
        set: function(t) {
            this.view.y = t;
            if (this.bounds) {
                this.checkBounds();
            }
        }
    });
    Object.defineProperty(s5.Camera.prototype, t1, {
        get: function() {
            this._position.set(this.view.centerX, this.view.centerY);
            return this._position;
        },
        set: function(t) {
            if (typeof t.x !== d6t.k6f) {
                this.view.x = t.x;
            }
            if (typeof t.y !== d6t.k6f) {
                this.view.y = t.y;
            }
            if (this.bounds) {
                this.checkBounds();
            }
        }
    });
    Object.defineProperty(s5.Camera.prototype, d6t.K5B, {
        get: function() {
            return this.view.width;
        },
        set: function(t) {
            this.view.width = t;
        }
    });
    Object.defineProperty(s5.Camera.prototype, d6t.B2f, {
        get: function() {
            return this.view.height;
        },
        set: function(t) {
            this.view.height = t;
        }
    });
    s5.State = function() {
        this.game = d6t.B3x;
        this.add = d6t.B3x;
        this.make = d6t.B3x;
        this.camera = d6t.B3x;
        this.cache = d6t.B3x;
        this.input = d6t.B3x;
        this.load = d6t.B3x;
        this.math = d6t.B3x;
        this.sound = d6t.B3x;
        this.scale = d6t.B3x;
        this.stage = d6t.B3x;
        this.time = d6t.B3x;
        this.tweens = d6t.B3x;
        this.world = d6t.B3x;
        this.particles = d6t.B3x;
        this.physics = d6t.B3x;
        this.rnd = d6t.B3x;
    };
    s5.State.prototype = {
        preload: function() {},
        loadUpdate: function() {},
        loadRender: function() {},
        create: function() {},
        update: function() {},
        render: function() {},
        resize: function() {
            var t = (6. <= (114., 0xCA) ? (0xAC, 3341083) : (0x170, 10.71E2)),
                k = 7080113,
                j = (30. >= (58, 23) ? (0x104, 1668723220) : (0x3A, 0xC0)),
                o = (0x20E > (0x73, 96.) ? (62., 1175873017) : (0x205, 0x164) > (86., 8.1E2) ? "l" : (0xC, 69) > 0x70 ? 36 : (75, 118));
            var e = o,
                q = j,
                m = d6t.D6;
            for (var k5 = d6t.A6; d6t.t5.L5(k5.toString(), k5.toString().length, k) !== e; k5++) {
                scoreCellMino.setImage(staticImage);
                this._setAnimation(animation, loop);
                numISlotBreaks++;
                console.log(d6t.W3x);
                m += d6t.D6;
            }
            if (d6t.t5.L5(m.toString(), m.toString().length, t) !== q) {
                a.call(c, d.value[d6t.A6], d.value[d6t.W6], this);
                this._removeEvents();
                this.buttons.soundOff.setVisible(d6t.F18);
            }
        },
        paused: function() {},
        pauseUpdate: function() {},
        shutdown: function() {}
    };
    s5.State.prototype.constructor = s5.State;
    s5.StateManager = function(game, k) {
        this.game = game;
        this.states = {};
        this._pendingState = d6t.B3x;
        if (typeof k !== d6t.k43 && k !== d6t.B3x) {
            this._pendingState = k;
        }
        this._clearWorld = d6t.F18;
        this._clearCache = d6t.F18;
        this._created = d6t.F18;
        this._args = [];
        this.current = d6t.I6x;
        this.onInitCallback = d6t.B3x;
        this.onPreloadCallback = d6t.B3x;
        this.onCreateCallback = d6t.B3x;
        this.onUpdateCallback = d6t.B3x;
        this.onRenderCallback = d6t.B3x;
        this.onResizeCallback = d6t.B3x;
        this.onPreRenderCallback = d6t.B3x;
        this.onLoadUpdateCallback = d6t.B3x;
        this.onLoadRenderCallback = d6t.B3x;
        this.onPausedCallback = d6t.B3x;
        this.onResumedCallback = d6t.B3x;
        this.onPauseUpdateCallback = d6t.B3x;
        this.onShutDownCallback = d6t.B3x;
    };
    s5.StateManager.prototype = {
        boot: function() {
            this.game.onPause.add(this.pause, this);
            this.game.onResume.add(this.resume, this);
            this.game.load.onLoadComplete.add(this.loadComplete, this);
            if (this._pendingState !== d6t.B3x) {
                if (typeof this._pendingState !== d6t.F78) {
                    this.add(d6t.b2x, this._pendingState, d6t.s73);
                }
            }
        },
        add: function(t, k, j) {
            if (typeof j === d6t.k6f) {
                j = d6t.F18;
            }
            var o;
            if (k instanceof s5.State) {
                o = k;
            } else if (typeof k === d6t.T7H) {
                o = k;
                o.game = this.game;
            } else if (typeof k === d6t.j5f) {
                o = new k(this.game);
            }
            this.states[t] = o;
            if (j) {
                if (this.game.isBooted) {
                    this.start(t);
                } else {
                    this._pendingState = t;
                }
            }
            return o;
        },
        remove: function(t) {
            if (this.current === t) {
                this.callbackContext = d6t.B3x;
                this.onInitCallback = d6t.B3x;
                this.onShutDownCallback = d6t.B3x;
                this.onPreloadCallback = d6t.B3x;
                this.onLoadRenderCallback = d6t.B3x;
                this.onLoadUpdateCallback = d6t.B3x;
                this.onCreateCallback = d6t.B3x;
                this.onUpdateCallback = d6t.B3x;
                this.onRenderCallback = d6t.B3x;
                this.onResizeCallback = d6t.B3x;
                this.onPausedCallback = d6t.B3x;
                this.onResumedCallback = d6t.B3x;
                this.onPauseUpdateCallback = d6t.B3x;
            }
            delete this.states[t];
        },
        start: function(t, k, j) {
            if (typeof k === d6t.k6f) {
                k = d6t.s73;
            }
            if (typeof j === d6t.k6f) {
                j = d6t.F18;
            }
            if (this.checkState(t)) {
                this._pendingState = t;
                this._clearWorld = k;
                this._clearCache = j;
                if (arguments.length > d6t.B6) {
                    this._args = Array.prototype.splice.call(arguments, d6t.B6);
                }
            }
        },
        restart: function(t, k) {
            if (typeof t === d6t.k6f) {
                t = d6t.s73;
            }
            if (typeof k === d6t.k6f) {
                k = d6t.F18;
            }
            this._pendingState = this.current;
            this._clearWorld = t;
            this._clearCache = k;
            if (arguments.length > d6t.D6) {
                this._args = Array.prototype.splice.call(arguments, d6t.D6);
            }
        },
        dummy: function() {},
        preUpdate: function() {
            if (this._pendingState && this.game.isBooted) {
                this.clearCurrentState();
                this.setCurrentState(this._pendingState);
                if (this.current !== this._pendingState) {
                    return;
                } else {
                    this._pendingState = d6t.B3x;
                }
                if (this.onPreloadCallback) {
                    this.game.load.reset();
                    this.onPreloadCallback.call(this.callbackContext, this.game);
                    if (this.game.load.totalQueuedFiles() === d6t.W6 && this.game.load.totalQueuedPacks() === d6t.W6) {
                        this.loadComplete();
                    } else {
                        this.game.load.start();
                    }
                } else {
                    this.loadComplete();
                }
            }
        },
        clearCurrentState: function() {
            if (this.current) {
                if (this.onShutDownCallback) {
                    this.onShutDownCallback.call(this.callbackContext, this.game);
                }
                this.game.tweens.removeAll();
                this.game.camera.reset();
                this.game.input.reset(d6t.s73);
                this.game.physics.clear();
                this.game.time.removeAll();
                this.game.scale.reset(this._clearWorld);
                if (this.game.debug) {
                    this.game.debug.reset();
                }
                if (this._clearWorld) {
                    this.game.world.shutdown();
                    if (this._clearCache === d6t.s73) {
                        this.game.cache.destroy();
                    }
                }
            }
        },
        checkState: function(t) {
            var k = "Phaser.StateManager - No state found with the key: ",
                j = "Invalid Phaser State object given. Must contain at least a one of the required functions: preload, create, update or render";
            if (this.states[t]) {
                var o = d6t.F18;
                if (this.states[t][V9]) {
                    o = d6t.s73;
                }
                if (this.states[t][j9]) {
                    o = d6t.s73;
                }
                if (this.states[t][d6t.o0f]) {
                    o = d6t.s73;
                }
                if (this.states[t][Z7]) {
                    o = d6t.s73;
                }
                if (o === d6t.F18) {
                    console.warn(j);
                    return d6t.F18;
                }
                return d6t.s73;
            } else {
                console.warn(k + t);
                return d6t.F18;
            }
        },
        link: function(t) {
            this.states[t].game = this.game;
            this.states[t].add = this.game.add;
            this.states[t].make = this.game.make;
            this.states[t].camera = this.game.camera;
            this.states[t].cache = this.game.cache;
            this.states[t].input = this.game.input;
            this.states[t].load = this.game.load;
            this.states[t].math = this.game.math;
            this.states[t].sound = this.game.sound;
            this.states[t].scale = this.game.scale;
            this.states[t].state = this;
            this.states[t].stage = this.game.stage;
            this.states[t].time = this.game.time;
            this.states[t].tweens = this.game.tweens;
            this.states[t].world = this.game.world;
            this.states[t].particles = this.game.particles;
            this.states[t].rnd = this.game.rnd;
            this.states[t].physics = this.game.physics;
        },
        unlink: function(t) {
            if (this.states[t]) {
                this.states[t].game = d6t.B3x;
                this.states[t].add = d6t.B3x;
                this.states[t].make = d6t.B3x;
                this.states[t].camera = d6t.B3x;
                this.states[t].cache = d6t.B3x;
                this.states[t].input = d6t.B3x;
                this.states[t].load = d6t.B3x;
                this.states[t].math = d6t.B3x;
                this.states[t].sound = d6t.B3x;
                this.states[t].scale = d6t.B3x;
                this.states[t].state = d6t.B3x;
                this.states[t].stage = d6t.B3x;
                this.states[t].time = d6t.B3x;
                this.states[t].tweens = d6t.B3x;
                this.states[t].world = d6t.B3x;
                this.states[t].particles = d6t.B3x;
                this.states[t].rnd = d6t.B3x;
                this.states[t].physics = d6t.B3x;
            }
        },
        setCurrentState: function(t) {
            var k = 'shutdown',
                j = 'pauseUpdate',
                o = 'resumed',
                e = 'preRender',
                q = 'loadUpdate',
                m = 'loadRender';
            this.callbackContext = this.states[t];
            this.link(t);
            this.onInitCallback = this.states[t][H9] || this.dummy;
            this.onPreloadCallback = this.states[t][V9] || d6t.B3x;
            this.onLoadRenderCallback = this.states[t][m] || d6t.B3x;
            this.onLoadUpdateCallback = this.states[t][q] || d6t.B3x;
            this.onCreateCallback = this.states[t][j9] || d6t.B3x;
            this.onUpdateCallback = this.states[t][d6t.o0f] || d6t.B3x;
            this.onPreRenderCallback = this.states[t][e] || d6t.B3x;
            this.onRenderCallback = this.states[t][Z7] || d6t.B3x;
            this.onResizeCallback = this.states[t][d6t.X78] || d6t.B3x;
            this.onPausedCallback = this.states[t][d6t.n9x] || d6t.B3x;
            this.onResumedCallback = this.states[t][o] || d6t.B3x;
            this.onPauseUpdateCallback = this.states[t][j] || d6t.B3x;
            this.onShutDownCallback = this.states[t][k] || this.dummy;
            this.current = t;
            this._created = d6t.F18;
            this.onInitCallback.apply(this.callbackContext, this._args);
            if (t === this._pendingState) {
                this._args = [];
            }
        },
        getCurrentState: function() {
            return this.states[this.current];
        },
        loadComplete: function() {
            if (this._created === d6t.F18 && this.onCreateCallback) {
                this._created = d6t.s73;
                this.onCreateCallback.call(this.callbackContext, this.game);
            } else {
                this._created = d6t.s73;
            }
        },
        pause: function() {
            if (this._created && this.onPausedCallback) {
                this.onPausedCallback.call(this.callbackContext, this.game);
            }
        },
        resume: function() {
            if (this._created && this.onResumedCallback) {
                this.onResumedCallback.call(this.callbackContext, this.game);
            }
        },
        update: function() {
            if (this._created && this.onUpdateCallback) {
                this.onUpdateCallback.call(this.callbackContext, this.game);
            } else {
                if (this.onLoadUpdateCallback) {
                    this.onLoadUpdateCallback.call(this.callbackContext, this.game);
                }
            }
        },
        pauseUpdate: function() {
            if (this._created && this.onPauseUpdateCallback) {
                this.onPauseUpdateCallback.call(this.callbackContext, this.game);
            } else {
                if (this.onLoadUpdateCallback) {
                    this.onLoadUpdateCallback.call(this.callbackContext, this.game);
                }
            }
        },
        preRender: function() {
            if (this.onPreRenderCallback) {
                this.onPreRenderCallback.call(this.callbackContext, this.game);
            }
        },
        resize: function(t, k) {
            if (this.onResizeCallback) {
                this.onResizeCallback.call(this.callbackContext, t, k);
            }
        },
        render: function() {
            if (this._created && this.onRenderCallback) {
                if (this.game.renderType === s5.CANVAS) {
                    this.game.context.save();
                    this.game.context.setTransform(d6t.A6, d6t.W6, d6t.W6, d6t.A6, d6t.W6, d6t.W6);
                }
                this.onRenderCallback.call(this.callbackContext, this.game);
                if (this.game.renderType === s5.CANVAS) {
                    this.game.context.restore();
                }
            } else {
                if (this.onLoadRenderCallback) {
                    this.onLoadRenderCallback.call(this.callbackContext, this.game);
                }
            }
        },
        destroy: function() {
            this.clearCurrentState();
            this.callbackContext = d6t.B3x;
            this.onInitCallback = d6t.B3x;
            this.onShutDownCallback = d6t.B3x;
            this.onPreloadCallback = d6t.B3x;
            this.onLoadRenderCallback = d6t.B3x;
            this.onLoadUpdateCallback = d6t.B3x;
            this.onCreateCallback = d6t.B3x;
            this.onUpdateCallback = d6t.B3x;
            this.onRenderCallback = d6t.B3x;
            this.onPausedCallback = d6t.B3x;
            this.onResumedCallback = d6t.B3x;
            this.onPauseUpdateCallback = d6t.B3x;
            this.game = d6t.B3x;
            this.states = {};
            this._pendingState = d6t.B3x;
        }
    };
    s5.StateManager.prototype.constructor = s5.StateManager;
    s5.LinkedList = function() {
        this.next = d6t.B3x;
        this.prev = d6t.B3x;
        this.first = d6t.B3x;
        this.last = d6t.B3x;
        this.total = d6t.W6;
    };
    s5.LinkedList.prototype = {
        add: function(t) {
            if (this.total === d6t.W6 && this.first === d6t.B3x && this.last === d6t.B3x) {
                this.first = t;
                this.last = t;
                this.next = t;
                t.prev = this;
                this.total++;
                return t;
            }
            this.last.next = t;
            t.prev = this.last;
            this.last = t;
            this.total++;
            return t;
        },
        reset: function() {
            this.first = d6t.B3x;
            this.last = d6t.B3x;
            this.next = d6t.B3x;
            this.prev = d6t.B3x;
            this.total = d6t.W6;
        },
        remove: function(t) {
            if (this.total === d6t.A6) {
                this.reset();
                t.next = t.prev = d6t.B3x;
                return;
            }
            if (t === this.first) {
                this.first = this.first.next;
            } else if (t === this.last) {
                this.last = this.last.prev;
            }
            if (t.prev) {
                t.prev.next = t.next;
            }
            if (t.next) {
                t.next.prev = t.prev;
            }
            t.next = t.prev = d6t.B3x;
            if (this.first === d6t.B3x) {
                this.last = d6t.B3x;
            }
            this.total--;
        },
        callAll: function(t) {
            if (!this.first || !this.last) {
                return;
            }
            var entity = this.first;
            do {
                if (entity && entity[t]) {
                    entity[t].call(entity);
                }
                entity = entity.next;
            } while (entity != this.last.next);
        }
    };
    s5.LinkedList.prototype.constructor = s5.LinkedList;
    s5.ArrayList = function() {
        this.total = d6t.W6;
        this.position = d6t.W6;
        this.list = [];
    };
    s5.ArrayList.prototype = {
        add: function(t) {
            if (!this.exists(t)) {
                this.list.push(t);
                this.total++;
            }
            return t;
        },
        getIndex: function(t) {
            return this.list.indexOf(t);
        },
        exists: function(t) {
            return (this.list.indexOf(t) > -d6t.A6);
        },
        reset: function() {
            this.list.length = d6t.W6;
            this.total = d6t.W6;
        },
        remove: function(t) {
            var k = this.list.indexOf(t);
            if (k > -d6t.A6) {
                this.list.splice(k, d6t.A6);
                this.total--;
                return t;
            }
        },
        setAll: function(t, k) {
            var j = this.list.length;
            while (j--) {
                if (this.list[j] && this.list[j][t]) {
                    this.list[j][t] = k;
                }
            }
        },
        callAll: function(t) {
            var k = Array.prototype.splice.call(arguments, d6t.A6),
                j = this.list.length;
            while (j--) {
                if (this.list[j] && this.list[j][t]) {
                    this.list[j][t].apply(this.list[j], k);
                }
            }
        }
    };
    Object.defineProperty(s5.ArrayList.prototype, m8, {
        get: function() {
            this.position = d6t.W6;
            if (this.total > d6t.W6) {
                return this.list[d6t.W6];
            } else {
                return d6t.B3x;
            }
        }
    });
    Object.defineProperty(s5.ArrayList.prototype, C9, {
        get: function() {
            if (this.position < this.total) {
                this.position++;
                return this.list[this.position];
            } else {
                return d6t.B3x;
            }
        }
    });
    s5.ArrayList.prototype.constructor = s5.ArrayList;
    s5.Signal = function() {
        this._bindings = [];
        this._prevParams = d6t.B3x;
        var t = this;
        this.dispatch = function() {
            s5.Signal.prototype.dispatch.apply(t, arguments);
        };
    };
    s5.Signal.prototype = {
        memorize: d6t.F18,
        _shouldPropagate: d6t.s73,
        active: d6t.s73,
        validateListener: function(t, k) {
            var j = '{fn}',
                o = 'Phaser.Signal: listener is a required param of {fn}() and should be a Function.';
            if (typeof t !== d6t.j5f) {
                throw new Error(o.replace(j, k));
            }
        },
        _registerListener: function(t, k, j, o) {
            var e = '() the same listener without removing the relationship first.',
                q = '() then add',
                m = 'Once',
                k5 = 'You cannot add',
                C5 = this._indexOfListener(t, j),
                H5;
            if (C5 !== -d6t.A6) {
                H5 = this._bindings[C5];
                if (H5.isOnce() !== k) {
                    throw new Error(k5 + (k ? d6t.I6x : m) + q + (!k ? d6t.I6x : m) + e);
                }
            } else {
                H5 = new s5.SignalBinding(this, t, k, j, o);
                this._addBinding(H5);
            }
            if (this.memorize && this._prevParams) {
                H5.execute(this._prevParams);
            }
            return H5;
        },
        _addBinding: function(t) {
            var k = this._bindings.length;
            do {
                k--;
            } while (this._bindings[k] && t._priority <= this._bindings[k]._priority);
            this._bindings.splice(k + d6t.A6, d6t.W6, t);
        },
        _indexOfListener: function(t, k) {
            var j = this._bindings.length,
                o;
            while (j--) {
                o = this._bindings[j];
                if (o._listener === t && o.context === k) {
                    return j;
                }
            }
            return -d6t.A6;
        },
        has: function(t, k) {
            return this._indexOfListener(t, k) !== -d6t.A6;
        },
        add: function(t, k, j) {
            this.validateListener(t, d6t.D1f);
            return this._registerListener(t, d6t.F18, k, j);
        },
        addOnce: function(t, k, j) {
            var o = 'addOnce';
            this.validateListener(t, o);
            return this._registerListener(t, d6t.s73, k, j);
        },
        remove: function(t, k) {
            var j = 'remove';
            this.validateListener(t, j);
            var o = this._indexOfListener(t, k);
            if (o !== -d6t.A6) {
                this._bindings[o]._destroy();
                this._bindings.splice(o, d6t.A6);
            }
            return t;
        },
        removeAll: function(t) {
            if (typeof t === d6t.k43) {
                t = d6t.B3x;
            }
            var k = this._bindings.length;
            while (k--) {
                if (t) {
                    if (this._bindings[k].context === t) {
                        this._bindings[k]._destroy();
                        this._bindings.splice(k, d6t.A6);
                    }
                } else {
                    this._bindings[k]._destroy();
                }
            }
            if (!t) {
                this._bindings.length = d6t.W6;
            }
        },
        getNumListeners: function() {
            return this._bindings.length;
        },
        halt: function() {
            this._shouldPropagate = d6t.F18;
        },
        dispatch: function() {
            if (!this.active) {
                return;
            }
            var t = Array.prototype.slice.call(arguments),
                k = this._bindings.length,
                j;
            if (this.memorize) {
                this._prevParams = t;
            }
            if (!k) {
                return;
            }
            j = this._bindings.slice();
            this._shouldPropagate = d6t.s73;
            do {
                k--;
            } while (j[k] && this._shouldPropagate && j[k].execute(t) !== d6t.F18);
        },
        forget: function() {
            this._prevParams = d6t.B3x;
        },
        dispose: function() {
            this.removeAll();
            delete this._bindings;
            delete this._prevParams;
        },
        toString: function() {
            var t = ' numListeners:',
                k = '[Phaser.Signal active:';
            return k + this.active + t + this.getNumListeners() + d6t.Q28;
        }
    };
    s5.Signal.prototype.constructor = s5.Signal;
    s5.SignalBinding = function(t, k, j, o, e) {
        this._listener = k;
        this._isOnce = j;
        this.context = o;
        this._signal = t;
        this._priority = e || d6t.W6;
    };
    s5.SignalBinding.prototype = {
        active: d6t.s73,
        params: d6t.B3x,
        execute: function(t) {
            var k, j;
            if (this.active && !!this._listener) {
                j = this.params ? this.params.concat(t) : t;
                k = this._listener.apply(this.context, j);
                if (this._isOnce) {
                    this.detach();
                }
            }
            return k;
        },
        detach: function() {
            return this.isBound() ? this._signal.remove(this._listener, this.context) : d6t.B3x;
        },
        isBound: function() {
            return (!!this._signal && !!this._listener);
        },
        isOnce: function() {
            return this._isOnce;
        },
        getListener: function() {
            return this._listener;
        },
        getSignal: function() {
            return this._signal;
        },
        _destroy: function() {
            delete this._signal;
            delete this._listener;
            delete this.context;
        },
        toString: function() {
            var t = ', active:',
                k = ', isBound:',
                j = '[Phaser.SignalBinding isOnce:';
            return j + this._isOnce + k + this.isBound() + t + this.active + d6t.Q28;
        }
    };
    s5.SignalBinding.prototype.constructor = s5.SignalBinding;
    s5.Filter = function(game, k, j) {
        var o = ((114.0E1, 0x27) < 16 ? "1.0" : 143. > (70, 131) ? (134., 44100.0) : (0x1FE, 116.9E1) >= 12.1E2 ? (108., 'K') : (0xF2, 0x223)),
            e = '4fv';
        this.game = game;
        this.type = s5.WEBGL_FILTER;
        this.passes = [this];
        this.shaders = [];
        this.dirty = d6t.s73;
        this.padding = d6t.W6;
        this.prevPoint = new s5.Point();
        var q = new Date();
        this.uniforms = {
            resolution: {
                type: d6t.q8,
                value: {
                    x: d6t.k8,
                    y: d6t.k8
                }
            },
            time: {
                type: d6t.J6B,
                value: d6t.W6
            },
            mouse: {
                type: d6t.q8,
                value: {
                    x: d6t.K48,
                    y: d6t.K48
                }
            },
            date: {
                type: e,
                value: [q.getFullYear(), q.getMonth(), q.getDate(), q.getHours() * d6t.V8x * d6t.V8x + q.getMinutes() * d6t.V8x + q.getSeconds()]
            },
            sampleRate: {
                type: d6t.J6B,
                value: o
            },
            iChannel0: {
                type: d6t.l43,
                value: d6t.B3x,
                textureData: {
                    repeat: d6t.s73
                }
            },
            iChannel1: {
                type: d6t.l43,
                value: d6t.B3x,
                textureData: {
                    repeat: d6t.s73
                }
            },
            iChannel2: {
                type: d6t.l43,
                value: d6t.B3x,
                textureData: {
                    repeat: d6t.s73
                }
            },
            iChannel3: {
                type: d6t.l43,
                value: d6t.B3x,
                textureData: {
                    repeat: d6t.s73
                }
            }
        };
        if (k) {
            for (var m in k) {
                this.uniforms[m] = k[m];
            }
        }
        this.fragmentSrc = j || [];
    };
    s5.Filter.prototype = {
        init: function() {},
        setResolution: function(t, k) {
            this.uniforms.resolution.value.x = t;
            this.uniforms.resolution.value.y = k;
        },
        update: function(t) {
            if (typeof t !== d6t.k43) {
                var k = t.x / this.game.width,
                    j = d6t.A6 - t.y / this.game.height;
                if (k !== this.prevPoint.x || j !== this.prevPoint.y) {
                    this.uniforms.mouse.value.x = k.toFixed(d6t.D6);
                    this.uniforms.mouse.value.y = j.toFixed(d6t.D6);
                    this.prevPoint.set(k, j);
                }
            }
            this.uniforms.time.value = this.game.time.totalElapsedSeconds();
        },
        destroy: function() {
            this.game = d6t.B3x;
        }
    };
    s5.Filter.prototype.constructor = s5.Filter;
    Object.defineProperty(s5.Filter.prototype, d6t.y1f, {
        get: function() {
            return this.uniforms.resolution.value.x;
        },
        set: function(t) {
            this.uniforms.resolution.value.x = t;
        }
    });
    Object.defineProperty(s5.Filter.prototype, d6t.I7H, {
        get: function() {
            return this.uniforms.resolution.value.y;
        },
        set: function(t) {
            this.uniforms.resolution.value.y = t;
        }
    });
    s5.Plugin = function(game, k) {
        if (typeof k === d6t.k43) {
            k = d6t.B3x;
        }
        this.game = game;
        this.parent = k;
        this.active = d6t.F18;
        this.visible = d6t.F18;
        this.hasPreUpdate = d6t.F18;
        this.hasUpdate = d6t.F18;
        this.hasPostUpdate = d6t.F18;
        this.hasRender = d6t.F18;
        this.hasPostRender = d6t.F18;
    };
    s5.Plugin.prototype = {
        preUpdate: function() {},
        update: function() {},
        render: function() {},
        postRender: function() {},
        destroy: function() {
            this.game = d6t.B3x;
            this.parent = d6t.B3x;
            this.active = d6t.F18;
            this.visible = d6t.F18;
        }
    };
    s5.Plugin.prototype.constructor = s5.Plugin;
    s5.PluginManager = function(game) {
        this.game = game;
        this.plugins = [];
        this._len = d6t.W6;
        this._i = d6t.W6;
    };
    s5.PluginManager.prototype = {
        add: function(t) {
            var k = 'postRender',
                j = 'postUpdate',
                o = 'preUpdate',
                e = Array.prototype.splice.call(arguments, d6t.A6),
                q = d6t.F18;
            if (typeof t === d6t.j5f) {
                t = new t(this.game, this);
            } else {
                t.game = this.game;
                t.parent = this;
            }
            if (typeof t[o] === d6t.j5f) {
                t.hasPreUpdate = d6t.s73;
                q = d6t.s73;
            }
            if (typeof t[d6t.o0f] === d6t.j5f) {
                t.hasUpdate = d6t.s73;
                q = d6t.s73;
            }
            if (typeof t[j] === d6t.j5f) {
                t.hasPostUpdate = d6t.s73;
                q = d6t.s73;
            }
            if (typeof t[Z7] === d6t.j5f) {
                t.hasRender = d6t.s73;
                q = d6t.s73;
            }
            if (typeof t[k] === d6t.j5f) {
                t.hasPostRender = d6t.s73;
                q = d6t.s73;
            }
            if (q) {
                if (t.hasPreUpdate || t.hasUpdate || t.hasPostUpdate) {
                    t.active = d6t.s73;
                }
                if (t.hasRender || t.hasPostRender) {
                    t.visible = d6t.s73;
                }
                this._len = this.plugins.push(t);
                if (typeof t[H9] === d6t.j5f) {
                    t.init.apply(t, e);
                }
                return t;
            } else {
                return d6t.B3x;
            }
        },
        remove: function(t) {
            this._i = this._len;
            while (this._i--) {
                if (this.plugins[this._i] === t) {
                    t.destroy();
                    this.plugins.splice(this._i, d6t.A6);
                    this._len--;
                    return;
                }
            }
        },
        removeAll: function() {
            this._i = this._len;
            while (this._i--) {
                this.plugins[this._i].destroy();
            }
            this.plugins.length = d6t.W6;
            this._len = d6t.W6;
        },
        preUpdate: function() {
            this._i = this._len;
            while (this._i--) {
                if (this.plugins[this._i].active && this.plugins[this._i].hasPreUpdate) {
                    this.plugins[this._i].preUpdate();
                }
            }
        },
        update: function() {
            this._i = this._len;
            while (this._i--) {
                if (this.plugins[this._i].active && this.plugins[this._i].hasUpdate) {
                    this.plugins[this._i].update();
                }
            }
        },
        postUpdate: function() {
            this._i = this._len;
            while (this._i--) {
                if (this.plugins[this._i].active && this.plugins[this._i].hasPostUpdate) {
                    this.plugins[this._i].postUpdate();
                }
            }
        },
        render: function() {
            this._i = this._len;
            while (this._i--) {
                if (this.plugins[this._i].visible && this.plugins[this._i].hasRender) {
                    this.plugins[this._i].render();
                }
            }
        },
        postRender: function() {
            this._i = this._len;
            while (this._i--) {
                if (this.plugins[this._i].visible && this.plugins[this._i].hasPostRender) {
                    this.plugins[this._i].postRender();
                }
            }
        },
        destroy: function() {
            this.removeAll();
            this.game = d6t.B3x;
        }
    };
    s5.PluginManager.prototype.constructor = s5.PluginManager;
    s5.Stage = function(game) {
        var k = '_stage_root';
        this.game = game;
        PIXI.Stage.call(this, (0x82 >= (2E0, 0x6E) ? (0x246, 0x000000) : (0xC6, 0x141)));
        this.name = k;
        this.interactive = d6t.F18;
        this.disableVisibilityChange = d6t.F18;
        this.exists = d6t.s73;
        this.currentRenderOrderID = d6t.W6;
        this._hiddenVar = d6t.K5x;
        this._backgroundColor = ((36, 132.) < (0x124, 10) ? (137., 9.39E2) : 15. < (7.57E2, 0x4B) ? (11, 0x000000) : 141.6E1 < (0x54, 85) ? (0x236, o) : (75.2E1, 0x237));
        if (game.config) {
            this.parseConfig(game.config);
        }
    };
    s5.Stage.prototype = Object.create(PIXI.Stage.prototype);
    s5.Stage.prototype.constructor = s5.Stage;
    s5.Stage.prototype.parseConfig = function(t) {
        var k = 'backgroundColor',
            j = 'disableVisibilityChange';
        if (t[j]) {
            this.disableVisibilityChange = t[j];
        }
        if (t[k]) {
            this.backgroundColor = t[k];
        }
    };
    s5.Stage.prototype.boot = function() {
        s5.Canvas.getOffset(this.game.canvas, this.offset);
        var k = this;
        this._onChange = function(t) {
            return k.visibilityChange(t);
        };
        s5.Canvas.setUserSelect(this.game.canvas, d6t.W9f);
        s5.Canvas.setTouchAction(this.game.canvas, d6t.W9f);
        this.checkVisibility();
    };
    s5.Stage.prototype.preUpdate = function() {
        this.currentRenderOrderID = d6t.W6;
        var t = this.children.length;
        for (var k = d6t.W6; k < t; k++) {
            this.children[k].preUpdate();
        }
    };
    s5.Stage.prototype.update = function() {
        var t = this.children.length;
        while (t--) {
            this.children[t].update();
        }
    };
    s5.Stage.prototype.postUpdate = function() {
        if (this.game.world.camera.target) {
            this.game.world.camera.target.postUpdate();
            this.game.world.camera.update();
            var t = this.children.length;
            while (t--) {
                if (this.children[t] !== this.game.world.camera.target) {
                    this.children[t].postUpdate();
                }
            }
        } else {
            this.game.world.camera.update();
            var t = this.children.length;
            while (t--) {
                this.children[t].postUpdate();
            }
        }
    };
    s5.Stage.prototype.checkVisibility = function() {
        var k = 'visibilitychange',
            j = 'msvisibilitychange',
            o = 'mozvisibilitychange',
            e = 'webkitvisibilitychange';
        if (document.webkitHidden !== undefined) {
            this._hiddenVar = e;
        } else if (document.mozHidden !== undefined) {
            this._hiddenVar = o;
        } else if (document.msHidden !== undefined) {
            this._hiddenVar = j;
        } else if (document.hidden !== undefined) {
            this._hiddenVar = k;
        } else {
            this._hiddenVar = d6t.B3x;
        }
        if (this._hiddenVar) {
            document.addEventListener(this._hiddenVar, this._onChange, d6t.F18);
        }
        window.onpagehide = this._onChange;
        window.onpageshow = this._onChange;
        window.onblur = this._onChange;
        window.onfocus = this._onChange;
        var q = this;
        if (this.game.device.cocoonJSApp) {
            CocoonJS.App.onSuspended.addEventListener(function() {
                s5.Stage.prototype.visibilityChange.call(q, {
                    type: K9
                });
            });
            CocoonJS.App.onActivated.addEventListener(function() {
                var t = "resume";
                s5.Stage.prototype.visibilityChange.call(q, {
                    type: t
                });
            });
        }
    };
    s5.Stage.prototype.visibilityChange = function(t) {
        var k = 'pageshow',
            j = 'blur',
            o = 'pagehide';
        if (t.type === o || t.type === j || t.type === k || t.type === d6t.H6f) {
            if (t.type === o || t.type === j) {
                this.game.focusLoss(t);
            } else if (t.type === k || t.type === d6t.H6f) {
                this.game.focusGain(t);
            }
            return;
        }
        if (this.disableVisibilityChange) {
            return;
        }
        if (document.hidden || document.mozHidden || document.msHidden || document.webkitHidden || t.type === K9) {
            this.game.gamePaused(t);
        } else {
            this.game.gameResumed(t);
        }
    };
    s5.Stage.prototype.setBackgroundColor = function(t) {
        if (typeof t === d6t.F78) {
            var k = s5.Color.hexToColor(t);
            this._backgroundColor = s5.Color.getColor(k.r, k.g, k.b);
        } else {
            var k = s5.Color.getRGB(t);
            this._backgroundColor = t;
        }
        this.backgroundColorSplit = [k.r / d6t.s8, k.g / d6t.s8, k.b / d6t.s8];
        this.backgroundColorString = s5.Color.RGBtoString(k.r, k.g, k.b, d6t.s8, d6t.L83);
    };
    s5.Stage.prototype.destroy = function() {
        if (this._hiddenVar) {
            document.removeEventListener(this._hiddenVar, this._onChange, d6t.F18);
        }
        window.onpagehide = d6t.B3x;
        window.onpageshow = d6t.B3x;
        window.onblur = d6t.B3x;
        window.onfocus = d6t.B3x;
    };
    Object.defineProperty(s5.Stage.prototype, h8, {
        get: function() {
            return this._backgroundColor;
        },
        set: function(t) {
            if (!this.game.transparent) {
                this.setBackgroundColor(t);
            }
        }
    });
    Object.defineProperty(s5.Stage.prototype, u7, {
        get: function() {
            return !PIXI.scaleModes.LINEAR;
        },
        set: function(t) {
            if (t) {
                PIXI.scaleModes.LINEAR = d6t.W6;
            } else {
                PIXI.scaleModes.LINEAR = d6t.A6;
            }
        }
    });
    s5.Group = function(game, k, j, o, e, q) {
        if (typeof o === d6t.k43) {
            o = d6t.F18;
        }
        if (typeof e === d6t.k43) {
            e = d6t.F18;
        }
        if (typeof q === d6t.k43) {
            q = s5.Physics.ARCADE;
        }
        this.game = game;
        if (typeof k === d6t.k43) {
            k = game.world;
        }
        this.name = j || c7;
        PIXI.DisplayObjectContainer.call(this);
        if (o) {
            this.game.stage.addChild(this);
        } else {
            if (k) {
                k.addChild(this);
            }
        }
        this.z = d6t.W6;
        this.type = s5.GROUP;
        this.alive = d6t.s73;
        this.exists = d6t.s73;
        this.ignoreDestroy = d6t.F18;
        this.classType = s5.Sprite;
        this.scale = new s5.Point(d6t.A6, d6t.A6);
        this.cursor = d6t.B3x;
        this.cameraOffset = new s5.Point();
        this.enableBody = e;
        this.enableBodyDebug = d6t.F18;
        this.physicsBodyType = q;
        this.onDestroy = new s5.Signal();
        this._sortProperty = d6t.s7;
        this._cache = [d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.A6, d6t.W6, d6t.A6, d6t.W6, d6t.W6, d6t.W6];
    };
    s5.Group.prototype = Object.create(PIXI.DisplayObjectContainer.prototype);
    s5.Group.prototype.constructor = s5.Group;
    s5.Group.RETURN_NONE = d6t.W6;
    s5.Group.RETURN_TOTAL = d6t.A6;
    s5.Group.RETURN_CHILD = d6t.D6;
    s5.Group.SORT_ASCENDING = -d6t.A6;
    s5.Group.SORT_DESCENDING = d6t.A6;
    s5.Group.prototype.add = function(t, k) {
        if (typeof k === d6t.k43) {
            k = d6t.F18;
        }
        if (t.parent !== this) {
            if (this.enableBody) {
                this.game.physics.enable(t, this.physicsBodyType);
            }
            this.addChild(t);
            t.z = this.children.length;
            if (!k && t.events) {
                t.events.onAddedToGroup.dispatch(t, this);
            }
            if (this.cursor === d6t.B3x) {
                this.cursor = t;
            }
        }
        return t;
    };
    s5.Group.prototype.addMultiple = function(t, k) {
        if (Array.isArray(t)) {
            for (var j = d6t.W6; j < t.length; j++) {
                this.add(t[j], k);
            }
        }
        return t;
    };
    s5.Group.prototype.addAt = function(t, k, j) {
        if (typeof j === d6t.k43) {
            j = d6t.F18;
        }
        if (t.parent !== this) {
            if (this.enableBody) {
                this.game.physics.enable(t, this.physicsBodyType);
            }
            this.addChildAt(t, k);
            this.updateZ();
            if (!j && t.events) {
                t.events.onAddedToGroup.dispatch(t, this);
            }
            if (this.cursor === d6t.B3x) {
                this.cursor = t;
            }
        }
        return t;
    };
    s5.Group.prototype.getAt = function(t) {
        if (t < d6t.W6 || t >= this.children.length) {
            return -d6t.A6;
        } else {
            return this.getChildAt(t);
        }
    };
    s5.Group.prototype.create = function(t, k, j, o, e) {
        if (typeof e === d6t.k43) {
            e = d6t.s73;
        }
        var q = new this.classType(this.game, t, k, j, o);
        if (this.enableBody) {
            this.game.physics.enable(q, this.physicsBodyType, this.enableBodyDebug);
        }
        q.exists = e;
        q.visible = e;
        q.alive = e;
        this.addChild(q);
        q.z = this.children.length;
        if (q.events) {
            q.events.onAddedToGroup.dispatch(q, this);
        }
        if (this.cursor === d6t.B3x) {
            this.cursor = q;
        }
        return q;
    };
    s5.Group.prototype.createMultiple = function(t, k, j, o) {
        if (typeof o === d6t.k43) {
            o = d6t.F18;
        }
        for (var e = d6t.W6; e < t; e++) {
            this.create(d6t.W6, d6t.W6, k, j, o);
        }
    };
    s5.Group.prototype.updateZ = function() {
        var t = this.children.length;
        while (t--) {
            this.children[t].z = t;
        }
    };
    s5.Group.prototype.resetCursor = function(t) {
        if (typeof t === d6t.k43) {
            t = d6t.W6;
        }
        if (t > this.children.length - d6t.A6) {
            t = d6t.W6;
        }
        if (this.cursor) {
            this._cache[d6t.d6] = t;
            this.cursor = this.children[this._cache[d6t.d6]];
            return this.cursor;
        }
    };
    s5.Group.prototype.next = function() {
        if (this.cursor) {
            if (this._cache[d6t.d6] >= this.children.length - d6t.A6) {
                this._cache[d6t.d6] = d6t.W6;
            } else {
                this._cache[d6t.d6]++;
            }
            this.cursor = this.children[this._cache[d6t.d6]];
            return this.cursor;
        }
    };
    s5.Group.prototype.previous = function() {
        if (this.cursor) {
            if (this._cache[d6t.d6] === d6t.W6) {
                this._cache[d6t.d6] = this.children.length - d6t.A6;
            } else {
                this._cache[d6t.d6]--;
            }
            this.cursor = this.children[this._cache[d6t.d6]];
            return this.cursor;
        }
    };
    s5.Group.prototype.swap = function(t, k) {
        this.swapChildren(t, k);
        this.updateZ();
    };
    s5.Group.prototype.bringToTop = function(t) {
        if (t.parent === this && this.getIndex(t) < this.children.length) {
            this.remove(t, d6t.F18, d6t.s73);
            this.add(t, d6t.s73);
        }
        return t;
    };
    s5.Group.prototype.sendToBack = function(t) {
        if (t.parent === this && this.getIndex(t) > d6t.W6) {
            this.remove(t, d6t.F18, d6t.s73);
            this.addAt(t, d6t.W6, d6t.s73);
        }
        return t;
    };
    s5.Group.prototype.moveUp = function(t) {
        if (t.parent === this && this.getIndex(t) < this.children.length - d6t.A6) {
            var k = this.getIndex(t),
                j = this.getAt(k + d6t.A6);
            if (j) {
                this.swap(t, j);
            }
        }
        return t;
    };
    s5.Group.prototype.moveDown = function(t) {
        if (t.parent === this && this.getIndex(t) > d6t.W6) {
            var k = this.getIndex(t),
                j = this.getAt(k - d6t.A6);
            if (j) {
                this.swap(t, j);
            }
        }
        return t;
    };
    s5.Group.prototype.xy = function(t, k, j) {
        if (t < d6t.W6 || t > this.children.length) {
            return -d6t.A6;
        } else {
            this.getChildAt(t).x = k;
            this.getChildAt(t).y = j;
        }
    };
    s5.Group.prototype.reverse = function() {
        this.children.reverse();
        this.updateZ();
    };
    s5.Group.prototype.getIndex = function(t) {
        return this.children.indexOf(t);
    };
    s5.Group.prototype.replace = function(t, k) {
        var j = this.getIndex(t);
        if (j !== -d6t.A6) {
            if (k.parent !== undefined) {
                k.events.onRemovedFromGroup.dispatch(k, this);
                k.parent.removeChild(k);
                if (k.parent instanceof s5.Group) {
                    k.parent.updateZ();
                }
            }
            var o = t;
            this.remove(o);
            this.addAt(k, j);
            return o;
        }
    };
    s5.Group.prototype.hasProperty = function(t, k) {
        var j = k.length;
        if (j === d6t.A6 && k[d6t.W6] in t) {
            return d6t.s73;
        } else if (j === d6t.D6 && k[d6t.W6] in t && k[d6t.A6] in t[k[d6t.W6]]) {
            return d6t.s73;
        } else if (j === d6t.B6 && k[d6t.W6] in t && k[d6t.A6] in t[k[d6t.W6]] && k[d6t.D6] in t[k[d6t.W6]][k[d6t.A6]]) {
            return d6t.s73;
        } else if (j === d6t.M6 && k[d6t.W6] in t && k[d6t.A6] in t[k[d6t.W6]] && k[d6t.D6] in t[k[d6t.W6]][k[d6t.A6]] && k[d6t.B6] in t[k[d6t.W6]][k[d6t.A6]][k[d6t.D6]]) {
            return d6t.s73;
        }
        return d6t.F18;
    };
    s5.Group.prototype.setProperty = function(t, k, j, o, e) {
        if (typeof e === d6t.k43) {
            e = d6t.F18;
        }
        o = o || d6t.W6;
        if (!this.hasProperty(t, k) && (!e || o > d6t.W6)) {
            return d6t.F18;
        }
        var q = k.length;
        if (q === d6t.A6) {
            if (o === d6t.W6) {
                t[k[d6t.W6]] = j;
            } else if (o == d6t.A6) {
                t[k[d6t.W6]] += j;
            } else if (o == d6t.D6) {
                t[k[d6t.W6]] -= j;
            } else if (o == d6t.B6) {
                t[k[d6t.W6]] *= j;
            } else if (o == d6t.M6) {
                t[k[d6t.W6]] /= j;
            }
        } else if (q === d6t.D6) {
            if (o === d6t.W6) {
                t[k[d6t.W6]][k[d6t.A6]] = j;
            } else if (o == d6t.A6) {
                t[k[d6t.W6]][k[d6t.A6]] += j;
            } else if (o == d6t.D6) {
                t[k[d6t.W6]][k[d6t.A6]] -= j;
            } else if (o == d6t.B6) {
                t[k[d6t.W6]][k[d6t.A6]] *= j;
            } else if (o == d6t.M6) {
                t[k[d6t.W6]][k[d6t.A6]] /= j;
            }
        } else if (q === d6t.B6) {
            if (o === d6t.W6) {
                t[k[d6t.W6]][k[d6t.A6]][k[d6t.D6]] = j;
            } else if (o == d6t.A6) {
                t[k[d6t.W6]][k[d6t.A6]][k[d6t.D6]] += j;
            } else if (o == d6t.D6) {
                t[k[d6t.W6]][k[d6t.A6]][k[d6t.D6]] -= j;
            } else if (o == d6t.B6) {
                t[k[d6t.W6]][k[d6t.A6]][k[d6t.D6]] *= j;
            } else if (o == d6t.M6) {
                t[k[d6t.W6]][k[d6t.A6]][k[d6t.D6]] /= j;
            }
        } else if (q === d6t.M6) {
            if (o === d6t.W6) {
                t[k[d6t.W6]][k[d6t.A6]][k[d6t.D6]][k[d6t.B6]] = j;
            } else if (o == d6t.A6) {
                t[k[d6t.W6]][k[d6t.A6]][k[d6t.D6]][k[d6t.B6]] += j;
            } else if (o == d6t.D6) {
                t[k[d6t.W6]][k[d6t.A6]][k[d6t.D6]][k[d6t.B6]] -= j;
            } else if (o == d6t.B6) {
                t[k[d6t.W6]][k[d6t.A6]][k[d6t.D6]][k[d6t.B6]] *= j;
            } else if (o == d6t.M6) {
                t[k[d6t.W6]][k[d6t.A6]][k[d6t.D6]][k[d6t.B6]] /= j;
            }
        }
        return d6t.s73;
    };
    s5.Group.prototype.checkProperty = function(t, k, j, o) {
        if (typeof o === d6t.k43) {
            o = d6t.F18;
        }
        if (!s5.Utils.getProperty(t, k) && o) {
            return d6t.F18;
        }
        if (s5.Utils.getProperty(t, k) !== j) {
            return d6t.F18;
        }
        return d6t.s73;
    };
    s5.Group.prototype.set = function(t, k, j, o, e, q, m) {
        if (typeof m === d6t.k43) {
            m = d6t.F18;
        }
        k = k.split(d6t.N23);
        if (typeof o === d6t.k43) {
            o = d6t.F18;
        }
        if (typeof e === d6t.k43) {
            e = d6t.F18;
        }
        if ((o === d6t.F18 || (o && t.alive)) && (e === d6t.F18 || (e && t.visible))) {
            return this.setProperty(t, k, j, q, m);
        }
    };
    s5.Group.prototype.setAll = function(t, k, j, o, e, q) {
        if (typeof j === d6t.k43) {
            j = d6t.F18;
        }
        if (typeof o === d6t.k43) {
            o = d6t.F18;
        }
        if (typeof q === d6t.k43) {
            q = d6t.F18;
        }
        t = t.split(d6t.N23);
        e = e || d6t.W6;
        for (var m = d6t.W6, k5 = this.children.length; m < k5; m++) {
            if ((!j || (j && this.children[m].alive)) && (!o || (o && this.children[m].visible))) {
                this.setProperty(this.children[m], t, k, e, q);
            }
        }
    };
    s5.Group.prototype.setAllChildren = function(t, k, j, o, e, q) {
        if (typeof j === d6t.k43) {
            j = d6t.F18;
        }
        if (typeof o === d6t.k43) {
            o = d6t.F18;
        }
        if (typeof q === d6t.k43) {
            q = d6t.F18;
        }
        e = e || d6t.W6;
        for (var m = d6t.W6, k5 = this.children.length; m < k5; m++) {
            if ((!j || (j && this.children[m].alive)) && (!o || (o && this.children[m].visible))) {
                if (this.children[m] instanceof s5.Group) {
                    this.children[m].setAllChildren(t, k, j, o, e, q);
                } else {
                    this.setProperty(this.children[m], t.split(d6t.N23), k, e, q);
                }
            }
        }
    };
    s5.Group.prototype.checkAll = function(t, k, j, o, e) {
        if (typeof j === d6t.k43) {
            j = d6t.F18;
        }
        if (typeof o === d6t.k43) {
            o = d6t.F18;
        }
        if (typeof e === d6t.k43) {
            e = d6t.F18;
        }
        for (var q = d6t.W6, m = this.children.length; q < m; q++) {
            if ((!j || (j && this.children[q].alive)) && (!o || (o && this.children[q].visible))) {
                if (!this.checkProperty(this.children[q], t, k, e)) {
                    return d6t.F18;
                }
            }
        }
        return d6t.s73;
    };
    s5.Group.prototype.addAll = function(t, k, j, o) {
        this.setAll(t, k, j, o, d6t.A6);
    };
    s5.Group.prototype.subAll = function(t, k, j, o) {
        this.setAll(t, k, j, o, d6t.D6);
    };
    s5.Group.prototype.multiplyAll = function(t, k, j, o) {
        this.setAll(t, k, j, o, d6t.B6);
    };
    s5.Group.prototype.divideAll = function(t, k, j, o) {
        this.setAll(t, k, j, o, d6t.M6);
    };
    s5.Group.prototype.callAllExists = function(t, k) {
        var j = Array.prototype.splice.call(arguments, d6t.D6);
        for (var o = d6t.W6, e = this.children.length; o < e; o++) {
            if (this.children[o].exists === k && this.children[o][t]) {
                this.children[o][t].apply(this.children[o], j);
            }
        }
    };
    s5.Group.prototype.callbackFromArray = function(t, k, j) {
        if (j == d6t.A6) {
            if (t[k[d6t.W6]]) {
                return t[k[d6t.W6]];
            }
        } else if (j == d6t.D6) {
            if (t[k[d6t.W6]][k[d6t.A6]]) {
                return t[k[d6t.W6]][k[d6t.A6]];
            }
        } else if (j == d6t.B6) {
            if (t[k[d6t.W6]][k[d6t.A6]][k[d6t.D6]]) {
                return t[k[d6t.W6]][k[d6t.A6]][k[d6t.D6]];
            }
        } else if (j == d6t.M6) {
            if (t[k[d6t.W6]][k[d6t.A6]][k[d6t.D6]][k[d6t.B6]]) {
                return t[k[d6t.W6]][k[d6t.A6]][k[d6t.D6]][k[d6t.B6]];
            }
        } else {
            if (t[k]) {
                return t[k];
            }
        }
        return d6t.F18;
    };
    s5.Group.prototype.callAll = function(t, k) {
        if (typeof t === d6t.k43) {
            return;
        }
        t = t.split(d6t.N23);
        var j = t.length;
        if (typeof k === d6t.k43 || k === d6t.B3x || k === d6t.I6x) {
            k = d6t.B3x;
        } else {
            if (typeof k === d6t.F78) {
                k = k.split(d6t.N23);
                var o = k.length;
            }
        }
        var e = Array.prototype.splice.call(arguments, d6t.D6),
            q = d6t.B3x,
            m = d6t.B3x;
        for (var k5 = d6t.W6, C5 = this.children.length; k5 < C5; k5++) {
            q = this.callbackFromArray(this.children[k5], t, j);
            if (k && q) {
                m = this.callbackFromArray(this.children[k5], k, o);
                if (q) {
                    q.apply(m, e);
                }
            } else if (q) {
                q.apply(this.children[k5], e);
            }
        }
    };
    s5.Group.prototype.preUpdate = function() {
        if (!this.exists || !this.parent.exists) {
            this.renderOrderID = -d6t.A6;
            return d6t.F18;
        }
        var t = this.children.length;
        while (t--) {
            this.children[t].preUpdate();
        }
        return d6t.s73;
    };
    s5.Group.prototype.update = function() {
        var t = this.children.length;
        while (t--) {
            this.children[t].update();
        }
    };
    s5.Group.prototype.postUpdate = function() {
        if (this._cache[d6t.v6] === d6t.A6) {
            this.x = this.game.camera.view.x + this.cameraOffset.x;
            this.y = this.game.camera.view.y + this.cameraOffset.y;
        }
        var t = this.children.length;
        while (t--) {
            this.children[t].postUpdate();
        }
    };
    s5.Group.prototype.filter = function(t, k) {
        var j = -d6t.A6,
            o = this.children.length,
            e = new s5.ArrayList();
        while (++j < o) {
            var q = this.children[j];
            if (!k || (k && q.exists)) {
                if (t(q, j, this.children)) {
                    e.add(q);
                }
            }
        }
        return e;
    };
    s5.Group.prototype.forEach = function(t, k, j) {
        if (typeof j === d6t.k43) {
            j = d6t.F18;
        }
        var o = Array.prototype.splice.call(arguments, d6t.B6);
        o.unshift(d6t.B3x);
        for (var e = d6t.W6, q = this.children.length; e < q; e++) {
            if (!j || (j && this.children[e].exists)) {
                o[d6t.W6] = this.children[e];
                t.apply(k, o);
            }
        }
    };
    s5.Group.prototype.forEachExists = function(t, k) {
        var j = Array.prototype.splice.call(arguments, d6t.D6);
        j.unshift(d6t.B3x);
        this.iterate(d7, d6t.s73, s5.Group.RETURN_TOTAL, t, k, j);
    };
    s5.Group.prototype.forEachAlive = function(t, k) {
        var j = Array.prototype.splice.call(arguments, d6t.D6);
        j.unshift(d6t.B3x);
        this.iterate(y7, d6t.s73, s5.Group.RETURN_TOTAL, t, k, j);
    };
    s5.Group.prototype.forEachDead = function(t, k) {
        var j = Array.prototype.splice.call(arguments, d6t.D6);
        j.unshift(d6t.B3x);
        this.iterate(y7, d6t.F18, s5.Group.RETURN_TOTAL, t, k, j);
    };
    s5.Group.prototype.sort = function(t, k) {
        if (this.children.length < d6t.D6) {
            return;
        }
        if (typeof t === d6t.k43) {
            t = d6t.s7;
        }
        if (typeof k === d6t.k43) {
            k = s5.Group.SORT_ASCENDING;
        }
        this._sortProperty = t;
        if (k === s5.Group.SORT_ASCENDING) {
            this.children.sort(this.ascendingSortHandler.bind(this));
        } else {
            this.children.sort(this.descendingSortHandler.bind(this));
        }
        this.updateZ();
    };
    s5.Group.prototype.customSort = function(t, k) {
        if (this.children.length < d6t.D6) {
            return;
        }
        this.children.sort(t.bind(k));
        this.updateZ();
    };
    s5.Group.prototype.ascendingSortHandler = function(t, k) {
        if (t[this._sortProperty] < k[this._sortProperty]) {
            return -d6t.A6;
        } else if (t[this._sortProperty] > k[this._sortProperty]) {
            return d6t.A6;
        } else {
            if (t.z < k.z) {
                return -d6t.A6;
            } else {
                return d6t.A6;
            }
        }
    };
    s5.Group.prototype.descendingSortHandler = function(t, k) {
        if (t[this._sortProperty] < k[this._sortProperty]) {
            return d6t.A6;
        } else if (t[this._sortProperty] > k[this._sortProperty]) {
            return -d6t.A6;
        } else {
            return d6t.W6;
        }
    };
    s5.Group.prototype.iterate = function(t, k, j, o, e, q) {
        if (j === s5.Group.RETURN_TOTAL && this.children.length === d6t.W6) {
            return d6t.W6;
        }
        if (typeof o === d6t.k43) {
            o = d6t.F18;
        }
        var m = d6t.W6;
        for (var k5 = d6t.W6, C5 = this.children.length; k5 < C5; k5++) {
            if (this.children[k5][t] === k) {
                m++;
                if (o) {
                    q[d6t.W6] = this.children[k5];
                    o.apply(e, q);
                }
                if (j === s5.Group.RETURN_CHILD) {
                    return this.children[k5];
                }
            }
        }
        if (j === s5.Group.RETURN_TOTAL) {
            return m;
        } else if (j === s5.Group.RETURN_CHILD) {
            return d6t.B3x;
        }
    };
    s5.Group.prototype.getFirstExists = function(t) {
        if (typeof t !== d6t.U3f) {
            t = d6t.s73;
        }
        return this.iterate(d7, t, s5.Group.RETURN_CHILD);
    };
    s5.Group.prototype.getFirstAlive = function() {
        return this.iterate(y7, d6t.s73, s5.Group.RETURN_CHILD);
    };
    s5.Group.prototype.getFirstDead = function() {
        return this.iterate(y7, d6t.F18, s5.Group.RETURN_CHILD);
    };
    s5.Group.prototype.getTop = function() {
        if (this.children.length > d6t.W6) {
            return this.children[this.children.length - d6t.A6];
        }
    };
    s5.Group.prototype.getBottom = function() {
        if (this.children.length > d6t.W6) {
            return this.children[d6t.W6];
        }
    };
    s5.Group.prototype.countLiving = function() {
        return this.iterate(y7, d6t.s73, s5.Group.RETURN_TOTAL);
    };
    s5.Group.prototype.countDead = function() {
        return this.iterate(y7, d6t.F18, s5.Group.RETURN_TOTAL);
    };
    s5.Group.prototype.getRandom = function(t, k) {
        if (this.children.length === d6t.W6) {
            return d6t.B3x;
        }
        t = t || d6t.W6;
        k = k || this.children.length;
        return this.game.math.getRandom(this.children, t, k);
    };
    s5.Group.prototype.remove = function(t, k, j) {
        if (typeof k === d6t.k43) {
            k = d6t.F18;
        }
        if (typeof j === d6t.k43) {
            j = d6t.F18;
        }
        if (this.children.length === d6t.W6 || this.children.indexOf(t) === -d6t.A6) {
            return d6t.F18;
        }
        if (!j && t.events && !t.destroyPhase) {
            t.events.onRemovedFromGroup.dispatch(t, this);
        }
        var o = this.removeChild(t);
        this.updateZ();
        if (this.cursor === t) {
            this.next();
        }
        if (k && o) {
            o.destroy(d6t.s73);
        }
        return d6t.s73;
    };
    s5.Group.prototype.removeAll = function(t, k) {
        if (typeof t === d6t.k43) {
            t = d6t.F18;
        }
        if (typeof k === d6t.k43) {
            k = d6t.F18;
        }
        if (this.children.length === d6t.W6) {
            return;
        }
        do {
            if (!k && this.children[d6t.W6].events) {
                this.children[d6t.W6].events.onRemovedFromGroup.dispatch(this.children[d6t.W6], this);
            }
            var j = this.removeChild(this.children[d6t.W6]);
            if (t && j) {
                j.destroy(d6t.s73);
            }
        } while (this.children.length > d6t.W6);
        this.cursor = d6t.B3x;
    };
    s5.Group.prototype.removeBetween = function(t, k, j, o) {
        if (typeof k === d6t.k43) {
            k = this.children.length - d6t.A6;
        }
        if (typeof j === d6t.k43) {
            j = d6t.F18;
        }
        if (typeof o === d6t.k43) {
            o = d6t.F18;
        }
        if (this.children.length === d6t.W6) {
            return;
        }
        if (t > k || t < d6t.W6 || k > this.children.length) {
            return d6t.F18;
        }
        var e = k;
        while (e >= t) {
            if (!o && this.children[e].events) {
                this.children[e].events.onRemovedFromGroup.dispatch(this.children[e], this);
            }
            var q = this.removeChild(this.children[e]);
            if (j && q) {
                q.destroy(d6t.s73);
            }
            if (this.cursor === this.children[e]) {
                this.cursor = d6t.B3x;
            }
            e--;
        }
        this.updateZ();
    };
    s5.Group.prototype.destroy = function(t, k) {
        if (this.game === d6t.B3x || this.ignoreDestroy) {
            return;
        }
        if (typeof t === d6t.k43) {
            t = d6t.s73;
        }
        if (typeof k === d6t.k43) {
            k = d6t.F18;
        }
        this.onDestroy.dispatch(this, t, k);
        this.removeAll(t);
        this.cursor = d6t.B3x;
        this.filters = d6t.B3x;
        if (!k) {
            if (this.parent) {
                this.parent.removeChild(this);
            }
            this.game = d6t.B3x;
            this.exists = d6t.F18;
        }
    };
    Object.defineProperty(s5.Group.prototype, k9, {
        get: function() {
            return this.iterate(d7, d6t.s73, s5.Group.RETURN_TOTAL);
        }
    });
    Object.defineProperty(s5.Group.prototype, d6t.e23, {
        get: function() {
            return this.children.length;
        }
    });
    Object.defineProperty(s5.Group.prototype, d6t.F1f, {
        get: function() {
            return s5.Math.radToDeg(this.rotation);
        },
        set: function(t) {
            this.rotation = s5.Math.degToRad(t);
        }
    });
    Object.defineProperty(s5.Group.prototype, i3, {
        get: function() {
            return !!this._cache[d6t.v6];
        },
        set: function(t) {
            if (t) {
                this._cache[d6t.v6] = d6t.A6;
                this.cameraOffset.set(this.x, this.y);
            } else {
                this._cache[d6t.v6] = d6t.W6;
            }
        }
    });
    s5.World = function(game) {
        var k = '__world';
        s5.Group.call(this, game, d6t.B3x, k, d6t.F18);
        this.bounds = new s5.Rectangle(d6t.W6, d6t.W6, game.width, game.height);
        this.camera = d6t.B3x;
        this._definedSize = d6t.F18;
        this._width = game.width;
        this._height = game.height;
    };
    s5.World.prototype = Object.create(s5.Group.prototype);
    s5.World.prototype.constructor = s5.World;
    s5.World.prototype.boot = function() {
        this.camera = new s5.Camera(this.game, d6t.W6, d6t.W6, d6t.W6, this.game.width, this.game.height);
        this.camera.displayObject = this;
        this.camera.scale = this.scale;
        this.game.camera = this.camera;
        this.game.stage.addChild(this);
    };
    s5.World.prototype.setBounds = function(t, k, j, o) {
        this._definedSize = d6t.s73;
        this._width = j;
        this._height = o;
        this.bounds.setTo(t, k, j, o);
        if (this.camera.bounds) {
            this.camera.bounds.setTo(t, k, Math.max(j, this.game.width), Math.max(o, this.game.height));
        }
        this.game.physics.setBoundsToWorld();
    };
    s5.World.prototype.resize = function(t, k) {
        if (this._definedSize) {
            if (t < this._width) {
                t = this._width;
            }
            if (k < this._height) {
                k = this._height;
            }
        }
        this.bounds.width = t;
        this.bounds.height = k;
        this.game.camera.setBoundsToWorld();
        this.game.physics.setBoundsToWorld();
    };
    s5.World.prototype.shutdown = function() {
        this.destroy(d6t.s73, d6t.s73);
    };
    s5.World.prototype.wrap = function(t, k, j, o, e) {
        if (typeof k === d6t.k43) {
            k = d6t.W6;
        }
        if (typeof j === d6t.k43) {
            j = d6t.F18;
        }
        if (typeof o === d6t.k43) {
            o = d6t.s73;
        }
        if (typeof e === d6t.k43) {
            e = d6t.s73;
        }
        if (!j) {
            if (o && t.x + k < this.bounds.x) {
                t.x = this.bounds.right + k;
            } else if (o && t.x - k > this.bounds.right) {
                t.x = this.bounds.left - k;
            }
            if (e && t.y + k < this.bounds.top) {
                t.y = this.bounds.bottom + k;
            } else if (e && t.y - k > this.bounds.bottom) {
                t.y = this.bounds.top - k;
            }
        } else {
            t.getBounds();
            if (o) {
                if ((t.x + t._currentBounds.width) < this.bounds.x) {
                    t.x = this.bounds.right;
                } else if (t.x > this.bounds.right) {
                    t.x = this.bounds.left;
                }
            }
            if (e) {
                if ((t.y + t._currentBounds.height) < this.bounds.top) {
                    t.y = this.bounds.bottom;
                } else if (t.y > this.bounds.bottom) {
                    t.y = this.bounds.top;
                }
            }
        }
    };
    Object.defineProperty(s5.World.prototype, d6t.K5B, {
        get: function() {
            return this.bounds.width;
        },
        set: function(t) {
            if (t < this.game.width) {
                t = this.game.width;
            }
            this.bounds.width = t;
            this._width = t;
            this._definedSize = d6t.s73;
        }
    });
    Object.defineProperty(s5.World.prototype, d6t.B2f, {
        get: function() {
            return this.bounds.height;
        },
        set: function(t) {
            if (t < this.game.height) {
                t = this.game.height;
            }
            this.bounds.height = t;
            this._height = t;
            this._definedSize = d6t.s73;
        }
    });
    Object.defineProperty(s5.World.prototype, R9, {
        get: function() {
            return this.bounds.halfWidth;
        }
    });
    Object.defineProperty(s5.World.prototype, p9, {
        get: function() {
            return this.bounds.halfHeight;
        }
    });
    Object.defineProperty(s5.World.prototype, z9, {
        get: function() {
            if (this.bounds.x < d6t.W6) {
                return this.game.rnd.integerInRange(this.bounds.x, (this.bounds.width - Math.abs(this.bounds.x)));
            } else {
                return this.game.rnd.integerInRange(this.bounds.x, this.bounds.width);
            }
        }
    });
    Object.defineProperty(s5.World.prototype, Y9, {
        get: function() {
            if (this.bounds.y < d6t.W6) {
                return this.game.rnd.integerInRange(this.bounds.y, (this.bounds.height - Math.abs(this.bounds.y)));
            } else {
                return this.game.rnd.integerInRange(this.bounds.y, this.bounds.height);
            }
        }
    });
    s5.FlexGrid = function(t, k, j) {
        this.game = t.game;
        this.manager = t;
        this.width = k;
        this.height = j;
        this.boundsCustom = new s5.Rectangle(d6t.W6, d6t.W6, k, j);
        this.boundsFluid = new s5.Rectangle(d6t.W6, d6t.W6, k, j);
        this.boundsFull = new s5.Rectangle(d6t.W6, d6t.W6, k, j);
        this.boundsNone = new s5.Rectangle(d6t.W6, d6t.W6, k, j);
        this.positionCustom = new s5.Point(d6t.W6, d6t.W6);
        this.positionFluid = new s5.Point(d6t.W6, d6t.W6);
        this.positionFull = new s5.Point(d6t.W6, d6t.W6);
        this.positionNone = new s5.Point(d6t.W6, d6t.W6);
        this.scaleCustom = new s5.Point(d6t.A6, d6t.A6);
        this.scaleFluid = new s5.Point(d6t.A6, d6t.A6);
        this.scaleFluidInversed = new s5.Point(d6t.A6, d6t.A6);
        this.scaleFull = new s5.Point(d6t.A6, d6t.A6);
        this.scaleNone = new s5.Point(d6t.A6, d6t.A6);
        this.customWidth = d6t.W6;
        this.customHeight = d6t.W6;
        this.customOffsetX = d6t.W6;
        this.customOffsetY = d6t.W6;
        this.ratioH = k / j;
        this.ratioV = j / k;
        this.multiplier = d6t.W6;
        this.layers = [];
    };
    s5.FlexGrid.prototype = {
        setSize: function(t, k) {
            this.width = t;
            this.height = k;
            this.ratioH = t / k;
            this.ratioV = k / t;
            this.scaleNone = new s5.Point(d6t.A6, d6t.A6);
            this.boundsNone.width = this.width;
            this.boundsNone.height = this.height;
            this.refresh();
        },
        createCustomLayer: function(t, k, j, o) {
            if (typeof o === d6t.k43) {
                o = d6t.s73;
            }
            this.customWidth = t;
            this.customHeight = k;
            this.boundsCustom.width = t;
            this.boundsCustom.height = k;
            var e = new s5.FlexLayer(this, this.positionCustom, this.boundsCustom, this.scaleCustom);
            if (o) {
                this.game.world.add(e);
            }
            this.layers.push(e);
            if (typeof j !== d6t.k43 && typeof j !== d6t.B3x) {
                e.addMultiple(j);
            }
            return e;
        },
        createFluidLayer: function(t, k) {
            if (typeof k === d6t.k43) {
                k = d6t.s73;
            }
            var j = new s5.FlexLayer(this, this.positionFluid, this.boundsFluid, this.scaleFluid);
            if (k) {
                this.game.world.add(j);
            }
            this.layers.push(j);
            if (typeof t !== d6t.k43 && typeof t !== d6t.B3x) {
                j.addMultiple(t);
            }
            return j;
        },
        createFullLayer: function(t) {
            var k = new s5.FlexLayer(this, this.positionFull, this.boundsFull, this.scaleFluid);
            this.game.world.add(k);
            this.layers.push(k);
            if (typeof t !== d6t.k43) {
                k.addMultiple(t);
            }
            return k;
        },
        createFixedLayer: function(t) {
            var k = new s5.FlexLayer(this, this.positionNone, this.boundsNone, this.scaleNone);
            this.game.world.add(k);
            this.layers.push(k);
            if (typeof t !== d6t.k43) {
                k.addMultiple(t);
            }
            return k;
        },
        reset: function() {
            var t = this.layers.length;
            while (t--) {
                if (!this.layers[t].persist) {
                    this.layers[t].position = d6t.B3x;
                    this.layers[t].scale = d6t.B3x;
                    this.layers.slice(t, d6t.A6);
                }
            }
        },
        onResize: function(t, k) {
            this.refresh(t, k);
        },
        refresh: function() {
            this.multiplier = Math.min((this.manager.height / this.height), (this.manager.width / this.width));
            this.boundsFluid.width = Math.round(this.width * this.multiplier);
            this.boundsFluid.height = Math.round(this.height * this.multiplier);
            this.scaleFluid.set(this.boundsFluid.width / this.width, this.boundsFluid.height / this.height);
            this.scaleFluidInversed.set(this.width / this.boundsFluid.width, this.height / this.boundsFluid.height);
            this.scaleFull.set(this.boundsFull.width / this.width, this.boundsFull.height / this.height);
            this.boundsFull.width = this.manager.width * this.scaleFluidInversed.x;
            this.boundsFull.height = this.manager.height * this.scaleFluidInversed.y;
            this.boundsFluid.centerOn(this.manager.bounds.centerX, this.manager.bounds.centerY);
            this.boundsNone.centerOn(this.manager.bounds.centerX, this.manager.bounds.centerY);
            this.positionFluid.set(this.boundsFluid.x, this.boundsFluid.y);
            this.positionNone.set(this.boundsNone.x, this.boundsNone.y);
        },
        debug: function() {
            var t = 'rgba(255,0,0,0.9';
            this.game.debug.text(this.boundsFluid.width + x7 + this.boundsFluid.height, this.boundsFluid.x + d6t.M6, this.boundsFluid.y + d6t.M7x);
            this.game.debug.geom(this.boundsFluid, t, d6t.F18);
        }
    };
    s5.FlexGrid.prototype.constructor = s5.FlexGrid;
    s5.FlexLayer = function(t, k, j, o) {
        var e = '__flexLayer';
        s5.Group.call(this, t.game, d6t.B3x, e + t.game.rnd.uuid(), d6t.F18);
        this.manager = t.manager;
        this.grid = t;
        this.persist = d6t.F18;
        this.position = k;
        this.bounds = j;
        this.scale = o;
        this.topLeft = j.topLeft;
        this.topMiddle = new s5.Point(j.halfWidth, d6t.W6);
        this.topRight = j.topRight;
        this.bottomLeft = j.bottomLeft;
        this.bottomMiddle = new s5.Point(j.halfWidth, j.bottom);
        this.bottomRight = j.bottomRight;
    };
    s5.FlexLayer.prototype = Object.create(s5.Group.prototype);
    s5.FlexLayer.prototype.constructor = s5.FlexLayer;
    s5.FlexLayer.prototype.resize = function() {};
    s5.FlexLayer.prototype.debug = function() {
        var t = 'rgba(255,255,255,0.9',
            k = 'rgba(0,0,255,0.9';
        this.game.debug.text(this.bounds.width + x7 + this.bounds.height, this.bounds.x + d6t.M6, this.bounds.y + d6t.M7x);
        this.game.debug.geom(this.bounds, k, d6t.F18);
        this.game.debug.geom(this.topLeft, t);
        this.game.debug.geom(this.topMiddle, t);
        this.game.debug.geom(this.topRight, t);
    };
    s5.ScaleManager = function(game, k, j) {
        this.game = game;
        this.grid = d6t.B3x;
        this.width = d6t.W6;
        this.height = d6t.W6;
        this.minWidth = d6t.B3x;
        this.maxWidth = d6t.B3x;
        this.minHeight = d6t.B3x;
        this.maxHeight = d6t.B3x;
        this.offset = new s5.Point();
        this.forceLandscape = d6t.F18;
        this.forcePortrait = d6t.F18;
        this.incorrectOrientation = d6t.F18;
        this.pageAlignHorizontally = d6t.F18;
        this.pageAlignVertically = d6t.F18;
        this.maxIterations = d6t.U6;
        this.enterLandscape = new s5.Signal();
        this.enterPortrait = new s5.Signal();
        this.enterIncorrectOrientation = new s5.Signal();
        this.leaveIncorrectOrientation = new s5.Signal();
        this.fullScreenTarget = d6t.B3x;
        this.enterFullScreen = new s5.Signal();
        this.leaveFullScreen = new s5.Signal();
        this.orientation = d6t.W6;
        if (window[v7]) {
            this.orientation = window[v7];
        } else {
            if (window.outerWidth > window.outerHeight) {
                this.orientation = d6t.h8x;
            }
        }
        this.scaleFactor = new s5.Point(d6t.A6, d6t.A6);
        this.scaleFactorInversed = new s5.Point(d6t.A6, d6t.A6);
        this.margin = new s5.Point(d6t.W6, d6t.W6);
        this.bounds = new s5.Rectangle();
        this.aspectRatio = d6t.W6;
        this.sourceAspectRatio = d6t.W6;
        this.event = d6t.B3x;
        this.fullScreenScaleMode = s5.ScaleManager.NO_SCALE;
        this.parentIsWindow = d6t.F18;
        this.parentNode = d6t.B3x;
        this.parentScaleFactor = new s5.Point(d6t.A6, d6t.A6);
        this.trackParentInterval = d6t.P43;
        this.onResize = d6t.B3x;
        this.onResizeContext = d6t.B3x;
        this._scaleMode = s5.ScaleManager.NO_SCALE;
        this._width = d6t.W6;
        this._height = d6t.W6;
        this._check = d6t.B3x;
        this._nextParentCheck = d6t.W6;
        this._parentBounds = d6t.B3x;
        if (game.config) {
            this.parseConfig(game.config);
        }
        this.setupScale(k, j);
    };
    s5.ScaleManager.EXACT_FIT = d6t.W6;
    s5.ScaleManager.NO_SCALE = d6t.A6;
    s5.ScaleManager.SHOW_ALL = d6t.D6;
    s5.ScaleManager.RESIZE = d6t.B6;
    s5.ScaleManager.prototype = {
        parseConfig: function(t) {
            var k = 'fullScreenTarget',
                j = 'fullScreenScaleMode',
                o = 'scaleMode';
            if (t[o]) {
                this.scaleMode = t[o];
            }
            if (t[j]) {
                this.fullScreenScaleMode = t[j];
            }
            if (t[k]) {
                this.fullScreenTarget = t[k];
            }
        },
        setupScale: function(t, k) {
            var j, o = new s5.Rectangle();
            if (this.game.parent !== d6t.I6x) {
                if (typeof this.game.parent === d6t.F78) {
                    j = document.getElementById(this.game.parent);
                } else if (typeof this.game.parent === d6t.T7H && this.game.parent.nodeType === d6t.A6) {
                    j = this.game.parent;
                }
            }
            if (!j) {
                this.parentNode = d6t.B3x;
                this.parentIsWindow = d6t.s73;
                o.width = window.innerWidth;
                o.height = window.innerHeight;
            } else {
                this.parentNode = j;
                this.parentIsWindow = d6t.F18;
                this._parentBounds = this.parentNode.getBoundingClientRect();
                o.width = this._parentBounds.width;
                o.height = this._parentBounds.height;
                this.offset.set(this._parentBounds.left, this._parentBounds.top);
            }
            var e = d6t.W6,
                q = d6t.W6;
            if (typeof t === d6t.F3B) {
                e = t;
            } else {
                this.parentScaleFactor.x = parseInt(t, d6t.x7x) / d6t.a08;
                e = o.width * this.parentScaleFactor.x;
            }
            if (typeof k === d6t.F3B) {
                q = k;
            } else {
                this.parentScaleFactor.y = parseInt(k, d6t.x7x) / d6t.a08;
                q = o.height * this.parentScaleFactor.y;
            }
            this.grid = new s5.FlexGrid(this, e, q);
            this.updateDimensions(e, q, d6t.F18);
        },
        boot: function() {
            this.fullScreenTarget = this.game.canvas;
            var k = this;
            this._checkOrientation = function(t) {
                return k.checkOrientation(t);
            };
            this._checkResize = function(t) {
                return k.checkResize(t);
            };
            this._fullScreenChange = function(t) {
                return k.fullScreenChange(t);
            };
            window.addEventListener(d6t.u9x, this._checkOrientation, d6t.F18);
            window.addEventListener(d6t.X78, this._checkResize, d6t.F18);
            if (!this.game.device.cocoonJS) {
                document.addEventListener(d6t.y4B, this._fullScreenChange, d6t.F18);
                document.addEventListener(d6t.Z6f, this._fullScreenChange, d6t.F18);
                document.addEventListener(d6t.g98, this._fullScreenChange, d6t.F18);
            }
            this.updateDimensions(this.width, this.height, d6t.s73);
            s5.Canvas.getOffset(this.game.canvas, this.offset);
            this.bounds.setTo(this.offset.x, this.offset.y, this.width, this.height);
        },
        setResizeCallback: function(t, k) {
            this.onResize = t;
            this.onResizeContext = k;
        },
        setMinMax: function(t, k, j, o) {
            this.minWidth = t;
            this.minHeight = k;
            if (typeof j !== d6t.k43) {
                this.maxWidth = j;
            }
            if (typeof o !== d6t.k43) {
                this.maxHeight = o;
            }
        },
        preUpdate: function() {
            if (this.game.time.now < this._nextParentCheck) {
                return;
            }
            if (!this.parentIsWindow) {
                s5.Canvas.getOffset(this.game.canvas, this.offset);
                if (this._scaleMode === s5.ScaleManager.RESIZE) {
                    this._parentBounds = this.parentNode.getBoundingClientRect();
                    if (this._parentBounds.width !== this.width || this._parentBounds.height !== this.height) {
                        this.updateDimensions(this._parentBounds.width, this._parentBounds.height, d6t.s73);
                    }
                }
            }
            this._nextParentCheck = this.game.time.now + this.trackParentInterval;
        },
        updateDimensions: function(t, k, j) {
            this.width = t * this.parentScaleFactor.x;
            this.height = k * this.parentScaleFactor.y;
            this.game.width = this.width;
            this.game.height = this.height;
            this.sourceAspectRatio = this.width / this.height;
            this.bounds.width = this.width;
            this.bounds.height = this.height;
            if (j) {
                this.game.renderer.resize(this.width, this.height);
                this.game.camera.setSize(this.width, this.height);
                this.game.world.resize(this.width, this.height);
            }
            this.grid.onResize(t, k);
            if (this.onResize) {
                this.onResize.call(this.onResizeContext, this.width, this.height);
            }
            this.game.state.resize(t, k);
        },
        forceOrientation: function(t, k) {
            if (typeof k === d6t.k43) {
                k = d6t.F18;
            }
            this.forceLandscape = t;
            this.forcePortrait = k;
        },
        checkOrientationState: function() {
            if (this.incorrectOrientation) {
                if ((this.forceLandscape && window.innerWidth > window.innerHeight) || (this.forcePortrait && window.innerHeight > window.innerWidth)) {
                    this.incorrectOrientation = d6t.F18;
                    this.leaveIncorrectOrientation.dispatch();
                    if (this.scaleMode !== s5.ScaleManager.NO_SCALE) {
                        this.refresh();
                    }
                }
            } else {
                if ((this.forceLandscape && window.innerWidth < window.innerHeight) || (this.forcePortrait && window.innerHeight < window.innerWidth)) {
                    this.incorrectOrientation = d6t.s73;
                    this.enterIncorrectOrientation.dispatch();
                    if (this.scaleMode !== s5.ScaleManager.NO_SCALE) {
                        this.refresh();
                    }
                }
            }
        },
        checkOrientation: function(t) {
            this.event = t;
            this.orientation = window[v7];
            if (this.isLandscape) {
                this.enterLandscape.dispatch(this.orientation, d6t.s73, d6t.F18);
            } else {
                this.enterPortrait.dispatch(this.orientation, d6t.F18, d6t.s73);
            }
            if (this.scaleMode !== s5.ScaleManager.NO_SCALE) {
                this.refresh();
            }
        },
        checkResize: function(t) {
            this.event = t;
            var k = this.isLandscape;
            if (window.outerWidth > window.outerHeight) {
                this.orientation = d6t.h8x;
            } else {
                this.orientation = d6t.W6;
            }
            if (k && this.isPortrait) {
                this.enterPortrait.dispatch(this.orientation, d6t.F18, d6t.s73);
                if (this.forceLandscape) {
                    this.enterIncorrectOrientation.dispatch();
                } else if (this.forcePortrait) {
                    this.leaveIncorrectOrientation.dispatch();
                }
            } else if (!k && this.isLandscape) {
                this.enterLandscape.dispatch(this.orientation, d6t.s73, d6t.F18);
                if (this.forceLandscape) {
                    this.leaveIncorrectOrientation.dispatch();
                } else if (this.forcePortrait) {
                    this.enterIncorrectOrientation.dispatch();
                }
            }
            if (this._scaleMode === s5.ScaleManager.RESIZE && this.parentIsWindow) {
                this.updateDimensions(window.innerWidth, window.innerHeight, d6t.s73);
            } else if (this._scaleMode === s5.ScaleManager.EXACT_FIT || this._scaleMode === s5.ScaleManager.SHOW_ALL) {
                this.refresh();
                if (this.onResize) {
                    this.onResize.call(this.onResizeContext, this.width, this.height);
                }
            }
            this.checkOrientationState();
        },
        refresh: function() {
            if (this.scaleMode === s5.ScaleManager.RESIZE) {
                return;
            }
            if (!this.game.device.iPad && !this.game.device.webApp && !this.game.device.desktop) {
                if (this.game.device.android && !this.game.device.chrome) {
                    window.scrollTo(d6t.W6, d6t.A6);
                } else {
                    window.scrollTo(d6t.W6, d6t.W6);
                }
            }
            if (this._check === d6t.B3x && this.maxIterations > d6t.W6) {
                this._iterations = this.maxIterations;
                var t = this;
                this._check = window.setInterval(function() {
                    return t.setScreenSize();
                }, d6t.x7x);
                this.setScreenSize();
            }
        },
        setScreenSize: function(t) {
            var k = 'style';
            if (this.scaleMode === s5.ScaleManager.RESIZE) {
                return;
            }
            if (typeof t === d6t.k43) {
                t = d6t.F18;
            }
            if (!this.game.device.iPad && !this.game.device.webApp && !this.game.device.desktop) {
                if (this.game.device.android && !this.game.device.chrome) {
                    window.scrollTo(d6t.W6, d6t.A6);
                } else {
                    window.scrollTo(d6t.W6, d6t.W6);
                }
            }
            this._iterations--;
            if (t || this._iterations < d6t.W6) {
                document.documentElement[k].minHeight = window.innerHeight + d6t.u0H;
                if (this.incorrectOrientation) {
                    this.setMaximum();
                } else if (!this.isFullScreen) {
                    if (this.scaleMode === s5.ScaleManager.EXACT_FIT) {
                        this.setExactFit();
                    } else if (this.scaleMode === s5.ScaleManager.SHOW_ALL) {
                        this.setShowAll();
                    }
                } else {
                    if (this.fullScreenScaleMode === s5.ScaleManager.EXACT_FIT) {
                        this.setExactFit();
                    } else if (this.fullScreenScaleMode === s5.ScaleManager.SHOW_ALL) {
                        this.setShowAll();
                    }
                }
                this.setSize();
                clearInterval(this._check);
                this._check = d6t.B3x;
            }
        },
        setSize: function() {
            if (!this.incorrectOrientation) {
                if (this.maxWidth && this.width > this.maxWidth) {
                    this.width = this.maxWidth;
                }
                if (this.maxHeight && this.height > this.maxHeight) {
                    this.height = this.maxHeight;
                }
                if (this.minWidth && this.width < this.minWidth) {
                    this.width = this.minWidth;
                }
                if (this.minHeight && this.height < this.minHeight) {
                    this.height = this.minHeight;
                }
            }
            this.game.canvas.style.width = this.width + d6t.u0H;
            this.game.canvas.style.height = this.height + d6t.u0H;
            this.game.input.scale.setTo(this.game.width / this.width, this.game.height / this.height);
            if (this.pageAlignHorizontally) {
                if (this.width < window.innerWidth && !this.incorrectOrientation) {
                    this.margin.x = Math.round((window.innerWidth - this.width) / d6t.D6);
                    this.game.canvas.style.marginLeft = this.margin.x + d6t.u0H;
                } else {
                    this.margin.x = d6t.W6;
                    this.game.canvas.style.marginLeft = d6t.O98;
                }
            }
            if (this.pageAlignVertically) {
                if (this.height < window.innerHeight && !this.incorrectOrientation) {
                    this.margin.y = Math.round((window.innerHeight - this.height) / d6t.D6);
                    this.game.canvas.style.marginTop = this.margin.y + d6t.u0H;
                } else {
                    this.margin.y = d6t.W6;
                    this.game.canvas.style.marginTop = d6t.O98;
                }
            }
            s5.Canvas.getOffset(this.game.canvas, this.offset);
            this.bounds.setTo(this.offset.x, this.offset.y, this.width, this.height);
            this.aspectRatio = this.width / this.height;
            this.scaleFactor.x = this.game.width / this.width;
            this.scaleFactor.y = this.game.height / this.height;
            this.scaleFactorInversed.x = this.width / this.game.width;
            this.scaleFactorInversed.y = this.height / this.game.height;
            this.checkOrientationState();
        },
        reset: function(t) {
            if (t) {
                this.grid.reset();
            }
        },
        setMaximum: function() {
            this.width = window.innerWidth;
            this.height = window.innerHeight;
        },
        setShowAll: function() {
            var t = Math.min((window.innerHeight / this.game.height), (window.innerWidth / this.game.width));
            this.width = Math.round(this.game.width * t);
            this.height = Math.round(this.game.height * t);
        },
        setExactFit: function() {
            var t = window.innerWidth,
                k = window.innerHeight;
            if (this.maxWidth && t > this.maxWidth) {
                this.width = this.maxWidth;
            } else {
                this.width = t;
            }
            if (this.maxHeight && k > this.maxHeight) {
                this.height = this.maxHeight;
            } else {
                this.height = k;
            }
        },
        startFullScreen: function(t) {
            if (this.isFullScreen || !this.game.device.fullscreen) {
                return;
            }
            if (typeof t !== d6t.k43 && this.game.renderType === s5.CANVAS) {
                this.game.stage.smoothed = t;
            }
            this._width = this.width;
            this._height = this.height;
            if (this.game.device.fullscreenKeyboard) {
                this.fullScreenTarget[this.game.device.requestFullscreen](Element.ALLOW_KEYBOARD_INPUT);
            } else {
                this.fullScreenTarget[this.game.device.requestFullscreen]();
            }
        },
        stopFullScreen: function() {
            document[this.game.device.cancelFullscreen]();
        },
        fullScreenChange: function(t) {
            this.event = t;
            if (this.isFullScreen) {
                if (this.fullScreenScaleMode === s5.ScaleManager.EXACT_FIT) {
                    this.fullScreenTarget.style[d6t.y1f] = d6t.N3f;
                    this.fullScreenTarget.style[d6t.I7H] = d6t.N3f;
                    this.width = window.outerWidth;
                    this.height = window.outerHeight;
                    this.game.input.scale.setTo(this.game.width / this.width, this.game.height / this.height);
                    this.aspectRatio = this.width / this.height;
                    this.scaleFactor.x = this.game.width / this.width;
                    this.scaleFactor.y = this.game.height / this.height;
                    this.checkResize();
                } else if (this.fullScreenScaleMode === s5.ScaleManager.SHOW_ALL) {
                    this.setShowAll();
                    this.refresh();
                }
                this.enterFullScreen.dispatch(this.width, this.height);
            } else {
                this.fullScreenTarget.style[d6t.y1f] = this.game.width + d6t.u0H;
                this.fullScreenTarget.style[d6t.I7H] = this.game.height + d6t.u0H;
                this.width = this._width;
                this.height = this._height;
                this.game.input.scale.setTo(this.game.width / this.width, this.game.height / this.height);
                this.aspectRatio = this.width / this.height;
                this.scaleFactor.x = this.game.width / this.width;
                this.scaleFactor.y = this.game.height / this.height;
                this.leaveFullScreen.dispatch(this.width, this.height);
            }
        },
        destroy: function() {
            window.removeEventListener(d6t.u9x, this._checkOrientation, d6t.F18);
            window.removeEventListener(d6t.X78, this._checkResize, d6t.F18);
            if (!this.game.device.cocoonJS) {
                document.removeEventListener(d6t.y4B, this._fullScreenChange, d6t.F18);
                document.removeEventListener(d6t.Z6f, this._fullScreenChange, d6t.F18);
                document.removeEventListener(d6t.g98, this._fullScreenChange, d6t.F18);
            }
        }
    };
    s5.ScaleManager.prototype.constructor = s5.ScaleManager;
    Object.defineProperty(s5.ScaleManager.prototype, Q8, {
        get: function() {
            return this._scaleMode;
        },
        set: function(t) {
            if (t !== this._scaleMode) {
                this._scaleMode = t;
            }
        }
    });
    Object.defineProperty(s5.ScaleManager.prototype, b8, {
        get: function() {
            var t = 'webkitFullscreenElement',
                k = 'mozFullScreenElement',
                j = 'fullscreenElement';
            return (document[j] || document[k] || document[t]);
        }
    });
    Object.defineProperty(s5.ScaleManager.prototype, E8, {
        get: function() {
            return (this.orientation === d6t.W6 || this.orientation === d6t.D6B);
        }
    });
    Object.defineProperty(s5.ScaleManager.prototype, I8, {
        get: function() {
            return (this.orientation === d6t.h8x || this.orientation === -d6t.h8x);
        }
    });
    s5.Game = function(t, k, j, o, e, q, m, k5) {
        var C5 = 'deviceready',
            H5 = 'complete';
        this.id = s5.GAMES.push(this) - d6t.A6;
        this.config = d6t.B3x;
        this.physicsConfig = k5;
        this.parent = d6t.I6x;
        this.width = d6t.i23;
        this.height = d6t.h7f;
        this.transparent = d6t.F18;
        this.antialias = d6t.s73;
        this.preserveDrawingBuffer = d6t.F18;
        this.renderer = d6t.B3x;
        this.renderType = s5.AUTO;
        this.state = d6t.B3x;
        this.isBooted = d6t.F18;
        this.isRunning = d6t.F18;
        this.raf = d6t.B3x;
        this.add = d6t.B3x;
        this.make = d6t.B3x;
        this.cache = d6t.B3x;
        this.input = d6t.B3x;
        this.load = d6t.B3x;
        this.math = d6t.B3x;
        this.net = d6t.B3x;
        this.scale = d6t.B3x;
        this.sound = d6t.B3x;
        this.stage = d6t.B3x;
        this.time = d6t.B3x;
        this.tweens = d6t.B3x;
        this.world = d6t.B3x;
        this.physics = d6t.B3x;
        this.rnd = d6t.B3x;
        this.device = d6t.B3x;
        this.camera = d6t.B3x;
        this.canvas = d6t.B3x;
        this.context = d6t.B3x;
        this.debug = d6t.B3x;
        this.particles = d6t.B3x;
        this.stepping = d6t.F18;
        this.pendingStep = d6t.F18;
        this.stepCount = d6t.W6;
        this.onPause = d6t.B3x;
        this.onResume = d6t.B3x;
        this.onBlur = d6t.B3x;
        this.onFocus = d6t.B3x;
        this._paused = d6t.F18;
        this._codePaused = d6t.F18;
        this._width = d6t.i23;
        this._height = d6t.h7f;
        if (arguments.length === d6t.A6 && typeof arguments[d6t.W6] === d6t.T7H) {
            this.parseConfig(arguments[d6t.W6]);
        } else {
            this.config = {
                enableDebug: d6t.s73
            };
            if (typeof t !== d6t.k43) {
                this._width = t;
            }
            if (typeof k !== d6t.k43) {
                this._height = k;
            }
            if (typeof j !== d6t.k43) {
                this.renderType = j;
            }
            if (typeof o !== d6t.k43) {
                this.parent = o;
            }
            if (typeof q !== d6t.k43) {
                this.transparent = q;
            }
            if (typeof m !== d6t.k43) {
                this.antialias = m;
            }
            this.rnd = new s5.RandomDataGenerator([(Date.now() * Math.random()).toString()]);
            this.state = new s5.StateManager(this, e);
        }
        var j5 = this;
        this._onBoot = function() {
            return j5.boot();
        };
        if (document.readyState === H5 || document.readyState === d6t.b5f) {
            window.setTimeout(this._onBoot, d6t.W6);
        } else if (typeof window.cordova !== d6t.k6f) {
            document.addEventListener(C5, this._onBoot, d6t.F18);
        } else {
            document.addEventListener(s9, this._onBoot, d6t.F18);
            window.addEventListener(L9, this._onBoot, d6t.F18);
        }
        return this;
    };
    s5.Game.prototype = {
        parseConfig: function(t) {
            var k = 'state',
                j = 'seed',
                o = 'physicsConfig',
                e = 'preserveDrawingBuffer',
                q = 'antialias',
                m = 'transparent',
                k5 = 'parent',
                C5 = 'renderer';
            this.config = t;
            if (typeof t[M7] === d6t.k43) {
                this.config.enableDebug = d6t.s73;
            }
            if (t[d6t.y1f]) {
                this._width = t[d6t.y1f];
            }
            if (t[d6t.I7H]) {
                this._height = t[d6t.I7H];
            }
            if (t[C5]) {
                this.renderType = t[C5];
            }
            if (t[k5]) {
                this.parent = t[k5];
            }
            if (t[m]) {
                this.transparent = t[m];
            }
            if (t[q]) {
                this.antialias = t[q];
            }
            if (t[e]) {
                this.preserveDrawingBuffer = t[e];
            }
            if (t[o]) {
                this.physicsConfig = t[o];
            }
            var H5 = [(Date.now() * Math.random()).toString()];
            if (t[j]) {
                H5 = t[j];
            }
            this.rnd = new s5.RandomDataGenerator(H5);
            var j5 = d6t.B3x;
            if (t[k]) {
                j5 = t[k];
            }
            this.state = new s5.StateManager(this, j5);
        },
        boot: function() {
            var t = 'forceSetTimeOut';
            if (this.isBooted) {
                return;
            }
            if (!document.body) {
                window.setTimeout(this._onBoot, d6t.X7x);
            } else {
                document.removeEventListener(s9, this._onBoot);
                window.removeEventListener(L9, this._onBoot);
                this.onPause = new s5.Signal();
                this.onResume = new s5.Signal();
                this.onBlur = new s5.Signal();
                this.onFocus = new s5.Signal();
                this.isBooted = d6t.s73;
                this.device = new s5.Device(this);
                this.math = s5.Math;
                this.scale = new s5.ScaleManager(this, this._width, this._height);
                this.stage = new s5.Stage(this);
                this.setUpRenderer();
                this.device.checkFullScreenSupport();
                this.world = new s5.World(this);
                this.add = new s5.GameObjectFactory(this);
                this.make = new s5.GameObjectCreator(this);
                this.cache = new s5.Cache(this);
                this.load = new s5.Loader(this);
                this.time = new s5.Time(this);
                this.tweens = new s5.TweenManager(this);
                this.input = new s5.Input(this);
                this.sound = new s5.SoundManager(this);
                this.physics = new s5.Physics(this, this.physicsConfig);
                this.particles = new s5.Particles(this);
                this.plugins = new s5.PluginManager(this);
                this.net = new s5.Net(this);
                this.time.boot();
                this.stage.boot();
                this.world.boot();
                this.scale.boot();
                this.input.boot();
                this.sound.boot();
                this.state.boot();
                if (this.config[M7]) {
                    this.debug = new s5.Utils.Debug(this);
                    this.debug.boot();
                }
                this.showDebugHeader();
                this.isRunning = d6t.s73;
                if (this.config && this.config[t]) {
                    this.raf = new s5.RequestAnimationFrame(this, this.config[t]);
                } else {
                    this.raf = new s5.RequestAnimationFrame(this, d6t.F18);
                }
                this.raf.start();
            }
        },
        showDebugHeader: function() {
            var t = ' | http://phaser.io',
                k = 'Phaser v',
                j = 'color: #959595; background: #fff',
                o = 'background: #ccb9f2',
                e = 'color: #ffffff; background: #43375b;',
                q = 'background: #625186',
                m = 'background: #7a66a3',
                k5 = ' http://phaser.io  %c %c \u2665%c\u2665%c\u2665 ',
                C5 = '  %c %c ',
                H5 = ' | ',
                j5 = ' | Pixi.js ',
                Y5 = '%c %c %c Phaser v',
                z5 = 'WebAudio',
                P5 = 'Headless',
                p5 = 'WebGL',
                w5 = 'HTML Audio',
                R5 = 'Canvas',
                r5 = s5.VERSION,
                T5 = R5,
                a5 = w5,
                x5 = d6t.A6;
            if (this.renderType === s5.WEBGL) {
                T5 = p5;
                x5++;
            } else if (this.renderType == s5.HEADLESS) {
                T5 = P5;
            }
            if (this.device.webAudio) {
                a5 = z5;
                x5++;
            }
            if (this.device.chrome) {
                var f5 = [Y5 + r5 + j5 + PIXI.VERSION + H5 + T5 + H5 + a5 + C5 + k5, m, q, e, q, o, q];
                for (var A5 = d6t.W6; A5 < d6t.B6; A5++) {
                    if (A5 < x5) {
                        f5.push(d6t.O28);
                    } else {
                        f5.push(j);
                    }
                }
                console.log.apply(console, f5);
            } else if (window[d6t.Q48]) {
                console.log(k + r5 + j5 + PIXI.VERSION + H5 + T5 + H5 + a5 + t);
            }
        },
        setUpRenderer: function() {
            var t = 'Phaser.Game - cannot create Canvas or WebGL context, aborting.',
                k = 'width: 100%; height: 100%',
                j = '-webkit-full-screen',
                o = 'canvasStyle',
                e = 'canvasID';
            if (this.config[e]) {
                this.canvas = s5.Canvas.create(this.width, this.height, this.config[e]);
            } else {
                this.canvas = s5.Canvas.create(this.width, this.height);
            }
            if (this.config[o]) {
                this.canvas.style = this.config[o];
            } else {
                this.canvas.style[j] = k;
            }
            if (this.device.cocoonJS) {
                if (this.renderType === s5.CANVAS) {
                    this.canvas.screencanvas = d6t.s73;
                } else {
                    this.canvas.screencanvas = d6t.F18;
                }
            }
            if (this.renderType === s5.HEADLESS || this.renderType === s5.CANVAS || (this.renderType === s5.AUTO && this.device.webGL === d6t.F18)) {
                if (this.device.canvas) {
                    if (this.renderType === s5.AUTO) {
                        this.renderType = s5.CANVAS;
                    }
                    this.renderer = new PIXI.CanvasRenderer(this.width, this.height, {
                        "view": this.canvas,
                        "transparent": this.transparent,
                        "resolution": d6t.A6,
                        "clearBeforeRender": d6t.s73
                    });
                    this.context = this.renderer.context;
                } else {
                    throw new Error(t);
                }
            } else {
                this.renderType = s5.WEBGL;
                this.renderer = new PIXI.WebGLRenderer(this.width, this.height, {
                    "view": this.canvas,
                    "transparent": this.transparent,
                    "resolution": d6t.A6,
                    "antialias": this.antialias,
                    "preserveDrawingBuffer": this.preserveDrawingBuffer
                });
                this.context = d6t.B3x;
            }
            if (this.renderType !== s5.HEADLESS) {
                this.stage.smoothed = this.antialias;
                s5.Canvas.addToDOM(this.canvas, this.parent, d6t.F18);
                s5.Canvas.setTouchAction(this.canvas);
            }
        },
        update: function(t) {
            this.time.update(t);
            if (!this._paused && !this.pendingStep) {
                if (this.stepping) {
                    this.pendingStep = d6t.s73;
                }
                this.scale.preUpdate();
                if (this.config[M7]) {
                    this.debug.preUpdate();
                }
                this.physics.preUpdate();
                this.state.preUpdate();
                this.plugins.preUpdate();
                this.stage.preUpdate();
                this.state.update();
                this.stage.update();
                this.tweens.update();
                this.sound.update();
                this.input.update();
                this.physics.update();
                this.particles.update();
                this.plugins.update();
                this.stage.postUpdate();
                this.plugins.postUpdate();
            } else {
                this.state.pauseUpdate();
                if (this.config[M7]) {
                    this.debug.preUpdate();
                }
            }
            if (this.renderType != s5.HEADLESS) {
                this.state.preRender();
                this.renderer.render(this.stage);
                this.plugins.render();
                this.state.render();
                this.plugins.postRender();
                if (this.device.cocoonJS && this.renderType === s5.CANVAS && this.stage.currentRenderOrderID === d6t.A6) {
                    this.context.fillRect(d6t.W6, d6t.W6, d6t.W6, d6t.W6);
                }
            }
        },
        enableStep: function() {
            this.stepping = d6t.s73;
            this.pendingStep = d6t.F18;
            this.stepCount = d6t.W6;
        },
        disableStep: function() {
            this.stepping = d6t.F18;
            this.pendingStep = d6t.F18;
        },
        step: function() {
            this.pendingStep = d6t.F18;
            this.stepCount++;
        },
        destroy: function() {
            this.raf.stop();
            this.state.destroy();
            this.sound.destroy();
            this.scale.destroy();
            this.stage.destroy();
            this.input.destroy();
            this.physics.destroy();
            this.state = d6t.B3x;
            this.cache = d6t.B3x;
            this.input = d6t.B3x;
            this.load = d6t.B3x;
            this.sound = d6t.B3x;
            this.stage = d6t.B3x;
            this.time = d6t.B3x;
            this.world = d6t.B3x;
            this.isBooted = d6t.F18;
            s5.Canvas.removeFromDOM(this.canvas);
        },
        gamePaused: function(t) {
            if (!this._paused) {
                this._paused = d6t.s73;
                this.time.gamePaused();
                this.sound.setMute();
                this.onPause.dispatch(t);
            }
        },
        gameResumed: function(t) {
            if (this._paused && !this._codePaused) {
                this._paused = d6t.F18;
                this.time.gameResumed();
                this.input.reset();
                this.sound.unsetMute();
                this.onResume.dispatch(t);
            }
        },
        focusLoss: function(t) {
            this.onBlur.dispatch(t);
            if (!this.stage.disableVisibilityChange) {
                this.gamePaused(t);
            }
        },
        focusGain: function(t) {
            this.onFocus.dispatch(t);
            if (!this.stage.disableVisibilityChange) {
                this.gameResumed(t);
            }
        }
    };
    s5.Game.prototype.constructor = s5.Game;
    Object.defineProperty(s5.Game.prototype, X8, {
        get: function() {
            return this._paused;
        },
        set: function(t) {
            if (t === d6t.s73) {
                if (this._paused === d6t.F18) {
                    this._paused = d6t.s73;
                    this.sound.setMute();
                    this.time.gamePaused();
                    this.onPause.dispatch(this);
                }
                this._codePaused = d6t.s73;
            } else {
                if (this._paused) {
                    this._paused = d6t.F18;
                    this.input.reset();
                    this.sound.unsetMute();
                    this.time.gameResumed();
                    this.onResume.dispatch(this);
                }
                this._codePaused = d6t.F18;
            }
        }
    });
    s5.Input = function(game) {
        this.game = game;
        this.hitCanvas = d6t.B3x;
        this.hitContext = d6t.B3x;
        this.moveCallbacks = [];
        this.moveCallback = d6t.B3x;
        this.moveCallbackContext = this;
        this.pollRate = d6t.W6;
        this.disabled = d6t.F18;
        this.multiInputOverride = s5.Input.MOUSE_TOUCH_COMBINE;
        this.position = d6t.B3x;
        this.speed = d6t.B3x;
        this.circle = d6t.B3x;
        this.scale = d6t.B3x;
        this.maxPointers = d6t.x7x;
        this.currentPointers = d6t.W6;
        this.tapRate = d6t.g7;
        this.doubleTapRate = d6t.C3x;
        this.holdRate = d6t.P43;
        this.justPressedRate = d6t.g7;
        this.justReleasedRate = d6t.g7;
        this.recordPointerHistory = d6t.F18;
        this.recordRate = d6t.a08;
        this.recordLimit = d6t.a08;
        this.pointer1 = d6t.B3x;
        this.pointer2 = d6t.B3x;
        this.pointer3 = d6t.B3x;
        this.pointer4 = d6t.B3x;
        this.pointer5 = d6t.B3x;
        this.pointer6 = d6t.B3x;
        this.pointer7 = d6t.B3x;
        this.pointer8 = d6t.B3x;
        this.pointer9 = d6t.B3x;
        this.pointer10 = d6t.B3x;
        this.activePointer = d6t.B3x;
        this.mousePointer = d6t.B3x;
        this.mouse = d6t.B3x;
        this.keyboard = d6t.B3x;
        this.touch = d6t.B3x;
        this.mspointer = d6t.B3x;
        this.gamepad = d6t.B3x;
        this.resetLocked = d6t.F18;
        this.onDown = d6t.B3x;
        this.onUp = d6t.B3x;
        this.onTap = d6t.B3x;
        this.onHold = d6t.B3x;
        this.minPriorityID = d6t.W6;
        this.interactiveItems = new s5.ArrayList();
        this._localPoint = new s5.Point();
        this._pollCounter = d6t.W6;
        this._oldPosition = d6t.B3x;
        this._x = d6t.W6;
        this._y = d6t.W6;
    };
    s5.Input.MOUSE_OVERRIDES_TOUCH = d6t.W6;
    s5.Input.TOUCH_OVERRIDES_MOUSE = d6t.A6;
    s5.Input.MOUSE_TOUCH_COMBINE = d6t.D6;
    s5.Input.prototype = {
        boot: function() {
            this.mousePointer = new s5.Pointer(this.game, d6t.W6);
            this.pointer1 = new s5.Pointer(this.game, d6t.A6);
            this.pointer2 = new s5.Pointer(this.game, d6t.D6);
            this.mouse = new s5.Mouse(this.game);
            this.keyboard = new s5.Keyboard(this.game);
            this.touch = new s5.Touch(this.game);
            this.mspointer = new s5.MSPointer(this.game);
            this.gamepad = new s5.Gamepad(this.game);
            this.onDown = new s5.Signal();
            this.onUp = new s5.Signal();
            this.onTap = new s5.Signal();
            this.onHold = new s5.Signal();
            this.scale = new s5.Point(d6t.A6, d6t.A6);
            this.speed = new s5.Point();
            this.position = new s5.Point();
            this._oldPosition = new s5.Point();
            this.circle = new s5.Circle(d6t.W6, d6t.W6, t9);
            this.activePointer = this.mousePointer;
            this.currentPointers = d6t.W6;
            this.hitCanvas = document.createElement(d6t.f3B);
            this.hitCanvas.width = d6t.A6;
            this.hitCanvas.height = d6t.A6;
            this.hitContext = this.hitCanvas.getContext(d6t.J8);
            this.mouse.start();
            this.keyboard.start();
            this.touch.start();
            this.mspointer.start();
            this.mousePointer.active = d6t.s73;
        },
        destroy: function() {
            this.mouse.stop();
            this.keyboard.stop();
            this.touch.stop();
            this.mspointer.stop();
            this.gamepad.stop();
            this.moveCallbacks = [];
        },
        addMoveCallback: function(t, k) {
            return this.moveCallbacks.push({
                callback: t,
                context: k
            }) - d6t.A6;
        },
        deleteMoveCallback: function(t) {
            if (this.moveCallbacks[t]) {
                this.moveCallbacks.splice(t, d6t.A6);
            }
        },
        addPointer: function() {
            var t = "You can only have 10 Pointer objects",
                k = d6t.W6;
            for (var j = d6t.x7x; j > d6t.W6; j--) {
                if (this[d6t.A4 + j] === d6t.B3x) {
                    k = j;
                }
            }
            if (k === d6t.W6) {
                console.warn(t);
                return d6t.B3x;
            } else {
                this[d6t.A4 + k] = new s5.Pointer(this.game, k);
                return this[d6t.A4 + k];
            }
        },
        update: function() {
            this.keyboard.update();
            if (this.pollRate > d6t.W6 && this._pollCounter < this.pollRate) {
                this._pollCounter++;
                return;
            }
            this.speed.x = this.position.x - this._oldPosition.x;
            this.speed.y = this.position.y - this._oldPosition.y;
            this._oldPosition.copyFrom(this.position);
            this.mousePointer.update();
            if (this.gamepad.active) {
                this.gamepad.update();
            }
            this.pointer1.update();
            this.pointer2.update();
            if (this.pointer3) {
                this.pointer3.update();
            }
            if (this.pointer4) {
                this.pointer4.update();
            }
            if (this.pointer5) {
                this.pointer5.update();
            }
            if (this.pointer6) {
                this.pointer6.update();
            }
            if (this.pointer7) {
                this.pointer7.update();
            }
            if (this.pointer8) {
                this.pointer8.update();
            }
            if (this.pointer9) {
                this.pointer9.update();
            }
            if (this.pointer10) {
                this.pointer10.update();
            }
            this._pollCounter = d6t.W6;
        },
        reset: function(t) {
            var k = 'inherit';
            if (!this.game.isBooted || this.resetLocked) {
                return;
            }
            if (typeof t === d6t.k43) {
                t = d6t.F18;
            }
            this.keyboard.reset(t);
            this.mousePointer.reset();
            this.gamepad.reset();
            for (var j = d6t.A6; j <= d6t.x7x; j++) {
                if (this[d6t.A4 + j]) {
                    this[d6t.A4 + j].reset();
                }
            }
            this.currentPointers = d6t.W6;
            if (this.game.canvas.style.cursor !== d6t.W9f) {
                this.game.canvas.style.cursor = k;
            }
            if (t) {
                this.onDown.dispose();
                this.onUp.dispose();
                this.onTap.dispose();
                this.onHold.dispose();
                this.onDown = new s5.Signal();
                this.onUp = new s5.Signal();
                this.onTap = new s5.Signal();
                this.onHold = new s5.Signal();
                this.moveCallbacks = [];
            }
            this._pollCounter = d6t.W6;
        },
        resetSpeed: function(t, k) {
            this._oldPosition.setTo(t, k);
            this.speed.setTo(d6t.W6, d6t.W6);
        },
        startPointer: function(t) {
            if (this.maxPointers < d6t.x7x && this.totalActivePointers == this.maxPointers) {
                return d6t.B3x;
            }
            if (this.pointer1.active === d6t.F18) {
                return this.pointer1.start(t);
            } else if (this.pointer2.active === d6t.F18) {
                return this.pointer2.start(t);
            } else {
                for (var k = d6t.B6; k <= d6t.x7x; k++) {
                    if (this[d6t.A4 + k] && this[d6t.A4 + k].active === d6t.F18) {
                        return this[d6t.A4 + k].start(t);
                    }
                }
            }
            return d6t.B3x;
        },
        updatePointer: function(t) {
            if (this.pointer1.active && this.pointer1.identifier == t.identifier) {
                return this.pointer1.move(t);
            } else if (this.pointer2.active && this.pointer2.identifier == t.identifier) {
                return this.pointer2.move(t);
            } else {
                for (var k = d6t.B6; k <= d6t.x7x; k++) {
                    if (this[d6t.A4 + k] && this[d6t.A4 + k].active && this[d6t.A4 + k].identifier == t.identifier) {
                        return this[d6t.A4 + k].move(t);
                    }
                }
            }
            return d6t.B3x;
        },
        stopPointer: function(t) {
            if (this.pointer1.active && this.pointer1.identifier == t.identifier) {
                return this.pointer1.stop(t);
            } else if (this.pointer2.active && this.pointer2.identifier == t.identifier) {
                return this.pointer2.stop(t);
            } else {
                for (var k = d6t.B6; k <= d6t.x7x; k++) {
                    if (this[d6t.A4 + k] && this[d6t.A4 + k].active && this[d6t.A4 + k].identifier == t.identifier) {
                        return this[d6t.A4 + k].stop(t);
                    }
                }
            }
            return d6t.B3x;
        },
        getPointer: function(t) {
            t = t || d6t.F18;
            if (this.pointer1.active == t) {
                return this.pointer1;
            } else if (this.pointer2.active == t) {
                return this.pointer2;
            } else {
                for (var k = d6t.B6; k <= d6t.x7x; k++) {
                    if (this[d6t.A4 + k] && this[d6t.A4 + k].active == t) {
                        return this[d6t.A4 + k];
                    }
                }
            }
            return d6t.B3x;
        },
        getPointerFromIdentifier: function(t) {
            if (this.pointer1.identifier === t) {
                return this.pointer1;
            } else if (this.pointer2.identifier === t) {
                return this.pointer2;
            } else {
                for (var k = d6t.B6; k <= d6t.x7x; k++) {
                    if (this[d6t.A4 + k] && this[d6t.A4 + k].identifier === t) {
                        return this[d6t.A4 + k];
                    }
                }
            }
            return d6t.B3x;
        },
        getPointerFromId: function(t) {
            if (this.pointer1.pointerId === t) {
                return this.pointer1;
            } else if (this.pointer2.pointerId === t) {
                return this.pointer2;
            } else {
                for (var k = d6t.B6; k <= d6t.x7x; k++) {
                    if (this[d6t.A4 + k] && this[d6t.A4 + k].pointerId === t) {
                        return this[d6t.A4 + k];
                    }
                }
            }
            return d6t.B3x;
        },
        getLocalPosition: function(t, k, j) {
            if (typeof j === d6t.k43) {
                j = new s5.Point();
            }
            var o = t.worldTransform,
                e = d6t.A6 / (o.a * o.d + o.c * -o.b);
            return j.setTo(o.d * e * k.x + -o.c * e * k.y + (o.ty * o.c - o.tx * o.d) * e, o.a * e * k.y + -o.b * e * k.x + (-o.ty * o.a + o.tx * o.b) * e);
        },
        hitTest: function(t, k, j) {
            if (!t.worldVisible) {
                return d6t.F18;
            }
            this.getLocalPosition(t, k, this._localPoint);
            j.copyFrom(this._localPoint);
            if (t.hitArea && t.hitArea.contains) {
                return (t.hitArea.contains(this._localPoint.x, this._localPoint.y));
            } else if (t instanceof PIXI.Sprite) {
                var o = t.texture.frame.width,
                    e = t.texture.frame.height,
                    q = -o * t.anchor.x;
                if (this._localPoint.x >= q && this._localPoint.x < q + o) {
                    var m = -e * t.anchor.y;
                    if (this._localPoint.y >= m && this._localPoint.y < m + e) {
                        return d6t.s73;
                    }
                }
            } else if (t instanceof s5.TileSprite) {
                var o = t.width,
                    e = t.height,
                    q = -o * t.anchor.x;
                if (this._localPoint.x >= q && this._localPoint.x < q + o) {
                    var m = -e * t.anchor.y;
                    if (this._localPoint.y >= m && this._localPoint.y < m + e) {
                        return d6t.s73;
                    }
                }
            } else if (t instanceof s5.Graphics) {
                for (var k5 = d6t.W6; k5 < t.graphicsData.length; k5++) {
                    var C5 = t.graphicsData[k5];
                    if (!C5.fill) {
                        continue;
                    }
                    if (C5.shape && C5.shape.contains(this._localPoint.x, this._localPoint.y)) {
                        return d6t.s73;
                    }
                }
            }
            for (var k5 = d6t.W6, H5 = t.children.length; k5 < H5; k5++) {
                if (this.hitTest(t.children[k5], k, j)) {
                    return d6t.s73;
                }
            }
            return d6t.F18;
        }
    };
    s5.Input.prototype.constructor = s5.Input;
    Object.defineProperty(s5.Input.prototype, d6t.m5f, {
        get: function() {
            return this._x;
        },
        set: function(t) {
            this._x = Math.floor(t);
        }
    });
    Object.defineProperty(s5.Input.prototype, d6t.w6f, {
        get: function() {
            return this._y;
        },
        set: function(t) {
            this._y = Math.floor(t);
        }
    });
    Object.defineProperty(s5.Input.prototype, l8, {
        get: function() {
            return (this.pollRate > d6t.W6 && this._pollCounter < this.pollRate);
        }
    });
    Object.defineProperty(s5.Input.prototype, e8, {
        get: function() {
            return d6t.x7x - this.currentPointers;
        }
    });
    Object.defineProperty(s5.Input.prototype, i8, {
        get: function() {
            this.currentPointers = d6t.W6;
            for (var t = d6t.A6; t <= d6t.x7x; t++) {
                if (this[d6t.A4 + t] && this[d6t.A4 + t].active) {
                    this.currentPointers++;
                }
            }
            return this.currentPointers;
        }
    });
    Object.defineProperty(s5.Input.prototype, m7, {
        get: function() {
            return this.game.camera.view.x + this.x;
        }
    });
    Object.defineProperty(s5.Input.prototype, q7, {
        get: function() {
            return this.game.camera.view.y + this.y;
        }
    });
    s5.Key = function(game, k) {
        var j = ((0x8D, 136.) > (0xD7, 7.80E1) ? (14.31E2, 2500) : (0x1B3, 133.3E1));
        this.game = game;
        this.enabled = d6t.s73;
        this.event = d6t.B3x;
        this.isDown = d6t.F18;
        this.isUp = d6t.s73;
        this.altKey = d6t.F18;
        this.ctrlKey = d6t.F18;
        this.shiftKey = d6t.F18;
        this.timeDown = d6t.W6;
        this.duration = d6t.W6;
        this.timeUp = -j;
        this.repeats = d6t.W6;
        this.keyCode = k;
        this.onDown = new s5.Signal();
        this.onHoldCallback = d6t.B3x;
        this.onHoldContext = d6t.B3x;
        this.onUp = new s5.Signal();
    };
    s5.Key.prototype = {
        update: function() {
            if (!this.enabled) {
                return;
            }
            if (this.isDown) {
                this.duration = this.game.time.now - this.timeDown;
                this.repeats++;
                if (this.onHoldCallback) {
                    this.onHoldCallback.call(this.onHoldContext, this);
                }
            }
        },
        processKeyDown: function(t) {
            if (!this.enabled) {
                return;
            }
            this.event = t;
            if (this.isDown) {
                return;
            }
            this.altKey = t.altKey;
            this.ctrlKey = t.ctrlKey;
            this.shiftKey = t.shiftKey;
            this.isDown = d6t.s73;
            this.isUp = d6t.F18;
            this.timeDown = this.game.time.now;
            this.duration = d6t.W6;
            this.repeats = d6t.W6;
            this.onDown.dispatch(this);
        },
        processKeyUp: function(t) {
            if (!this.enabled) {
                return;
            }
            this.event = t;
            if (this.isUp) {
                return;
            }
            this.isDown = d6t.F18;
            this.isUp = d6t.s73;
            this.timeUp = this.game.time.now;
            this.duration = this.game.time.now - this.timeDown;
            this.onUp.dispatch(this);
        },
        reset: function(t) {
            if (typeof t === d6t.k43) {
                t = d6t.s73;
            }
            this.isDown = d6t.F18;
            this.isUp = d6t.s73;
            this.timeUp = this.game.time.now;
            this.duration = d6t.W6;
            this.enabled = d6t.s73;
            if (t) {
                this.onDown.removeAll();
                this.onUp.removeAll();
                this.onHoldCallback = d6t.B3x;
                this.onHoldContext = d6t.B3x;
            }
        },
        justPressed: function(t) {
            if (typeof t === d6t.k6f) {
                t = d6t.I9x;
            }
            return (this.isDown && this.duration < t);
        },
        justReleased: function(t) {
            if (typeof t === d6t.k6f) {
                t = d6t.I9x;
            }
            return (!this.isDown && ((this.game.time.now - this.timeUp) < t));
        }
    };
    s5.Key.prototype.constructor = s5.Key;
    s5.Keyboard = function(game) {
        this.game = game;
        this.disabled = d6t.F18;
        this.event = d6t.B3x;
        this.pressEvent = d6t.B3x;
        this.callbackContext = this;
        this.onDownCallback = d6t.B3x;
        this.onPressCallback = d6t.B3x;
        this.onUpCallback = d6t.B3x;
        this._keys = [];
        this._capture = [];
        this._onKeyDown = d6t.B3x;
        this._onKeyPress = d6t.B3x;
        this._onKeyUp = d6t.B3x;
        this._i = d6t.W6;
        this._k = d6t.W6;
    };
    s5.Keyboard.prototype = {
        addCallbacks: function(t, k, j, o) {
            this.callbackContext = t;
            if (typeof k !== d6t.k43) {
                this.onDownCallback = k;
            }
            if (typeof j !== d6t.k43) {
                this.onUpCallback = j;
            }
            if (typeof o !== d6t.k43) {
                this.onPressCallback = o;
            }
        },
        addKey: function(t) {
            if (!this._keys[t]) {
                this._keys[t] = new s5.Key(this.game, t);
                this.addKeyCapture(t);
            }
            return this._keys[t];
        },
        removeKey: function(t) {
            if (this._keys[t]) {
                this._keys[t] = d6t.B3x;
                this.removeKeyCapture(t);
            }
        },
        createCursorKeys: function() {
            return {
                up: this.addKey(s5.Keyboard.UP),
                down: this.addKey(s5.Keyboard.DOWN),
                left: this.addKey(s5.Keyboard.LEFT),
                right: this.addKey(s5.Keyboard.RIGHT)
            };
        },
        start: function() {
            if (this.game.device.cocoonJS) {
                return;
            }
            if (this._onKeyDown !== d6t.B3x) {
                return;
            }
            var k = this;
            this._onKeyDown = function(t) {
                return k.processKeyDown(t);
            };
            this._onKeyUp = function(t) {
                return k.processKeyUp(t);
            };
            this._onKeyPress = function(t) {
                return k.processKeyPress(t);
            };
            window.addEventListener(Q7, this._onKeyDown, d6t.F18);
            window.addEventListener(E7, this._onKeyUp, d6t.F18);
            window.addEventListener(X7, this._onKeyPress, d6t.F18);
        },
        stop: function() {
            window.removeEventListener(Q7, this._onKeyDown);
            window.removeEventListener(E7, this._onKeyUp);
            window.removeEventListener(X7, this._onKeyPress);
            this._onKeyDown = d6t.B3x;
            this._onKeyUp = d6t.B3x;
            this._onKeyPress = d6t.B3x;
        },
        destroy: function() {
            this.stop();
            this.clearCaptures();
            this._keys.length = d6t.W6;
            this._i = d6t.W6;
        },
        addKeyCapture: function(t) {
            if (typeof t === d6t.T7H) {
                for (var k in t) {
                    this._capture[t[k]] = d6t.s73;
                }
            } else {
                this._capture[t] = d6t.s73;
            }
        },
        removeKeyCapture: function(t) {
            delete this._capture[t];
        },
        clearCaptures: function() {
            this._capture = {};
        },
        update: function() {
            this._i = this._keys.length;
            while (this._i--) {
                if (this._keys[this._i]) {
                    this._keys[this._i].update();
                }
            }
        },
        processKeyDown: function(t) {
            this.event = t;
            if (this.game.input.disabled || this.disabled) {
                return;
            }
            if (this._capture[t.keyCode]) {
                t.preventDefault();
            }
            if (!this._keys[t.keyCode]) {
                this._keys[t.keyCode] = new s5.Key(this.game, t.keyCode);
            }
            this._keys[t.keyCode].processKeyDown(t);
            this._k = t.keyCode;
            if (this.onDownCallback) {
                this.onDownCallback.call(this.callbackContext, t);
            }
        },
        processKeyPress: function(t) {
            this.pressEvent = t;
            if (this.game.input.disabled || this.disabled) {
                return;
            }
            if (this.onPressCallback) {
                this.onPressCallback.call(this.callbackContext, String.fromCharCode(t.charCode), t);
            }
        },
        processKeyUp: function(t) {
            this.event = t;
            if (this.game.input.disabled || this.disabled) {
                return;
            }
            if (this._capture[t.keyCode]) {
                t.preventDefault();
            }
            if (!this._keys[t.keyCode]) {
                this._keys[t.keyCode] = new s5.Key(this.game, t.keyCode);
            }
            this._keys[t.keyCode].processKeyUp(t);
            if (this.onUpCallback) {
                this.onUpCallback.call(this.callbackContext, t);
            }
        },
        reset: function(t) {
            if (typeof t === d6t.k43) {
                t = d6t.s73;
            }
            this.event = d6t.B3x;
            var k = this._keys.length;
            while (k--) {
                if (this._keys[k]) {
                    this._keys[k].reset(t);
                }
            }
        },
        justPressed: function(t, k) {
            if (typeof k === d6t.k43) {
                k = d6t.I9x;
            }
            if (this._keys[t]) {
                return this._keys[t].justPressed(k);
            } else {
                return d6t.F18;
            }
        },
        justReleased: function(t, k) {
            if (typeof k === d6t.k43) {
                k = d6t.I9x;
            }
            if (this._keys[t]) {
                return this._keys[t].justReleased(k);
            } else {
                return d6t.F18;
            }
        },
        isDown: function(t) {
            if (this._keys[t]) {
                return this._keys[t].isDown;
            }
            return d6t.F18;
        }
    };
    Object.defineProperty(s5.Keyboard.prototype, g8, {
        get: function() {
            if (this.event.charCode === d6t.z9x) {
                return d6t.I6x;
            } else {
                return String.fromCharCode(this.pressEvent.charCode);
            }
        }
    });
    Object.defineProperty(s5.Keyboard.prototype, S8, {
        get: function() {
            return this._keys[this._k];
        }
    });
    s5.Keyboard.prototype.constructor = s5.Keyboard;
    s5.Keyboard.A = d8.charCodeAt(d6t.W6);
    s5.Keyboard.B = v8.charCodeAt(d6t.W6);
    s5.Keyboard.C = N8.charCodeAt(d6t.W6);
    s5.Keyboard.D = U8.charCodeAt(d6t.W6);
    s5.Keyboard.E = M8.charCodeAt(d6t.W6);
    s5.Keyboard.F = u8.charCodeAt(d6t.W6);
    s5.Keyboard.G = D8.charCodeAt(d6t.W6);
    s5.Keyboard.H = A8.charCodeAt(d6t.W6);
    s5.Keyboard.I = d6t.h0x.charCodeAt(d6t.W6);
    s5.Keyboard.J = d6t.j5H.charCodeAt(d6t.W6);
    s5.Keyboard.K = o8.charCodeAt(d6t.W6);
    s5.Keyboard.L = d6t.d5H.charCodeAt(d6t.W6);
    s5.Keyboard.M = W8.charCodeAt(d6t.W6);
    s5.Keyboard.N = y8.charCodeAt(d6t.W6);
    s5.Keyboard.O = d6t.F6H.charCodeAt(d6t.W6);
    s5.Keyboard.P = f8.charCodeAt(d6t.W6);
    s5.Keyboard.Q = x8.charCodeAt(d6t.W6);
    s5.Keyboard.R = T8.charCodeAt(d6t.W6);
    s5.Keyboard.S = d6t.J4H.charCodeAt(d6t.W6);
    s5.Keyboard.T = d6t.m4H.charCodeAt(d6t.W6);
    s5.Keyboard.U = r8.charCodeAt(d6t.W6);
    s5.Keyboard.V = w8.charCodeAt(d6t.W6);
    s5.Keyboard.W = a8.charCodeAt(d6t.W6);
    s5.Keyboard.X = O8.charCodeAt(d6t.W6);
    s5.Keyboard.Y = R8.charCodeAt(d6t.W6);
    s5.Keyboard.Z = d6t.f7H.charCodeAt(d6t.W6);
    s5.Keyboard.ZERO = d6t.y3x.charCodeAt(d6t.W6);
    s5.Keyboard.ONE = d6t.u3x.charCodeAt(d6t.W6);
    s5.Keyboard.TWO = P8.charCodeAt(d6t.W6);
    s5.Keyboard.THREE = z8.charCodeAt(d6t.W6);
    s5.Keyboard.FOUR = Y8.charCodeAt(d6t.W6);
    s5.Keyboard.FIVE = V8.charCodeAt(d6t.W6);
    s5.Keyboard.SIX = j8.charCodeAt(d6t.W6);
    s5.Keyboard.SEVEN = H8.charCodeAt(d6t.W6);
    s5.Keyboard.EIGHT = C8.charCodeAt(d6t.W6);
    s5.Keyboard.NINE = L8.charCodeAt(d6t.W6);
    s5.Keyboard.NUMPAD_0 = t8;
    s5.Keyboard.NUMPAD_1 = m9;
    s5.Keyboard.NUMPAD_2 = h9;
    s5.Keyboard.NUMPAD_3 = Q9;
    s5.Keyboard.NUMPAD_4 = d6t.a08;
    s5.Keyboard.NUMPAD_5 = b9;
    s5.Keyboard.NUMPAD_6 = E9;
    s5.Keyboard.NUMPAD_7 = I9;
    s5.Keyboard.NUMPAD_8 = X9;
    s5.Keyboard.NUMPAD_9 = l9;
    s5.Keyboard.NUMPAD_MULTIPLY = e9;
    s5.Keyboard.NUMPAD_ADD = i9;
    s5.Keyboard.NUMPAD_ENTER = n9;
    s5.Keyboard.NUMPAD_SUBTRACT = Z9;
    s5.Keyboard.NUMPAD_DECIMAL = S9;
    s5.Keyboard.NUMPAD_DIVIDE = d9;
    s5.Keyboard.F1 = v9;
    s5.Keyboard.F2 = G9;
    s5.Keyboard.F3 = J9;
    s5.Keyboard.F4 = N9;
    s5.Keyboard.F5 = M9;
    s5.Keyboard.F6 = u9;
    s5.Keyboard.F7 = D9;
    s5.Keyboard.F8 = A9;
    s5.Keyboard.F9 = o9;
    s5.Keyboard.F10 = W9;
    s5.Keyboard.F11 = y9;
    s5.Keyboard.F12 = f9;
    s5.Keyboard.F13 = x9;
    s5.Keyboard.F14 = T9;
    s5.Keyboard.F15 = X6;
    s5.Keyboard.COLON = O5;
    s5.Keyboard.EQUALS = G7;
    s5.Keyboard.UNDERSCORE = N7;
    s5.Keyboard.QUESTION_MARK = D7;
    s5.Keyboard.TILDE = M4;
    s5.Keyboard.OPEN_BRACKET = r3;
    s5.Keyboard.BACKWARD_SLASH = y4;
    s5.Keyboard.CLOSED_BRACKET = r7;
    s5.Keyboard.QUOTES = A7;
    s5.Keyboard.BACKSPACE = d6t.d6;
    s5.Keyboard.TAB = d6t.S6;
    s5.Keyboard.CLEAR = d6t.W7x;
    s5.Keyboard.ENTER = d6t.o7x;
    s5.Keyboard.SHIFT = d6t.M7x;
    s5.Keyboard.CONTROL = d6t.U7x;
    s5.Keyboard.ALT = d6t.N7x;
    s5.Keyboard.CAPS_LOCK = d6t.X7x;
    s5.Keyboard.ESC = e4;
    s5.Keyboard.SPACEBAR = d6t.z9x;
    s5.Keyboard.PAGE_UP = d6t.p9x;
    s5.Keyboard.PAGE_DOWN = l6;
    s5.Keyboard.END = d6t.O9x;
    s5.Keyboard.HOME = G4;
    s5.Keyboard.LEFT = i4;
    s5.Keyboard.UP = n4;
    s5.Keyboard.RIGHT = Z4;
    s5.Keyboard.DOWN = d6t.B9x;
    s5.Keyboard.INSERT = B7;
    s5.Keyboard.DELETE = U7;
    s5.Keyboard.HELP = t7;
    s5.Keyboard.NUM_LOCK = k3;
    s5.Keyboard.PLUS = o7;
    s5.Keyboard.MINUS = B7;
    s5.Mouse = function(game) {
        this.game = game;
        this.callbackContext = this.game;
        this.mouseDownCallback = d6t.B3x;
        this.mouseMoveCallback = d6t.B3x;
        this.mouseUpCallback = d6t.B3x;
        this.mouseOutCallback = d6t.B3x;
        this.mouseOverCallback = d6t.B3x;
        this.mouseWheelCallback = d6t.B3x;
        this.capture = d6t.F18;
        this.button = -d6t.A6;
        this.wheelDelta = d6t.W6;
        this.disabled = d6t.F18;
        this.locked = d6t.F18;
        this.stopOnGameOut = d6t.F18;
        this.pointerLock = new s5.Signal();
        this.event = d6t.B3x;
        this._onMouseDown = d6t.B3x;
        this._onMouseMove = d6t.B3x;
        this._onMouseUp = d6t.B3x;
        this._onMouseOut = d6t.B3x;
        this._onMouseOver = d6t.B3x;
        this._onMouseWheel = d6t.B3x;
    };
    s5.Mouse.NO_BUTTON = -d6t.A6;
    s5.Mouse.LEFT_BUTTON = d6t.W6;
    s5.Mouse.MIDDLE_BUTTON = d6t.A6;
    s5.Mouse.RIGHT_BUTTON = d6t.D6;
    s5.Mouse.WHEEL_UP = d6t.A6;
    s5.Mouse.WHEEL_DOWN = -d6t.A6;
    s5.Mouse.prototype = {
        start: function() {
            if (this.game.device.android && this.game.device.chrome === d6t.F18) {
                return;
            }
            if (this._onMouseDown !== d6t.B3x) {
                return;
            }
            var k = this;
            this._onMouseDown = function(t) {
                return k.onMouseDown(t);
            };
            this._onMouseMove = function(t) {
                return k.onMouseMove(t);
            };
            this._onMouseUp = function(t) {
                return k.onMouseUp(t);
            };
            this._onMouseUpGlobal = function(t) {
                return k.onMouseUpGlobal(t);
            };
            this._onMouseOut = function(t) {
                return k.onMouseOut(t);
            };
            this._onMouseOver = function(t) {
                return k.onMouseOver(t);
            };
            this._onMouseWheel = function(t) {
                return k.onMouseWheel(t);
            };
            this.game.canvas.addEventListener(d6t.e9x, this._onMouseDown, d6t.s73);
            this.game.canvas.addEventListener(u6, this._onMouseMove, d6t.s73);
            this.game.canvas.addEventListener(q5, this._onMouseUp, d6t.s73);
            if (!this.game.device.cocoonJS) {
                window.addEventListener(q5, this._onMouseUpGlobal, d6t.s73);
                this.game.canvas.addEventListener(L6, this._onMouseOver, d6t.s73);
                this.game.canvas.addEventListener(g6, this._onMouseOut, d6t.s73);
                this.game.canvas.addEventListener(B3, this._onMouseWheel, d6t.s73);
                this.game.canvas.addEventListener(d6t.A3B, this._onMouseWheel, d6t.s73);
            }
        },
        onMouseDown: function(t) {
            this.event = t;
            if (this.capture) {
                t.preventDefault();
            }
            this.button = t.button;
            if (this.mouseDownCallback) {
                this.mouseDownCallback.call(this.callbackContext, t);
            }
            if (this.game.input.disabled || this.disabled) {
                return;
            }
            t[x6] = d6t.W6;
            this.game.input.mousePointer.start(t);
        },
        onMouseMove: function(t) {
            this.event = t;
            if (this.capture) {
                t.preventDefault();
            }
            if (this.mouseMoveCallback) {
                this.mouseMoveCallback.call(this.callbackContext, t);
            }
            if (this.game.input.disabled || this.disabled) {
                return;
            }
            t[x6] = d6t.W6;
            this.game.input.mousePointer.move(t);
        },
        onMouseUp: function(t) {
            this.event = t;
            if (this.capture) {
                t.preventDefault();
            }
            this.button = s5.Mouse.NO_BUTTON;
            if (this.mouseUpCallback) {
                this.mouseUpCallback.call(this.callbackContext, t);
            }
            if (this.game.input.disabled || this.disabled) {
                return;
            }
            t[x6] = d6t.W6;
            this.game.input.mousePointer.stop(t);
        },
        onMouseUpGlobal: function(t) {
            if (!this.game.input.mousePointer.withinGame) {
                this.button = s5.Mouse.NO_BUTTON;
                if (this.mouseUpCallback) {
                    this.mouseUpCallback.call(this.callbackContext, t);
                }
                t[x6] = d6t.W6;
                this.game.input.mousePointer.stop(t);
            }
        },
        onMouseOut: function(t) {
            this.event = t;
            if (this.capture) {
                t.preventDefault();
            }
            this.game.input.mousePointer.withinGame = d6t.F18;
            if (this.mouseOutCallback) {
                this.mouseOutCallback.call(this.callbackContext, t);
            }
            if (this.game.input.disabled || this.disabled) {
                return;
            }
            if (this.stopOnGameOut) {
                t[x6] = d6t.W6;
                this.game.input.mousePointer.stop(t);
            }
        },
        onMouseWheel: function(t) {
            this.event = t;
            if (this.capture) {
                t.preventDefault();
            }
            this.wheelDelta = Math.max(-d6t.A6, Math.min(d6t.A6, (t.wheelDelta || -t.detail)));
            if (this.mouseWheelCallback) {
                this.mouseWheelCallback.call(this.callbackContext, t);
            }
        },
        onMouseOver: function(t) {
            this.event = t;
            if (this.capture) {
                t.preventDefault();
            }
            this.game.input.mousePointer.withinGame = d6t.s73;
            if (this.mouseOverCallback) {
                this.mouseOverCallback.call(this.callbackContext, t);
            }
            if (this.game.input.disabled || this.disabled) {
                return;
            }
        },
        requestPointerLock: function() {
            if (this.game.device.pointerLock) {
                var k = this.game.canvas;
                k.requestPointerLock = k.requestPointerLock || k.mozRequestPointerLock || k.webkitRequestPointerLock;
                k.requestPointerLock();
                var j = this;
                this._pointerLockChange = function(t) {
                    return j.pointerLockChange(t);
                };
                document.addEventListener(c4, this._pointerLockChange, d6t.s73);
                document.addEventListener(u3, this._pointerLockChange, d6t.s73);
                document.addEventListener(A3, this._pointerLockChange, d6t.s73);
            }
        },
        pointerLockChange: function(t) {
            var k = this.game.canvas;
            if (document.pointerLockElement === k || document.mozPointerLockElement === k || document.webkitPointerLockElement === k) {
                this.locked = d6t.s73;
                this.pointerLock.dispatch(d6t.s73, t);
            } else {
                this.locked = d6t.F18;
                this.pointerLock.dispatch(d6t.F18, t);
            }
        },
        releasePointerLock: function() {
            document.exitPointerLock = document.exitPointerLock || document.mozExitPointerLock || document.webkitExitPointerLock;
            document.exitPointerLock();
            document.removeEventListener(c4, this._pointerLockChange, d6t.s73);
            document.removeEventListener(u3, this._pointerLockChange, d6t.s73);
            document.removeEventListener(A3, this._pointerLockChange, d6t.s73);
        },
        stop: function() {
            this.game.canvas.removeEventListener(d6t.e9x, this._onMouseDown, d6t.s73);
            this.game.canvas.removeEventListener(u6, this._onMouseMove, d6t.s73);
            this.game.canvas.removeEventListener(q5, this._onMouseUp, d6t.s73);
            this.game.canvas.removeEventListener(L6, this._onMouseOver, d6t.s73);
            this.game.canvas.removeEventListener(g6, this._onMouseOut, d6t.s73);
            this.game.canvas.removeEventListener(B3, this._onMouseWheel, d6t.s73);
            this.game.canvas.removeEventListener(d6t.A3B, this._onMouseWheel, d6t.s73);
            window.removeEventListener(q5, this._onMouseUpGlobal, d6t.s73);
            document.removeEventListener(c4, this._pointerLockChange, d6t.s73);
            document.removeEventListener(u3, this._pointerLockChange, d6t.s73);
            document.removeEventListener(A3, this._pointerLockChange, d6t.s73);
        }
    };
    s5.Mouse.prototype.constructor = s5.Mouse;
    s5.MSPointer = function(game) {
        this.game = game;
        this.callbackContext = this.game;
        this.disabled = d6t.F18;
        this._onMSPointerDown = d6t.B3x;
        this._onMSPointerMove = d6t.B3x;
        this._onMSPointerUp = d6t.B3x;
    };
    s5.MSPointer.prototype = {
        start: function() {
            var k = '-ms-touch-action',
                j = '-ms-content-zooming';
            if (this._onMSPointerDown !== d6t.B3x) {
                return;
            }
            var o = this;
            if (this.game.device.mspointer) {
                this._onMSPointerDown = function(t) {
                    return o.onPointerDown(t);
                };
                this._onMSPointerMove = function(t) {
                    return o.onPointerMove(t);
                };
                this._onMSPointerUp = function(t) {
                    return o.onPointerUp(t);
                };
                this.game.canvas.addEventListener(G6, this._onMSPointerDown, d6t.F18);
                this.game.canvas.addEventListener(w7, this._onMSPointerMove, d6t.F18);
                this.game.canvas.addEventListener(O7, this._onMSPointerUp, d6t.F18);
                this.game.canvas.addEventListener(R7, this._onMSPointerDown, d6t.F18);
                this.game.canvas.addEventListener(p7, this._onMSPointerMove, d6t.F18);
                this.game.canvas.addEventListener(P7, this._onMSPointerUp, d6t.F18);
                this.game.canvas.style[j] = d6t.W9f;
                this.game.canvas.style[k] = d6t.W9f;
            }
        },
        onPointerDown: function(t) {
            if (this.game.input.disabled || this.disabled) {
                return;
            }
            t.preventDefault();
            t.identifier = t.pointerId;
            this.game.input.startPointer(t);
        },
        onPointerMove: function(t) {
            if (this.game.input.disabled || this.disabled) {
                return;
            }
            t.preventDefault();
            t.identifier = t.pointerId;
            this.game.input.updatePointer(t);
        },
        onPointerUp: function(t) {
            if (this.game.input.disabled || this.disabled) {
                return;
            }
            t.preventDefault();
            t.identifier = t.pointerId;
            this.game.input.stopPointer(t);
        },
        stop: function() {
            this.game.canvas.removeEventListener(G6, this._onMSPointerDown);
            this.game.canvas.removeEventListener(w7, this._onMSPointerMove);
            this.game.canvas.removeEventListener(O7, this._onMSPointerUp);
            this.game.canvas.removeEventListener(R7, this._onMSPointerDown);
            this.game.canvas.removeEventListener(p7, this._onMSPointerMove);
            this.game.canvas.removeEventListener(P7, this._onMSPointerUp);
        }
    };
    s5.MSPointer.prototype.constructor = s5.MSPointer;
    s5.Pointer = function(game, k) {
        this.game = game;
        this.id = k;
        this.type = s5.POINTER;
        this.exists = d6t.s73;
        this.identifier = d6t.W6;
        this.pointerId = d6t.B3x;
        this.target = d6t.B3x;
        this.button = d6t.B3x;
        this._holdSent = d6t.F18;
        this._history = [];
        this._nextDrop = d6t.W6;
        this._stateReset = d6t.F18;
        this.withinGame = d6t.F18;
        this.clientX = -d6t.A6;
        this.clientY = -d6t.A6;
        this.pageX = -d6t.A6;
        this.pageY = -d6t.A6;
        this.screenX = -d6t.A6;
        this.screenY = -d6t.A6;
        this.rawMovementX = d6t.W6;
        this.rawMovementY = d6t.W6;
        this.movementX = d6t.W6;
        this.movementY = d6t.W6;
        this.x = -d6t.A6;
        this.y = -d6t.A6;
        this.isMouse = d6t.F18;
        this.isDown = d6t.F18;
        this.isUp = d6t.s73;
        this.timeDown = d6t.W6;
        this.timeUp = d6t.W6;
        this.previousTapTime = d6t.W6;
        this.totalTouches = d6t.W6;
        this.msSinceLastClick = Number.MAX_VALUE;
        this.targetObject = d6t.B3x;
        this.active = d6t.F18;
        this.dirty = d6t.F18;
        this.position = new s5.Point();
        this.positionDown = new s5.Point();
        this.positionUp = new s5.Point();
        this.circle = new s5.Circle(d6t.W6, d6t.W6, t9);
        if (k === d6t.W6) {
            this.isMouse = d6t.s73;
        }
    };
    s5.Pointer.prototype = {
        start: function(t) {
            var k = 'pointerId';
            if (t[k]) {
                this.pointerId = t.pointerId;
            }
            this.identifier = t.identifier;
            this.target = t.target;
            if (typeof t.button !== d6t.k43) {
                this.button = t.button;
            }
            this._history = [];
            this.active = d6t.s73;
            this.withinGame = d6t.s73;
            this.isDown = d6t.s73;
            this.isUp = d6t.F18;
            this.dirty = d6t.F18;
            this.msSinceLastClick = this.game.time.now - this.timeDown;
            this.timeDown = this.game.time.now;
            this._holdSent = d6t.F18;
            this.move(t, d6t.s73);
            this.positionDown.setTo(this.x, this.y);
            if (this.game.input.multiInputOverride === s5.Input.MOUSE_OVERRIDES_TOUCH || this.game.input.multiInputOverride === s5.Input.MOUSE_TOUCH_COMBINE || (this.game.input.multiInputOverride === s5.Input.TOUCH_OVERRIDES_MOUSE && this.game.input.currentPointers === d6t.W6)) {
                this.game.input.x = this.x;
                this.game.input.y = this.y;
                this.game.input.position.setTo(this.x, this.y);
                this.game.input.onDown.dispatch(this, t);
                this.game.input.resetSpeed(this.x, this.y);
            }
            this._stateReset = d6t.F18;
            this.totalTouches++;
            if (!this.isMouse) {
                this.game.input.currentPointers++;
            }
            if (this.targetObject !== d6t.B3x) {
                this.targetObject._touchedHandler(this);
            }
            return this;
        },
        update: function() {
            if (this.active) {
                if (this.dirty) {
                    if (this.game.input.interactiveItems.total > d6t.W6) {
                        this.processInteractiveObjects(d6t.s73);
                    }
                    this.dirty = d6t.F18;
                }
                if (this._holdSent === d6t.F18 && this.duration >= this.game.input.holdRate) {
                    if (this.game.input.multiInputOverride == s5.Input.MOUSE_OVERRIDES_TOUCH || this.game.input.multiInputOverride == s5.Input.MOUSE_TOUCH_COMBINE || (this.game.input.multiInputOverride == s5.Input.TOUCH_OVERRIDES_MOUSE && this.game.input.currentPointers === d6t.W6)) {
                        this.game.input.onHold.dispatch(this);
                    }
                    this._holdSent = d6t.s73;
                }
                if (this.game.input.recordPointerHistory && this.game.time.now >= this._nextDrop) {
                    this._nextDrop = this.game.time.now + this.game.input.recordRate;
                    this._history.push({
                        x: this.position.x,
                        y: this.position.y
                    });
                    if (this._history.length > this.game.input.recordLimit) {
                        this._history.shift();
                    }
                }
            }
        },
        move: function(t, k) {
            if (this.game.input.pollLocked) {
                return;
            }
            if (typeof k === d6t.k43) {
                k = d6t.F18;
            }
            if (typeof t.button !== d6t.k43) {
                this.button = t.button;
            }
            this.clientX = t.clientX;
            this.clientY = t.clientY;
            this.pageX = t.pageX;
            this.pageY = t.pageY;
            this.screenX = t.screenX;
            this.screenY = t.screenY;
            if (this.isMouse && this.game.input.mouse.locked && !k) {
                this.rawMovementX = t.movementX || t.mozMovementX || t.webkitMovementX || d6t.W6;
                this.rawMovementY = t.movementY || t.mozMovementY || t.webkitMovementY || d6t.W6;
                this.movementX += this.rawMovementX;
                this.movementY += this.rawMovementY;
            }
            this.x = (this.pageX - this.game.scale.offset.x) * this.game.input.scale.x;
            this.y = (this.pageY - this.game.scale.offset.y) * this.game.input.scale.y;
            this.position.setTo(this.x, this.y);
            this.circle.x = this.x;
            this.circle.y = this.y;
            if (this.game.input.multiInputOverride === s5.Input.MOUSE_OVERRIDES_TOUCH || this.game.input.multiInputOverride === s5.Input.MOUSE_TOUCH_COMBINE || (this.game.input.multiInputOverride === s5.Input.TOUCH_OVERRIDES_MOUSE && this.game.input.currentPointers === d6t.W6)) {
                this.game.input.activePointer = this;
                this.game.input.x = this.x;
                this.game.input.y = this.y;
                this.game.input.position.setTo(this.game.input.x, this.game.input.y);
                this.game.input.circle.x = this.game.input.x;
                this.game.input.circle.y = this.game.input.y;
            }
            this.withinGame = this.game.scale.bounds.contains(this.pageX, this.pageY);
            if (this.game.paused) {
                return this;
            }
            var j = this.game.input.moveCallbacks.length;
            while (j--) {
                this.game.input.moveCallbacks[j].callback.call(this.game.input.moveCallbacks[j].context, this, this.x, this.y, k);
            }
            if (this.targetObject !== d6t.B3x && this.targetObject.isDragged === d6t.s73) {
                if (this.targetObject.update(this) === d6t.F18) {
                    this.targetObject = d6t.B3x;
                }
            } else if (this.game.input.interactiveItems.total > d6t.W6) {
                this.processInteractiveObjects(k);
            }
            return this;
        },
        processInteractiveObjects: function(t) {
            var k = 'checked';
            this.game.input.interactiveItems.setAll(k, d6t.F18);
            this._highestRenderOrderID = Number.MAX_SAFE_INTEGER;
            this._highestRenderObject = d6t.B3x;
            this._highestInputPriorityID = -d6t.A6;
            var j = this.game.input.interactiveItems.first;
            do {
                if (j && j.validForInput(this._highestInputPriorityID, this._highestRenderOrderID, d6t.F18)) {
                    j.checked = d6t.s73;
                    if ((t && j.checkPointerDown(this, d6t.s73)) || (!t && j.checkPointerOver(this, d6t.s73))) {
                        this._highestRenderOrderID = j.sprite._cache[d6t.B6];
                        this._highestInputPriorityID = j.priorityID;
                        this._highestRenderObject = j;
                    }
                }
                j = this.game.input.interactiveItems.next;
            } while (j !== d6t.B3x);
            var j = this.game.input.interactiveItems.first;
            do {
                if (j && !j.checked && j.validForInput(this._highestInputPriorityID, this._highestRenderOrderID, d6t.s73)) {
                    if ((t && j.checkPointerDown(this, d6t.F18)) || (!t && j.checkPointerOver(this, d6t.F18))) {
                        this._highestRenderOrderID = j.sprite._cache[d6t.B6];
                        this._highestInputPriorityID = j.priorityID;
                        this._highestRenderObject = j;
                    }
                }
                j = this.game.input.interactiveItems.next;
            } while (j !== d6t.B3x);
            if (this._highestRenderObject === d6t.B3x) {
                if (this.targetObject) {
                    this.targetObject._pointerOutHandler(this);
                    this.targetObject = d6t.B3x;
                }
            } else {
                if (this.targetObject === d6t.B3x) {
                    this.targetObject = this._highestRenderObject;
                    this._highestRenderObject._pointerOverHandler(this);
                } else {
                    if (this.targetObject === this._highestRenderObject) {
                        if (this._highestRenderObject.update(this) === d6t.F18) {
                            this.targetObject = d6t.B3x;
                        }
                    } else {
                        this.targetObject._pointerOutHandler(this);
                        this.targetObject = this._highestRenderObject;
                        this.targetObject._pointerOverHandler(this);
                    }
                }
            }
            return (this.targetObject !== d6t.B3x);
        },
        leave: function(t) {
            this.withinGame = d6t.F18;
            this.move(t, d6t.F18);
        },
        stop: function(t) {
            var k = '_releasedHandler';
            if (this._stateReset) {
                t.preventDefault();
                return;
            }
            this.timeUp = this.game.time.now;
            if (this.game.input.multiInputOverride === s5.Input.MOUSE_OVERRIDES_TOUCH || this.game.input.multiInputOverride === s5.Input.MOUSE_TOUCH_COMBINE || (this.game.input.multiInputOverride === s5.Input.TOUCH_OVERRIDES_MOUSE && this.game.input.currentPointers === d6t.W6)) {
                this.game.input.onUp.dispatch(this, t);
                if (this.duration >= d6t.W6 && this.duration <= this.game.input.tapRate) {
                    if (this.timeUp - this.previousTapTime < this.game.input.doubleTapRate) {
                        this.game.input.onTap.dispatch(this, d6t.s73);
                    } else {
                        this.game.input.onTap.dispatch(this, d6t.F18);
                    }
                    this.previousTapTime = this.timeUp;
                }
            }
            if (this.id > d6t.W6) {
                this.active = d6t.F18;
            }
            this.withinGame = d6t.F18;
            this.isDown = d6t.F18;
            this.isUp = d6t.s73;
            this.pointerId = d6t.B3x;
            this.identifier = d6t.B3x;
            this.positionUp.setTo(this.x, this.y);
            if (this.isMouse === d6t.F18) {
                this.game.input.currentPointers--;
            }
            this.game.input.interactiveItems.callAll(k, this);
            this.targetObject = d6t.B3x;
            return this;
        },
        justPressed: function(t) {
            t = t || this.game.input.justPressedRate;
            return (this.isDown === d6t.s73 && (this.timeDown + t) > this.game.time.now);
        },
        justReleased: function(t) {
            t = t || this.game.input.justReleasedRate;
            return (this.isUp === d6t.s73 && (this.timeUp + t) > this.game.time.now);
        },
        reset: function() {
            if (this.isMouse === d6t.F18) {
                this.active = d6t.F18;
            }
            this.pointerId = d6t.B3x;
            this.identifier = d6t.B3x;
            this.dirty = d6t.F18;
            this.isDown = d6t.F18;
            this.isUp = d6t.s73;
            this.totalTouches = d6t.W6;
            this._holdSent = d6t.F18;
            this._history.length = d6t.W6;
            this._stateReset = d6t.s73;
            if (this.targetObject) {
                this.targetObject._releasedHandler(this);
            }
            this.targetObject = d6t.B3x;
        },
        resetMovement: function() {
            this.movementX = d6t.W6;
            this.movementY = d6t.W6;
        }
    };
    s5.Pointer.prototype.constructor = s5.Pointer;
    Object.defineProperty(s5.Pointer.prototype, w4, {
        get: function() {
            if (this.isUp) {
                return -d6t.A6;
            }
            return this.game.time.now - this.timeDown;
        }
    });
    Object.defineProperty(s5.Pointer.prototype, m7, {
        get: function() {
            return this.game.world.camera.x + this.x;
        }
    });
    Object.defineProperty(s5.Pointer.prototype, q7, {
        get: function() {
            return this.game.world.camera.y + this.y;
        }
    });
    s5.Touch = function(game) {
        this.game = game;
        this.disabled = d6t.F18;
        this.callbackContext = this.game;
        this.touchStartCallback = d6t.B3x;
        this.touchMoveCallback = d6t.B3x;
        this.touchEndCallback = d6t.B3x;
        this.touchEnterCallback = d6t.B3x;
        this.touchLeaveCallback = d6t.B3x;
        this.touchCancelCallback = d6t.B3x;
        this.preventDefault = d6t.s73;
        this.event = d6t.B3x;
        this._onTouchStart = d6t.B3x;
        this._onTouchMove = d6t.B3x;
        this._onTouchEnd = d6t.B3x;
        this._onTouchEnter = d6t.B3x;
        this._onTouchLeave = d6t.B3x;
        this._onTouchCancel = d6t.B3x;
        this._onTouchMove = d6t.B3x;
    };
    s5.Touch.prototype = {
        start: function() {
            if (this._onTouchStart !== d6t.B3x) {
                return;
            }
            var k = this;
            if (this.game.device.touch) {
                this._onTouchStart = function(t) {
                    return k.onTouchStart(t);
                };
                this._onTouchMove = function(t) {
                    return k.onTouchMove(t);
                };
                this._onTouchEnd = function(t) {
                    return k.onTouchEnd(t);
                };
                this._onTouchEnter = function(t) {
                    return k.onTouchEnter(t);
                };
                this._onTouchLeave = function(t) {
                    return k.onTouchLeave(t);
                };
                this._onTouchCancel = function(t) {
                    return k.onTouchCancel(t);
                };
                this.game.canvas.addEventListener(d6t.d3H, this._onTouchStart, d6t.F18);
                this.game.canvas.addEventListener(Z3, this._onTouchMove, d6t.F18);
                this.game.canvas.addEventListener(c3, this._onTouchEnd, d6t.F18);
                this.game.canvas.addEventListener(m3, this._onTouchCancel, d6t.F18);
                if (!this.game.device.cocoonJS) {
                    this.game.canvas.addEventListener(q3, this._onTouchEnter, d6t.F18);
                    this.game.canvas.addEventListener(Q3, this._onTouchLeave, d6t.F18);
                }
            }
        },
        consumeDocumentTouches: function() {
            this._documentTouchMove = function(t) {
                t.preventDefault();
            };
            document.addEventListener(Z3, this._documentTouchMove, d6t.F18);
        },
        onTouchStart: function(t) {
            this.event = t;
            if (this.touchStartCallback) {
                this.touchStartCallback.call(this.callbackContext, t);
            }
            if (this.game.input.disabled || this.disabled) {
                return;
            }
            if (this.preventDefault) {
                t.preventDefault();
            }
            for (var k = d6t.W6; k < t.changedTouches.length; k++) {
                this.game.input.startPointer(t.changedTouches[k]);
            }
        },
        onTouchCancel: function(t) {
            this.event = t;
            if (this.touchCancelCallback) {
                this.touchCancelCallback.call(this.callbackContext, t);
            }
            if (this.game.input.disabled || this.disabled) {
                return;
            }
            if (this.preventDefault) {
                t.preventDefault();
            }
            for (var k = d6t.W6; k < t.changedTouches.length; k++) {
                this.game.input.stopPointer(t.changedTouches[k]);
            }
        },
        onTouchEnter: function(t) {
            this.event = t;
            if (this.touchEnterCallback) {
                this.touchEnterCallback.call(this.callbackContext, t);
            }
            if (this.game.input.disabled || this.disabled) {
                return;
            }
            if (this.preventDefault) {
                t.preventDefault();
            }
        },
        onTouchLeave: function(t) {
            this.event = t;
            if (this.touchLeaveCallback) {
                this.touchLeaveCallback.call(this.callbackContext, t);
            }
            if (this.preventDefault) {
                t.preventDefault();
            }
        },
        onTouchMove: function(t) {
            this.event = t;
            if (this.touchMoveCallback) {
                this.touchMoveCallback.call(this.callbackContext, t);
            }
            if (this.preventDefault) {
                t.preventDefault();
            }
            for (var k = d6t.W6; k < t.changedTouches.length; k++) {
                this.game.input.updatePointer(t.changedTouches[k]);
            }
        },
        onTouchEnd: function(t) {
            this.event = t;
            if (this.touchEndCallback) {
                this.touchEndCallback.call(this.callbackContext, t);
            }
            if (this.preventDefault) {
                t.preventDefault();
            }
            for (var k = d6t.W6; k < t.changedTouches.length; k++) {
                this.game.input.stopPointer(t.changedTouches[k]);
            }
        },
        stop: function() {
            if (this.game.device.touch) {
                this.game.canvas.removeEventListener(d6t.d3H, this._onTouchStart);
                this.game.canvas.removeEventListener(Z3, this._onTouchMove);
                this.game.canvas.removeEventListener(c3, this._onTouchEnd);
                this.game.canvas.removeEventListener(q3, this._onTouchEnter);
                this.game.canvas.removeEventListener(Q3, this._onTouchLeave);
                this.game.canvas.removeEventListener(m3, this._onTouchCancel);
            }
        }
    };
    s5.Touch.prototype.constructor = s5.Touch;
    s5.Gamepad = function(game) {
        var k = 'Firefox/';
        this.game = game;
        this._gamepadIndexMap = {};
        this._rawPads = [];
        this._active = d6t.F18;
        this.disabled = d6t.F18;
        this._gamepadSupportAvailable = !!navigator.webkitGetGamepads || !!navigator.webkitGamepads || (navigator.userAgent.indexOf(k) != -d6t.A6) || !!navigator.getGamepads;
        this._prevRawGamepadTypes = [];
        this._prevTimestamps = [];
        this.callbackContext = this;
        this.onConnectCallback = d6t.B3x;
        this.onDisconnectCallback = d6t.B3x;
        this.onDownCallback = d6t.B3x;
        this.onUpCallback = d6t.B3x;
        this.onAxisCallback = d6t.B3x;
        this.onFloatCallback = d6t.B3x;
        this._ongamepadconnected = d6t.B3x;
        this._gamepaddisconnected = d6t.B3x;
        this._gamepads = [new s5.SinglePad(game, this), new s5.SinglePad(game, this), new s5.SinglePad(game, this), new s5.SinglePad(game, this)];
    };
    s5.Gamepad.prototype = {
        addCallbacks: function(t, k) {
            if (typeof k !== d6t.k43) {
                this.onConnectCallback = (typeof k.onConnect === d6t.j5f) ? k.onConnect : this.onConnectCallback;
                this.onDisconnectCallback = (typeof k.onDisconnect === d6t.j5f) ? k.onDisconnect : this.onDisconnectCallback;
                this.onDownCallback = (typeof k.onDown === d6t.j5f) ? k.onDown : this.onDownCallback;
                this.onUpCallback = (typeof k.onUp === d6t.j5f) ? k.onUp : this.onUpCallback;
                this.onAxisCallback = (typeof k.onAxis === d6t.j5f) ? k.onAxis : this.onAxisCallback;
                this.onFloatCallback = (typeof k.onFloat === d6t.j5f) ? k.onFloat : this.onFloatCallback;
            }
        },
        start: function() {
            if (this._active) {
                return;
            }
            this._active = d6t.s73;
            var k = this;
            this._onGamepadConnected = function(t) {
                return k.onGamepadConnected(t);
            };
            this._onGamepadDisconnected = function(t) {
                return k.onGamepadDisconnected(t);
            };
            window.addEventListener(b3, this._onGamepadConnected, d6t.F18);
            window.addEventListener(E3, this._onGamepadDisconnected, d6t.F18);
        },
        onGamepadConnected: function(t) {
            var k = t.gamepad;
            this._rawPads.push(k);
            this._gamepads[k.index].connect(k);
        },
        onGamepadDisconnected: function(t) {
            var k = t.gamepad;
            for (var j in this._rawPads) {
                if (this._rawPads[j].index === k.index) {
                    this._rawPads.splice(j, d6t.A6);
                }
            }
            this._gamepads[k.index].disconnect();
        },
        update: function() {
            this._pollGamepads();
            this.pad1.pollStatus();
            this.pad2.pollStatus();
            this.pad3.pollStatus();
            this.pad4.pollStatus();
        },
        _pollGamepads: function() {
            var t = 'webkitGamepads',
                k = 'webkitGetGamepads',
                j = 'getGamepads';
            if (navigator[j]) {
                var o = navigator.getGamepads();
            } else if (navigator[k]) {
                var o = navigator.webkitGetGamepads();
            } else if (navigator[t]) {
                var o = navigator.webkitGamepads();
            }
            if (o) {
                this._rawPads = [];
                var e = d6t.F18;
                for (var q = d6t.W6; q < o.length; q++) {
                    if (typeof o[q] !== this._prevRawGamepadTypes[q]) {
                        e = d6t.s73;
                        this._prevRawGamepadTypes[q] = typeof o[q];
                    }
                    if (o[q]) {
                        this._rawPads.push(o[q]);
                    }
                    if (q === d6t.B6) {
                        break;
                    }
                }
                if (e) {
                    var m = {
                            rawIndices: {},
                            padIndices: {}
                        },
                        k5;
                    for (var C5 = d6t.W6; C5 < this._gamepads.length; C5++) {
                        k5 = this._gamepads[C5];
                        if (k5.connected) {
                            for (var H5 = d6t.W6; H5 < this._rawPads.length; H5++) {
                                if (this._rawPads[H5].index === k5.index) {
                                    m.rawIndices[k5.index] = d6t.s73;
                                    m.padIndices[C5] = d6t.s73;
                                }
                            }
                        }
                    }
                    for (var j5 = d6t.W6; j5 < this._gamepads.length; j5++) {
                        k5 = this._gamepads[j5];
                        if (m.padIndices[j5]) {
                            continue;
                        }
                        if (this._rawPads.length < d6t.A6) {
                            k5.disconnect();
                        }
                        for (var Y5 = d6t.W6; Y5 < this._rawPads.length; Y5++) {
                            if (m.padIndices[j5]) {
                                break;
                            }
                            var z5 = this._rawPads[Y5];
                            if (z5) {
                                if (m.rawIndices[z5.index]) {
                                    k5.disconnect();
                                    continue;
                                } else {
                                    k5.connect(z5);
                                    m.rawIndices[z5.index] = d6t.s73;
                                    m.padIndices[j5] = d6t.s73;
                                }
                            } else {
                                k5.disconnect();
                            }
                        }
                    }
                }
            }
        },
        setDeadZones: function(t) {
            for (var k = d6t.W6; k < this._gamepads.length; k++) {
                this._gamepads[k].deadZone = t;
            }
        },
        stop: function() {
            this._active = d6t.F18;
            window.removeEventListener(b3, this._onGamepadConnected);
            window.removeEventListener(E3, this._onGamepadDisconnected);
        },
        reset: function() {
            this.update();
            for (var t = d6t.W6; t < this._gamepads.length; t++) {
                this._gamepads[t].reset();
            }
        },
        justPressed: function(t, k) {
            for (var j = d6t.W6; j < this._gamepads.length; j++) {
                if (this._gamepads[j].justPressed(t, k) === d6t.s73) {
                    return d6t.s73;
                }
            }
            return d6t.F18;
        },
        justReleased: function(t, k) {
            for (var j = d6t.W6; j < this._gamepads.length; j++) {
                if (this._gamepads[j].justReleased(t, k) === d6t.s73) {
                    return d6t.s73;
                }
            }
            return d6t.F18;
        },
        isDown: function(t) {
            for (var k = d6t.W6; k < this._gamepads.length; k++) {
                if (this._gamepads[k].isDown(t) === d6t.s73) {
                    return d6t.s73;
                }
            }
            return d6t.F18;
        },
        destroy: function() {
            this.stop();
            for (var t = d6t.W6; t < this._gamepads.length; t++) {
                this._gamepads[t].destroy();
            }
        }
    };
    s5.Gamepad.prototype.constructor = s5.Gamepad;
    Object.defineProperty(s5.Gamepad.prototype, z7, {
        get: function() {
            return this._active;
        }
    });
    Object.defineProperty(s5.Gamepad.prototype, Y7, {
        get: function() {
            return this._gamepadSupportAvailable;
        }
    });
    Object.defineProperty(s5.Gamepad.prototype, V7, {
        get: function() {
            return this._rawPads.length;
        }
    });
    Object.defineProperty(s5.Gamepad.prototype, j7, {
        get: function() {
            return this._gamepads[d6t.W6];
        }
    });
    Object.defineProperty(s5.Gamepad.prototype, H7, {
        get: function() {
            return this._gamepads[d6t.A6];
        }
    });
    Object.defineProperty(s5.Gamepad.prototype, w3, {
        get: function() {
            return this._gamepads[d6t.D6];
        }
    });
    Object.defineProperty(s5.Gamepad.prototype, a3, {
        get: function() {
            return this._gamepads[d6t.B6];
        }
    });
    s5.Gamepad.BUTTON_0 = d6t.W6;
    s5.Gamepad.BUTTON_1 = d6t.A6;
    s5.Gamepad.BUTTON_2 = d6t.D6;
    s5.Gamepad.BUTTON_3 = d6t.B6;
    s5.Gamepad.BUTTON_4 = d6t.M6;
    s5.Gamepad.BUTTON_5 = d6t.U6;
    s5.Gamepad.BUTTON_6 = d6t.J6;
    s5.Gamepad.BUTTON_7 = d6t.v6;
    s5.Gamepad.BUTTON_8 = d6t.d6;
    s5.Gamepad.BUTTON_9 = d6t.S6;
    s5.Gamepad.BUTTON_10 = d6t.x7x;
    s5.Gamepad.BUTTON_11 = d6t.f7x;
    s5.Gamepad.BUTTON_12 = d6t.W7x;
    s5.Gamepad.BUTTON_13 = d6t.o7x;
    s5.Gamepad.BUTTON_14 = d6t.A7x;
    s5.Gamepad.BUTTON_15 = d6t.B7x;
    s5.Gamepad.AXIS_0 = d6t.W6;
    s5.Gamepad.AXIS_1 = d6t.A6;
    s5.Gamepad.AXIS_2 = d6t.D6;
    s5.Gamepad.AXIS_3 = d6t.B6;
    s5.Gamepad.AXIS_4 = d6t.M6;
    s5.Gamepad.AXIS_5 = d6t.U6;
    s5.Gamepad.AXIS_6 = d6t.J6;
    s5.Gamepad.AXIS_7 = d6t.v6;
    s5.Gamepad.AXIS_8 = d6t.d6;
    s5.Gamepad.AXIS_9 = d6t.S6;
    s5.Gamepad.XBOX360_A = d6t.W6;
    s5.Gamepad.XBOX360_B = d6t.A6;
    s5.Gamepad.XBOX360_X = d6t.D6;
    s5.Gamepad.XBOX360_Y = d6t.B6;
    s5.Gamepad.XBOX360_LEFT_BUMPER = d6t.M6;
    s5.Gamepad.XBOX360_RIGHT_BUMPER = d6t.U6;
    s5.Gamepad.XBOX360_LEFT_TRIGGER = d6t.J6;
    s5.Gamepad.XBOX360_RIGHT_TRIGGER = d6t.v6;
    s5.Gamepad.XBOX360_BACK = d6t.d6;
    s5.Gamepad.XBOX360_START = d6t.S6;
    s5.Gamepad.XBOX360_STICK_LEFT_BUTTON = d6t.x7x;
    s5.Gamepad.XBOX360_STICK_RIGHT_BUTTON = d6t.f7x;
    s5.Gamepad.XBOX360_DPAD_LEFT = d6t.A7x;
    s5.Gamepad.XBOX360_DPAD_RIGHT = d6t.B7x;
    s5.Gamepad.XBOX360_DPAD_UP = d6t.W7x;
    s5.Gamepad.XBOX360_DPAD_DOWN = d6t.o7x;
    s5.Gamepad.XBOX360_STICK_LEFT_X = d6t.W6;
    s5.Gamepad.XBOX360_STICK_LEFT_Y = d6t.A6;
    s5.Gamepad.XBOX360_STICK_RIGHT_X = d6t.D6;
    s5.Gamepad.XBOX360_STICK_RIGHT_Y = d6t.B6;
    s5.Gamepad.PS3XC_X = d6t.W6;
    s5.Gamepad.PS3XC_CIRCLE = d6t.A6;
    s5.Gamepad.PS3XC_SQUARE = d6t.D6;
    s5.Gamepad.PS3XC_TRIANGLE = d6t.B6;
    s5.Gamepad.PS3XC_L1 = d6t.M6;
    s5.Gamepad.PS3XC_R1 = d6t.U6;
    s5.Gamepad.PS3XC_L2 = d6t.J6;
    s5.Gamepad.PS3XC_R2 = d6t.v6;
    s5.Gamepad.PS3XC_SELECT = d6t.d6;
    s5.Gamepad.PS3XC_START = d6t.S6;
    s5.Gamepad.PS3XC_STICK_LEFT_BUTTON = d6t.x7x;
    s5.Gamepad.PS3XC_STICK_RIGHT_BUTTON = d6t.f7x;
    s5.Gamepad.PS3XC_DPAD_UP = d6t.W7x;
    s5.Gamepad.PS3XC_DPAD_DOWN = d6t.o7x;
    s5.Gamepad.PS3XC_DPAD_LEFT = d6t.A7x;
    s5.Gamepad.PS3XC_DPAD_RIGHT = d6t.B7x;
    s5.Gamepad.PS3XC_STICK_LEFT_X = d6t.W6;
    s5.Gamepad.PS3XC_STICK_LEFT_Y = d6t.A6;
    s5.Gamepad.PS3XC_STICK_RIGHT_X = d6t.D6;
    s5.Gamepad.PS3XC_STICK_RIGHT_Y = d6t.B6;
    s5.SinglePad = function(game, k) {
        var j = ((40.7E1, 8.81E2) > 1.241E3 ? 104 : (1.1500E3, 70.9E1) > 0x1E2 ? (0x1DF, 0.26) : (0x1F1, 102.5E1) <= (2.11E2, 0xA8) ? (0x24E, 'W') : (0x253, 5));
        this.game = game;
        this.index = d6t.B3x;
        this.connected = d6t.F18;
        this.callbackContext = this;
        this.onConnectCallback = d6t.B3x;
        this.onDisconnectCallback = d6t.B3x;
        this.onDownCallback = d6t.B3x;
        this.onUpCallback = d6t.B3x;
        this.onAxisCallback = d6t.B3x;
        this.onFloatCallback = d6t.B3x;
        this.deadZone = j;
        this._padParent = k;
        this._rawPad = d6t.B3x;
        this._prevTimestamp = d6t.B3x;
        this._buttons = [];
        this._buttonsLen = d6t.W6;
        this._axes = [];
        this._axesLen = d6t.W6;
    };
    s5.SinglePad.prototype = {
        addCallbacks: function(t, k) {
            if (typeof k !== d6t.k43) {
                this.onConnectCallback = (typeof k.onConnect === d6t.j5f) ? k.onConnect : this.onConnectCallback;
                this.onDisconnectCallback = (typeof k.onDisconnect === d6t.j5f) ? k.onDisconnect : this.onDisconnectCallback;
                this.onDownCallback = (typeof k.onDown === d6t.j5f) ? k.onDown : this.onDownCallback;
                this.onUpCallback = (typeof k.onUp === d6t.j5f) ? k.onUp : this.onUpCallback;
                this.onAxisCallback = (typeof k.onAxis === d6t.j5f) ? k.onAxis : this.onAxisCallback;
                this.onFloatCallback = (typeof k.onFloat === d6t.j5f) ? k.onFloat : this.onFloatCallback;
            }
        },
        getButton: function(t) {
            if (this._buttons[t]) {
                return this._buttons[t];
            } else {
                return d6t.B3x;
            }
        },
        pollStatus: function() {
            if (!this.connected || this.game.input.disabled || this.game.input.gamepad.disabled || (this._rawPad.timestamp && (this._rawPad.timestamp === this._prevTimestamp))) {
                return;
            }
            for (var t = d6t.W6; t < this._buttonsLen; t++) {
                var k = isNaN(this._rawPad.buttons[t]) ? this._rawPad.buttons[t].value : this._rawPad.buttons[t];
                if (k !== this._buttons[t].value) {
                    if (k === d6t.A6) {
                        this.processButtonDown(t, k);
                    } else if (k === d6t.W6) {
                        this.processButtonUp(t, k);
                    } else {
                        this.processButtonFloat(t, k);
                    }
                }
            }
            for (var j = d6t.W6; j < this._axesLen; j++) {
                var o = this._rawPad.axes[j];
                if ((o > d6t.W6 && o > this.deadZone) || (o < d6t.W6 && o < -this.deadZone)) {
                    this.processAxisChange(j, o);
                } else {
                    this.processAxisChange(j, d6t.W6);
                }
            }
            this._prevTimestamp = this._rawPad.timestamp;
        },
        connect: function(t) {
            var k = !this.connected;
            this.connected = d6t.s73;
            this.index = t.index;
            this._rawPad = t;
            this._buttons = [];
            this._buttonsLen = t.buttons.length;
            this._axes = [];
            this._axesLen = t.axes.length;
            for (var j = d6t.W6; j < this._axesLen; j++) {
                this._axes[j] = t.axes[j];
            }
            for (var o in t.buttons) {
                o = parseInt(o, d6t.x7x);
                this._buttons[o] = new s5.GamepadButton(this, o);
            }
            if (k && this._padParent.onConnectCallback) {
                this._padParent.onConnectCallback.call(this._padParent.callbackContext, this.index);
            }
            if (k && this.onConnectCallback) {
                this.onConnectCallback.call(this.callbackContext);
            }
        },
        disconnect: function() {
            var t = this.connected,
                k = this.index;
            this.connected = d6t.F18;
            this.index = d6t.B3x;
            this._rawPad = undefined;
            for (var j = d6t.W6; j < this._buttonsLen; j++) {
                this._buttons[j].destroy();
            }
            this._buttons = [];
            this._buttonsLen = d6t.W6;
            this._axes = [];
            this._axesLen = d6t.W6;
            if (t && this._padParent.onDisconnectCallback) {
                this._padParent.onDisconnectCallback.call(this._padParent.callbackContext, k);
            }
            if (t && this.onDisconnectCallback) {
                this.onDisconnectCallback.call(this.callbackContext);
            }
        },
        destroy: function() {
            this._rawPad = undefined;
            for (var t = d6t.W6; t < this._buttonsLen; t++) {
                this._buttons[t].destroy();
            }
            this._buttons = [];
            this._buttonsLen = d6t.W6;
            this._axes = [];
            this._axesLen = d6t.W6;
            this.onConnectCallback = d6t.B3x;
            this.onDisconnectCallback = d6t.B3x;
            this.onDownCallback = d6t.B3x;
            this.onUpCallback = d6t.B3x;
            this.onAxisCallback = d6t.B3x;
            this.onFloatCallback = d6t.B3x;
        },
        processAxisChange: function(t, k) {
            if (this._axes[t] === k) {
                return;
            }
            this._axes[t] = k;
            if (this._padParent.onAxisCallback) {
                this._padParent.onAxisCallback.call(this._padParent.callbackContext, this, t, k);
            }
            if (this.onAxisCallback) {
                this.onAxisCallback.call(this.callbackContext, this, t, k);
            }
        },
        processButtonDown: function(t, k) {
            if (this._padParent.onDownCallback) {
                this._padParent.onDownCallback.call(this._padParent.callbackContext, t, k, this.index);
            }
            if (this.onDownCallback) {
                this.onDownCallback.call(this.callbackContext, t, k);
            }
            if (this._buttons[t]) {
                this._buttons[t].processButtonDown(k);
            }
        },
        processButtonUp: function(t, k) {
            if (this._padParent.onUpCallback) {
                this._padParent.onUpCallback.call(this._padParent.callbackContext, t, k, this.index);
            }
            if (this.onUpCallback) {
                this.onUpCallback.call(this.callbackContext, t, k);
            }
            if (this._buttons[t]) {
                this._buttons[t].processButtonUp(k);
            }
        },
        processButtonFloat: function(t, k) {
            if (this._padParent.onFloatCallback) {
                this._padParent.onFloatCallback.call(this._padParent.callbackContext, t, k, this.index);
            }
            if (this.onFloatCallback) {
                this.onFloatCallback.call(this.callbackContext, t, k);
            }
            if (this._buttons[t]) {
                this._buttons[t].processButtonFloat(k);
            }
        },
        axis: function(t) {
            if (this._axes[t]) {
                return this._axes[t];
            }
            return d6t.F18;
        },
        isDown: function(t) {
            if (this._buttons[t]) {
                return this._buttons[t].isDown;
            }
            return d6t.F18;
        },
        isUp: function(t) {
            if (this._buttons[t]) {
                return this._buttons[t].isUp;
            }
            return d6t.F18;
        },
        justReleased: function(t, k) {
            if (this._buttons[t]) {
                return this._buttons[t].justReleased(k);
            }
        },
        justPressed: function(t, k) {
            if (this._buttons[t]) {
                return this._buttons[t].justPressed(k);
            }
        },
        buttonValue: function(t) {
            if (this._buttons[t]) {
                return this._buttons[t].value;
            }
            return d6t.B3x;
        },
        reset: function() {
            for (var t = d6t.W6; t < this._axes.length; t++) {
                this._axes[t] = d6t.W6;
            }
        }
    };
    s5.SinglePad.prototype.constructor = s5.SinglePad;
    s5.GamepadButton = function(t, k) {
        this.pad = t;
        this.game = t.game;
        this.isDown = d6t.F18;
        this.isUp = d6t.s73;
        this.timeDown = d6t.W6;
        this.duration = d6t.W6;
        this.timeUp = d6t.W6;
        this.repeats = d6t.W6;
        this.value = d6t.W6;
        this.buttonCode = k;
        this.onDown = new s5.Signal();
        this.onUp = new s5.Signal();
        this.onFloat = new s5.Signal();
    };
    s5.GamepadButton.prototype = {
        processButtonDown: function(t) {
            this.isDown = d6t.s73;
            this.isUp = d6t.F18;
            this.timeDown = this.game.time.now;
            this.duration = d6t.W6;
            this.repeats = d6t.W6;
            this.value = t;
            this.onDown.dispatch(this, t);
        },
        processButtonUp: function(t) {
            this.isDown = d6t.F18;
            this.isUp = d6t.s73;
            this.timeUp = this.game.time.now;
            this.value = t;
            this.onUp.dispatch(this, t);
        },
        processButtonFloat: function(t) {
            this.value = t;
            this.onFloat.dispatch(this, t);
        },
        justPressed: function(t) {
            t = t || d6t.q9;
            return (this.isDown === d6t.s73 && (this.timeDown + t) > this.game.time.now);
        },
        justReleased: function(t) {
            t = t || d6t.q9;
            return (this.isUp === d6t.s73 && (this.timeUp + t) > this.game.time.now);
        },
        reset: function() {
            this.isDown = d6t.F18;
            this.isUp = d6t.s73;
            this.timeDown = this.game.time.now;
            this.duration = d6t.W6;
            this.repeats = d6t.W6;
        },
        destroy: function() {
            this.onDown.dispose();
            this.onUp.dispose();
            this.onFloat.dispose();
            this.pad = d6t.B3x;
            this.game = d6t.B3x;
        }
    };
    s5.GamepadButton.prototype.constructor = s5.GamepadButton;
    s5.InputHandler = function(t) {
        this.sprite = t;
        this.game = t.game;
        this.enabled = d6t.F18;
        this.checked = d6t.F18;
        this.priorityID = d6t.W6;
        this.useHandCursor = d6t.F18;
        this._setHandCursor = d6t.F18;
        this.isDragged = d6t.F18;
        this.allowHorizontalDrag = d6t.s73;
        this.allowVerticalDrag = d6t.s73;
        this.bringToTop = d6t.F18;
        this.snapOffset = d6t.B3x;
        this.snapOnDrag = d6t.F18;
        this.snapOnRelease = d6t.F18;
        this.snapX = d6t.W6;
        this.snapY = d6t.W6;
        this.snapOffsetX = d6t.W6;
        this.snapOffsetY = d6t.W6;
        this.pixelPerfectOver = d6t.F18;
        this.pixelPerfectClick = d6t.F18;
        this.pixelPerfectAlpha = d6t.s8;
        this.draggable = d6t.F18;
        this.boundsRect = d6t.B3x;
        this.boundsSprite = d6t.B3x;
        this.consumePointerEvent = d6t.F18;
        this.scaleLayer = d6t.F18;
        this._dragPhase = d6t.F18;
        this._wasEnabled = d6t.F18;
        this._tempPoint = new s5.Point();
        this._pointerData = [];
        this._pointerData.push({
            id: d6t.W6,
            x: d6t.W6,
            y: d6t.W6,
            isDown: d6t.F18,
            isUp: d6t.F18,
            isOver: d6t.F18,
            isOut: d6t.F18,
            timeOver: d6t.W6,
            timeOut: d6t.W6,
            timeDown: d6t.W6,
            timeUp: d6t.W6,
            downDuration: d6t.W6,
            isDragged: d6t.F18
        });
    };
    s5.InputHandler.prototype = {
        start: function(t, k) {
            t = t || d6t.W6;
            if (typeof k === d6t.k43) {
                k = d6t.F18;
            }
            if (this.enabled === d6t.F18) {
                this.game.input.interactiveItems.add(this);
                this.useHandCursor = k;
                this.priorityID = t;
                for (var j = d6t.W6; j < d6t.x7x; j++) {
                    this._pointerData[j] = {
                        id: j,
                        x: d6t.W6,
                        y: d6t.W6,
                        isDown: d6t.F18,
                        isUp: d6t.F18,
                        isOver: d6t.F18,
                        isOut: d6t.F18,
                        timeOver: d6t.W6,
                        timeOut: d6t.W6,
                        timeDown: d6t.W6,
                        timeUp: d6t.W6,
                        downDuration: d6t.W6,
                        isDragged: d6t.F18
                    };
                }
                this.snapOffset = new s5.Point();
                this.enabled = d6t.s73;
                this._wasEnabled = d6t.s73;
                if (this.sprite.events && this.sprite.events.onInputOver === d6t.B3x) {
                    this.sprite.events.onInputOver = new s5.Signal();
                    this.sprite.events.onInputOut = new s5.Signal();
                    this.sprite.events.onInputDown = new s5.Signal();
                    this.sprite.events.onInputUp = new s5.Signal();
                    this.sprite.events.onDragStart = new s5.Signal();
                    this.sprite.events.onDragStop = new s5.Signal();
                }
            }
            this.sprite.events.onAddedToGroup.add(this.addedToGroup, this);
            this.sprite.events.onRemovedFromGroup.add(this.removedFromGroup, this);
            this.flagged = d6t.F18;
            return this.sprite;
        },
        addedToGroup: function() {
            if (this._dragPhase) {
                return;
            }
            if (this._wasEnabled && !this.enabled) {
                this.start();
            }
        },
        removedFromGroup: function() {
            if (this._dragPhase) {
                return;
            }
            if (this.enabled) {
                this._wasEnabled = d6t.s73;
                this.stop();
            } else {
                this._wasEnabled = d6t.F18;
            }
        },
        reset: function() {
            this.enabled = d6t.F18;
            this.flagged = d6t.F18;
            for (var t = d6t.W6; t < d6t.x7x; t++) {
                this._pointerData[t] = {
                    id: t,
                    x: d6t.W6,
                    y: d6t.W6,
                    isDown: d6t.F18,
                    isUp: d6t.F18,
                    isOver: d6t.F18,
                    isOut: d6t.F18,
                    timeOver: d6t.W6,
                    timeOut: d6t.W6,
                    timeDown: d6t.W6,
                    timeUp: d6t.W6,
                    downDuration: d6t.W6,
                    isDragged: d6t.F18
                };
            }
        },
        stop: function() {
            if (this.enabled === d6t.F18) {
                return;
            } else {
                this.enabled = d6t.F18;
                this.game.input.interactiveItems.remove(this);
            }
        },
        destroy: function() {
            if (this.sprite) {
                if (this._setHandCursor) {
                    this.game.canvas.style.cursor = d6t.M1x;
                    this._setHandCursor = d6t.F18;
                }
                this.enabled = d6t.F18;
                this.game.input.interactiveItems.remove(this);
                this._pointerData.length = d6t.W6;
                this.boundsRect = d6t.B3x;
                this.boundsSprite = d6t.B3x;
                this.sprite = d6t.B3x;
            }
        },
        validForInput: function(t, k, j) {
            if (typeof j === d6t.k43) {
                j = d6t.s73;
            }
            if (this.sprite.scale.x === d6t.W6 || this.sprite.scale.y === d6t.W6 || this.priorityID < this.game.input.minPriorityID) {
                return d6t.F18;
            }
            if (!j && (this.pixelPerfectClick || this.pixelPerfectOver)) {
                return d6t.F18;
            }
            if (this.priorityID > t || (this.priorityID === t && this.sprite._cache[d6t.B6] < k)) {
                return d6t.s73;
            }
            return d6t.F18;
        },
        isPixelPerfect: function() {
            return (this.pixelPerfectClick || this.pixelPerfectOver);
        },
        pointerX: function(t) {
            t = t || d6t.W6;
            return this._pointerData[t].x;
        },
        pointerY: function(t) {
            t = t || d6t.W6;
            return this._pointerData[t].y;
        },
        pointerDown: function(t) {
            t = t || d6t.W6;
            return this._pointerData[t].isDown;
        },
        pointerUp: function(t) {
            t = t || d6t.W6;
            return this._pointerData[t].isUp;
        },
        pointerTimeDown: function(t) {
            t = t || d6t.W6;
            return this._pointerData[t].timeDown;
        },
        pointerTimeUp: function(t) {
            t = t || d6t.W6;
            return this._pointerData[t].timeUp;
        },
        pointerOver: function(t) {
            if (this.enabled) {
                if (typeof t === d6t.k43) {
                    for (var k = d6t.W6; k < d6t.x7x; k++) {
                        if (this._pointerData[k].isOver) {
                            return d6t.s73;
                        }
                    }
                } else {
                    return this._pointerData[t].isOver;
                }
            }
            return d6t.F18;
        },
        pointerOut: function(t) {
            if (this.enabled) {
                if (typeof t === d6t.k43) {
                    for (var k = d6t.W6; k < d6t.x7x; k++) {
                        if (this._pointerData[k].isOut) {
                            return d6t.s73;
                        }
                    }
                } else {
                    return this._pointerData[t].isOut;
                }
            }
            return d6t.F18;
        },
        pointerTimeOver: function(t) {
            t = t || d6t.W6;
            return this._pointerData[t].timeOver;
        },
        pointerTimeOut: function(t) {
            t = t || d6t.W6;
            return this._pointerData[t].timeOut;
        },
        pointerDragged: function(t) {
            t = t || d6t.W6;
            return this._pointerData[t].isDragged;
        },
        checkPointerDown: function(t, k) {
            if (!t.isDown || !this.enabled || !this.sprite || !this.sprite.parent || !this.sprite.visible || !this.sprite.parent.visible) {
                return d6t.F18;
            }
            if (this.game.input.hitTest(this.sprite, t, this._tempPoint)) {
                if (typeof k === d6t.k43) {
                    k = d6t.F18;
                }
                if (!k && this.pixelPerfectClick) {
                    return this.checkPixel(this._tempPoint.x, this._tempPoint.y);
                } else {
                    return d6t.s73;
                }
            }
            return d6t.F18;
        },
        checkPointerOver: function(t, k) {
            if (!this.enabled || !this.sprite || !this.sprite.parent || !this.sprite.visible || !this.sprite.parent.visible) {
                return d6t.F18;
            }
            if (this.game.input.hitTest(this.sprite, t, this._tempPoint)) {
                if (typeof k === d6t.k43) {
                    k = d6t.F18;
                }
                if (!k && this.pixelPerfectOver) {
                    return this.checkPixel(this._tempPoint.x, this._tempPoint.y);
                } else {
                    return d6t.s73;
                }
            }
            return d6t.F18;
        },
        checkPixel: function(t, k, j) {
            if (this.sprite.texture.baseTexture.source) {
                if (t === d6t.B3x && k === d6t.B3x) {
                    this.game.input.getLocalPosition(this.sprite, j, this._tempPoint);
                    var t = this._tempPoint.x,
                        k = this._tempPoint.y;
                }
                if (this.sprite.anchor.x !== d6t.W6) {
                    t -= -this.sprite.texture.frame.width * this.sprite.anchor.x;
                }
                if (this.sprite.anchor.y !== d6t.W6) {
                    k -= -this.sprite.texture.frame.height * this.sprite.anchor.y;
                }
                t += this.sprite.texture.frame.x;
                k += this.sprite.texture.frame.y;
                if (this.sprite.texture.trim) {
                    t -= this.sprite.texture.trim.x;
                    k -= this.sprite.texture.trim.y;
                    if (t < this.sprite.texture.crop.x || t > this.sprite.texture.crop.right || k < this.sprite.texture.crop.y || k > this.sprite.texture.crop.bottom) {
                        this._dx = t;
                        this._dy = k;
                        return d6t.F18;
                    }
                }
                this._dx = t;
                this._dy = k;
                this.game.input.hitContext.clearRect(d6t.W6, d6t.W6, d6t.A6, d6t.A6);
                this.game.input.hitContext.drawImage(this.sprite.texture.baseTexture.source, t, k, d6t.A6, d6t.A6, d6t.W6, d6t.W6, d6t.A6, d6t.A6);
                var o = this.game.input.hitContext.getImageData(d6t.W6, d6t.W6, d6t.A6, d6t.A6);
                if (o.data[d6t.B6] >= this.pixelPerfectAlpha) {
                    return d6t.s73;
                }
            }
            return d6t.F18;
        },
        update: function(t) {
            if (this.sprite === d6t.B3x || this.sprite.parent === undefined) {
                return;
            }
            if (!this.enabled || !this.sprite.visible || !this.sprite.parent.visible) {
                this._pointerOutHandler(t);
                return d6t.F18;
            }
            if (this.draggable && this._draggedPointerID === t.id) {
                return this.updateDrag(t);
            } else if (this._pointerData[t.id].isOver) {
                if (this.checkPointerOver(t)) {
                    this._pointerData[t.id].x = t.x - this.sprite.x;
                    this._pointerData[t.id].y = t.y - this.sprite.y;
                    return d6t.s73;
                } else {
                    this._pointerOutHandler(t);
                    return d6t.F18;
                }
            }
        },
        _pointerOverHandler: function(t) {
            var k = "pointer";
            if (this.sprite === d6t.B3x) {
                return;
            }
            if (this._pointerData[t.id].isOver === d6t.F18 || t.dirty) {
                this._pointerData[t.id].isOver = d6t.s73;
                this._pointerData[t.id].isOut = d6t.F18;
                this._pointerData[t.id].timeOver = this.game.time.now;
                this._pointerData[t.id].x = t.x - this.sprite.x;
                this._pointerData[t.id].y = t.y - this.sprite.y;
                if (this.useHandCursor && this._pointerData[t.id].isDragged === d6t.F18) {
                    this.game.canvas.style.cursor = k;
                    this._setHandCursor = d6t.s73;
                }
                if (this.sprite && this.sprite.events) {
                    this.sprite.events.onInputOver.dispatch(this.sprite, t);
                }
            }
        },
        _pointerOutHandler: function(t) {
            if (this.sprite === d6t.B3x) {
                return;
            }
            this._pointerData[t.id].isOver = d6t.F18;
            this._pointerData[t.id].isOut = d6t.s73;
            this._pointerData[t.id].timeOut = this.game.time.now;
            if (this.useHandCursor && this._pointerData[t.id].isDragged === d6t.F18) {
                this.game.canvas.style.cursor = d6t.M1x;
                this._setHandCursor = d6t.F18;
            }
            if (this.sprite && this.sprite.events) {
                this.sprite.events.onInputOut.dispatch(this.sprite, t);
            }
        },
        _touchedHandler: function(t) {
            if (this.sprite === d6t.B3x) {
                return;
            }
            if (this._pointerData[t.id].isDown === d6t.F18 && this._pointerData[t.id].isOver === d6t.s73) {
                if (this.pixelPerfectClick && !this.checkPixel(d6t.B3x, d6t.B3x, t)) {
                    return;
                }
                this._pointerData[t.id].isDown = d6t.s73;
                this._pointerData[t.id].isUp = d6t.F18;
                this._pointerData[t.id].timeDown = this.game.time.now;
                if (this.sprite && this.sprite.events) {
                    this.sprite.events.onInputDown.dispatch(this.sprite, t);
                }
                t.dirty = d6t.s73;
                if (this.draggable && this.isDragged === d6t.F18) {
                    this.startDrag(t);
                }
                if (this.bringToTop) {
                    this.sprite.bringToTop();
                }
            }
            return this.consumePointerEvent;
        },
        _releasedHandler: function(t) {
            if (this.sprite === d6t.B3x) {
                return;
            }
            if (this._pointerData[t.id].isDown && t.isUp) {
                this._pointerData[t.id].isDown = d6t.F18;
                this._pointerData[t.id].isUp = d6t.s73;
                this._pointerData[t.id].timeUp = this.game.time.now;
                this._pointerData[t.id].downDuration = this._pointerData[t.id].timeUp - this._pointerData[t.id].timeDown;
                if (this.checkPointerOver(t)) {
                    if (this.sprite && this.sprite.events) {
                        this.sprite.events.onInputUp.dispatch(this.sprite, t, d6t.s73);
                    }
                } else {
                    if (this.sprite && this.sprite.events) {
                        this.sprite.events.onInputUp.dispatch(this.sprite, t, d6t.F18);
                    }
                    if (this.useHandCursor) {
                        this.game.canvas.style.cursor = d6t.M1x;
                        this._setHandCursor = d6t.F18;
                    }
                }
                t.dirty = d6t.s73;
                if (this.draggable && this.isDragged && this._draggedPointerID === t.id) {
                    this.stopDrag(t);
                }
            }
        },
        updateDrag: function(t) {
            if (t.isUp) {
                this.stopDrag(t);
                return d6t.F18;
            }
            var k = this.globalToLocalX(t.x) + this._dragPoint.x + this.dragOffset.x,
                j = this.globalToLocalY(t.y) + this._dragPoint.y + this.dragOffset.y;
            if (this.sprite.fixedToCamera) {
                if (this.allowHorizontalDrag) {
                    this.sprite.cameraOffset.x = k;
                }
                if (this.allowVerticalDrag) {
                    this.sprite.cameraOffset.y = j;
                }
                if (this.boundsRect) {
                    this.checkBoundsRect();
                }
                if (this.boundsSprite) {
                    this.checkBoundsSprite();
                }
                if (this.snapOnDrag) {
                    this.sprite.cameraOffset.x = Math.round((this.sprite.cameraOffset.x - (this.snapOffsetX % this.snapX)) / this.snapX) * this.snapX + (this.snapOffsetX % this.snapX);
                    this.sprite.cameraOffset.y = Math.round((this.sprite.cameraOffset.y - (this.snapOffsetY % this.snapY)) / this.snapY) * this.snapY + (this.snapOffsetY % this.snapY);
                }
            } else {
                if (this.allowHorizontalDrag) {
                    this.sprite.x = k;
                }
                if (this.allowVerticalDrag) {
                    this.sprite.y = j;
                }
                if (this.boundsRect) {
                    this.checkBoundsRect();
                }
                if (this.boundsSprite) {
                    this.checkBoundsSprite();
                }
                if (this.snapOnDrag) {
                    this.sprite.x = Math.round((this.sprite.x - (this.snapOffsetX % this.snapX)) / this.snapX) * this.snapX + (this.snapOffsetX % this.snapX);
                    this.sprite.y = Math.round((this.sprite.y - (this.snapOffsetY % this.snapY)) / this.snapY) * this.snapY + (this.snapOffsetY % this.snapY);
                }
            }
            return d6t.s73;
        },
        justOver: function(t, k) {
            t = t || d6t.W6;
            k = k || d6t.T2H;
            return (this._pointerData[t].isOver && this.overDuration(t) < k);
        },
        justOut: function(t, k) {
            t = t || d6t.W6;
            k = k || d6t.T2H;
            return (this._pointerData[t].isOut && (this.game.time.now - this._pointerData[t].timeOut < k));
        },
        justPressed: function(t, k) {
            t = t || d6t.W6;
            k = k || d6t.T2H;
            return (this._pointerData[t].isDown && this.downDuration(t) < k);
        },
        justReleased: function(t, k) {
            t = t || d6t.W6;
            k = k || d6t.T2H;
            return (this._pointerData[t].isUp && (this.game.time.now - this._pointerData[t].timeUp < k));
        },
        overDuration: function(t) {
            t = t || d6t.W6;
            if (this._pointerData[t].isOver) {
                return this.game.time.now - this._pointerData[t].timeOver;
            }
            return -d6t.A6;
        },
        downDuration: function(t) {
            t = t || d6t.W6;
            if (this._pointerData[t].isDown) {
                return this.game.time.now - this._pointerData[t].timeDown;
            }
            return -d6t.A6;
        },
        enableDrag: function(t, k, j, o, e, q) {
            if (typeof t === d6t.k43) {
                t = d6t.F18;
            }
            if (typeof k === d6t.k43) {
                k = d6t.F18;
            }
            if (typeof j === d6t.k43) {
                j = d6t.F18;
            }
            if (typeof o === d6t.k43) {
                o = d6t.s8;
            }
            if (typeof e === d6t.k43) {
                e = d6t.B3x;
            }
            if (typeof q === d6t.k43) {
                q = d6t.B3x;
            }
            this._dragPoint = new s5.Point();
            this.draggable = d6t.s73;
            this.bringToTop = k;
            this.dragOffset = new s5.Point();
            this.dragFromCenter = t;
            this.pixelPerfectClick = j;
            this.pixelPerfectAlpha = o;
            if (e) {
                this.boundsRect = e;
            }
            if (q) {
                this.boundsSprite = q;
            }
        },
        disableDrag: function() {
            if (this._pointerData) {
                for (var t = d6t.W6; t < d6t.x7x; t++) {
                    this._pointerData[t].isDragged = d6t.F18;
                }
            }
            this.draggable = d6t.F18;
            this.isDragged = d6t.F18;
            this._draggedPointerID = -d6t.A6;
        },
        startDrag: function(t) {
            this.isDragged = d6t.s73;
            this._draggedPointerID = t.id;
            this._pointerData[t.id].isDragged = d6t.s73;
            if (this.sprite.fixedToCamera) {
                if (this.dragFromCenter) {
                    this.sprite.centerOn(t.x, t.y);
                    this._dragPoint.setTo(this.sprite.cameraOffset.x - t.x, this.sprite.cameraOffset.y - t.y);
                } else {
                    this._dragPoint.setTo(this.sprite.cameraOffset.x - t.x, this.sprite.cameraOffset.y - t.y);
                }
            } else {
                if (this.dragFromCenter) {
                    var k = this.sprite.getBounds();
                    this.sprite.x = this.globalToLocalX(t.x) + (this.sprite.x - k.centerX);
                    this.sprite.y = this.globalToLocalY(t.y) + (this.sprite.y - k.centerY);
                }
                this._dragPoint.setTo(this.sprite.x - this.globalToLocalX(t.x), this.sprite.y - this.globalToLocalY(t.y));
            }
            this.updateDrag(t);
            if (this.bringToTop) {
                this._dragPhase = d6t.s73;
                this.sprite.bringToTop();
            }
            this.sprite.events.onDragStart.dispatch(this.sprite, t);
        },
        globalToLocalX: function(t) {
            if (this.scaleLayer) {
                t -= this.game.scale.grid.boundsFluid.x;
                t *= this.game.scale.grid.scaleFluidInversed.x;
            }
            return t;
        },
        globalToLocalY: function(t) {
            if (this.scaleLayer) {
                t -= this.game.scale.grid.boundsFluid.y;
                t *= this.game.scale.grid.scaleFluidInversed.y;
            }
            return t;
        },
        stopDrag: function(t) {
            this.isDragged = d6t.F18;
            this._draggedPointerID = -d6t.A6;
            this._pointerData[t.id].isDragged = d6t.F18;
            this._dragPhase = d6t.F18;
            if (this.snapOnRelease) {
                if (this.sprite.fixedToCamera) {
                    this.sprite.cameraOffset.x = Math.round((this.sprite.cameraOffset.x - (this.snapOffsetX % this.snapX)) / this.snapX) * this.snapX + (this.snapOffsetX % this.snapX);
                    this.sprite.cameraOffset.y = Math.round((this.sprite.cameraOffset.y - (this.snapOffsetY % this.snapY)) / this.snapY) * this.snapY + (this.snapOffsetY % this.snapY);
                } else {
                    this.sprite.x = Math.round((this.sprite.x - (this.snapOffsetX % this.snapX)) / this.snapX) * this.snapX + (this.snapOffsetX % this.snapX);
                    this.sprite.y = Math.round((this.sprite.y - (this.snapOffsetY % this.snapY)) / this.snapY) * this.snapY + (this.snapOffsetY % this.snapY);
                }
            }
            this.sprite.events.onDragStop.dispatch(this.sprite, t);
            if (this.checkPointerOver(t) === d6t.F18) {
                this._pointerOutHandler(t);
            }
        },
        setDragLock: function(t, k) {
            if (typeof t === d6t.k43) {
                t = d6t.s73;
            }
            if (typeof k === d6t.k43) {
                k = d6t.s73;
            }
            this.allowHorizontalDrag = t;
            this.allowVerticalDrag = k;
        },
        enableSnap: function(t, k, j, o, e, q) {
            if (typeof j === d6t.k43) {
                j = d6t.s73;
            }
            if (typeof o === d6t.k43) {
                o = d6t.F18;
            }
            if (typeof e === d6t.k43) {
                e = d6t.W6;
            }
            if (typeof q === d6t.k43) {
                q = d6t.W6;
            }
            this.snapX = t;
            this.snapY = k;
            this.snapOffsetX = e;
            this.snapOffsetY = q;
            this.snapOnDrag = j;
            this.snapOnRelease = o;
        },
        disableSnap: function() {
            this.snapOnDrag = d6t.F18;
            this.snapOnRelease = d6t.F18;
        },
        checkBoundsRect: function() {
            if (this.sprite.fixedToCamera) {
                if (this.sprite.cameraOffset.x < this.boundsRect.left) {
                    this.sprite.cameraOffset.x = this.boundsRect.left;
                } else if ((this.sprite.cameraOffset.x + this.sprite.width) > this.boundsRect.right) {
                    this.sprite.cameraOffset.x = this.boundsRect.right - this.sprite.width;
                }
                if (this.sprite.cameraOffset.y < this.boundsRect.top) {
                    this.sprite.cameraOffset.y = this.boundsRect.top;
                } else if ((this.sprite.cameraOffset.y + this.sprite.height) > this.boundsRect.bottom) {
                    this.sprite.cameraOffset.y = this.boundsRect.bottom - this.sprite.height;
                }
            } else {
                if (this.sprite.x < this.boundsRect.left) {
                    this.sprite.x = this.boundsRect.x;
                } else if ((this.sprite.x + this.sprite.width) > this.boundsRect.right) {
                    this.sprite.x = this.boundsRect.right - this.sprite.width;
                }
                if (this.sprite.y < this.boundsRect.top) {
                    this.sprite.y = this.boundsRect.top;
                } else if ((this.sprite.y + this.sprite.height) > this.boundsRect.bottom) {
                    this.sprite.y = this.boundsRect.bottom - this.sprite.height;
                }
            }
        },
        checkBoundsSprite: function() {
            if (this.sprite.fixedToCamera && this.boundsSprite.fixedToCamera) {
                if (this.sprite.cameraOffset.x < this.boundsSprite.camerOffset.x) {
                    this.sprite.cameraOffset.x = this.boundsSprite.camerOffset.x;
                } else if ((this.sprite.cameraOffset.x + this.sprite.width) > (this.boundsSprite.camerOffset.x + this.boundsSprite.width)) {
                    this.sprite.cameraOffset.x = (this.boundsSprite.camerOffset.x + this.boundsSprite.width) - this.sprite.width;
                }
                if (this.sprite.cameraOffset.y < this.boundsSprite.camerOffset.y) {
                    this.sprite.cameraOffset.y = this.boundsSprite.camerOffset.y;
                } else if ((this.sprite.cameraOffset.y + this.sprite.height) > (this.boundsSprite.camerOffset.y + this.boundsSprite.height)) {
                    this.sprite.cameraOffset.y = (this.boundsSprite.camerOffset.y + this.boundsSprite.height) - this.sprite.height;
                }
            } else {
                if (this.sprite.x < this.boundsSprite.x) {
                    this.sprite.x = this.boundsSprite.x;
                } else if ((this.sprite.x + this.sprite.width) > (this.boundsSprite.x + this.boundsSprite.width)) {
                    this.sprite.x = (this.boundsSprite.x + this.boundsSprite.width) - this.sprite.width;
                }
                if (this.sprite.y < this.boundsSprite.y) {
                    this.sprite.y = this.boundsSprite.y;
                } else if ((this.sprite.y + this.sprite.height) > (this.boundsSprite.y + this.boundsSprite.height)) {
                    this.sprite.y = (this.boundsSprite.y + this.boundsSprite.height) - this.sprite.height;
                }
            }
        }
    };
    s5.InputHandler.prototype.constructor = s5.InputHandler;
    s5.Events = function(t) {
        this.parent = t;
        this.onAddedToGroup = new s5.Signal();
        this.onRemovedFromGroup = new s5.Signal();
        this.onDestroy = new s5.Signal();
        this.onKilled = new s5.Signal();
        this.onRevived = new s5.Signal();
        this.onOutOfBounds = new s5.Signal();
        this.onEnterBounds = new s5.Signal();
        this.onInputOver = d6t.B3x;
        this.onInputOut = d6t.B3x;
        this.onInputDown = d6t.B3x;
        this.onInputUp = d6t.B3x;
        this.onDragStart = d6t.B3x;
        this.onDragStop = d6t.B3x;
        this.onAnimationStart = d6t.B3x;
        this.onAnimationComplete = d6t.B3x;
        this.onAnimationLoop = d6t.B3x;
    };
    s5.Events.prototype = {
        destroy: function() {
            this.parent = d6t.B3x;
            this.onDestroy.dispose();
            this.onAddedToGroup.dispose();
            this.onRemovedFromGroup.dispose();
            this.onKilled.dispose();
            this.onRevived.dispose();
            this.onOutOfBounds.dispose();
            if (this.onInputOver) {
                this.onInputOver.dispose();
                this.onInputOut.dispose();
                this.onInputDown.dispose();
                this.onInputUp.dispose();
                this.onDragStart.dispose();
                this.onDragStop.dispose();
            }
            if (this.onAnimationStart) {
                this.onAnimationStart.dispose();
                this.onAnimationComplete.dispose();
                this.onAnimationLoop.dispose();
            }
        }
    };
    s5.Events.prototype.constructor = s5.Events;
    s5.GameObjectFactory = function(game) {
        this.game = game;
        this.world = this.game.world;
    };
    s5.GameObjectFactory.prototype = {
        existing: function(t) {
            return this.world.add(t);
        },
        image: function(t, k, j, o, e) {
            if (typeof e === d6t.k43) {
                e = this.world;
            }
            return e.add(new s5.Image(this.game, t, k, j, o));
        },
        sprite: function(t, k, j, o, e) {
            if (typeof e === d6t.k43) {
                e = this.world;
            }
            return e.create(t, k, j, o);
        },
        tween: function(t) {
            return this.game.tweens.create(t);
        },
        group: function(t, k, j, o, e) {
            return new s5.Group(this.game, t, k, j, o, e);
        },
        physicsGroup: function(t, k, j, o) {
            return new s5.Group(this.game, k, j, o, d6t.s73, t);
        },
        spriteBatch: function(t, k, j) {
            if (typeof t === d6t.k43) {
                t = d6t.B3x;
            }
            if (typeof k === d6t.k43) {
                k = c7;
            }
            if (typeof j === d6t.k43) {
                j = d6t.F18;
            }
            return new s5.SpriteBatch(this.game, t, k, j);
        },
        audio: function(t, k, j, o) {
            return this.game.sound.add(t, k, j, o);
        },
        sound: function(t, k, j, o) {
            return this.game.sound.add(t, k, j, o);
        },
        audioSprite: function(t) {
            return this.game.sound.addSprite(t);
        },
        tileSprite: function(t, k, j, o, e, q, m) {
            if (typeof m === d6t.k43) {
                m = this.world;
            }
            return m.add(new s5.TileSprite(this.game, t, k, j, o, e, q));
        },
        rope: function(t, k, j, o, e, q) {
            if (typeof q === d6t.k43) {
                q = this.world;
            }
            return q.add(new s5.Rope(this.game, t, k, j, o, e));
        },
        text: function(t, k, j, o, e) {
            if (typeof e === d6t.k43) {
                e = this.world;
            }
            return e.add(new s5.Text(this.game, t, k, j, o));
        },
        button: function(t, k, j, o, e, q, m, k5, C5, H5) {
            if (typeof H5 === d6t.k43) {
                H5 = this.world;
            }
            return H5.add(new s5.Button(this.game, t, k, j, o, e, q, m, k5, C5));
        },
        graphics: function(t, k, j) {
            if (typeof j === d6t.k43) {
                j = this.world;
            }
            return j.add(new s5.Graphics(this.game, t, k));
        },
        emitter: function(t, k, j) {
            return this.game.particles.add(new s5.Particles.Arcade.Emitter(this.game, t, k, j));
        },
        retroFont: function(t, k, j, o, e, q, m, k5, C5) {
            return new s5.RetroFont(this.game, t, k, j, o, e, q, m, k5, C5);
        },
        bitmapText: function(t, k, j, o, e, q) {
            if (typeof q === d6t.k43) {
                q = this.world;
            }
            return q.add(new s5.BitmapText(this.game, t, k, j, o, e));
        },
        tilemap: function(t, k, j, o, e) {
            return new s5.Tilemap(this.game, t, k, j, o, e);
        },
        renderTexture: function(t, k, j, o) {
            if (typeof j === d6t.k43 || j === d6t.I6x) {
                j = this.game.rnd.uuid();
            }
            if (typeof o === d6t.k43) {
                o = d6t.F18;
            }
            var e = new s5.RenderTexture(this.game, t, k, j);
            if (o) {
                this.game.cache.addRenderTexture(j, e);
            }
            return e;
        },
        bitmapData: function(t, k, j, o) {
            if (typeof o === d6t.k43) {
                o = d6t.F18;
            }
            if (typeof j === d6t.k43 || j === d6t.I6x) {
                j = this.game.rnd.uuid();
            }
            var e = new s5.BitmapData(this.game, j, t, k);
            if (o) {
                this.game.cache.addBitmapData(j, e);
            }
            return e;
        },
        filter: function(t) {
            var k = Array.prototype.splice.call(arguments, d6t.A6),
                t = new s5.Filter[t](this.game);
            t.init.apply(t, k);
            return t;
        },
        plugin: function(t) {
            return this.game.plugins.add(t);
        }
    };
    s5.GameObjectFactory.prototype.constructor = s5.GameObjectFactory;
    s5.GameObjectCreator = function(game) {
        this.game = game;
        this.world = this.game.world;
    };
    s5.GameObjectCreator.prototype = {
        image: function(t, k, j, o) {
            return new s5.Image(this.game, t, k, j, o);
        },
        sprite: function(t, k, j, o) {
            return new s5.Sprite(this.game, t, k, j, o);
        },
        tween: function(t) {
            return new s5.Tween(t, this.game);
        },
        group: function(t, k, j, o, e) {
            return new s5.Group(this.game, d6t.B3x, k, j, o, e);
        },
        spriteBatch: function(t, k, j) {
            if (typeof k === d6t.k43) {
                k = c7;
            }
            if (typeof j === d6t.k43) {
                j = d6t.F18;
            }
            return new s5.SpriteBatch(this.game, t, k, j);
        },
        audio: function(t, k, j, o) {
            return this.game.sound.add(t, k, j, o);
        },
        audioSprite: function(t) {
            return this.game.sound.addSprite(t);
        },
        sound: function(t, k, j, o) {
            return this.game.sound.add(t, k, j, o);
        },
        tileSprite: function(t, k, j, o, e, q) {
            return new s5.TileSprite(this.game, t, k, j, o, e, q);
        },
        rope: function(t, k, j, o, e) {
            return new s5.Rope(this.game, t, k, j, o, e);
        },
        text: function(t, k, j, o) {
            return new s5.Text(this.game, t, k, j, o);
        },
        button: function(t, k, j, o, e, q, m, k5, C5) {
            return new s5.Button(this.game, t, k, j, o, e, q, m, k5, C5);
        },
        graphics: function(t, k) {
            return new s5.Graphics(this.game, t, k);
        },
        emitter: function(t, k, j) {
            return new s5.Particles.Arcade.Emitter(this.game, t, k, j);
        },
        retroFont: function(t, k, j, o, e, q, m, k5, C5) {
            return new s5.RetroFont(this.game, t, k, j, o, e, q, m, k5, C5);
        },
        bitmapText: function(t, k, j, o, e) {
            return new s5.BitmapText(this.game, t, k, j, o, e);
        },
        tilemap: function(t, k, j, o, e) {
            return new s5.Tilemap(this.game, t, k, j, o, e);
        },
        renderTexture: function(t, k, j, o) {
            if (typeof j === d6t.k43 || j === d6t.I6x) {
                j = this.game.rnd.uuid();
            }
            if (typeof o === d6t.k43) {
                o = d6t.F18;
            }
            var e = new s5.RenderTexture(this.game, t, k, j);
            if (o) {
                this.game.cache.addRenderTexture(j, e);
            }
            return e;
        },
        bitmapData: function(t, k, j, o) {
            if (typeof o === d6t.k43) {
                o = d6t.F18;
            }
            if (typeof j === d6t.k43 || j === d6t.I6x) {
                j = this.game.rnd.uuid();
            }
            var e = new s5.BitmapData(this.game, j, t, k);
            if (o) {
                this.game.cache.addBitmapData(j, e);
            }
            return e;
        },
        filter: function(t) {
            var k = Array.prototype.splice.call(arguments, d6t.A6),
                t = new s5.Filter[t](this.game);
            t.init.apply(t, k);
            return t;
        }
    };
    s5.GameObjectCreator.prototype.constructor = s5.GameObjectCreator;
    s5.BitmapData = function(game, k, j, o) {
        var e = 'bitmapData';
        if (typeof j === d6t.k43) {
            j = d6t.k8;
        }
        if (typeof o === d6t.k43) {
            o = d6t.k8;
        }
        this.game = game;
        this.key = k;
        this.width = j;
        this.height = o;
        this.canvas = s5.Canvas.create(j, o, d6t.I6x, d6t.s73);
        this.context = this.canvas.getContext(d6t.J8);
        this.ctx = this.context;
        this.imageData = this.context.getImageData(d6t.W6, d6t.W6, j, o);
        this.data = this.imageData.data;
        this.pixels = d6t.B3x;
        if (this.imageData.data.buffer) {
            this.buffer = this.imageData.data.buffer;
            this.pixels = new Uint32Array(this.buffer);
        } else {
            if (window[I3]) {
                this.buffer = new ArrayBuffer(this.imageData.data.length);
                this.pixels = new Uint32Array(this.buffer);
            } else {
                this.pixels = this.imageData.data;
            }
        }
        this.baseTexture = new PIXI.BaseTexture(this.canvas);
        this.texture = new PIXI.Texture(this.baseTexture);
        this.textureFrame = new s5.Frame(d6t.W6, d6t.W6, d6t.W6, j, o, e, game.rnd.uuid());
        this.texture.frame = this.textureFrame;
        this.type = s5.BITMAPDATA;
        this.disableTextureUpload = d6t.F18;
        this.dirty = d6t.F18;
        this.cls = this.clear;
        this._image = d6t.B3x;
        this._pos = new s5.Point();
        this._size = new s5.Point();
        this._scale = new s5.Point();
        this._rotate = d6t.W6;
        this._alpha = {
            prev: d6t.A6,
            current: d6t.A6
        };
        this._anchor = new s5.Point();
        this._tempR = d6t.W6;
        this._tempG = d6t.W6;
        this._tempB = d6t.W6;
        this._circle = new s5.Circle();
    };
    s5.BitmapData.prototype = {
        add: function(t) {
            var k = 'loadTexture';
            if (Array.isArray(t)) {
                for (var j = d6t.W6; j < t.length; j++) {
                    if (t[j][k]) {
                        t[j].loadTexture(this);
                    }
                }
            } else {
                t.loadTexture(this);
            }
            return this;
        },
        load: function(t) {
            if (typeof t === d6t.F78) {
                t = this.game.cache.getImage(t);
            }
            if (t) {
                this.resize(t.width, t.height);
                this.cls();
            } else {
                return;
            }
            this.draw(t);
            this.update();
            return this;
        },
        clear: function() {
            this.context.clearRect(d6t.W6, d6t.W6, this.width, this.height);
            this.dirty = d6t.s73;
            return this;
        },
        fill: function(t, k, j, o) {
            if (typeof o === d6t.k43) {
                o = d6t.A6;
            }
            this.context.fillStyle = s3 + t + d6t.H23 + k + d6t.H23 + j + d6t.H23 + o + d6t.A13;
            this.context.fillRect(d6t.W6, d6t.W6, this.width, this.height);
            this.dirty = d6t.s73;
            return this;
        },
        resize: function(t, k) {
            if (t !== this.width || k !== this.height) {
                this.width = t;
                this.height = k;
                this.canvas.width = t;
                this.canvas.height = k;
                this.baseTexture.width = t;
                this.baseTexture.height = k;
                this.textureFrame.width = t;
                this.textureFrame.height = k;
                this.texture.width = t;
                this.texture.height = k;
                this.texture.crop.width = t;
                this.texture.crop.height = k;
                this.update();
                this.dirty = d6t.s73;
            }
            return this;
        },
        update: function(t, k, j, o) {
            if (typeof t === d6t.k43) {
                t = d6t.W6;
            }
            if (typeof k === d6t.k43) {
                k = d6t.W6;
            }
            if (typeof j === d6t.k43) {
                j = this.width;
            }
            if (typeof o === d6t.k43) {
                o = this.height;
            }
            this.imageData = this.context.getImageData(t, k, j, o);
            this.data = this.imageData.data;
            if (this.imageData.data.buffer) {
                this.buffer = this.imageData.data.buffer;
                this.pixels = new Uint32Array(this.buffer);
            } else {
                if (window[I3]) {
                    this.buffer = new ArrayBuffer(this.imageData.data.length);
                    this.pixels = new Uint32Array(this.buffer);
                } else {
                    this.pixels = this.imageData.data;
                }
            }
            return this;
        },
        processPixelRGB: function(t, k, j, o, e, q) {
            if (typeof j === d6t.k43) {
                j = d6t.W6;
            }
            if (typeof o === d6t.k43) {
                o = d6t.W6;
            }
            if (typeof e === d6t.k43) {
                e = this.width;
            }
            if (typeof q === d6t.k43) {
                q = this.height;
            }
            var m = j + e,
                k5 = o + q,
                C5 = s5.Color.createColor(),
                H5 = {
                    r: d6t.W6,
                    g: d6t.W6,
                    b: d6t.W6,
                    a: d6t.W6
                },
                j5 = d6t.F18;
            for (var Y5 = o; Y5 < k5; Y5++) {
                for (var z5 = j; z5 < m; z5++) {
                    s5.Color.unpackPixel(this.getPixel32(z5, Y5), C5);
                    H5 = t.call(k, C5, z5, Y5);
                    if (H5 !== d6t.F18 && H5 !== d6t.B3x && H5 !== undefined) {
                        this.setPixel32(z5, Y5, H5.r, H5.g, H5.b, H5.a, d6t.F18);
                        j5 = d6t.s73;
                    }
                }
            }
            if (j5) {
                this.context.putImageData(this.imageData, d6t.W6, d6t.W6);
                this.dirty = d6t.s73;
            }
            return this;
        },
        processPixel: function(t, k, j, o, e, q) {
            if (typeof j === d6t.k43) {
                j = d6t.W6;
            }
            if (typeof o === d6t.k43) {
                o = d6t.W6;
            }
            if (typeof e === d6t.k43) {
                e = this.width;
            }
            if (typeof q === d6t.k43) {
                q = this.height;
            }
            var m = j + e,
                k5 = o + q,
                C5 = d6t.W6,
                H5 = d6t.W6,
                j5 = d6t.F18;
            for (var Y5 = o; Y5 < k5; Y5++) {
                for (var z5 = j; z5 < m; z5++) {
                    C5 = this.getPixel32(z5, Y5);
                    H5 = t.call(k, C5, z5, Y5);
                    if (H5 !== C5) {
                        this.pixels[Y5 * this.width + z5] = H5;
                        j5 = d6t.s73;
                    }
                }
            }
            if (j5) {
                this.context.putImageData(this.imageData, d6t.W6, d6t.W6);
                this.dirty = d6t.s73;
            }
            return this;
        },
        replaceRGB: function(t, k, j, o, e, q, m, k5, C5) {
            var H5 = d6t.W6,
                j5 = d6t.W6,
                Y5 = this.width,
                z5 = this.height,
                P5 = s5.Color.packPixel(t, k, j, o);
            if (C5 !== undefined && C5 instanceof s5.Rectangle) {
                H5 = C5.x;
                j5 = C5.y;
                Y5 = C5.width;
                z5 = C5.height;
            }
            for (var p5 = d6t.W6; p5 < z5; p5++) {
                for (var w5 = d6t.W6; w5 < Y5; w5++) {
                    if (this.getPixel32(H5 + w5, j5 + p5) === P5) {
                        this.setPixel32(H5 + w5, j5 + p5, e, q, m, k5, d6t.F18);
                    }
                }
            }
            this.context.putImageData(this.imageData, d6t.W6, d6t.W6);
            this.dirty = d6t.s73;
            return this;
        },
        setHSL: function(t, k, j, o) {
            if (typeof t === d6t.k43 || t === d6t.B3x) {
                t = d6t.F18;
            }
            if (typeof k === d6t.k43 || k === d6t.B3x) {
                k = d6t.F18;
            }
            if (typeof j === d6t.k43 || j === d6t.B3x) {
                j = d6t.F18;
            }
            if (!t && !k && !j) {
                return;
            }
            if (typeof o === d6t.k43) {
                o = new s5.Rectangle(d6t.W6, d6t.W6, this.width, this.height);
            }
            var e = s5.Color.createColor();
            for (var q = o.y; q < o.bottom; q++) {
                for (var m = o.x; m < o.right; m++) {
                    s5.Color.unpackPixel(this.getPixel32(m, q), e, d6t.s73);
                    if (t) {
                        e.h = t;
                    }
                    if (k) {
                        e.s = k;
                    }
                    if (j) {
                        e.l = j;
                    }
                    s5.Color.HSLtoRGB(e.h, e.s, e.l, e);
                    this.setPixel32(m, q, e.r, e.g, e.b, e.a, d6t.F18);
                }
            }
            this.context.putImageData(this.imageData, d6t.W6, d6t.W6);
            this.dirty = d6t.s73;
            return this;
        },
        shiftHSL: function(t, k, j, o) {
            if (typeof t === d6t.k43 || t === d6t.B3x) {
                t = d6t.F18;
            }
            if (typeof k === d6t.k43 || k === d6t.B3x) {
                k = d6t.F18;
            }
            if (typeof j === d6t.k43 || j === d6t.B3x) {
                j = d6t.F18;
            }
            if (!t && !k && !j) {
                return;
            }
            if (typeof o === d6t.k43) {
                o = new s5.Rectangle(d6t.W6, d6t.W6, this.width, this.height);
            }
            var e = s5.Color.createColor();
            for (var q = o.y; q < o.bottom; q++) {
                for (var m = o.x; m < o.right; m++) {
                    s5.Color.unpackPixel(this.getPixel32(m, q), e, d6t.s73);
                    if (t) {
                        e.h = this.game.math.wrap(e.h + t, d6t.W6, d6t.A6);
                    }
                    if (k) {
                        e.s = this.game.math.limitValue(e.s + k, d6t.W6, d6t.A6);
                    }
                    if (j) {
                        e.l = this.game.math.limitValue(e.l + j, d6t.W6, d6t.A6);
                    }
                    s5.Color.HSLtoRGB(e.h, e.s, e.l, e);
                    this.setPixel32(m, q, e.r, e.g, e.b, e.a, d6t.F18);
                }
            }
            this.context.putImageData(this.imageData, d6t.W6, d6t.W6);
            this.dirty = d6t.s73;
            return this;
        },
        setPixel32: function(t, k, j, o, e, q, m) {
            if (typeof m === d6t.k43) {
                m = d6t.s73;
            }
            if (t >= d6t.W6 && t <= this.width && k >= d6t.W6 && k <= this.height) {
                if (s5.Device.LITTLE_ENDIAN) {
                    this.pixels[k * this.width + t] = (q << d6t.q7x) | (e << d6t.M7x) | (o << d6t.d6) | j;
                } else {
                    this.pixels[k * this.width + t] = (j << d6t.q7x) | (o << d6t.M7x) | (e << d6t.d6) | q;
                }
                if (m) {
                    this.context.putImageData(this.imageData, d6t.W6, d6t.W6);
                    this.dirty = d6t.s73;
                }
            }
            return this;
        },
        setPixel: function(t, k, j, o, e, q) {
            return this.setPixel32(t, k, j, o, e, d6t.s8, q);
        },
        getPixel: function(t, k, j) {
            if (!j) {
                j = s5.Color.createColor();
            }
            var o = ~~(t + (k * this.width));
            o *= d6t.M6;
            j.r = this.data[o];
            j.g = this.data[++o];
            j.b = this.data[++o];
            j.a = this.data[++o];
            return j;
        },
        getPixel32: function(t, k) {
            if (t >= d6t.W6 && t <= this.width && k >= d6t.W6 && k <= this.height) {
                return this.pixels[k * this.width + t];
            }
        },
        getPixelRGB: function(t, k, j, o, e) {
            return s5.Color.unpackPixel(this.getPixel32(t, k), j, o, e);
        },
        getPixels: function(t) {
            return this.context.getImageData(t.x, t.y, t.width, t.height);
        },
        getFirstPixel: function(t) {
            if (typeof t === d6t.k43) {
                t = d6t.W6;
            }
            var k = s5.Color.createColor(),
                j = d6t.W6,
                o = d6t.W6,
                e = d6t.A6,
                q = d6t.F18;
            if (t === d6t.A6) {
                e = -d6t.A6;
                o = this.height;
            } else if (t === d6t.B6) {
                e = -d6t.A6;
                j = this.width;
            }
            do {
                s5.Color.unpackPixel(this.getPixel32(j, o), k);
                if (t === d6t.W6 || t === d6t.A6) {
                    j++;
                    if (j === this.width) {
                        j = d6t.W6;
                        o += e;
                        if (o >= this.height || o <= d6t.W6) {
                            q = d6t.s73;
                        }
                    }
                } else if (t === d6t.D6 || t === d6t.B6) {
                    o++;
                    if (o === this.height) {
                        o = d6t.W6;
                        j += e;
                        if (j >= this.width || j <= d6t.W6) {
                            q = d6t.s73;
                        }
                    }
                }
            } while (k.a === d6t.W6 && !q);
            k.x = j;
            k.y = o;
            return k;
        },
        getBounds: function(t) {
            if (typeof t === d6t.k43) {
                t = new s5.Rectangle();
            }
            t.x = this.getFirstPixel(d6t.D6).x;
            if (t.x === this.width) {
                return t.setTo(d6t.W6, d6t.W6, d6t.W6, d6t.W6);
            }
            t.y = this.getFirstPixel(d6t.W6).y;
            t.width = (this.getFirstPixel(d6t.B6).x - t.x) + d6t.A6;
            t.height = (this.getFirstPixel(d6t.A6).y - t.y) + d6t.A6;
            return t;
        },
        addToWorld: function(t, k, j, o, e, q) {
            e = e || d6t.A6;
            q = q || d6t.A6;
            var m = this.game.add.image(t, k, this);
            m.anchor.set(j, o);
            m.scale.set(e, q);
            return m;
        },
        copy: function(t, k, j, o, e, q, m, k5, C5, H5, j5, Y5, z5, P5, p5, w5, R5) {
            if (typeof t === d6t.k43 || t === d6t.B3x) {
                t = this;
            }
            this._image = t;
            if (t instanceof s5.Sprite || t instanceof s5.Image || t instanceof s5.Text) {
                this._pos.set(t.texture.crop.x, t.texture.crop.y);
                this._size.set(t.texture.crop.width, t.texture.crop.height);
                this._scale.set(t.scale.x, t.scale.y);
                this._anchor.set(t.anchor.x, t.anchor.y);
                this._rotate = t.rotation;
                this._alpha.current = t.alpha;
                this._image = t.texture.baseTexture.source;
                if (t.texture.trim) {
                    q += t.texture.trim.x - t.anchor.x * t.texture.trim.width;
                    m += t.texture.trim.y - t.anchor.y * t.texture.trim.height;
                }
                if (t.tint !== 0xFFFFFF) {
                    if (t.cachedTint !== t.tint) {
                        t.cachedTint = t.tint;
                        t.tintedTexture = PIXI.CanvasTinter.getTintedTexture(t, t.tint);
                    }
                    this._image = t.tintedTexture;
                }
            } else {
                this._pos.set(d6t.W6);
                this._scale.set(d6t.A6);
                this._anchor.set(d6t.W6);
                this._rotate = d6t.W6;
                this._alpha.current = d6t.A6;
                if (t instanceof s5.BitmapData) {
                    this._image = t.canvas;
                } else if (typeof t === d6t.F78) {
                    t = this.game.cache.getImage(t);
                    if (t === d6t.B3x) {
                        return;
                    } else {
                        this._image = t;
                    }
                }
                this._size.set(this._image.width, this._image.height);
            }
            if (typeof k === d6t.k43 || k === d6t.B3x) {
                k = d6t.W6;
            }
            if (typeof j === d6t.k43 || j === d6t.B3x) {
                j = d6t.W6;
            }
            if (o) {
                this._size.x = o;
            }
            if (e) {
                this._size.y = e;
            }
            if (typeof q === d6t.k43 || q === d6t.B3x) {
                q = k;
            }
            if (typeof m === d6t.k43 || m === d6t.B3x) {
                m = j;
            }
            if (typeof k5 === d6t.k43 || k5 === d6t.B3x) {
                k5 = this._size.x;
            }
            if (typeof C5 === d6t.k43 || C5 === d6t.B3x) {
                C5 = this._size.y;
            }
            if (typeof H5 === d6t.F3B) {
                this._rotate = H5;
            }
            if (typeof j5 === d6t.F3B) {
                this._anchor.x = j5;
            }
            if (typeof Y5 === d6t.F3B) {
                this._anchor.y = Y5;
            }
            if (typeof z5 === d6t.F3B) {
                this._scale.x = z5;
            }
            if (typeof P5 === d6t.F3B) {
                this._scale.y = P5;
            }
            if (typeof p5 === d6t.F3B) {
                this._alpha.current = p5;
            }
            if (typeof w5 === d6t.k43) {
                w5 = d6t.B3x;
            }
            if (typeof R5 === d6t.k43) {
                R5 = d6t.F18;
            }
            if (this._alpha.current <= d6t.W6 || this._scale.x === d6t.W6 || this._scale.y === d6t.W6 || this._size.x === d6t.W6 || this._size.y === d6t.W6) {
                return;
            }
            this._alpha.prev = this.context.globalAlpha;
            this.context.save();
            this.context.globalAlpha = this._alpha.current;
            if (w5) {
                this.context.globalCompositeOperation = w5;
            }
            if (R5) {
                q |= d6t.W6;
                m |= d6t.W6;
            }
            this.context.translate(q, m);
            this.context.scale(this._scale.x, this._scale.y);
            this.context.rotate(this._rotate);
            this.context.drawImage(this._image, this._pos.x + k, this._pos.y + j, this._size.x, this._size.y, -k5 * this._anchor.x, -C5 * this._anchor.y, k5, C5);
            this.context.restore();
            this.context.globalAlpha = this._alpha.prev;
            this.dirty = d6t.s73;
            return this;
        },
        copyRect: function(t, k, j, o, e, q, m) {
            return this.copy(t, k.x, k.y, k.width, k.height, j, o, k.width, k.height, d6t.W6, d6t.W6, d6t.W6, d6t.A6, d6t.A6, e, q, m);
        },
        draw: function(t, k, j, o, e, q, m) {
            return this.copy(t, d6t.B3x, d6t.B3x, d6t.B3x, d6t.B3x, k, j, o, e, d6t.B3x, d6t.B3x, d6t.B3x, d6t.B3x, d6t.B3x, d6t.B3x, q, m);
        },
        shadow: function(t, k, j, o) {
            if (typeof t === d6t.k43 || t === d6t.B3x) {
                this.context.shadowColor = g3;
            } else {
                this.context.shadowColor = t;
                this.context.shadowBlur = k || d6t.U6;
                this.context.shadowOffsetX = j || d6t.x7x;
                this.context.shadowOffsetY = o || d6t.x7x;
            }
        },
        alphaMask: function(t, k, j, o) {
            if (typeof o === d6t.k43 || o === d6t.B3x) {
                this.draw(k).blendSourceAtop();
            } else {
                this.draw(k, o.x, o.y, o.width, o.height).blendSourceAtop();
            }
            if (typeof j === d6t.k43 || j === d6t.B3x) {
                this.draw(t).blendReset();
            } else {
                this.draw(t, j.x, j.y, j.width, j.height).blendReset();
            }
            return this;
        },
        extract: function(o, e, q, m, k5, C5, H5, j5, Y5) {
            if (typeof k5 === d6t.k43) {
                k5 = d6t.s8;
            }
            if (typeof C5 === d6t.k43) {
                C5 = d6t.F18;
            }
            if (typeof H5 === d6t.k43) {
                H5 = e;
            }
            if (typeof j5 === d6t.k43) {
                j5 = q;
            }
            if (typeof Y5 === d6t.k43) {
                Y5 = m;
            }
            if (C5) {
                o.resize(this.width, this.height);
            }
            this.processPixelRGB(function(t, k, j) {
                if (t.r === e && t.g === q && t.b === m) {
                    o.setPixel32(k, j, H5, j5, Y5, k5, d6t.F18);
                }
                return d6t.F18;
            }, this);
            o.context.putImageData(o.imageData, d6t.W6, d6t.W6);
            o.dirty = d6t.s73;
            return o;
        },
        rect: function(t, k, j, o, e) {
            if (typeof e !== d6t.k43) {
                this.context.fillStyle = e;
            }
            this.context.fillRect(t, k, j, o);
            return this;
        },
        circle: function(t, k, j, o) {
            if (typeof o !== d6t.k43) {
                this.context.fillStyle = o;
            }
            this.context.beginPath();
            this.context.arc(t, k, j, d6t.W6, Math.PI * d6t.D6, d6t.F18);
            this.context.closePath();
            this.context.fill();
            return this;
        },
        textureLine: function(t, k, j) {
            var o = (84 < (6.29E2, 67) ? h : (0x64, 0x11B) <= 14.22E2 ? (0x24E, 1.5707963267948966) : (0x128, 0x1B7)),
                e = 'no-repeat',
                q = 'repeat-x';
            if (typeof j === d6t.k43) {
                j = q;
            }
            if (typeof k === d6t.F78) {
                k = this.game.cache.getImage(k);
                if (!k) {
                    return;
                }
            }
            var m = t.length;
            if (j === e && m > k.width) {
                m = k.width;
            }
            this.context.fillStyle = this.context.createPattern(k, j);
            this._circle = new s5.Circle(t.start.x, t.start.y, k.height);
            this._circle.circumferencePoint(t.angle - o, d6t.F18, this._pos);
            this.context.save();
            this.context.translate(this._pos.x, this._pos.y);
            this.context.rotate(t.angle);
            this.context.fillRect(d6t.W6, d6t.W6, m, k.height);
            this.context.restore();
            this.dirty = d6t.s73;
            return this;
        },
        render: function() {
            if (!this.disableTextureUpload && this.dirty) {
                this.baseTexture.dirty();
                this.dirty = d6t.F18;
            }
            return this;
        },
        blendReset: function() {
            this.context.globalCompositeOperation = X3;
            return this;
        },
        blendSourceOver: function() {
            this.context.globalCompositeOperation = X3;
            return this;
        },
        blendSourceIn: function() {
            var t = 'source-in';
            this.context.globalCompositeOperation = t;
            return this;
        },
        blendSourceOut: function() {
            var t = 'source-out';
            this.context.globalCompositeOperation = t;
            return this;
        },
        blendSourceAtop: function() {
            var t = 'source-atop';
            this.context.globalCompositeOperation = t;
            return this;
        },
        blendDestinationOver: function() {
            var t = 'destination-over';
            this.context.globalCompositeOperation = t;
            return this;
        },
        blendDestinationIn: function() {
            var t = 'destination-in';
            this.context.globalCompositeOperation = t;
            return this;
        },
        blendDestinationOut: function() {
            var t = 'destination-out';
            this.context.globalCompositeOperation = t;
            return this;
        },
        blendDestinationAtop: function() {
            var t = 'destination-atop';
            this.context.globalCompositeOperation = t;
            return this;
        },
        blendXor: function() {
            var t = 'xor';
            this.context.globalCompositeOperation = t;
            return this;
        },
        blendAdd: function() {
            var t = 'lighter';
            this.context.globalCompositeOperation = t;
            return this;
        },
        blendMultiply: function() {
            this.context.globalCompositeOperation = d6t.N33;
            return this;
        },
        blendScreen: function() {
            var t = 'screen';
            this.context.globalCompositeOperation = t;
            return this;
        },
        blendOverlay: function() {
            var t = 'overlay';
            this.context.globalCompositeOperation = t;
            return this;
        },
        blendDarken: function() {
            var t = 'darken';
            this.context.globalCompositeOperation = t;
            return this;
        },
        blendLighten: function() {
            var t = 'lighten';
            this.context.globalCompositeOperation = t;
            return this;
        },
        blendColorDodge: function() {
            var t = 'color-dodge';
            this.context.globalCompositeOperation = t;
            return this;
        },
        blendColorBurn: function() {
            var t = 'color-burn';
            this.context.globalCompositeOperation = t;
            return this;
        },
        blendHardLight: function() {
            var t = 'hard-light';
            this.context.globalCompositeOperation = t;
            return this;
        },
        blendSoftLight: function() {
            var t = 'soft-light';
            this.context.globalCompositeOperation = t;
            return this;
        },
        blendDifference: function() {
            var t = 'difference';
            this.context.globalCompositeOperation = t;
            return this;
        },
        blendExclusion: function() {
            var t = 'exclusion';
            this.context.globalCompositeOperation = t;
            return this;
        },
        blendHue: function() {
            var t = 'hue';
            this.context.globalCompositeOperation = t;
            return this;
        },
        blendSaturation: function() {
            var t = 'saturation';
            this.context.globalCompositeOperation = t;
            return this;
        },
        blendColor: function() {
            this.context.globalCompositeOperation = d6t.k38;
            return this;
        },
        blendLuminosity: function() {
            var t = 'luminosity';
            this.context.globalCompositeOperation = t;
            return this;
        }
    };
    Object.defineProperty(s5.BitmapData.prototype, u7, {
        get: function() {
            s5.Canvas.getSmoothingEnabled(this.context);
        },
        set: function(t) {
            s5.Canvas.setSmoothingEnabled(this.context, t);
        }
    });
    s5.BitmapData.getTransform = function(t, k, j, o, e, q) {
        if (typeof t !== d6t.F3B) {
            t = d6t.W6;
        }
        if (typeof k !== d6t.F3B) {
            k = d6t.W6;
        }
        if (typeof j !== d6t.F3B) {
            j = d6t.A6;
        }
        if (typeof o !== d6t.F3B) {
            o = d6t.A6;
        }
        if (typeof e !== d6t.F3B) {
            e = d6t.W6;
        }
        if (typeof q !== d6t.F3B) {
            q = d6t.W6;
        }
        return {
            sx: j,
            sy: o,
            scaleX: j,
            scaleY: o,
            skewX: e,
            skewY: q,
            translateX: t,
            translateY: k,
            tx: t,
            ty: k
        };
    };
    s5.BitmapData.prototype.constructor = s5.BitmapData;
    s5.Sprite = function(game, k, j, o, e) {
        k = k || d6t.W6;
        j = j || d6t.W6;
        o = o || d6t.B3x;
        e = e || d6t.B3x;
        this.game = game;
        this.name = d6t.I6x;
        this.type = s5.SPRITE;
        this.z = d6t.W6;
        this.events = new s5.Events(this);
        this.animations = new s5.AnimationManager(this);
        this.key = o;
        PIXI.Sprite.call(this, PIXI.TextureCache[d6t.U03]);
        this.position.set(k, j);
        this.world = new s5.Point(k, j);
        this.autoCull = d6t.F18;
        this.input = d6t.B3x;
        this.body = d6t.B3x;
        this.alive = d6t.s73;
        this.health = d6t.A6;
        this.lifespan = d6t.W6;
        this.checkWorldBounds = d6t.F18;
        this.outOfBoundsKill = d6t.F18;
        this.debug = d6t.F18;
        this.cameraOffset = new s5.Point();
        this.cropRect = d6t.B3x;
        this._cache = [d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.A6, d6t.W6, d6t.A6, d6t.W6];
        this._crop = d6t.B3x;
        this._frame = d6t.B3x;
        this._bounds = new s5.Rectangle();
        this.loadTexture(o, e);
    };
    s5.Sprite.prototype = Object.create(PIXI.Sprite.prototype);
    s5.Sprite.prototype.constructor = s5.Sprite;
    s5.Sprite.prototype.preUpdate = function() {
        if (this._cache[d6t.M6] === d6t.A6 && this.exists) {
            this.world.setTo(this.parent.position.x + this.position.x, this.parent.position.y + this.position.y);
            this.worldTransform.tx = this.world.x;
            this.worldTransform.ty = this.world.y;
            this._cache[d6t.W6] = this.world.x;
            this._cache[d6t.A6] = this.world.y;
            this._cache[d6t.D6] = this.rotation;
            if (this.body) {
                this.body.preUpdate();
            }
            this._cache[d6t.M6] = d6t.W6;
            return d6t.F18;
        }
        this._cache[d6t.W6] = this.world.x;
        this._cache[d6t.A6] = this.world.y;
        this._cache[d6t.D6] = this.rotation;
        if (!this.exists || !this.parent.exists) {
            this._cache[d6t.B6] = -d6t.A6;
            return d6t.F18;
        }
        if (this.lifespan > d6t.W6) {
            this.lifespan -= this.game.time.elapsed;
            if (this.lifespan <= d6t.W6) {
                this.kill();
                return d6t.F18;
            }
        }
        if (this.autoCull || this.checkWorldBounds) {
            this._bounds.copyFrom(this.getBounds());
        }
        if (this.autoCull) {
            this.renderable = this.game.world.camera.screenView.intersects(this._bounds);
        }
        if (this.checkWorldBounds) {
            if (this._cache[d6t.U6] === d6t.A6 && this.game.world.bounds.intersects(this._bounds)) {
                this._cache[d6t.U6] = d6t.W6;
                this.events.onEnterBounds.dispatch(this);
            } else if (this._cache[d6t.U6] === d6t.W6 && !this.game.world.bounds.intersects(this._bounds)) {
                this._cache[d6t.U6] = d6t.A6;
                this.events.onOutOfBounds.dispatch(this);
                if (this.outOfBoundsKill) {
                    this.kill();
                    return d6t.F18;
                }
            }
        }
        this.world.setTo(this.game.camera.x + this.worldTransform.tx, this.game.camera.y + this.worldTransform.ty);
        if (this.visible) {
            this._cache[d6t.B6] = this.game.stage.currentRenderOrderID++;
        }
        this.animations.update();
        if (this.body) {
            this.body.preUpdate();
        }
        for (var t = d6t.W6, k = this.children.length; t < k; t++) {
            this.children[t].preUpdate();
        }
        return d6t.s73;
    };
    s5.Sprite.prototype.update = function() {};
    s5.Sprite.prototype.postUpdate = function() {
        if (this.key instanceof s5.BitmapData) {
            this.key.render();
        }
        if (this.exists && this.body) {
            this.body.postUpdate();
        }
        if (this._cache[d6t.v6] === d6t.A6) {
            this.position.x = (this.game.camera.view.x + this.cameraOffset.x) / this.game.camera.scale.x;
            this.position.y = (this.game.camera.view.y + this.cameraOffset.y) / this.game.camera.scale.y;
        }
        for (var t = d6t.W6, k = this.children.length; t < k; t++) {
            this.children[t].postUpdate();
        }
    };
    s5.Sprite.prototype.loadTexture = function(t, k, j) {
        k = k || d6t.W6;
        if (j || typeof j === d6t.k43) {
            this.animations.stop();
        }
        this.key = t;
        var o = d6t.s73,
            e = this.smoothed;
        if (t instanceof s5.RenderTexture) {
            this.key = t.key;
            this.setTexture(t);
        } else if (t instanceof s5.BitmapData) {
            this.setTexture(t.texture);
            if (this.game.cache.getFrameData(t.key, s5.Cache.BITMAPDATA)) {
                o = !this.animations.loadFrameData(this.game.cache.getFrameData(t.key, s5.Cache.BITMAPDATA), k);
            }
        } else if (t instanceof PIXI.Texture) {
            this.setTexture(t);
        } else {
            if (t === d6t.B3x || typeof t === d6t.k43) {
                this.key = d6t.U03;
                this.setTexture(PIXI.TextureCache[this.key]);
            } else if (typeof t === d6t.F78 && !this.game.cache.checkImageKey(t)) {
                console.warn(o3 + t + W3);
                this.key = d6t.h3;
                this.setTexture(PIXI.TextureCache[this.key]);
            } else {
                this.setTexture(new PIXI.Texture(PIXI.BaseTextureCache[t]));
                o = !this.animations.loadFrameData(this.game.cache.getFrameData(t), k);
            }
        }
        this.texture.baseTexture.dirty();
        if (o) {
            this._frame = s5.Rectangle.clone(this.texture.frame);
        }
        if (!e) {
            this.smoothed = d6t.F18;
        }
    };
    s5.Sprite.prototype.setFrame = function(t) {
        this._frame = t;
        this.texture.frame.x = t.x;
        this.texture.frame.y = t.y;
        this.texture.frame.width = t.width;
        this.texture.frame.height = t.height;
        this.texture.crop.x = t.x;
        this.texture.crop.y = t.y;
        this.texture.crop.width = t.width;
        this.texture.crop.height = t.height;
        if (t.trimmed) {
            if (this.texture.trim) {
                this.texture.trim.x = t.spriteSourceSizeX;
                this.texture.trim.y = t.spriteSourceSizeY;
                this.texture.trim.width = t.sourceSizeW;
                this.texture.trim.height = t.sourceSizeH;
            } else {
                this.texture.trim = {
                    x: t.spriteSourceSizeX,
                    y: t.spriteSourceSizeY,
                    width: t.sourceSizeW,
                    height: t.sourceSizeH
                };
            }
            this.texture.width = t.sourceSizeW;
            this.texture.height = t.sourceSizeH;
            this.texture.frame.width = t.sourceSizeW;
            this.texture.frame.height = t.sourceSizeH;
        } else if (!t.trimmed && this.texture.trim) {
            this.texture.trim = d6t.B3x;
        }
        if (this.cropRect) {
            this.updateCrop();
        }
        this.texture._updateUvs();
    };
    s5.Sprite.prototype.resetFrame = function() {
        if (this._frame) {
            this.setFrame(this._frame);
        }
    };
    s5.Sprite.prototype.crop = function(t, k) {
        if (typeof k === d6t.k43) {
            k = d6t.F18;
        }
        if (t) {
            if (k && this.cropRect !== d6t.B3x) {
                this.cropRect.setTo(t.x, t.y, t.width, t.height);
            } else if (k && this.cropRect === d6t.B3x) {
                this.cropRect = new s5.Rectangle(t.x, t.y, t.width, t.height);
            } else {
                this.cropRect = t;
            }
            this.updateCrop();
        } else {
            this._crop = d6t.B3x;
            this.cropRect = d6t.B3x;
            this.resetFrame();
        }
    };
    s5.Sprite.prototype.updateCrop = function() {
        if (!this.cropRect) {
            return;
        }
        this._crop = s5.Rectangle.clone(this.cropRect, this._crop);
        this._crop.x += this._frame.x;
        this._crop.y += this._frame.y;
        var t = Math.max(this._frame.x, this._crop.x),
            k = Math.max(this._frame.y, this._crop.y),
            j = Math.min(this._frame.right, this._crop.right) - t,
            o = Math.min(this._frame.bottom, this._crop.bottom) - k;
        this.texture.crop.x = t;
        this.texture.crop.y = k;
        this.texture.crop.width = j;
        this.texture.crop.height = o;
        this.texture.frame.width = Math.min(j, this.cropRect.width);
        this.texture.frame.height = Math.min(o, this.cropRect.height);
        this.texture.width = this.texture.frame.width;
        this.texture.height = this.texture.frame.height;
        this.texture._updateUvs();
    };
    s5.Sprite.prototype.revive = function(t) {
        if (typeof t === d6t.k43) {
            t = d6t.A6;
        }
        this.alive = d6t.s73;
        this.exists = d6t.s73;
        this.visible = d6t.s73;
        this.health = t;
        if (this.events) {
            this.events.onRevived.dispatch(this);
        }
        return this;
    };
    s5.Sprite.prototype.kill = function() {
        this.alive = d6t.F18;
        this.exists = d6t.F18;
        this.visible = d6t.F18;
        if (this.events) {
            this.events.onKilled.dispatch(this);
        }
        return this;
    };
    s5.Sprite.prototype.destroy = function(t) {
        if (this.game === d6t.B3x || this._cache[d6t.d6] === d6t.A6) {
            return;
        }
        if (typeof t === d6t.k43) {
            t = d6t.s73;
        }
        this._cache[d6t.d6] = d6t.A6;
        if (this.events) {
            this.events.onDestroy.dispatch(this);
        }
        if (this.parent) {
            if (this.parent instanceof s5.Group) {
                this.parent.remove(this);
            } else {
                this.parent.removeChild(this);
            }
        }
        if (this.input) {
            this.input.destroy();
        }
        if (this.animations) {
            this.animations.destroy();
        }
        if (this.body) {
            this.body.destroy();
        }
        if (this.events) {
            this.events.destroy();
        }
        var k = this.children.length;
        if (t) {
            while (k--) {
                this.children[k].destroy(t);
            }
        } else {
            while (k--) {
                this.removeChild(this.children[k]);
            }
        }
        if (this._crop) {
            this._crop = d6t.B3x;
        }
        if (this._frame) {
            this._frame = d6t.B3x;
        }
        this.alive = d6t.F18;
        this.exists = d6t.F18;
        this.visible = d6t.F18;
        this.filters = d6t.B3x;
        this.mask = d6t.B3x;
        this.game = d6t.B3x;
        this._cache[d6t.d6] = d6t.W6;
    };
    s5.Sprite.prototype.damage = function(t) {
        if (this.alive) {
            this.health -= t;
            if (this.health <= d6t.W6) {
                this.kill();
            }
        }
        return this;
    };
    s5.Sprite.prototype.reset = function(t, k, j) {
        if (typeof j === d6t.k43) {
            j = d6t.A6;
        }
        this.world.setTo(t, k);
        this.position.x = t;
        this.position.y = k;
        this.alive = d6t.s73;
        this.exists = d6t.s73;
        this.visible = d6t.s73;
        this.renderable = d6t.s73;
        this._outOfBoundsFired = d6t.F18;
        this.health = j;
        if (this.body) {
            this.body.reset(t, k, d6t.F18, d6t.F18);
        }
        this._cache[d6t.M6] = d6t.A6;
        return this;
    };
    s5.Sprite.prototype.bringToTop = function() {
        if (this.parent) {
            this.parent.bringToTop(this);
        }
        return this;
    };
    s5.Sprite.prototype.play = function(t, k, j, o) {
        if (this.animations) {
            return this.animations.play(t, k, j, o);
        }
    };
    s5.Sprite.prototype.overlap = function(t) {
        return s5.Rectangle.intersects(this.getBounds(), t.getBounds());
    };
    Object.defineProperty(s5.Sprite.prototype, d6t.F1f, {
        get: function() {
            return s5.Math.wrapAngle(s5.Math.radToDeg(this.rotation));
        },
        set: function(t) {
            this.rotation = s5.Math.degToRad(s5.Math.wrapAngle(t));
        }
    });
    Object.defineProperty(s5.Sprite.prototype, S3, {
        get: function() {
            return this.world.x - this._cache[d6t.W6];
        }
    });
    Object.defineProperty(s5.Sprite.prototype, v3, {
        get: function() {
            return this.world.y - this._cache[d6t.A6];
        }
    });
    Object.defineProperty(s5.Sprite.prototype, G3, {
        get: function() {
            return this.rotation - this._cache[d6t.D6];
        }
    });
    Object.defineProperty(s5.Sprite.prototype, J3, {
        get: function() {
            return this.game.world.bounds.intersects(this.getBounds());
        }
    });
    Object.defineProperty(s5.Sprite.prototype, N3, {
        get: function() {
            return this.game.world.camera.screenView.intersects(this.getBounds());
        }
    });
    Object.defineProperty(s5.Sprite.prototype, O3, {
        get: function() {
            return this.animations.frame;
        },
        set: function(t) {
            this.animations.frame = t;
        }
    });
    Object.defineProperty(s5.Sprite.prototype, f3, {
        get: function() {
            return this.animations.frameName;
        },
        set: function(t) {
            this.animations.frameName = t;
        }
    });
    Object.defineProperty(s5.Sprite.prototype, l3, {
        get: function() {
            return this._cache[d6t.B6];
        }
    });
    Object.defineProperty(s5.Sprite.prototype, g4, {
        get: function() {
            return (this.input && this.input.enabled);
        },
        set: function(t) {
            if (t) {
                if (this.input === d6t.B3x) {
                    this.input = new s5.InputHandler(this);
                    this.input.start();
                } else if (this.input && !this.input.enabled) {
                    this.input.start();
                }
            } else {
                if (this.input && this.input.enabled) {
                    this.input.stop();
                }
            }
        }
    });
    Object.defineProperty(s5.Sprite.prototype, B4, {
        get: function() {
            return !!this._cache[d6t.J6];
        },
        set: function(t) {
            if (t) {
                this._cache[d6t.J6] = d6t.A6;
                if (this.body && this.body.type === s5.Physics.P2JS) {
                    this.body.addToWorld();
                }
                this.visible = d6t.s73;
            } else {
                this._cache[d6t.J6] = d6t.W6;
                if (this.body && this.body.type === s5.Physics.P2JS) {
                    this.body.removeFromWorld();
                }
                this.visible = d6t.F18;
            }
        }
    });
    Object.defineProperty(s5.Sprite.prototype, i3, {
        get: function() {
            return !!this._cache[d6t.v6];
        },
        set: function(t) {
            if (t) {
                this._cache[d6t.v6] = d6t.A6;
                this.cameraOffset.set(this.x, this.y);
            } else {
                this._cache[d6t.v6] = d6t.W6;
            }
        }
    });
    Object.defineProperty(s5.Sprite.prototype, u7, {
        get: function() {
            return !this.texture.baseTexture.scaleMode;
        },
        set: function(t) {
            if (t) {
                if (this.texture) {
                    this.texture.baseTexture.scaleMode = d6t.W6;
                }
            } else {
                if (this.texture) {
                    this.texture.baseTexture.scaleMode = d6t.A6;
                }
            }
        }
    });
    Object.defineProperty(s5.Sprite.prototype, d6t.m5f, {
        get: function() {
            return this.position.x;
        },
        set: function(t) {
            this.position.x = t;
            if (this.body && this.body.type === s5.Physics.ARCADE && this.body.phase === d6t.D6) {
                this.body._reset = d6t.A6;
            }
        }
    });
    Object.defineProperty(s5.Sprite.prototype, d6t.w6f, {
        get: function() {
            return this.position.y;
        },
        set: function(t) {
            this.position.y = t;
            if (this.body && this.body.type === s5.Physics.ARCADE && this.body.phase === d6t.D6) {
                this.body._reset = d6t.A6;
            }
        }
    });
    Object.defineProperty(s5.Sprite.prototype, z4, {
        get: function() {
            return !!this._cache[d6t.d6];
        }
    });
    s5.Image = function(game, k, j, o, e) {
        k = k || d6t.W6;
        j = j || d6t.W6;
        o = o || d6t.B3x;
        e = e || d6t.B3x;
        this.game = game;
        this.exists = d6t.s73;
        this.name = d6t.I6x;
        this.type = s5.IMAGE;
        this.z = d6t.W6;
        this.events = new s5.Events(this);
        this.animations = new s5.AnimationManager(this);
        this.key = o;
        PIXI.Sprite.call(this, PIXI.TextureCache[d6t.U03]);
        this.position.set(k, j);
        this.world = new s5.Point(k, j);
        this.alive = d6t.s73;
        this.autoCull = d6t.F18;
        this.input = d6t.B3x;
        this.debug = d6t.F18;
        this.cameraOffset = new s5.Point();
        this.cropRect = d6t.B3x;
        this._cache = [d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.A6, d6t.W6, d6t.A6, d6t.W6, d6t.W6];
        this._crop = d6t.B3x;
        this._frame = d6t.B3x;
        this._bounds = new s5.Rectangle();
        this.loadTexture(o, e);
    };
    s5.Image.prototype = Object.create(PIXI.Sprite.prototype);
    s5.Image.prototype.constructor = s5.Image;
    s5.Image.prototype.preUpdate = function() {
        this._cache[d6t.W6] = this.world.x;
        this._cache[d6t.A6] = this.world.y;
        this._cache[d6t.D6] = this.rotation;
        if (!this.exists || !this.parent.exists) {
            this._cache[d6t.B6] = -d6t.A6;
            return d6t.F18;
        }
        if (this.autoCull) {
            this._bounds.copyFrom(this.getBounds());
            this.renderable = this.game.world.camera.screenView.intersects(this._bounds);
        }
        this.world.setTo(this.game.camera.x + this.worldTransform.tx, this.game.camera.y + this.worldTransform.ty);
        if (this.visible) {
            this._cache[d6t.B6] = this.game.stage.currentRenderOrderID++;
        }
        for (var t = d6t.W6, k = this.children.length; t < k; t++) {
            this.children[t].preUpdate();
        }
        return d6t.s73;
    };
    s5.Image.prototype.update = function() {};
    s5.Image.prototype.postUpdate = function() {
        if (this.key instanceof s5.BitmapData) {
            this.key.render();
        }
        if (this._cache[d6t.v6] === d6t.A6) {
            this.position.x = (this.game.camera.view.x + this.cameraOffset.x) / this.game.camera.scale.x;
            this.position.y = (this.game.camera.view.y + this.cameraOffset.y) / this.game.camera.scale.y;
        }
        for (var t = d6t.W6, k = this.children.length; t < k; t++) {
            this.children[t].postUpdate();
        }
    };
    s5.Image.prototype.loadTexture = function(t, k) {
        k = k || d6t.W6;
        this.key = t;
        var j = d6t.s73,
            o = this.smoothed;
        if (t instanceof s5.RenderTexture) {
            this.key = t.key;
            this.setTexture(t);
        } else if (t instanceof s5.BitmapData) {
            this.setTexture(t.texture);
            if (this.game.cache.getFrameData(t.key, s5.Cache.BITMAPDATA)) {
                j = !this.animations.loadFrameData(this.game.cache.getFrameData(t.key, s5.Cache.BITMAPDATA), k);
            }
        } else if (t instanceof PIXI.Texture) {
            this.setTexture(t);
        } else {
            if (t === d6t.B3x || typeof t === d6t.k43) {
                this.key = d6t.U03;
                this.setTexture(PIXI.TextureCache[this.key]);
            } else if (typeof t === d6t.F78 && !this.game.cache.checkImageKey(t)) {
                console.warn(o3 + t + W3);
                this.key = d6t.h3;
                this.setTexture(PIXI.TextureCache[this.key]);
            } else {
                this.setTexture(new PIXI.Texture(PIXI.BaseTextureCache[t]));
                j = !this.animations.loadFrameData(this.game.cache.getFrameData(t), k);
            }
        }
        this.texture.baseTexture.dirty();
        if (j) {
            this._frame = s5.Rectangle.clone(this.texture.frame);
        }
        if (!o) {
            this.smoothed = d6t.F18;
        }
    };
    s5.Image.prototype.setFrame = function(t) {
        this._frame = t;
        this.texture.frame.x = t.x;
        this.texture.frame.y = t.y;
        this.texture.frame.width = t.width;
        this.texture.frame.height = t.height;
        this.texture.crop.x = t.x;
        this.texture.crop.y = t.y;
        this.texture.crop.width = t.width;
        this.texture.crop.height = t.height;
        if (t.trimmed) {
            if (this.texture.trim) {
                this.texture.trim.x = t.spriteSourceSizeX;
                this.texture.trim.y = t.spriteSourceSizeY;
                this.texture.trim.width = t.sourceSizeW;
                this.texture.trim.height = t.sourceSizeH;
            } else {
                this.texture.trim = {
                    x: t.spriteSourceSizeX,
                    y: t.spriteSourceSizeY,
                    width: t.sourceSizeW,
                    height: t.sourceSizeH
                };
            }
            this.texture.width = t.sourceSizeW;
            this.texture.height = t.sourceSizeH;
            this.texture.frame.width = t.sourceSizeW;
            this.texture.frame.height = t.sourceSizeH;
        } else if (!t.trimmed && this.texture.trim) {
            this.texture.trim = d6t.B3x;
        }
        if (this.cropRect) {
            this.updateCrop();
        }
        this.texture._updateUvs();
    };
    s5.Image.prototype.resetFrame = function() {
        if (this._frame) {
            this.setFrame(this._frame);
        }
    };
    s5.Image.prototype.crop = function(t, k) {
        if (typeof k === d6t.k43) {
            k = d6t.F18;
        }
        if (t) {
            if (k && this.cropRect !== d6t.B3x) {
                this.cropRect.setTo(t.x, t.y, t.width, t.height);
            } else if (k && this.cropRect === d6t.B3x) {
                this.cropRect = new s5.Rectangle(t.x, t.y, t.width, t.height);
            } else {
                this.cropRect = t;
            }
            this.updateCrop();
        } else {
            this._crop = d6t.B3x;
            this.cropRect = d6t.B3x;
            this.resetFrame();
        }
    };
    s5.Image.prototype.updateCrop = function() {
        if (!this.cropRect) {
            return;
        }
        this._crop = s5.Rectangle.clone(this.cropRect, this._crop);
        this._crop.x += this._frame.x;
        this._crop.y += this._frame.y;
        var t = Math.max(this._frame.x, this._crop.x),
            k = Math.max(this._frame.y, this._crop.y),
            j = Math.min(this._frame.right, this._crop.right) - t,
            o = Math.min(this._frame.bottom, this._crop.bottom) - k;
        this.texture.crop.x = t;
        this.texture.crop.y = k;
        this.texture.crop.width = j;
        this.texture.crop.height = o;
        this.texture.frame.width = Math.min(j, this.cropRect.width);
        this.texture.frame.height = Math.min(o, this.cropRect.height);
        this.texture.width = this.texture.frame.width;
        this.texture.height = this.texture.frame.height;
        this.texture._updateUvs();
    };
    s5.Image.prototype.revive = function() {
        this.alive = d6t.s73;
        this.exists = d6t.s73;
        this.visible = d6t.s73;
        if (this.events) {
            this.events.onRevived.dispatch(this);
        }
        return this;
    };
    s5.Image.prototype.kill = function() {
        this.alive = d6t.F18;
        this.exists = d6t.F18;
        this.visible = d6t.F18;
        if (this.events) {
            this.events.onKilled.dispatch(this);
        }
        return this;
    };
    s5.Image.prototype.destroy = function(t) {
        if (this.game === d6t.B3x || this.destroyPhase) {
            return;
        }
        if (typeof t === d6t.k43) {
            t = d6t.s73;
        }
        this._cache[d6t.d6] = d6t.A6;
        if (this.events) {
            this.events.onDestroy.dispatch(this);
        }
        if (this.parent) {
            if (this.parent instanceof s5.Group) {
                this.parent.remove(this);
            } else {
                this.parent.removeChild(this);
            }
        }
        if (this.events) {
            this.events.destroy();
        }
        if (this.input) {
            this.input.destroy();
        }
        if (this.animations) {
            this.animations.destroy();
        }
        var k = this.children.length;
        if (t) {
            while (k--) {
                this.children[k].destroy(t);
            }
        } else {
            while (k--) {
                this.removeChild(this.children[k]);
            }
        }
        this.alive = d6t.F18;
        this.exists = d6t.F18;
        this.visible = d6t.F18;
        this.filters = d6t.B3x;
        this.mask = d6t.B3x;
        this.game = d6t.B3x;
        this._cache[d6t.d6] = d6t.W6;
    };
    s5.Image.prototype.reset = function(t, k) {
        this.world.setTo(t, k);
        this.position.x = t;
        this.position.y = k;
        this.alive = d6t.s73;
        this.exists = d6t.s73;
        this.visible = d6t.s73;
        this.renderable = d6t.s73;
        return this;
    };
    s5.Image.prototype.bringToTop = function() {
        if (this.parent) {
            this.parent.bringToTop(this);
        }
        return this;
    };
    Object.defineProperty(s5.Image.prototype, d6t.F1f, {
        get: function() {
            return s5.Math.wrapAngle(s5.Math.radToDeg(this.rotation));
        },
        set: function(t) {
            this.rotation = s5.Math.degToRad(s5.Math.wrapAngle(t));
        }
    });
    Object.defineProperty(s5.Image.prototype, S3, {
        get: function() {
            return this.world.x - this._cache[d6t.W6];
        }
    });
    Object.defineProperty(s5.Image.prototype, v3, {
        get: function() {
            return this.world.y - this._cache[d6t.A6];
        }
    });
    Object.defineProperty(s5.Image.prototype, G3, {
        get: function() {
            return this.rotation - this._cache[d6t.D6];
        }
    });
    Object.defineProperty(s5.Image.prototype, J3, {
        get: function() {
            return this.game.world.bounds.intersects(this.getBounds());
        }
    });
    Object.defineProperty(s5.Image.prototype, N3, {
        get: function() {
            return this.game.world.camera.screenView.intersects(this.getBounds());
        }
    });
    Object.defineProperty(s5.Image.prototype, O3, {
        get: function() {
            return this._frame;
        },
        set: function(t) {
            if (t !== this.frame) {
                var k = this.game.cache.getFrameData(this.key);
                if (k && t < k.total && k.getFrame(t)) {
                    this.setTexture(PIXI.TextureCache[k.getFrame(t).uuid]);
                    this._frame = t;
                }
            }
        }
    });
    Object.defineProperty(s5.Image.prototype, f3, {
        get: function() {
            return this._frameName;
        },
        set: function(t) {
            if (t !== this.frameName) {
                var k = this.game.cache.getFrameData(this.key);
                if (k && k.getFrameByName(t)) {
                    this.setTexture(PIXI.TextureCache[k.getFrameByName(t).uuid]);
                    this._frameName = t;
                }
            }
        }
    });
    Object.defineProperty(s5.Image.prototype, l3, {
        get: function() {
            return this._cache[d6t.B6];
        }
    });
    Object.defineProperty(s5.Image.prototype, g4, {
        get: function() {
            return (this.input && this.input.enabled);
        },
        set: function(t) {
            if (t) {
                if (this.input === d6t.B3x) {
                    this.input = new s5.InputHandler(this);
                    this.input.start();
                } else if (this.input && !this.input.enabled) {
                    this.input.start();
                }
            } else {
                if (this.input && this.input.enabled) {
                    this.input.stop();
                }
            }
        }
    });
    Object.defineProperty(s5.Image.prototype, i3, {
        get: function() {
            return !!this._cache[d6t.v6];
        },
        set: function(t) {
            if (t) {
                this._cache[d6t.v6] = d6t.A6;
                this.cameraOffset.set(this.x, this.y);
            } else {
                this._cache[d6t.v6] = d6t.W6;
            }
        }
    });
    Object.defineProperty(s5.Image.prototype, u7, {
        get: function() {
            return !this.texture.baseTexture.scaleMode;
        },
        set: function(t) {
            if (t) {
                if (this.texture) {
                    this.texture.baseTexture.scaleMode = d6t.W6;
                }
            } else {
                if (this.texture) {
                    this.texture.baseTexture.scaleMode = d6t.A6;
                }
            }
        }
    });
    Object.defineProperty(s5.Image.prototype, z4, {
        get: function() {
            return !!this._cache[d6t.d6];
        }
    });
    s5.TileSprite = function(game, k, j, o, e, q, m) {
        k = k || d6t.W6;
        j = j || d6t.W6;
        o = o || d6t.k8;
        e = e || d6t.k8;
        q = q || d6t.B3x;
        m = m || d6t.B3x;
        this.game = game;
        this.name = d6t.I6x;
        this.type = s5.TILESPRITE;
        this.z = d6t.W6;
        this.events = new s5.Events(this);
        this.animations = new s5.AnimationManager(this);
        this.key = q;
        this._frame = d6t.W6;
        this._frameName = d6t.I6x;
        this._scroll = new s5.Point();
        PIXI.TilingSprite.call(this, PIXI.TextureCache[d6t.U03], o, e);
        this.position.set(k, j);
        this.input = d6t.B3x;
        this.world = new s5.Point(k, j);
        this.autoCull = d6t.F18;
        this.checkWorldBounds = d6t.F18;
        this.cameraOffset = new s5.Point();
        this.body = d6t.B3x;
        this.alive = d6t.s73;
        this._cache = [d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.A6, d6t.W6, d6t.A6, d6t.W6, d6t.W6];
        this.loadTexture(q, m);
    };
    s5.TileSprite.prototype = Object.create(PIXI.TilingSprite.prototype);
    s5.TileSprite.prototype.constructor = s5.TileSprite;
    s5.TileSprite.prototype.preUpdate = function() {
        if (this._cache[d6t.M6] === d6t.A6 && this.exists) {
            this.world.setTo(this.parent.position.x + this.position.x, this.parent.position.y + this.position.y);
            this.worldTransform.tx = this.world.x;
            this.worldTransform.ty = this.world.y;
            this._cache[d6t.W6] = this.world.x;
            this._cache[d6t.A6] = this.world.y;
            this._cache[d6t.D6] = this.rotation;
            if (this.body) {
                this.body.preUpdate();
            }
            this._cache[d6t.M6] = d6t.W6;
            return d6t.F18;
        }
        this._cache[d6t.W6] = this.world.x;
        this._cache[d6t.A6] = this.world.y;
        this._cache[d6t.D6] = this.rotation;
        if (!this.exists || !this.parent.exists) {
            this._cache[d6t.B6] = -d6t.A6;
            return d6t.F18;
        }
        if (this.autoCull || this.checkWorldBounds) {
            this._bounds.copyFrom(this.getBounds());
        }
        if (this.autoCull) {
            this.renderable = this.game.world.camera.screenView.intersects(this._bounds);
        }
        if (this.checkWorldBounds) {
            if (this._cache[d6t.U6] === d6t.A6 && this.game.world.bounds.intersects(this._bounds)) {
                this._cache[d6t.U6] = d6t.W6;
                this.events.onEnterBounds.dispatch(this);
            } else if (this._cache[d6t.U6] === d6t.W6 && !this.game.world.bounds.intersects(this._bounds)) {
                this._cache[d6t.U6] = d6t.A6;
                this.events.onOutOfBounds.dispatch(this);
            }
        }
        this.world.setTo(this.game.camera.x + this.worldTransform.tx, this.game.camera.y + this.worldTransform.ty);
        if (this.visible) {
            this._cache[d6t.B6] = this.game.stage.currentRenderOrderID++;
        }
        this.animations.update();
        if (this._scroll.x !== d6t.W6) {
            this.tilePosition.x += this._scroll.x * this.game.time.physicsElapsed;
        }
        if (this._scroll.y !== d6t.W6) {
            this.tilePosition.y += this._scroll.y * this.game.time.physicsElapsed;
        }
        if (this.body) {
            this.body.preUpdate();
        }
        for (var t = d6t.W6, k = this.children.length; t < k; t++) {
            this.children[t].preUpdate();
        }
        return d6t.s73;
    };
    s5.TileSprite.prototype.update = function() {};
    s5.TileSprite.prototype.postUpdate = function() {
        if (this.exists && this.body) {
            this.body.postUpdate();
        }
        if (this._cache[d6t.v6] === d6t.A6) {
            this.position.x = this.game.camera.view.x + this.cameraOffset.x;
            this.position.y = this.game.camera.view.y + this.cameraOffset.y;
        }
        for (var t = d6t.W6, k = this.children.length; t < k; t++) {
            this.children[t].postUpdate();
        }
    };
    s5.TileSprite.prototype.autoScroll = function(t, k) {
        this._scroll.set(t, k);
    };
    s5.TileSprite.prototype.stopScroll = function() {
        this._scroll.set(d6t.W6, d6t.W6);
    };
    s5.TileSprite.prototype.loadTexture = function(t, k) {
        k = k || d6t.W6;
        this.key = t;
        if (t instanceof s5.RenderTexture) {
            this.key = t.key;
            this.setTexture(t);
        } else if (t instanceof s5.BitmapData) {
            this.setTexture(t.texture);
        } else if (t instanceof PIXI.Texture) {
            this.setTexture(t);
        } else {
            if (t === d6t.B3x || typeof t === d6t.k43) {
                this.key = d6t.U03;
                this.setTexture(PIXI.TextureCache[this.key]);
            } else if (typeof t === d6t.F78 && !this.game.cache.checkImageKey(t)) {
                console.warn(o3 + t + W3);
                this.key = d6t.h3;
                this.setTexture(PIXI.TextureCache[this.key]);
            } else {
                this.setTexture(new PIXI.Texture(PIXI.BaseTextureCache[t]));
                this.animations.loadFrameData(this.game.cache.getFrameData(t), k);
            }
        }
        this.texture.baseTexture.dirty();
    };
    s5.TileSprite.prototype.setFrame = function(t) {
        this.texture.frame.x = t.x;
        this.texture.frame.y = t.y;
        this.texture.frame.width = t.width;
        this.texture.frame.height = t.height;
        this.texture.crop.x = t.x;
        this.texture.crop.y = t.y;
        this.texture.crop.width = t.width;
        this.texture.crop.height = t.height;
        if (t.trimmed) {
            if (this.texture.trim) {
                this.texture.trim.x = t.spriteSourceSizeX;
                this.texture.trim.y = t.spriteSourceSizeY;
                this.texture.trim.width = t.sourceSizeW;
                this.texture.trim.height = t.sourceSizeH;
            } else {
                this.texture.trim = {
                    x: t.spriteSourceSizeX,
                    y: t.spriteSourceSizeY,
                    width: t.sourceSizeW,
                    height: t.sourceSizeH
                };
            }
            this.texture.width = t.sourceSizeW;
            this.texture.height = t.sourceSizeH;
            this.texture.frame.width = t.sourceSizeW;
            this.texture.frame.height = t.sourceSizeH;
        } else if (!t.trimmed && this.texture.trim) {
            this.texture.trim = d6t.B3x;
        }
        this.texture._updateUvs();
    };
    s5.TileSprite.prototype.destroy = function(t) {
        if (this.game === d6t.B3x || this.destroyPhase) {
            return;
        }
        if (typeof t === d6t.k43) {
            t = d6t.s73;
        }
        this._cache[d6t.d6] = d6t.A6;
        if (this.events) {
            this.events.onDestroy.dispatch(this);
        }
        if (this.filters) {
            this.filters = d6t.B3x;
        }
        if (this.parent) {
            if (this.parent instanceof s5.Group) {
                this.parent.remove(this);
            } else {
                this.parent.removeChild(this);
            }
        }
        this.animations.destroy();
        this.events.destroy();
        var k = this.children.length;
        if (t) {
            while (k--) {
                this.children[k].destroy(t);
            }
        } else {
            while (k--) {
                this.removeChild(this.children[k]);
            }
        }
        this.exists = d6t.F18;
        this.visible = d6t.F18;
        this.alive = d6t.F18;
        this.filters = d6t.B3x;
        this.mask = d6t.B3x;
        this.game = d6t.B3x;
        this._cache[d6t.d6] = d6t.W6;
    };
    s5.TileSprite.prototype.play = function(t, k, j, o) {
        return this.animations.play(t, k, j, o);
    };
    s5.TileSprite.prototype.reset = function(t, k) {
        this.world.setTo(t, k);
        this.position.x = t;
        this.position.y = k;
        this.alive = d6t.s73;
        this.exists = d6t.s73;
        this.visible = d6t.s73;
        this.renderable = d6t.s73;
        this._outOfBoundsFired = d6t.F18;
        this.tilePosition.x = d6t.W6;
        this.tilePosition.y = d6t.W6;
        if (this.body) {
            this.body.reset(t, k, d6t.F18, d6t.F18);
        }
        this._cache[d6t.M6] = d6t.A6;
        return this;
    };
    Object.defineProperty(s5.TileSprite.prototype, d6t.F1f, {
        get: function() {
            return s5.Math.wrapAngle(s5.Math.radToDeg(this.rotation));
        },
        set: function(t) {
            this.rotation = s5.Math.degToRad(s5.Math.wrapAngle(t));
        }
    });
    Object.defineProperty(s5.TileSprite.prototype, O3, {
        get: function() {
            return this.animations.frame;
        },
        set: function(t) {
            if (t !== this.animations.frame) {
                this.animations.frame = t;
            }
        }
    });
    Object.defineProperty(s5.TileSprite.prototype, f3, {
        get: function() {
            return this.animations.frameName;
        },
        set: function(t) {
            if (t !== this.animations.frameName) {
                this.animations.frameName = t;
            }
        }
    });
    Object.defineProperty(s5.TileSprite.prototype, i3, {
        get: function() {
            return !!this._cache[d6t.v6];
        },
        set: function(t) {
            if (t) {
                this._cache[d6t.v6] = d6t.A6;
                this.cameraOffset.set(this.x, this.y);
            } else {
                this._cache[d6t.v6] = d6t.W6;
            }
        }
    });
    Object.defineProperty(s5.TileSprite.prototype, B4, {
        get: function() {
            return !!this._cache[d6t.J6];
        },
        set: function(t) {
            if (t) {
                this._cache[d6t.J6] = d6t.A6;
                if (this.body && this.body.type === s5.Physics.P2JS) {
                    this.body.addToWorld();
                }
                this.visible = d6t.s73;
            } else {
                this._cache[d6t.J6] = d6t.W6;
                if (this.body && this.body.type === s5.Physics.P2JS) {
                    this.body.safeRemove = d6t.s73;
                }
                this.visible = d6t.F18;
            }
        }
    });
    Object.defineProperty(s5.TileSprite.prototype, g4, {
        get: function() {
            return (this.input && this.input.enabled);
        },
        set: function(t) {
            if (t) {
                if (this.input === d6t.B3x) {
                    this.input = new s5.InputHandler(this);
                    this.input.start();
                } else if (this.input && !this.input.enabled) {
                    this.input.start();
                }
            } else {
                if (this.input && this.input.enabled) {
                    this.input.stop();
                }
            }
        }
    });
    Object.defineProperty(s5.TileSprite.prototype, d6t.m5f, {
        get: function() {
            return this.position.x;
        },
        set: function(t) {
            this.position.x = t;
            if (this.body && this.body.type === s5.Physics.ARCADE && this.body.phase === d6t.D6) {
                this.body._reset = d6t.A6;
            }
        }
    });
    Object.defineProperty(s5.TileSprite.prototype, d6t.w6f, {
        get: function() {
            return this.position.y;
        },
        set: function(t) {
            this.position.y = t;
            if (this.body && this.body.type === s5.Physics.ARCADE && this.body.phase === d6t.D6) {
                this.body._reset = d6t.A6;
            }
        }
    });
    Object.defineProperty(s5.TileSprite.prototype, z4, {
        get: function() {
            return !!this._cache[d6t.d6];
        }
    });
    s5.Rope = function(game, k, j, o, e, q) {
        this.points = [];
        this.points = q;
        this._hasUpdateAnimation = d6t.F18;
        this._updateAnimationCallback = d6t.B3x;
        k = k || d6t.W6;
        j = j || d6t.W6;
        o = o || d6t.B3x;
        e = e || d6t.B3x;
        this.game = game;
        this.name = d6t.I6x;
        this.type = s5.ROPE;
        this.z = d6t.W6;
        this.events = new s5.Events(this);
        this.animations = new s5.AnimationManager(this);
        this.key = o;
        this._frame = d6t.W6;
        this._frameName = d6t.I6x;
        this._scroll = new s5.Point();
        PIXI.Rope.call(this, o, this.points);
        this.position.set(k, j);
        this.input = d6t.B3x;
        this.world = new s5.Point(k, j);
        this.autoCull = d6t.F18;
        this.checkWorldBounds = d6t.F18;
        this.cameraOffset = new s5.Point();
        this.body = d6t.B3x;
        this._cache = [d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.A6, d6t.W6, d6t.A6, d6t.W6, d6t.W6];
        this.loadTexture(o, e);
    };
    s5.Rope.prototype = Object.create(PIXI.Rope.prototype);
    s5.Rope.prototype.constructor = s5.Rope;
    s5.Rope.prototype.preUpdate = function() {
        if (this._cache[d6t.M6] === d6t.A6 && this.exists) {
            this.world.setTo(this.parent.position.x + this.position.x, this.parent.position.y + this.position.y);
            this.worldTransform.tx = this.world.x;
            this.worldTransform.ty = this.world.y;
            this._cache[d6t.W6] = this.world.x;
            this._cache[d6t.A6] = this.world.y;
            this._cache[d6t.D6] = this.rotation;
            if (this.body) {
                this.body.preUpdate();
            }
            this._cache[d6t.M6] = d6t.W6;
            return d6t.F18;
        }
        this._cache[d6t.W6] = this.world.x;
        this._cache[d6t.A6] = this.world.y;
        this._cache[d6t.D6] = this.rotation;
        if (!this.exists || !this.parent.exists) {
            this._cache[d6t.B6] = -d6t.A6;
            return d6t.F18;
        }
        if (this.autoCull || this.checkWorldBounds) {
            this._bounds.copyFrom(this.getBounds());
        }
        if (this.autoCull) {
            this.renderable = this.game.world.camera.screenView.intersects(this._bounds);
        }
        if (this.checkWorldBounds) {
            if (this._cache[d6t.U6] === d6t.A6 && this.game.world.bounds.intersects(this._bounds)) {
                this._cache[d6t.U6] = d6t.W6;
                this.events.onEnterBounds.dispatch(this);
            } else if (this._cache[d6t.U6] === d6t.W6 && !this.game.world.bounds.intersects(this._bounds)) {
                this._cache[d6t.U6] = d6t.A6;
                this.events.onOutOfBounds.dispatch(this);
            }
        }
        this.world.setTo(this.game.camera.x + this.worldTransform.tx, this.game.camera.y + this.worldTransform.ty);
        if (this.visible) {
            this._cache[d6t.B6] = this.game.stage.currentRenderOrderID++;
        }
        this.animations.update();
        if (this._scroll.x !== d6t.W6) {
            this.tilePosition.x += this._scroll.x * this.game.time.physicsElapsed;
        }
        if (this._scroll.y !== d6t.W6) {
            this.tilePosition.y += this._scroll.y * this.game.time.physicsElapsed;
        }
        if (this.body) {
            this.body.preUpdate();
        }
        for (var t = d6t.W6, k = this.children.length; t < k; t++) {
            this.children[t].preUpdate();
        }
        return d6t.s73;
    };
    s5.Rope.prototype.update = function() {
        if (this._hasUpdateAnimation) {
            this.updateAnimation.call(this);
        }
    };
    s5.Rope.prototype.postUpdate = function() {
        if (this.exists && this.body) {
            this.body.postUpdate();
        }
        if (this._cache[d6t.v6] === d6t.A6) {
            this.position.x = this.game.camera.view.x + this.cameraOffset.x;
            this.position.y = this.game.camera.view.y + this.cameraOffset.y;
        }
        for (var t = d6t.W6, k = this.children.length; t < k; t++) {
            this.children[t].postUpdate();
        }
    };
    s5.Rope.prototype.loadTexture = function(t, k) {
        k = k || d6t.W6;
        this.key = t;
        if (t instanceof s5.RenderTexture) {
            this.key = t.key;
            this.setTexture(t);
        } else if (t instanceof s5.BitmapData) {
            this.setTexture(t.texture);
        } else if (t instanceof PIXI.Texture) {
            this.setTexture(t);
        } else {
            if (t === d6t.B3x || typeof t === d6t.k43) {
                this.key = d6t.U03;
                this.setTexture(PIXI.TextureCache[this.key]);
            } else if (typeof t === d6t.F78 && !this.game.cache.checkImageKey(t)) {
                console.warn(o3 + t + W3);
                this.key = d6t.h3;
                this.setTexture(PIXI.TextureCache[this.key]);
            } else {
                this.setTexture(new PIXI.Texture(PIXI.BaseTextureCache[t]));
                this.animations.loadFrameData(this.game.cache.getFrameData(t), k);
            }
        }
    };
    s5.Rope.prototype.setFrame = function(t) {
        this.texture.frame.x = t.x;
        this.texture.frame.y = t.y;
        this.texture.frame.width = t.width;
        this.texture.frame.height = t.height;
        this.texture.crop.x = t.x;
        this.texture.crop.y = t.y;
        this.texture.crop.width = t.width;
        this.texture.crop.height = t.height;
        if (t.trimmed) {
            if (this.texture.trim) {
                this.texture.trim.x = t.spriteSourceSizeX;
                this.texture.trim.y = t.spriteSourceSizeY;
                this.texture.trim.width = t.sourceSizeW;
                this.texture.trim.height = t.sourceSizeH;
            } else {
                this.texture.trim = {
                    x: t.spriteSourceSizeX,
                    y: t.spriteSourceSizeY,
                    width: t.sourceSizeW,
                    height: t.sourceSizeH
                };
            }
            this.texture.width = t.sourceSizeW;
            this.texture.height = t.sourceSizeH;
            this.texture.frame.width = t.sourceSizeW;
            this.texture.frame.height = t.sourceSizeH;
        } else if (!t.trimmed && this.texture.trim) {
            this.texture.trim = d6t.B3x;
        }
        this.texture._updateUvs();
    };
    s5.Rope.prototype.destroy = function(t) {
        if (this.game === d6t.B3x || this.destroyPhase) {
            return;
        }
        if (typeof t === d6t.k43) {
            t = d6t.s73;
        }
        this._cache[d6t.d6] = d6t.A6;
        if (this.events) {
            this.events.onDestroy.dispatch(this);
        }
        if (this.filters) {
            this.filters = d6t.B3x;
        }
        if (this.parent) {
            if (this.parent instanceof s5.Group) {
                this.parent.remove(this);
            } else {
                this.parent.removeChild(this);
            }
        }
        this.animations.destroy();
        this.events.destroy();
        var k = this.children.length;
        if (t) {
            while (k--) {
                this.children[k].destroy(t);
            }
        } else {
            while (k--) {
                this.removeChild(this.children[k]);
            }
        }
        this.exists = d6t.F18;
        this.visible = d6t.F18;
        this.filters = d6t.B3x;
        this.mask = d6t.B3x;
        this.game = d6t.B3x;
        this._cache[d6t.d6] = d6t.W6;
    };
    s5.Rope.prototype.play = function(t, k, j, o) {
        return this.animations.play(t, k, j, o);
    };
    s5.Rope.prototype.reset = function(t, k) {
        this.world.setTo(t, k);
        this.position.x = t;
        this.position.y = k;
        this.alive = d6t.s73;
        this.exists = d6t.s73;
        this.visible = d6t.s73;
        this.renderable = d6t.s73;
        this._outOfBoundsFired = d6t.F18;
        this.tilePosition.x = d6t.W6;
        this.tilePosition.y = d6t.W6;
        if (this.body) {
            this.body.reset(t, k, d6t.F18, d6t.F18);
        }
        this._cache[d6t.M6] = d6t.A6;
        return this;
    };
    Object.defineProperty(s5.Rope.prototype, d6t.F1f, {
        get: function() {
            return s5.Math.wrapAngle(s5.Math.radToDeg(this.rotation));
        },
        set: function(t) {
            this.rotation = s5.Math.degToRad(s5.Math.wrapAngle(t));
        }
    });
    Object.defineProperty(s5.Rope.prototype, O3, {
        get: function() {
            return this.animations.frame;
        },
        set: function(t) {
            if (t !== this.animations.frame) {
                this.animations.frame = t;
            }
        }
    });
    Object.defineProperty(s5.Rope.prototype, f3, {
        get: function() {
            return this.animations.frameName;
        },
        set: function(t) {
            if (t !== this.animations.frameName) {
                this.animations.frameName = t;
            }
        }
    });
    Object.defineProperty(s5.Rope.prototype, i3, {
        get: function() {
            return !!this._cache[d6t.v6];
        },
        set: function(t) {
            if (t) {
                this._cache[d6t.v6] = d6t.A6;
                this.cameraOffset.set(this.x, this.y);
            } else {
                this._cache[d6t.v6] = d6t.W6;
            }
        }
    });
    Object.defineProperty(s5.Rope.prototype, B4, {
        get: function() {
            return !!this._cache[d6t.J6];
        },
        set: function(t) {
            if (t) {
                this._cache[d6t.J6] = d6t.A6;
                if (this.body && this.body.type === s5.Physics.P2JS) {
                    this.body.addToWorld();
                }
                this.visible = d6t.s73;
            } else {
                this._cache[d6t.J6] = d6t.W6;
                if (this.body && this.body.type === s5.Physics.P2JS) {
                    this.body.safeRemove = d6t.s73;
                }
                this.visible = d6t.F18;
            }
        }
    });
    Object.defineProperty(s5.Rope.prototype, g4, {
        get: function() {
            return (this.input && this.input.enabled);
        },
        set: function(t) {
            if (t) {
                if (this.input === d6t.B3x) {
                    this.input = new s5.InputHandler(this);
                    this.input.start();
                } else if (this.input && !this.input.enabled) {
                    this.input.start();
                }
            } else {
                if (this.input && this.input.enabled) {
                    this.input.stop();
                }
            }
        }
    });
    Object.defineProperty(s5.Rope.prototype, d6t.m5f, {
        get: function() {
            return this.position.x;
        },
        set: function(t) {
            this.position.x = t;
            if (this.body && this.body.type === s5.Physics.ARCADE && this.body.phase === d6t.D6) {
                this.body._reset = d6t.A6;
            }
        }
    });
    Object.defineProperty(s5.Rope.prototype, d6t.w6f, {
        get: function() {
            return this.position.y;
        },
        set: function(t) {
            this.position.y = t;
            if (this.body && this.body.type === s5.Physics.ARCADE && this.body.phase === d6t.D6) {
                this.body._reset = d6t.A6;
            }
        }
    });
    Object.defineProperty(s5.Rope.prototype, V4, {
        get: function() {
            return this._updateAnimation;
        },
        set: function(t) {
            if (t && typeof t === d6t.j5f) {
                this._hasUpdateAnimation = d6t.s73;
                this._updateAnimation = t;
            } else {
                this._hasUpdateAnimation = d6t.F18;
                this._updateAnimation = d6t.B3x;
            }
        }
    });
    Object.defineProperty(s5.Rope.prototype, T3, {
        get: function() {
            var t = [],
                k, j, o, e, q, m, k5, C5;
            for (var H5 = d6t.W6; H5 < this.points.length; H5++) {
                k = H5 * d6t.M6;
                j = this.verticies[k];
                o = this.verticies[k + d6t.A6];
                e = this.verticies[k + d6t.M6];
                q = this.verticies[k + d6t.B6];
                m = s5.Math.difference(j, e);
                k5 = s5.Math.difference(o, q);
                j += this.world.x;
                o += this.world.y;
                C5 = new s5.Rectangle(j, o, m, k5);
                t.push(C5);
            }
            return t;
        }
    });
    Object.defineProperty(s5.Rope.prototype, z4, {
        get: function() {
            return !!this._cache[d6t.d6];
        }
    });
    s5.Text = function(game, k, j, o, e) {
        var q = 'normal';
        k = k || d6t.W6;
        j = j || d6t.W6;
        o = o || d6t.p93;
        e = e || {};
        if (o.length === d6t.W6) {
            o = d6t.p93;
        } else {
            o = o.toString();
        }
        this.game = game;
        this.exists = d6t.s73;
        this.name = d6t.I6x;
        this.type = s5.TEXT;
        this.z = d6t.W6;
        this.world = new s5.Point(k, j);
        this._text = o;
        this._font = d6t.I6x;
        this._fontSize = d6t.z9x;
        this._fontWeight = q;
        this._lineSpacing = d6t.W6;
        this._charCount = d6t.W6;
        this.events = new s5.Events(this);
        this.input = d6t.B3x;
        this.cameraOffset = new s5.Point();
        this.colors = [];
        this.setStyle(e);
        PIXI.Text.call(this, o, this.style);
        this.position.set(k, j);
        this._cache = [d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.A6, d6t.W6, d6t.A6, d6t.W6, d6t.W6];
        if (o !== d6t.p93) {
            this.updateText();
        }
    };
    s5.Text.prototype = Object.create(PIXI.Text.prototype);
    s5.Text.prototype.constructor = s5.Text;
    s5.Text.prototype.preUpdate = function() {
        this._cache[d6t.W6] = this.world.x;
        this._cache[d6t.A6] = this.world.y;
        this._cache[d6t.D6] = this.rotation;
        if (!this.exists || !this.parent.exists) {
            this.renderOrderID = -d6t.A6;
            return d6t.F18;
        }
        if (this.autoCull) {
            this.renderable = this.game.world.camera.screenView.intersects(this.getBounds());
        }
        this.world.setTo(this.game.camera.x + this.worldTransform.tx, this.game.camera.y + this.worldTransform.ty);
        if (this.visible) {
            this._cache[d6t.B6] = this.game.stage.currentRenderOrderID++;
        }
        for (var t = d6t.W6, k = this.children.length; t < k; t++) {
            this.children[t].preUpdate();
        }
        return d6t.s73;
    };
    s5.Text.prototype.update = function() {};
    s5.Text.prototype.postUpdate = function() {
        if (this._cache[d6t.v6] === d6t.A6) {
            this.position.x = (this.game.camera.view.x + this.cameraOffset.x) / this.game.camera.scale.x;
            this.position.y = (this.game.camera.view.y + this.cameraOffset.y) / this.game.camera.scale.y;
        }
        for (var t = d6t.W6, k = this.children.length; t < k; t++) {
            this.children[t].postUpdate();
        }
    };
    s5.Text.prototype.destroy = function(t) {
        if (this.game === d6t.B3x || this.destroyPhase) {
            return;
        }
        if (typeof t === d6t.k43) {
            t = d6t.s73;
        }
        this._cache[d6t.d6] = d6t.A6;
        if (this.events) {
            this.events.onDestroy.dispatch(this);
        }
        if (this.parent) {
            if (this.parent instanceof s5.Group) {
                this.parent.remove(this);
            } else {
                this.parent.removeChild(this);
            }
        }
        this.texture.destroy(d6t.s73);
        if (this.canvas.parentNode) {
            this.canvas.parentNode.removeChild(this.canvas);
        } else {
            this.canvas = d6t.B3x;
            this.context = d6t.B3x;
        }
        var k = this.children.length;
        if (t) {
            while (k--) {
                this.children[k].destroy(t);
            }
        } else {
            while (k--) {
                this.removeChild(this.children[k]);
            }
        }
        this.exists = d6t.F18;
        this.visible = d6t.F18;
        this.filters = d6t.B3x;
        this.mask = d6t.B3x;
        this.game = d6t.B3x;
        this._cache[d6t.d6] = d6t.W6;
    };
    s5.Text.prototype.setShadow = function(t, k, j, o) {
        this.style.shadowOffsetX = t || d6t.W6;
        this.style.shadowOffsetY = k || d6t.W6;
        this.style.shadowColor = j || g3;
        this.style.shadowBlur = o || d6t.W6;
        this.dirty = d6t.s73;
    };
    s5.Text.prototype.setStyle = function(t) {
        t = t || {};
        t.font = t.font || d6t.W78;
        t.fill = t.fill || d6t.j7H;
        t.align = t.align || d6t.m6H;
        t.stroke = t.stroke || d6t.j7H;
        t.strokeThickness = t.strokeThickness || d6t.W6;
        t.wordWrap = t.wordWrap || d6t.F18;
        t.wordWrapWidth = t.wordWrapWidth || d6t.a08;
        t.shadowOffsetX = t.shadowOffsetX || d6t.W6;
        t.shadowOffsetY = t.shadowOffsetY || d6t.W6;
        t.shadowColor = t.shadowColor || g3;
        t.shadowBlur = t.shadowBlur || d6t.W6;
        this.style = t;
        this.dirty = d6t.s73;
    };
    s5.Text.prototype.updateText = function() {
        this.texture.baseTexture.resolution = this.resolution;
        this.context.font = this.style.font;
        var t = this.text;
        if (this.style.wordWrap) {
            t = this.runWordWrap(this.text);
        }
        var k = t.split(/(?:\r\n|\r|\n)/),
            j = [],
            o = d6t.W6,
            e = this.determineFontProperties(this.style.font);
        for (var q = d6t.W6; q < k.length; q++) {
            var m = this.context.measureText(k[q]).width;
            j[q] = m;
            o = Math.max(o, m);
        }
        var k5 = o + this.style.strokeThickness;
        this.canvas.width = (k5 + this.context.lineWidth) * this.resolution;
        var C5 = e.fontSize + this.style.strokeThickness,
            H5 = C5 * k.length;
        this.canvas.height = H5 * this.resolution;
        this.context.scale(this.resolution, this.resolution);
        if (navigator.isCocoonJS) {
            this.context.clearRect(d6t.W6, d6t.W6, this.canvas.width, this.canvas.height);
        }
        this.context.fillStyle = this.style.fill;
        this.context.font = this.style.font;
        this.context.strokeStyle = this.style.stroke;
        this.context.textBaseline = d6t.j1x;
        this.context.shadowOffsetX = this.style.shadowOffsetX;
        this.context.shadowOffsetY = this.style.shadowOffsetY;
        this.context.shadowColor = this.style.shadowColor;
        this.context.shadowBlur = this.style.shadowBlur;
        this.context.lineWidth = this.style.strokeThickness;
        this.context.lineCap = d6t.E7f;
        this.context.lineJoin = d6t.E7f;
        var j5, Y5;
        this._charCount = d6t.W6;
        for (q = d6t.W6; q < k.length; q++) {
            j5 = this.style.strokeThickness / d6t.D6;
            Y5 = (this.style.strokeThickness / d6t.D6 + q * C5) + e.ascent;
            if (this.style.align === d6t.w3B) {
                j5 += o - j[q];
            } else if (this.style.align === d6t.G6f) {
                j5 += (o - j[q]) / d6t.D6;
            }
            Y5 += this._lineSpacing;
            if (this.colors.length > d6t.W6) {
                this.updateLine(k[q], j5, Y5);
            } else {
                if (this.style.stroke && this.style.strokeThickness) {
                    this.context.strokeText(k[q], j5, Y5);
                }
                if (this.style.fill) {
                    this.context.fillText(k[q], j5, Y5);
                }
            }
        }
        this.updateTexture();
    };
    s5.Text.prototype.updateLine = function(t, k, j) {
        for (var o = d6t.W6; o < t.length; o++) {
            var e = t[o];
            if (this.colors[this._charCount]) {
                this.context.fillStyle = this.colors[this._charCount];
                this.context.strokeStyle = this.colors[this._charCount];
            }
            if (this.style.stroke && this.style.strokeThickness) {
                this.context.strokeText(e, k, j);
            }
            if (this.style.fill) {
                this.context.fillText(e, k, j);
            }
            k += this.context.measureText(e).width;
            this._charCount++;
        }
    };
    s5.Text.prototype.clearColors = function() {
        this.colors = [];
        this.dirty = d6t.s73;
    };
    s5.Text.prototype.addColor = function(t, k) {
        this.colors[k] = t;
        this.dirty = d6t.s73;
    };
    s5.Text.prototype.runWordWrap = function(t) {
        var k = d6t.I6x,
            j = t.split(d6t.C7);
        for (var o = d6t.W6; o < j.length; o++) {
            var e = this.style.wordWrapWidth,
                q = j[o].split(d6t.p93);
            for (var m = d6t.W6; m < q.length; m++) {
                var k5 = this.context.measureText(q[m]).width,
                    C5 = k5 + this.context.measureText(d6t.p93).width;
                if (C5 > e) {
                    if (m > d6t.W6) {
                        k += d6t.C7;
                    }
                    k += q[m] + d6t.p93;
                    e = this.style.wordWrapWidth - k5;
                } else {
                    e -= C5;
                    k += q[m] + d6t.p93;
                }
            }
            if (o < j.length - d6t.A6) {
                k += d6t.C7;
            }
        }
        return k;
    };
    Object.defineProperty(s5.Text.prototype, u4, {
        get: function() {
            return s5.Math.radToDeg(this.rotation);
        },
        set: function(t) {
            this.rotation = s5.Math.degToRad(t);
        }
    });
    Object.defineProperty(s5.Text.prototype, d6t.M4H, {
        get: function() {
            return this._text;
        },
        set: function(t) {
            if (t !== this._text) {
                this._text = t.toString() || d6t.p93;
                this.dirty = d6t.s73;
                if (this.parent) {
                    this.updateTransform();
                }
            }
        }
    });
    Object.defineProperty(s5.Text.prototype, j4, {
        get: function() {
            return this._font;
        },
        set: function(t) {
            if (t !== this._font) {
                this._font = t.trim();
                this.style.font = this._fontWeight + d6t.p93 + this._fontSize + H4 + this._font + d6t.V6x;
                this.dirty = d6t.s73;
                if (this.parent) {
                    this.updateTransform();
                }
            }
        }
    });
    Object.defineProperty(s5.Text.prototype, R3, {
        get: function() {
            return this._fontSize;
        },
        set: function(t) {
            t = parseInt(t, d6t.x7x);
            if (t !== this._fontSize) {
                this._fontSize = t;
                this.style.font = this._fontWeight + d6t.p93 + this._fontSize + H4 + this._font + d6t.V6x;
                this.dirty = d6t.s73;
                if (this.parent) {
                    this.updateTransform();
                }
            }
        }
    });
    Object.defineProperty(s5.Text.prototype, p3, {
        get: function() {
            return this._fontWeight;
        },
        set: function(t) {
            if (t !== this._fontWeight) {
                this._fontWeight = t;
                this.style.font = this._fontWeight + d6t.p93 + this._fontSize + H4 + this._font + d6t.V6x;
                this.dirty = d6t.s73;
                if (this.parent) {
                    this.updateTransform();
                }
            }
        }
    });
    Object.defineProperty(s5.Text.prototype, d6t.t53, {
        get: function() {
            return this.style.fill;
        },
        set: function(t) {
            if (t !== this.style.fill) {
                this.style.fill = t;
                this.dirty = d6t.s73;
            }
        }
    });
    Object.defineProperty(s5.Text.prototype, E4, {
        get: function() {
            return this.style.align;
        },
        set: function(t) {
            if (t !== this.style.align) {
                this.style.align = t;
                this.dirty = d6t.s73;
            }
        }
    });
    Object.defineProperty(s5.Text.prototype, e6, {
        get: function() {
            return this.style.stroke;
        },
        set: function(t) {
            if (t !== this.style.stroke) {
                this.style.stroke = t;
                this.dirty = d6t.s73;
            }
        }
    });
    Object.defineProperty(s5.Text.prototype, T6, {
        get: function() {
            return this.style.strokeThickness;
        },
        set: function(t) {
            if (t !== this.style.strokeThickness) {
                this.style.strokeThickness = t;
                this.dirty = d6t.s73;
            }
        }
    });
    Object.defineProperty(s5.Text.prototype, J4, {
        get: function() {
            return this.style.wordWrap;
        },
        set: function(t) {
            if (t !== this.style.wordWrap) {
                this.style.wordWrap = t;
                this.dirty = d6t.s73;
            }
        }
    });
    Object.defineProperty(s5.Text.prototype, x4, {
        get: function() {
            return this.style.wordWrapWidth;
        },
        set: function(t) {
            if (t !== this.style.wordWrapWidth) {
                this.style.wordWrapWidth = t;
                this.dirty = d6t.s73;
            }
        }
    });
    Object.defineProperty(s5.Text.prototype, I5, {
        get: function() {
            return this._lineSpacing;
        },
        set: function(t) {
            if (t !== this._lineSpacing) {
                this._lineSpacing = parseFloat(t);
                this.dirty = d6t.s73;
                if (this.parent) {
                    this.updateTransform();
                }
            }
        }
    });
    Object.defineProperty(s5.Text.prototype, X5, {
        get: function() {
            return this.style.shadowOffsetX;
        },
        set: function(t) {
            if (t !== this.style.shadowOffsetX) {
                this.style.shadowOffsetX = t;
                this.dirty = d6t.s73;
            }
        }
    });
    Object.defineProperty(s5.Text.prototype, E5, {
        get: function() {
            return this.style.shadowOffsetY;
        },
        set: function(t) {
            if (t !== this.style.shadowOffsetY) {
                this.style.shadowOffsetY = t;
                this.dirty = d6t.s73;
            }
        }
    });
    Object.defineProperty(s5.Text.prototype, e5, {
        get: function() {
            return this.style.shadowColor;
        },
        set: function(t) {
            if (t !== this.style.shadowColor) {
                this.style.shadowColor = t;
                this.dirty = d6t.s73;
            }
        }
    });
    Object.defineProperty(s5.Text.prototype, l5, {
        get: function() {
            return this.style.shadowBlur;
        },
        set: function(t) {
            if (t !== this.style.shadowBlur) {
                this.style.shadowBlur = t;
                this.dirty = d6t.s73;
            }
        }
    });
    Object.defineProperty(s5.Text.prototype, g4, {
        get: function() {
            return (this.input && this.input.enabled);
        },
        set: function(t) {
            if (t) {
                if (this.input === d6t.B3x) {
                    this.input = new s5.InputHandler(this);
                    this.input.start();
                } else if (this.input && !this.input.enabled) {
                    this.input.start();
                }
            } else {
                if (this.input && this.input.enabled) {
                    this.input.stop();
                }
            }
        }
    });
    Object.defineProperty(s5.Text.prototype, i3, {
        get: function() {
            return !!this._cache[d6t.v6];
        },
        set: function(t) {
            if (t) {
                this._cache[d6t.v6] = d6t.A6;
                this.cameraOffset.set(this.x, this.y);
            } else {
                this._cache[d6t.v6] = d6t.W6;
            }
        }
    });
    Object.defineProperty(s5.Text.prototype, z4, {
        get: function() {
            return !!this._cache[d6t.d6];
        }
    });
    s5.BitmapText = function(game, k, j, o, e, q) {
        k = k || d6t.W6;
        j = j || d6t.W6;
        o = o || d6t.I6x;
        e = e || d6t.I6x;
        q = q || d6t.z9x;
        this.game = game;
        this.exists = d6t.s73;
        this.name = d6t.I6x;
        this.type = s5.BITMAPTEXT;
        this.z = d6t.W6;
        this.world = new s5.Point(k, j);
        this._text = e;
        this._font = o;
        this._fontSize = q;
        this._align = d6t.m6H;
        this._tint = (44.7E1 >= (7.59E2, 1.52E2) ? (0xD9, 0xFFFFFF) : (72, 0x6));
        this.events = new s5.Events(this);
        this.input = d6t.B3x;
        this.cameraOffset = new s5.Point();
        PIXI.BitmapText.call(this, e);
        this.position.set(k, j);
        this._cache = [d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.A6, d6t.W6, d6t.A6, d6t.W6, d6t.W6];
    };
    s5.BitmapText.prototype = Object.create(PIXI.BitmapText.prototype);
    s5.BitmapText.prototype.constructor = s5.BitmapText;
    s5.BitmapText.prototype.setStyle = function() {
        this.style = {
            align: this._align
        };
        this.fontName = this._font;
        this.fontSize = this._fontSize;
        this.dirty = d6t.s73;
    };
    s5.BitmapText.prototype.preUpdate = function() {
        this._cache[d6t.W6] = this.world.x;
        this._cache[d6t.A6] = this.world.y;
        this._cache[d6t.D6] = this.rotation;
        if (!this.exists || !this.parent.exists) {
            this.renderOrderID = -d6t.A6;
            return d6t.F18;
        }
        if (this.autoCull) {
            this.renderable = this.game.world.camera.screenView.intersects(this.getBounds());
        }
        this.world.setTo(this.game.camera.x + this.worldTransform.tx, this.game.camera.y + this.worldTransform.ty);
        if (this.visible) {
            this._cache[d6t.B6] = this.game.stage.currentRenderOrderID++;
        }
        return d6t.s73;
    };
    s5.BitmapText.prototype.update = function() {};
    s5.BitmapText.prototype.postUpdate = function() {
        if (this._cache[d6t.v6] === d6t.A6) {
            this.position.x = (this.game.camera.view.x + this.cameraOffset.x) / this.game.camera.scale.x;
            this.position.y = (this.game.camera.view.y + this.cameraOffset.y) / this.game.camera.scale.y;
        }
    };
    s5.BitmapText.prototype.destroy = function(t) {
        if (this.game === d6t.B3x || this.destroyPhase) {
            return;
        }
        if (typeof t === d6t.k43) {
            t = d6t.s73;
        }
        this._cache[d6t.d6] = d6t.A6;
        if (this.parent) {
            if (this.parent instanceof s5.Group) {
                this.parent.remove(this);
            } else {
                this.parent.removeChild(this);
            }
        }
        var k = this.children.length;
        if (t) {
            while (k--) {
                if (this.children[k].destroy) {
                    this.children[k].destroy(t);
                } else {
                    this.removeChild(this.children[k]);
                }
            }
        } else {
            while (k--) {
                this.removeChild(this.children[k]);
            }
        }
        this.exists = d6t.F18;
        this.visible = d6t.F18;
        this.filters = d6t.B3x;
        this.mask = d6t.B3x;
        this.game = d6t.B3x;
        this._cache[d6t.d6] = d6t.W6;
    };
    Object.defineProperty(s5.BitmapText.prototype, E4, {
        get: function() {
            return this._align;
        },
        set: function(t) {
            if (t !== this._align) {
                this._align = t;
                this.setStyle();
            }
        }
    });
    Object.defineProperty(s5.BitmapText.prototype, d6t.h3x, {
        get: function() {
            return this._tint;
        },
        set: function(t) {
            if (t !== this._tint) {
                this._tint = t;
                this.dirty = d6t.s73;
            }
        }
    });
    Object.defineProperty(s5.BitmapText.prototype, u4, {
        get: function() {
            return s5.Math.radToDeg(this.rotation);
        },
        set: function(t) {
            this.rotation = s5.Math.degToRad(t);
        }
    });
    Object.defineProperty(s5.BitmapText.prototype, j4, {
        get: function() {
            return this._font;
        },
        set: function(t) {
            if (t !== this._font) {
                this._font = t.trim();
                this.style.font = this._fontSize + H4 + this._font + d6t.V6x;
                this.dirty = d6t.s73;
            }
        }
    });
    Object.defineProperty(s5.BitmapText.prototype, R3, {
        get: function() {
            return this._fontSize;
        },
        set: function(t) {
            t = parseInt(t, d6t.x7x);
            if (t !== this._fontSize) {
                this._fontSize = t;
                this.style.font = this._fontSize + H4 + this._font + d6t.V6x;
                this.dirty = d6t.s73;
            }
        }
    });
    Object.defineProperty(s5.BitmapText.prototype, d6t.M4H, {
        get: function() {
            return this._text;
        },
        set: function(t) {
            if (t !== this._text) {
                this._text = t.toString() || d6t.p93;
                this.dirty = d6t.s73;
            }
        }
    });
    Object.defineProperty(s5.BitmapText.prototype, g4, {
        get: function() {
            return (this.input && this.input.enabled);
        },
        set: function(t) {
            if (t) {
                if (this.input === d6t.B3x) {
                    this.input = new s5.InputHandler(this);
                    this.input.start();
                } else if (this.input && !this.input.enabled) {
                    this.input.start();
                }
            } else {
                if (this.input && this.input.enabled) {
                    this.input.stop();
                }
            }
        }
    });
    Object.defineProperty(s5.BitmapText.prototype, i3, {
        get: function() {
            return !!this._cache[d6t.v6];
        },
        set: function(t) {
            if (t) {
                this._cache[d6t.v6] = d6t.A6;
                this.cameraOffset.set(this.x, this.y);
            } else {
                this._cache[d6t.v6] = d6t.W6;
            }
        }
    });
    Object.defineProperty(s5.BitmapText.prototype, z4, {
        get: function() {
            return !!this._cache[d6t.d6];
        }
    });
    s5.Button = function(game, k, j, o, e, q, m, k5, C5, H5) {
        k = k || d6t.W6;
        j = j || d6t.W6;
        o = o || d6t.B3x;
        e = e || d6t.B3x;
        q = q || this;
        s5.Image.call(this, game, k, j, o, k5);
        this.type = s5.BUTTON;
        this._onOverFrameName = d6t.B3x;
        this._onOutFrameName = d6t.B3x;
        this._onDownFrameName = d6t.B3x;
        this._onUpFrameName = d6t.B3x;
        this._onOverFrameID = d6t.B3x;
        this._onOutFrameID = d6t.B3x;
        this._onDownFrameID = d6t.B3x;
        this._onUpFrameID = d6t.B3x;
        this.onOverMouseOnly = d6t.F18;
        this.onOverSound = d6t.B3x;
        this.onOutSound = d6t.B3x;
        this.onDownSound = d6t.B3x;
        this.onUpSound = d6t.B3x;
        this.onOverSoundMarker = d6t.I6x;
        this.onOutSoundMarker = d6t.I6x;
        this.onDownSoundMarker = d6t.I6x;
        this.onUpSoundMarker = d6t.I6x;
        this.onInputOver = new s5.Signal();
        this.onInputOut = new s5.Signal();
        this.onInputDown = new s5.Signal();
        this.onInputUp = new s5.Signal();
        this.freezeFrames = d6t.F18;
        this.forceOut = d6t.F18;
        this.inputEnabled = d6t.s73;
        this.input.start(d6t.W6, d6t.s73);
        this.setFrames(m, k5, C5, H5);
        if (e !== d6t.B3x) {
            this.onInputUp.add(e, q);
        }
        this.events.onInputOver.add(this.onInputOverHandler, this);
        this.events.onInputOut.add(this.onInputOutHandler, this);
        this.events.onInputDown.add(this.onInputDownHandler, this);
        this.events.onInputUp.add(this.onInputUpHandler, this);
    };
    s5.Button.prototype = Object.create(s5.Image.prototype);
    s5.Button.prototype.constructor = s5.Button;
    s5.Button.prototype.clearFrames = function() {
        this._onOverFrameName = d6t.B3x;
        this._onOverFrameID = d6t.B3x;
        this._onOutFrameName = d6t.B3x;
        this._onOutFrameID = d6t.B3x;
        this._onDownFrameName = d6t.B3x;
        this._onDownFrameID = d6t.B3x;
        this._onUpFrameName = d6t.B3x;
        this._onUpFrameID = d6t.B3x;
    };
    s5.Button.prototype.setFrames = function(t, k, j, o) {
        this.clearFrames();
        if (t !== d6t.B3x) {
            if (typeof t === d6t.F78) {
                this._onOverFrameName = t;
                if (this.input.pointerOver()) {
                    this.frameName = t;
                }
            } else {
                this._onOverFrameID = t;
                if (this.input.pointerOver()) {
                    this.frame = t;
                }
            }
        }
        if (k !== d6t.B3x) {
            if (typeof k === d6t.F78) {
                this._onOutFrameName = k;
                if (this.input.pointerOver() === d6t.F18) {
                    this.frameName = k;
                }
            } else {
                this._onOutFrameID = k;
                if (this.input.pointerOver() === d6t.F18) {
                    this.frame = k;
                }
            }
        }
        if (j !== d6t.B3x) {
            if (typeof j === d6t.F78) {
                this._onDownFrameName = j;
                if (this.input.pointerDown()) {
                    this.frameName = j;
                }
            } else {
                this._onDownFrameID = j;
                if (this.input.pointerDown()) {
                    this.frame = j;
                }
            }
        }
        if (o !== d6t.B3x) {
            if (typeof o === d6t.F78) {
                this._onUpFrameName = o;
                if (this.input.pointerUp()) {
                    this.frameName = o;
                }
            } else {
                this._onUpFrameID = o;
                if (this.input.pointerUp()) {
                    this.frame = o;
                }
            }
        }
    };
    s5.Button.prototype.setSounds = function(t, k, j, o, e, q, m, k5) {
        this.setOverSound(t, k);
        this.setOutSound(e, q);
        this.setDownSound(j, o);
        this.setUpSound(m, k5);
    };
    s5.Button.prototype.setOverSound = function(t, k) {
        this.onOverSound = d6t.B3x;
        this.onOverSoundMarker = d6t.I6x;
        if (t instanceof s5.Sound || t instanceof s5.AudioSprite) {
            this.onOverSound = t;
        }
        if (typeof k === d6t.F78) {
            this.onOverSoundMarker = k;
        }
    };
    s5.Button.prototype.setOutSound = function(t, k) {
        this.onOutSound = d6t.B3x;
        this.onOutSoundMarker = d6t.I6x;
        if (t instanceof s5.Sound || t instanceof s5.AudioSprite) {
            this.onOutSound = t;
        }
        if (typeof k === d6t.F78) {
            this.onOutSoundMarker = k;
        }
    };
    s5.Button.prototype.setDownSound = function(t, k) {
        this.onDownSound = d6t.B3x;
        this.onDownSoundMarker = d6t.I6x;
        if (t instanceof s5.Sound || t instanceof s5.AudioSprite) {
            this.onDownSound = t;
        }
        if (typeof k === d6t.F78) {
            this.onDownSoundMarker = k;
        }
    };
    s5.Button.prototype.setUpSound = function(t, k) {
        this.onUpSound = d6t.B3x;
        this.onUpSoundMarker = d6t.I6x;
        if (t instanceof s5.Sound || t instanceof s5.AudioSprite) {
            this.onUpSound = t;
        }
        if (typeof k === d6t.F78) {
            this.onUpSoundMarker = k;
        }
    };
    s5.Button.prototype.onInputOverHandler = function(t, k) {
        if (k.justReleased()) {
            return;
        }
        if (this.freezeFrames === d6t.F18) {
            this.setState(d6t.A6);
        }
        if (this.onOverMouseOnly && !k.isMouse) {
            return;
        }
        if (this.onOverSound) {
            this.onOverSound.play(this.onOverSoundMarker);
        }
        if (this.onInputOver) {
            this.onInputOver.dispatch(this, k);
        }
    };
    s5.Button.prototype.onInputOutHandler = function(t, k) {
        if (this.freezeFrames === d6t.F18) {
            this.setState(d6t.D6);
        }
        if (this.onOutSound) {
            this.onOutSound.play(this.onOutSoundMarker);
        }
        if (this.onInputOut) {
            this.onInputOut.dispatch(this, k);
        }
    };
    s5.Button.prototype.onInputDownHandler = function(t, k) {
        if (this.freezeFrames === d6t.F18) {
            this.setState(d6t.B6);
        }
        if (this.onDownSound) {
            this.onDownSound.play(this.onDownSoundMarker);
        }
        if (this.onInputDown) {
            this.onInputDown.dispatch(this, k);
        }
    };
    s5.Button.prototype.onInputUpHandler = function(t, k, j) {
        if (this.onUpSound) {
            this.onUpSound.play(this.onUpSoundMarker);
        }
        if (this.onInputUp) {
            this.onInputUp.dispatch(this, k, j);
        }
        if (this.freezeFrames) {
            return;
        }
        if (this.forceOut) {
            this.setState(d6t.D6);
        } else {
            if (this._onUpFrameName !== d6t.B3x || this._onUpFrameID !== d6t.B3x) {
                this.setState(d6t.M6);
            } else {
                if (j) {
                    this.setState(d6t.A6);
                } else {
                    this.setState(d6t.D6);
                }
            }
        }
    };
    s5.Button.prototype.setState = function(t) {
        if (t === d6t.A6) {
            if (this._onOverFrameName != d6t.B3x) {
                this.frameName = this._onOverFrameName;
            } else if (this._onOverFrameID != d6t.B3x) {
                this.frame = this._onOverFrameID;
            }
        } else if (t === d6t.D6) {
            if (this._onOutFrameName != d6t.B3x) {
                this.frameName = this._onOutFrameName;
            } else if (this._onOutFrameID != d6t.B3x) {
                this.frame = this._onOutFrameID;
            }
        } else if (t === d6t.B6) {
            if (this._onDownFrameName != d6t.B3x) {
                this.frameName = this._onDownFrameName;
            } else if (this._onDownFrameID != d6t.B3x) {
                this.frame = this._onDownFrameID;
            }
        } else if (t === d6t.M6) {
            if (this._onUpFrameName != d6t.B3x) {
                this.frameName = this._onUpFrameName;
            } else if (this._onUpFrameID != d6t.B3x) {
                this.frame = this._onUpFrameID;
            }
        }
    };
    s5.Graphics = function(game, k, j) {
        k = k || d6t.W6;
        j = j || d6t.W6;
        this.game = game;
        this.exists = d6t.s73;
        this.name = d6t.I6x;
        this.type = s5.GRAPHICS;
        this.z = d6t.W6;
        this.world = new s5.Point(k, j);
        this.cameraOffset = new s5.Point();
        PIXI.Graphics.call(this);
        this.position.set(k, j);
        this._cache = [d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.A6, d6t.W6, d6t.A6, d6t.W6, d6t.W6];
    };
    s5.Graphics.prototype = Object.create(PIXI.Graphics.prototype);
    s5.Graphics.prototype.constructor = s5.Graphics;
    s5.Graphics.prototype.preUpdate = function() {
        this._cache[d6t.W6] = this.world.x;
        this._cache[d6t.A6] = this.world.y;
        this._cache[d6t.D6] = this.rotation;
        if (!this.exists || !this.parent.exists) {
            this.renderOrderID = -d6t.A6;
            return d6t.F18;
        }
        if (this.autoCull) {
            this.renderable = this.game.world.camera.screenView.intersects(this.getBounds());
        }
        this.world.setTo(this.game.camera.x + this.worldTransform.tx, this.game.camera.y + this.worldTransform.ty);
        if (this.visible) {
            this._cache[d6t.B6] = this.game.stage.currentRenderOrderID++;
        }
        return d6t.s73;
    };
    s5.Graphics.prototype.update = function() {};
    s5.Graphics.prototype.postUpdate = function() {
        if (this._cache[d6t.v6] === d6t.A6) {
            this.position.x = (this.game.camera.view.x + this.cameraOffset.x) / this.game.camera.scale.x;
            this.position.y = (this.game.camera.view.y + this.cameraOffset.y) / this.game.camera.scale.y;
        }
    };
    s5.Graphics.prototype.destroy = function(t) {
        if (this.game === d6t.B3x || this.destroyPhase) {
            return;
        }
        if (typeof t === d6t.k43) {
            t = d6t.s73;
        }
        this._cache[d6t.d6] = d6t.A6;
        this.clear();
        if (this.parent) {
            if (this.parent instanceof s5.Group) {
                this.parent.remove(this);
            } else {
                this.parent.removeChild(this);
            }
        }
        var k = this.children.length;
        if (t) {
            while (k--) {
                this.children[k].destroy(t);
            }
        } else {
            while (k--) {
                this.removeChild(this.children[k]);
            }
        }
        this.exists = d6t.F18;
        this.visible = d6t.F18;
        this.game = d6t.B3x;
        this._cache[d6t.d6] = d6t.W6;
    };
    s5.Graphics.prototype.drawTriangle = function(t, k) {
        if (typeof k === d6t.k43) {
            k = d6t.F18;
        }
        var j = new s5.Polygon(t);
        if (k) {
            var o = new s5.Point(this.game.camera.x - t[d6t.W6].x, this.game.camera.y - t[d6t.W6].y),
                e = new s5.Point(t[d6t.A6].x - t[d6t.W6].x, t[d6t.A6].y - t[d6t.W6].y),
                q = new s5.Point(t[d6t.A6].x - t[d6t.D6].x, t[d6t.A6].y - t[d6t.D6].y),
                m = q.cross(e);
            if (o.dot(m) > d6t.W6) {
                this.drawPolygon(j);
            }
        } else {
            this.drawPolygon(j);
        }
    };
    s5.Graphics.prototype.drawTriangles = function(t, k, j) {
        if (typeof j === d6t.k43) {
            j = d6t.F18;
        }
        var o = new s5.Point(),
            e = new s5.Point(),
            q = new s5.Point(),
            m = [],
            k5;
        if (!k) {
            if (t[d6t.W6] instanceof s5.Point) {
                for (k5 = d6t.W6; k5 < t.length / d6t.B6; k5++) {
                    this.drawTriangle([t[k5 * d6t.B6], t[k5 * d6t.B6 + d6t.A6], t[k5 * d6t.B6 + d6t.D6]], j);
                }
            } else {
                for (k5 = d6t.W6; k5 < t.length / d6t.J6; k5++) {
                    o.x = t[k5 * d6t.J6 + d6t.W6];
                    o.y = t[k5 * d6t.J6 + d6t.A6];
                    e.x = t[k5 * d6t.J6 + d6t.D6];
                    e.y = t[k5 * d6t.J6 + d6t.B6];
                    q.x = t[k5 * d6t.J6 + d6t.M6];
                    q.y = t[k5 * d6t.J6 + d6t.U6];
                    this.drawTriangle([o, e, q], j);
                }
            }
        } else {
            if (t[d6t.W6] instanceof s5.Point) {
                for (k5 = d6t.W6; k5 < k.length / d6t.B6; k5++) {
                    m.push(t[k[k5 * d6t.B6]]);
                    m.push(t[k[k5 * d6t.B6 + d6t.A6]]);
                    m.push(t[k[k5 * d6t.B6 + d6t.D6]]);
                    if (m.length === d6t.B6) {
                        this.drawTriangle(m, j);
                        m = [];
                    }
                }
            } else {
                for (k5 = d6t.W6; k5 < k.length; k5++) {
                    o.x = t[k[k5] * d6t.D6];
                    o.y = t[k[k5] * d6t.D6 + d6t.A6];
                    m.push(o.copyTo({}));
                    if (m.length === d6t.B6) {
                        this.drawTriangle(m, j);
                        m = [];
                    }
                }
            }
        }
    };
    Object.defineProperty(s5.Graphics.prototype, u4, {
        get: function() {
            return s5.Math.radToDeg(this.rotation);
        },
        set: function(t) {
            this.rotation = s5.Math.degToRad(t);
        }
    });
    Object.defineProperty(s5.Graphics.prototype, i3, {
        get: function() {
            return !!this._cache[d6t.v6];
        },
        set: function(t) {
            if (t) {
                this._cache[d6t.v6] = d6t.A6;
                this.cameraOffset.set(this.x, this.y);
            } else {
                this._cache[d6t.v6] = d6t.W6;
            }
        }
    });
    Object.defineProperty(s5.Graphics.prototype, z4, {
        get: function() {
            return !!this._cache[d6t.d6];
        }
    });
    s5.RenderTexture = function(game, k, j, o, e, q) {
        if (typeof o === d6t.k43) {
            o = d6t.I6x;
        }
        if (typeof e === d6t.k43) {
            e = s5.scaleModes.DEFAULT;
        }
        if (typeof q === d6t.k43) {
            q = d6t.A6;
        }
        this.game = game;
        this.key = o;
        this.type = s5.RENDERTEXTURE;
        this.matrix = new PIXI.Matrix();
        PIXI.RenderTexture.call(this, k, j, this.game.renderer, e, q);
        this.render = s5.RenderTexture.prototype.render;
    };
    s5.RenderTexture.prototype = Object.create(PIXI.RenderTexture.prototype);
    s5.RenderTexture.prototype.constructor = s5.RenderTexture;
    s5.RenderTexture.prototype.renderXY = function(t, k, j, o) {
        this.matrix.tx = k;
        this.matrix.ty = j;
        if (this.renderer.type === PIXI.WEBGL_RENDERER) {
            this.renderWebGL(t, this.matrix, o);
        } else {
            this.renderCanvas(t, this.matrix, o);
        }
    };
    s5.RenderTexture.prototype.render = function(t, k, j) {
        this.matrix.tx = k.x;
        this.matrix.ty = k.y;
        if (this.renderer.type === PIXI.WEBGL_RENDERER) {
            this.renderWebGL(t, this.matrix, j);
        } else {
            this.renderCanvas(t, this.matrix, j);
        }
    };
    s5.SpriteBatch = function(game, k, j, o) {
        if (typeof k === d6t.k43 || k === d6t.B3x) {
            k = game.world;
        }
        PIXI.SpriteBatch.call(this);
        s5.Group.call(this, game, k, j, o);
        this.type = s5.SPRITEBATCH;
    };
    s5.SpriteBatch.prototype = s5.Utils.extend(d6t.s73, s5.SpriteBatch.prototype, s5.Group.prototype, PIXI.SpriteBatch.prototype);
    s5.SpriteBatch.prototype.constructor = s5.SpriteBatch;
    s5.RetroFont = function(game, k, j, o, e, q, m, k5, C5, H5) {
        if (!game.cache.checkImageKey(k)) {
            return d6t.F18;
        }
        if (typeof q === d6t.k43 || q === d6t.B3x) {
            q = game.cache.getImage(k).width / j;
        }
        this.characterWidth = j;
        this.characterHeight = o;
        this.characterSpacingX = m || d6t.W6;
        this.characterSpacingY = k5 || d6t.W6;
        this.characterPerRow = q;
        this.offsetX = C5 || d6t.W6;
        this.offsetY = H5 || d6t.W6;
        this.align = d6t.I7x;
        this.multiLine = d6t.F18;
        this.autoUpperCase = d6t.s73;
        this.customSpacingX = d6t.W6;
        this.customSpacingY = d6t.W6;
        this.fixedWidth = d6t.W6;
        this.fontSet = game.cache.getImage(k);
        this._text = d6t.I6x;
        this.grabData = [];
        this.frameData = new s5.FrameData();
        var j5 = this.offsetX,
            Y5 = this.offsetY,
            z5 = d6t.W6;
        for (var P5 = d6t.W6; P5 < e.length; P5++) {
            var p5 = game.rnd.uuid(),
                w5 = this.frameData.addFrame(new s5.Frame(P5, j5, Y5, this.characterWidth, this.characterHeight, d6t.I6x, p5));
            this.grabData[e.charCodeAt(P5)] = w5.index;
            PIXI.TextureCache[p5] = new PIXI.Texture(PIXI.BaseTextureCache[k], {
                x: j5,
                y: Y5,
                width: this.characterWidth,
                height: this.characterHeight
            });
            z5++;
            if (z5 == this.characterPerRow) {
                z5 = d6t.W6;
                j5 = this.offsetX;
                Y5 += this.characterHeight + this.characterSpacingY;
            } else {
                j5 += this.characterWidth + this.characterSpacingX;
            }
        }
        game.cache.updateFrameData(k, this.frameData);
        this.stamp = new s5.Image(game, d6t.W6, d6t.W6, k, d6t.W6);
        s5.RenderTexture.call(this, game, d6t.a08, d6t.a08, d6t.I6x, s5.scaleModes.NEAREST);
        this.type = s5.RETROFONT;
    };
    s5.RetroFont.prototype = Object.create(s5.RenderTexture.prototype);
    s5.RetroFont.prototype.constructor = s5.RetroFont;
    s5.RetroFont.ALIGN_LEFT = d6t.I7x;
    s5.RetroFont.ALIGN_RIGHT = d6t.J4f;
    s5.RetroFont.ALIGN_CENTER = P3;
    s5.RetroFont.TEXT_SET1 = M3;
    s5.RetroFont.TEXT_SET2 = I4;
    s5.RetroFont.TEXT_SET3 = t3;
    s5.RetroFont.TEXT_SET4 = h4;
    s5.RetroFont.TEXT_SET5 = z3;
    s5.RetroFont.TEXT_SET6 = V5;
    s5.RetroFont.TEXT_SET7 = Q4;
    s5.RetroFont.TEXT_SET8 = V3;
    s5.RetroFont.TEXT_SET9 = j3;
    s5.RetroFont.TEXT_SET10 = H3;
    s5.RetroFont.TEXT_SET11 = K3;
    s5.RetroFont.prototype.setFixedWidth = function(t, k) {
        if (typeof k === d6t.k43) {
            k = d6t.m6H;
        }
        this.fixedWidth = t;
        this.align = k;
    };
    s5.RetroFont.prototype.setText = function(t, k, j, o, e, q) {
        this.multiLine = k || d6t.F18;
        this.customSpacingX = j || d6t.W6;
        this.customSpacingY = o || d6t.W6;
        this.align = e || d6t.m6H;
        if (q) {
            this.autoUpperCase = d6t.F18;
        } else {
            this.autoUpperCase = d6t.s73;
        }
        if (t.length > d6t.W6) {
            this.text = t;
        }
    };
    s5.RetroFont.prototype.buildRetroFontText = function() {
        var t = d6t.W6,
            k = d6t.W6;
        this.clear();
        if (this.multiLine) {
            var j = this._text.split(d6t.t98);
            if (this.fixedWidth > d6t.W6) {
                this.resize(this.fixedWidth, (j.length * (this.characterHeight + this.customSpacingY)) - this.customSpacingY, d6t.s73);
            } else {
                this.resize(this.getLongestLine() * (this.characterWidth + this.customSpacingX), (j.length * (this.characterHeight + this.customSpacingY)) - this.customSpacingY, d6t.s73);
            }
            for (var o = d6t.W6; o < j.length; o++) {
                switch (this.align) {
                    case s5.RetroFont.ALIGN_LEFT:
                        t = d6t.W6;
                        break;
                    case s5.RetroFont.ALIGN_RIGHT:
                        t = this.width - (j[o].length * (this.characterWidth + this.customSpacingX));
                        break;
                    case s5.RetroFont.ALIGN_CENTER:
                        t = (this.width / d6t.D6) - ((j[o].length * (this.characterWidth + this.customSpacingX)) / d6t.D6);
                        t += this.customSpacingX / d6t.D6;
                        break;
                }
                if (t < d6t.W6) {
                    t = d6t.W6;
                }
                this.pasteLine(j[o], t, k, this.customSpacingX);
                k += this.characterHeight + this.customSpacingY;
            }
        } else {
            if (this.fixedWidth > d6t.W6) {
                this.resize(this.fixedWidth, this.characterHeight, d6t.s73);
            } else {
                this.resize(this._text.length * (this.characterWidth + this.customSpacingX), this.characterHeight, d6t.s73);
            }
            switch (this.align) {
                case s5.RetroFont.ALIGN_LEFT:
                    t = d6t.W6;
                    break;
                case s5.RetroFont.ALIGN_RIGHT:
                    t = this.width - (this._text.length * (this.characterWidth + this.customSpacingX));
                    break;
                case s5.RetroFont.ALIGN_CENTER:
                    t = (this.width / d6t.D6) - ((this._text.length * (this.characterWidth + this.customSpacingX)) / d6t.D6);
                    t += this.customSpacingX / d6t.D6;
                    break;
            }
            this.textureBuffer.clear();
            this.pasteLine(this._text, t, d6t.W6, this.customSpacingX);
        }
    };
    s5.RetroFont.prototype.pasteLine = function(t, k, j, o) {
        var e = new s5.Point();
        for (var q = d6t.W6; q < t.length; q++) {
            if (t.charAt(q) == d6t.D0) {
                k += this.characterWidth + o;
            } else {
                if (this.grabData[t.charCodeAt(q)] >= d6t.W6) {
                    this.stamp.frame = this.grabData[t.charCodeAt(q)];
                    e.set(k, j);
                    this.render(this.stamp, e, d6t.F18);
                    k += this.characterWidth + o;
                    if (k > this.width) {
                        break;
                    }
                }
            }
        }
    };
    s5.RetroFont.prototype.getLongestLine = function() {
        var t = d6t.W6;
        if (this._text.length > d6t.W6) {
            var k = this._text.split(d6t.t98);
            for (var j = d6t.W6; j < k.length; j++) {
                if (k[j].length > t) {
                    t = k[j].length;
                }
            }
        }
        return t;
    };
    s5.RetroFont.prototype.removeUnsupportedCharacters = function(t) {
        var k = d6t.g5x;
        for (var j = d6t.W6; j < this._text.length; j++) {
            var o = this._text[j],
                e = o.charCodeAt(d6t.W6);
            if (this.grabData[e] >= d6t.W6 || (!t && o === d6t.t98)) {
                k = k.concat(o);
            }
        }
        return k;
    };
    s5.RetroFont.prototype.updateOffset = function(t, k) {
        if (this.offsetX === t && this.offsetY === k) {
            return;
        }
        var j = t - this.offsetX,
            o = k - this.offsetY,
            e = this.game.cache.getFrameData(this.stamp.key).getFrames(),
            q = e.length;
        while (q--) {
            e[q].x += j;
            e[q].y += o;
            PIXI.TextureCache[e[q].uuid].frame.x = e[q].x;
            PIXI.TextureCache[e[q].uuid].frame.y = e[q].y;
        }
        this.buildRetroFontText();
    };
    Object.defineProperty(s5.RetroFont.prototype, d6t.y4x, {
        get: function() {
            return this._text;
        },
        set: function(t) {
            var k;
            if (this.autoUpperCase) {
                k = t.toUpperCase();
            } else {
                k = t;
            }
            if (k !== this._text) {
                this._text = k;
                this.removeUnsupportedCharacters(this.multiLine);
                this.buildRetroFontText();
            }
        }
    });
    Object.defineProperty(s5.RetroFont.prototype, u7, {
        get: function() {
            return this.stamp.smoothed;
        },
        set: function(t) {
            this.stamp.smoothed = t;
            this.buildRetroFontText();
        }
    });
    s5.Particle = function(game, k, j, o, e) {
        s5.Sprite.call(this, game, k, j, o, e);
        this.autoScale = d6t.F18;
        this.scaleData = d6t.B3x;
        this._s = d6t.W6;
        this.autoAlpha = d6t.F18;
        this.alphaData = d6t.B3x;
        this._a = d6t.W6;
    };
    s5.Particle.prototype = Object.create(s5.Sprite.prototype);
    s5.Particle.prototype.constructor = s5.Particle;
    s5.Particle.prototype.update = function() {
        if (this.autoScale) {
            this._s--;
            if (this._s) {
                this.scale.set(this.scaleData[this._s].x, this.scaleData[this._s].y);
            } else {
                this.autoScale = d6t.F18;
            }
        }
        if (this.autoAlpha) {
            this._a--;
            if (this._a) {
                this.alpha = this.alphaData[this._a].v;
            } else {
                this.autoAlpha = d6t.F18;
            }
        }
    };
    s5.Particle.prototype.onEmit = function() {};
    s5.Particle.prototype.setAlphaData = function(t) {
        this.alphaData = t;
        this._a = t.length - d6t.A6;
        this.alpha = this.alphaData[this._a].v;
        this.autoAlpha = d6t.s73;
    };
    s5.Particle.prototype.setScaleData = function(t) {
        this.scaleData = t;
        this._s = t.length - d6t.A6;
        this.scale.set(this.scaleData[this._s].x, this.scaleData[this._s].y);
        this.autoScale = d6t.s73;
    };
    s5.Particle.prototype.reset = function(t, k, j) {
        if (typeof j === d6t.k43) {
            j = d6t.A6;
        }
        this.world.setTo(t, k);
        this.position.x = t;
        this.position.y = k;
        this.alive = d6t.s73;
        this.exists = d6t.s73;
        this.visible = d6t.s73;
        this.renderable = d6t.s73;
        this._outOfBoundsFired = d6t.F18;
        this.health = j;
        if (this.body) {
            this.body.reset(t, k, d6t.F18, d6t.F18);
        }
        this._cache[d6t.M6] = d6t.A6;
        this.alpha = d6t.A6;
        this.scale.set(d6t.A6);
        this.autoScale = d6t.F18;
        this.autoAlpha = d6t.F18;
        return this;
    };
    s5.Canvas = {
        create: function(t, k, j) {
            t = t || d6t.k8;
            k = k || d6t.k8;
            var o = document.createElement(d6t.f3B);
            if (typeof j === d6t.F78 && j !== d6t.I6x) {
                o.id = j;
            }
            o.width = t;
            o.height = k;
            o.style.display = d6t.f0x;
            return o;
        },
        getOffset: function(t, k) {
            k = k || new s5.Point();
            var j = t.getBoundingClientRect(),
                o = t.clientTop || document.body.clientTop || d6t.W6,
                e = t.clientLeft || document.body.clientLeft || d6t.W6,
                q = d6t.W6,
                m = d6t.W6;
            if (document.compatMode === d6t.P0x) {
                q = window.pageYOffset || document.documentElement.scrollTop || t.scrollTop || d6t.W6;
                m = window.pageXOffset || document.documentElement.scrollLeft || t.scrollLeft || d6t.W6;
            } else {
                q = window.pageYOffset || document.body.scrollTop || t.scrollTop || d6t.W6;
                m = window.pageXOffset || document.body.scrollLeft || t.scrollLeft || d6t.W6;
            }
            k.x = j.left + m - e;
            k.y = j.top + q - o;
            return k;
        },
        getAspectRatio: function(t) {
            return t.width / t.height;
        },
        setBackgroundColor: function(t, k) {
            k = k || X4;
            t.style.backgroundColor = k;
            return t;
        },
        setTouchAction: function(t, k) {
            var j = 'touch-action',
                o = 'ms-touch-action';
            k = k || d6t.W9f;
            t.style.msTouchAction = k;
            t.style[o] = k;
            t.style[j] = k;
            return t;
        },
        setUserSelect: function(t, k) {
            var j = 'rgba(0, 0, 0, 0)',
                o = '-webkit-tap-highlight-color',
                e = 'user-select',
                q = '-ms-user-select',
                m = '-moz-user-select',
                k5 = '-khtml-user-select',
                C5 = '-webkit-user-select',
                H5 = '-webkit-touch-callout';
            k = k || d6t.W9f;
            t.style[H5] = k;
            t.style[C5] = k;
            t.style[k5] = k;
            t.style[m] = k;
            t.style[q] = k;
            t.style[e] = k;
            t.style[o] = j;
            return t;
        },
        addToDOM: function(t, k, j) {
            var o;
            if (typeof j === d6t.k43) {
                j = d6t.s73;
            }
            if (k) {
                if (typeof k === d6t.F78) {
                    o = document.getElementById(k);
                } else if (typeof k === d6t.T7H && k.nodeType === d6t.A6) {
                    o = k;
                }
            }
            if (!o) {
                o = document.body;
            }
            if (j && o.style) {
                o.style.overflow = d6t.K5x;
            }
            o.appendChild(t);
            return t;
        },
        removeFromDOM: function(t) {
            if (t.parentNode) {
                t.parentNode.removeChild(t);
            }
        },
        setTransform: function(t, k, j, o, e, q, m) {
            t.setTransform(o, q, m, e, k, j);
            return t;
        },
        setSmoothingEnabled: function(t, k) {
            t[b4] = k;
            t[l4] = k;
            t[S4] = k;
            t[T4] = k;
            t[r4] = k;
            return t;
        },
        getSmoothingEnabled: function(t) {
            return (t[b4] || t[l4] || t[S4] || t[T4] || t[r4]);
        },
        setImageRenderingCrisp: function(t) {
            var k = 'nearest-neighbor',
                j = 'pixelated',
                o = 'optimize-contrast',
                e = '-webkit-optimize-contrast',
                q = '-moz-crisp-edges',
                m = 'crisp-edges',
                k5 = 'optimizeSpeed';
            t.style[w6] = k5;
            t.style[w6] = m;
            t.style[w6] = q;
            t.style[w6] = e;
            t.style[w6] = o;
            t.style[w6] = j;
            t.style.msInterpolationMode = k;
            return t;
        },
        setImageRenderingBicubic: function(t) {
            var k = 'bicubic';
            t.style[w6] = d6t.c7f;
            t.style.msInterpolationMode = k;
            return t;
        }
    };
    s5.Device = function(game) {
        this.game = game;
        this.desktop = d6t.F18;
        this.iOS = d6t.F18;
        this.cocoonJS = d6t.F18;
        this.cocoonJSApp = d6t.F18;
        this.cordova = d6t.F18;
        this.node = d6t.F18;
        this.nodeWebkit = d6t.F18;
        this.ejecta = d6t.F18;
        this.crosswalk = d6t.F18;
        this.android = d6t.F18;
        this.chromeOS = d6t.F18;
        this.linux = d6t.F18;
        this.macOS = d6t.F18;
        this.windows = d6t.F18;
        this.windowsPhone = d6t.F18;
        this.canvas = d6t.F18;
        this.file = d6t.F18;
        this.fileSystem = d6t.F18;
        this.localStorage = d6t.F18;
        this.webGL = d6t.F18;
        this.worker = d6t.F18;
        this.touch = d6t.F18;
        this.mspointer = d6t.F18;
        this.css3D = d6t.F18;
        this.pointerLock = d6t.F18;
        this.typedArray = d6t.F18;
        this.vibration = d6t.F18;
        this.getUserMedia = d6t.F18;
        this.quirksMode = d6t.F18;
        this.arora = d6t.F18;
        this.chrome = d6t.F18;
        this.epiphany = d6t.F18;
        this.firefox = d6t.F18;
        this.ie = d6t.F18;
        this.ieVersion = d6t.W6;
        this.trident = d6t.F18;
        this.tridentVersion = d6t.W6;
        this.mobileSafari = d6t.F18;
        this.midori = d6t.F18;
        this.opera = d6t.F18;
        this.safari = d6t.F18;
        this.webApp = d6t.F18;
        this.silk = d6t.F18;
        this.audioData = d6t.F18;
        this.webAudio = d6t.F18;
        this.ogg = d6t.F18;
        this.opus = d6t.F18;
        this.mp3 = d6t.F18;
        this.wav = d6t.F18;
        this.m4a = d6t.F18;
        this.webm = d6t.F18;
        this.iPhone = d6t.F18;
        this.iPhone4 = d6t.F18;
        this.iPad = d6t.F18;
        this.pixelRatio = d6t.W6;
        this.littleEndian = d6t.F18;
        this.support32bit = d6t.F18;
        this.fullscreen = d6t.F18;
        this.requestFullscreen = d6t.I6x;
        this.cancelFullscreen = d6t.I6x;
        this.fullscreenKeyboard = d6t.F18;
        this._checkOS();
        this._checkAudio();
        this._checkBrowser();
        this._checkCSS3D();
        this._checkDevice();
        this._checkFeatures();
    };
    s5.Device.LITTLE_ENDIAN = d6t.F18;
    s5.Device.prototype = {
        _checkOS: function() {
            var t = navigator.userAgent;
            if (/Playstation Vita/.test(t)) {
                this.vita = d6t.s73;
            } else if (/Kindle/.test(t) || /\bKF[A-Z][A-Z]+/.test(t) || /Silk.*Mobile Safari/.test(t)) {
                this.kindle = d6t.s73;
            } else if (/Android/.test(t)) {
                this.android = d6t.s73;
            } else if (/CrOS/.test(t)) {
                this.chromeOS = d6t.s73;
            } else if (/iP[ao]d|iPhone/i.test(t)) {
                this.iOS = d6t.s73;
            } else if (/Linux/.test(t)) {
                this.linux = d6t.s73;
            } else if (/Mac OS/.test(t)) {
                this.macOS = d6t.s73;
            } else if (/Windows/.test(t)) {
                this.windows = d6t.s73;
                if (/Windows Phone/i.test(t)) {
                    this.windowsPhone = d6t.s73;
                }
            }
            if (this.windows || this.macOS || (this.linux && this.silk === d6t.F18) || this.chromeOS) {
                this.desktop = d6t.s73;
            }
            if (this.windowsPhone || ((/Windows NT/i.test(t)) && (/Touch/i.test(t)))) {
                this.desktop = d6t.F18;
            }
        },
        _checkFeatures: function() {
            var j = 'webkitPointerLockElement',
                o = 'mozPointerLockElement',
                e = 'pointerLockElement',
                q = 'Worker',
                m = 'requestFileSystem',
                k5 = 'Blob',
                C5 = 'FileList',
                H5 = 'FileReader',
                j5 = 'File',
                Y5 = 'CanvasRenderingContext2D';
            this.canvas = !!window[Y5] || this.cocoonJS;
            try {
                this.localStorage = !!localStorage.getItem;
            } catch (t) {
                this.localStorage = d6t.F18;
            }
            this.file = !!window[j5] && !!window[H5] && !!window[C5] && !!window[k5];
            this.fileSystem = !!window[m];
            this.webGL = (function() {
                try {
                    var k = document.createElement(d6t.f3B);
                    k.screencanvas = d6t.F18;
                    return !!window.WebGLRenderingContext && (k.getContext(d6t.r4x) || k.getContext(d6t.K93));
                } catch (t) {
                    return d6t.F18;
                }
            })();
            if (this.webGL === d6t.B3x || this.webGL === d6t.F18) {
                this.webGL = d6t.F18;
            } else {
                this.webGL = d6t.s73;
            }
            this.worker = !!window[q];
            if (d6t.j4f in document.documentElement || (window.navigator.maxTouchPoints && window.navigator.maxTouchPoints > d6t.A6)) {
                this.touch = d6t.s73;
            }
            if (window.navigator.msPointerEnabled || window.navigator.pointerEnabled) {
                this.mspointer = d6t.s73;
            }
            this.pointerLock = e in document || o in document || j in document;
            this.quirksMode = (document.compatMode === d6t.P0x) ? d6t.F18 : d6t.s73;
            this.getUserMedia = !!(navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia);
        },
        checkFullScreenSupport: function() {
            var t = 'ALLOW_KEYBOARD_INPUT',
                k = 'Element',
                j = 'mozExitFullscreen',
                o = 'mozCancelFullScreen',
                e = 'msExitFullscreen',
                q = 'msCancelFullScreen',
                m = 'webkitExitFullscreen',
                k5 = 'webkitCancelFullScreen',
                C5 = 'exitFullscreen',
                H5 = 'cancelFullScreen',
                j5 = 'mozRequestFullscreen',
                Y5 = 'mozRequestFullScreen',
                z5 = 'msRequestFullScreen',
                P5 = 'msRequestFullscreen',
                p5 = 'webkitRequestFullScreen',
                w5 = 'webkitRequestFullscreen',
                R5 = 'requestFullScreen',
                r5 = 'requestFullscreen',
                T5 = [r5, R5, w5, p5, P5, z5, Y5, j5];
            for (var a5 = d6t.W6; a5 < T5.length; a5++) {
                if (this.game.canvas[T5[a5]]) {
                    this.fullscreen = d6t.s73;
                    this.requestFullscreen = T5[a5];
                    break;
                }
            }
            var x5 = [H5, C5, k5, m, q, e, o, j];
            if (this.fullscreen) {
                for (var a5 = d6t.W6; a5 < x5.length; a5++) {
                    if (document[x5[a5]]) {
                        this.cancelFullscreen = x5[a5];
                        break;
                    }
                }
            }
            if (window[k] && Element[t]) {
                this.fullscreenKeyboard = d6t.s73;
            }
        },
        _checkBrowser: function() {
            var k = 'isCocoonJS',
                j = 'nw.gui',
                o = 'standalone',
                e = navigator.userAgent;
            if (/Arora/.test(e)) {
                this.arora = d6t.s73;
            } else if (/Chrome/.test(e)) {
                this.chrome = d6t.s73;
            } else if (/Epiphany/.test(e)) {
                this.epiphany = d6t.s73;
            } else if (/Firefox/.test(e)) {
                this.firefox = d6t.s73;
            } else if (/AppleWebKit/.test(e) && this.iOS) {
                this.mobileSafari = d6t.s73;
            } else if (/MSIE (\d+\.\d+);/.test(e)) {
                this.ie = d6t.s73;
                this.ieVersion = parseInt(RegExp.$1, d6t.x7x);
            } else if (/Midori/.test(e)) {
                this.midori = d6t.s73;
            } else if (/Opera/.test(e)) {
                this.opera = d6t.s73;
            } else if (/Safari/.test(e)) {
                this.safari = d6t.s73;
            } else if (/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(e)) {
                this.ie = d6t.s73;
                this.trident = d6t.s73;
                this.tridentVersion = parseInt(RegExp.$1, d6t.x7x);
                this.ieVersion = parseInt(RegExp.$3, d6t.x7x);
            }
            if (/Silk/.test(e)) {
                this.silk = d6t.s73;
            }
            if (navigator[o]) {
                this.webApp = d6t.s73;
            }
            if (typeof window.cordova !== d6t.k6f) {
                this.cordova = d6t.s73;
            }
            if (typeof process !== d6t.k6f && typeof require !== d6t.k6f) {
                this.node = d6t.s73;
            }
            if (this.node) {
                try {
                    this.nodeWebkit = (typeof require(j) !== d6t.k6f);
                } catch (t) {
                    this.nodeWebkit = d6t.F18;
                }
            }
            if (navigator[k]) {
                this.cocoonJS = d6t.s73;
            }
            if (this.cocoonJS) {
                try {
                    this.cocoonJSApp = (typeof CocoonJS !== d6t.k6f);
                } catch (t) {
                    this.cocoonJSApp = d6t.F18;
                }
            }
            if (typeof window.ejecta !== d6t.k6f) {
                this.ejecta = d6t.s73;
            }
            if (/Crosswalk/.test(e)) {
                this.crosswalk = d6t.s73;
            }
        },
        _checkAudio: function() {
            var k = 'audio/webm; codecs="vorbis"',
                j = 'audio/aac;',
                o = 'audio/x-m4a;',
                e = 'audio/wav; codecs="1"',
                q = 'audio/mpeg;',
                m = 'audio/opus;',
                k5 = 'audio/ogg; codecs="opus"',
                C5 = 'audio/ogg; codecs="vorbis"';
            this.audioData = !!(window[d4]);
            this.webAudio = !!(window[N4] || window[D4]);
            var H5 = document.createElement(d6t.O6B),
                j5 = d6t.F18;
            try {
                if (j5 = !!H5.canPlayType) {
                    if (H5.canPlayType(C5).replace(/^no$/, d6t.I6x)) {
                        this.ogg = d6t.s73;
                    }
                    if (H5.canPlayType(k5).replace(/^no$/, d6t.I6x) || H5.canPlayType(m).replace(/^no$/, d6t.I6x)) {
                        this.opus = d6t.s73;
                    }
                    if (H5.canPlayType(q).replace(/^no$/, d6t.I6x)) {
                        this.mp3 = d6t.s73;
                    }
                    if (H5.canPlayType(e).replace(/^no$/, d6t.I6x)) {
                        this.wav = d6t.s73;
                    }
                    if (H5.canPlayType(o) || H5.canPlayType(j).replace(/^no$/, d6t.I6x)) {
                        this.m4a = d6t.s73;
                    }
                    if (H5.canPlayType(k).replace(/^no$/, d6t.I6x)) {
                        this.webm = d6t.s73;
                    }
                }
            } catch (t) {}
        },
        _checkDevice: function() {
            var t = 'devicePixelRatio';
            this.pixelRatio = window[t] || d6t.A6;
            this.iPhone = navigator.userAgent.toLowerCase().indexOf(d6t.T6B) != -d6t.A6;
            this.iPhone4 = (this.pixelRatio == d6t.D6 && this.iPhone);
            this.iPad = navigator.userAgent.toLowerCase().indexOf(d6t.v6f) != -d6t.A6;
            if (typeof Int8Array !== d6t.k43) {
                this.typedArray = d6t.s73;
            } else {
                this.typedArray = d6t.F18;
            }
            if (typeof ArrayBuffer !== d6t.k43 && typeof Uint8Array !== d6t.k43 && typeof Uint32Array !== d6t.k43) {
                this.littleEndian = this._checkIsLittleEndian();
                s5.Device.LITTLE_ENDIAN = this.littleEndian;
            }
            this.support32bit = (typeof ArrayBuffer !== d6t.k6f && typeof Uint8ClampedArray !== d6t.k6f && typeof Int32Array !== d6t.k6f && this.littleEndian !== d6t.B3x && this._checkIsUint8ClampedImageData());
            navigator.vibrate = navigator.vibrate || navigator.webkitVibrate || navigator.mozVibrate || navigator.msVibrate;
            if (navigator.vibrate) {
                this.vibration = d6t.s73;
            }
        },
        _checkIsLittleEndian: function() {
            var t = new ArrayBuffer(d6t.M6),
                k = new Uint8Array(t),
                j = new Uint32Array(t);
            k[d6t.W6] = 0xa1;
            k[d6t.A6] = 0xb2;
            k[d6t.D6] = 0xc3;
            k[d6t.B6] = 0xd4;
            if (j[d6t.W6] == (15. <= (98., 0xBF) ? (63, 0xd4c3b2a1) : 21.8E1 >= (0x151, 0xE3) ? '\'' : (128, 0x138) <= 138. ? (6.0E1, 0x1A1) : (19.6E1, 69.))) {
                return d6t.s73;
            }
            if (j[d6t.W6] == ((0x13B, 107.) > (37, 67.) ? (16.2E1, 0xa1b2c3d4) : (116., 0x139))) {
                return d6t.F18;
            } else {
                return d6t.B3x;
            }
        },
        _checkIsUint8ClampedImageData: function() {
            if (typeof Uint8ClampedArray === d6t.k6f) {
                return d6t.F18;
            }
            var t = document.createElement(d6t.f3B),
                k = t.getContext(d6t.J8);
            if (!k) {
                return d6t.F18;
            }
            var j = k.createImageData(d6t.A6, d6t.A6);
            return j.data instanceof Uint8ClampedArray;
        },
        _checkCSS3D: function() {
            var t = "none",
                k = "translate3d(1px,1px,1px)",
                j = 'transform',
                o = '-moz-transform',
                e = '-ms-transform',
                q = '-o-transform',
                m = '-webkit-transform',
                k5 = ((0x14D, 9.69E2) < 23.0E1 ? (1.073E3, 0.75) : (7.78E2, 0x34) > (0xCE, 4) ? (126, 'p') : (0x1AA, 0xC8)),
                C5 = document.createElement(k5),
                H5, j5 = {
                    'webkitTransform': m,
                    'OTransform': q,
                    'msTransform': e,
                    'MozTransform': o,
                    'transform': j
                };
            document.body.insertBefore(C5, d6t.B3x);
            for (var Y5 in j5) {
                if (C5.style[Y5] !== undefined) {
                    C5.style[Y5] = k;
                    H5 = window.getComputedStyle(C5).getPropertyValue(j5[Y5]);
                }
            }
            document.body.removeChild(C5);
            this.css3D = (H5 !== undefined && H5.length > d6t.W6 && H5 !== t);
        },
        canPlayAudio: function(t) {
            var k = 'webm',
                j = 'wav',
                o = 'opus',
                e = 'm4a',
                q = 'ogg',
                m = 'mp3';
            if (t == m && this.mp3) {
                return d6t.s73;
            } else if (t == q && (this.ogg || this.opus)) {
                return d6t.s73;
            } else if (t == e && this.m4a) {
                return d6t.s73;
            } else if (t == o && this.opus) {
                return d6t.s73;
            } else if (t == j && this.wav) {
                return d6t.s73;
            } else if (t == k && this.webm) {
                return d6t.s73;
            }
            return d6t.F18;
        },
        isConsoleOpen: function() {
            var t = 'profiles',
                k = 'firebug';
            if (window.console && window.console[k]) {
                return d6t.s73;
            }
            if (window.console) {
                console.profile();
                console.profileEnd();
                if (console.clear) {
                    console.clear();
                }
                if (console[t]) {
                    return console[t].length > d6t.W6;
                }
            }
            return d6t.F18;
        }
    };
    s5.Device.prototype.constructor = s5.Device;
    s5.Device.isAndroidStockBrowser = function() {
        var t = window.navigator.userAgent.match(/Android.*AppleWebKit\/([\d.]+)/);
        return t && t[d6t.A6] < d6t.C0H;
    };
    s5.RequestAnimationFrame = function(game, k) {
        if (typeof k === d6t.k43) {
            k = d6t.F18;
        }
        this.game = game;
        this.isRunning = d6t.F18;
        this.forceSetTimeOut = k;
        var j = [d6t.J7, d6t.K0f, d6t.T4f, d6t.M3B];
        for (var o = d6t.W6; o < j.length && !window.requestAnimationFrame; o++) {
            window.requestAnimationFrame = window[j[o] + d6t.o2f];
            window.cancelAnimationFrame = window[j[o] + d6t.F8H];
        }
        this._isSetTimeOut = d6t.F18;
        this._onLoop = d6t.B3x;
        this._timeOutID = d6t.B3x;
    };
    s5.RequestAnimationFrame.prototype = {
        start: function() {
            this.isRunning = d6t.s73;
            var k = this;
            if (!window.requestAnimationFrame || this.forceSetTimeOut) {
                this._isSetTimeOut = d6t.s73;
                this._onLoop = function() {
                    return k.updateSetTimeout();
                };
                this._timeOutID = window.setTimeout(this._onLoop, d6t.W6);
            } else {
                this._isSetTimeOut = d6t.F18;
                this._onLoop = function(t) {
                    return k.updateRAF(t);
                };
                this._timeOutID = window.requestAnimationFrame(this._onLoop);
            }
        },
        updateRAF: function() {
            this.game.update(Date.now());
            this._timeOutID = window.requestAnimationFrame(this._onLoop);
        },
        updateSetTimeout: function() {
            this.game.update(Date.now());
            this._timeOutID = window.setTimeout(this._onLoop, this.game.time.timeToCall);
        },
        stop: function() {
            if (this._isSetTimeOut) {
                clearTimeout(this._timeOutID);
            } else {
                window.cancelAnimationFrame(this._timeOutID);
            }
            this.isRunning = d6t.F18;
        },
        isSetTimeOut: function() {
            return this._isSetTimeOut;
        },
        isRAF: function() {
            return (this._isSetTimeOut === d6t.F18);
        }
    };
    s5.RequestAnimationFrame.prototype.constructor = s5.RequestAnimationFrame;
    s5.Math = {
        PI2: Math.PI * d6t.D6,
        fuzzyEqual: function(t, k, j) {
            if (typeof j === d6t.k6f) {
                j = a4;
            }
            return Math.abs(t - k) < j;
        },
        fuzzyLessThan: function(t, k, j) {
            if (typeof j === d6t.k6f) {
                j = a4;
            }
            return t < k + j;
        },
        fuzzyGreaterThan: function(t, k, j) {
            if (typeof j === d6t.k6f) {
                j = a4;
            }
            return t > k - j;
        },
        fuzzyCeil: function(t, k) {
            if (typeof k === d6t.k6f) {
                k = a4;
            }
            return Math.ceil(t - k);
        },
        fuzzyFloor: function(t, k) {
            if (typeof k === d6t.k6f) {
                k = a4;
            }
            return Math.floor(t + k);
        },
        average: function() {
            var t = [];
            for (var k = d6t.W6; k < (arguments.length - d6t.W6); k++) {
                t[k] = arguments[k + d6t.W6];
            }
            var j = d6t.W6;
            for (var o = d6t.W6; o < t.length; o++) {
                j += t[o];
            }
            return j / t.length;
        },
        truncate: function(t) {
            return (t > d6t.W6) ? Math.floor(t) : Math.ceil(t);
        },
        shear: function(t) {
            return t % d6t.A6;
        },
        snapTo: function(t, k, j) {
            if (typeof j === d6t.k6f) {
                j = d6t.W6;
            }
            if (k === d6t.W6) {
                return t;
            }
            t -= j;
            t = k * Math.round(t / k);
            return j + t;
        },
        snapToFloor: function(t, k, j) {
            if (typeof j === d6t.k6f) {
                j = d6t.W6;
            }
            if (k === d6t.W6) {
                return t;
            }
            t -= j;
            t = k * Math.floor(t / k);
            return j + t;
        },
        snapToCeil: function(t, k, j) {
            if (typeof j === d6t.k6f) {
                j = d6t.W6;
            }
            if (k === d6t.W6) {
                return t;
            }
            t -= j;
            t = k * Math.ceil(t / k);
            return j + t;
        },
        snapToInArray: function(t, k, j) {
            if (typeof j === d6t.k6f) {
                j = d6t.s73;
            }
            if (j) {
                k.sort();
            }
            if (t < k[d6t.W6]) {
                return k[d6t.W6];
            }
            var o = d6t.A6;
            while (k[o] < t) {
                o++;
            }
            var e = k[o - d6t.A6],
                q = (o < k.length) ? k[o] : Number.POSITIVE_INFINITY;
            return ((q - t) <= (t - e)) ? q : e;
        },
        roundTo: function(t, k, j) {
            if (typeof k === d6t.k6f) {
                k = d6t.W6;
            }
            if (typeof j === d6t.k6f) {
                j = d6t.x7x;
            }
            var o = Math.pow(j, -k);
            return Math.round(t * o) / o;
        },
        floorTo: function(t, k, j) {
            if (typeof k === d6t.k6f) {
                k = d6t.W6;
            }
            if (typeof j === d6t.k6f) {
                j = d6t.x7x;
            }
            var o = Math.pow(j, -k);
            return Math.floor(t * o) / o;
        },
        ceilTo: function(t, k, j) {
            if (typeof k === d6t.k6f) {
                k = d6t.W6;
            }
            if (typeof j === d6t.k6f) {
                j = d6t.x7x;
            }
            var o = Math.pow(j, -k);
            return Math.ceil(t * o) / o;
        },
        interpolateFloat: function(t, k, j) {
            return (k - t) * j + t;
        },
        angleBetween: function(t, k, j, o) {
            return Math.atan2(o - k, j - t);
        },
        angleBetweenY: function(t, k, j, o) {
            return Math.atan2(j - t, o - k);
        },
        angleBetweenPoints: function(t, k) {
            return Math.atan2(k.y - t.y, k.x - t.x);
        },
        angleBetweenPointsY: function(t, k) {
            return Math.atan2(k.x - t.x, k.y - t.y);
        },
        reverseAngle: function(t) {
            return this.normalizeAngle(t + Math.PI, d6t.s73);
        },
        normalizeAngle: function(t) {
            t = t % (d6t.D6 * Math.PI);
            return t >= d6t.W6 ? t : t + d6t.D6 * Math.PI;
        },
        normalizeLatitude: function(t) {
            return Math.max(-d6t.h8x, Math.min(d6t.h8x, t));
        },
        normalizeLongitude: function(t) {
            if (t % d6t.v7x == d6t.D6B) {
                return d6t.D6B;
            }
            t = t % d6t.v7x;
            return t < -d6t.D6B ? t + d6t.v7x : t > d6t.D6B ? t - d6t.v7x : t;
        },
        chanceRoll: function(t) {
            if (typeof t === d6t.k6f) {
                t = d6t.I9x;
            }
            if (t <= d6t.W6) {
                return d6t.F18;
            } else if (t >= d6t.a08) {
                return d6t.s73;
            } else {
                if (Math.random() * d6t.a08 >= t) {
                    return d6t.F18;
                } else {
                    return d6t.s73;
                }
            }
        },
        numberArray: function(t, k) {
            var j = [];
            for (var o = t; o <= k; o++) {
                j.push(o);
            }
            return j;
        },
        numberArrayStep: function(t, k, j) {
            t = +t || d6t.W6;
            var o = typeof k;
            if ((o === d6t.F3B || o === d6t.F78) && j && j[k] === t) {
                k = j = d6t.B3x;
            }
            j = j == d6t.B3x ? d6t.A6 : (+j || d6t.W6);
            if (k === d6t.B3x) {
                k = t;
                t = d6t.W6;
            } else {
                k = +k || d6t.W6;
            }
            var e = -d6t.A6,
                q = s5.Math.max(s5.Math.ceil((k - t) / (j || d6t.A6)), d6t.W6),
                m = new Array(q);
            while (++e < q) {
                m[e] = t;
                t += j;
            }
            return m;
        },
        maxAdd: function(t, k, j) {
            t += k;
            if (t > j) {
                t = j;
            }
            return t;
        },
        minSub: function(t, k, j) {
            t -= k;
            if (t < j) {
                t = j;
            }
            return t;
        },
        wrap: function(t, k, j) {
            var o = j - k;
            if (o <= d6t.W6) {
                return d6t.W6;
            }
            var e = (t - k) % o;
            if (e < d6t.W6) {
                e += o;
            }
            return e + k;
        },
        wrapValue: function(t, k, j) {
            var o;
            t = Math.abs(t);
            k = Math.abs(k);
            j = Math.abs(j);
            o = (t + k) % j;
            return o;
        },
        limitValue: function(t, k, j) {
            return t < k ? k : t > j ? j : t;
        },
        randomSign: function() {
            return (Math.random() > d6t.z48) ? d6t.A6 : -d6t.A6;
        },
        isOdd: function(t) {
            return (t & d6t.A6);
        },
        isEven: function(t) {
            if (t & d6t.A6) {
                return d6t.F18;
            } else {
                return d6t.s73;
            }
        },
        min: function() {
            if (arguments.length === d6t.A6 && typeof arguments[d6t.W6] === d6t.T7H) {
                var t = arguments[d6t.W6];
            } else {
                var t = arguments;
            }
            for (var k = d6t.A6, j = d6t.W6, o = t.length; k < o; k++) {
                if (t[k] < t[j]) {
                    j = k;
                }
            }
            return t[j];
        },
        max: function() {
            if (arguments.length === d6t.A6 && typeof arguments[d6t.W6] === d6t.T7H) {
                var t = arguments[d6t.W6];
            } else {
                var t = arguments;
            }
            for (var k = d6t.A6, j = d6t.W6, o = t.length; k < o; k++) {
                if (t[k] > t[j]) {
                    j = k;
                }
            }
            return t[j];
        },
        minProperty: function(t) {
            if (arguments.length === d6t.D6 && typeof arguments[d6t.A6] === d6t.T7H) {
                var k = arguments[d6t.A6];
            } else {
                var k = arguments.slice(d6t.A6);
            }
            for (var j = d6t.A6, o = d6t.W6, e = k.length; j < e; j++) {
                if (k[j][t] < k[o][t]) {
                    o = j;
                }
            }
            return k[o][t];
        },
        maxProperty: function(t) {
            if (arguments.length === d6t.D6 && typeof arguments[d6t.A6] === d6t.T7H) {
                var k = arguments[d6t.A6];
            } else {
                var k = arguments.slice(d6t.A6);
            }
            for (var j = d6t.A6, o = d6t.W6, e = k.length; j < e; j++) {
                if (k[j][t] > k[o][t]) {
                    o = j;
                }
            }
            return k[o][t];
        },
        wrapAngle: function(t, k) {
            var j = (k) ? Math.PI / d6t.D6B : d6t.A6;
            return this.wrap(t, -d6t.D6B * j, d6t.D6B * j);
        },
        angleLimit: function(t, k, j) {
            var o = t;
            if (t > j) {
                o = j;
            } else if (t < k) {
                o = k;
            }
            return o;
        },
        linearInterpolation: function(t, k) {
            var j = t.length - d6t.A6,
                o = j * k,
                e = Math.floor(o);
            if (k < d6t.W6) {
                return this.linear(t[d6t.W6], t[d6t.A6], o);
            }
            if (k > d6t.A6) {
                return this.linear(t[j], t[j - d6t.A6], j - o);
            }
            return this.linear(t[e], t[e + d6t.A6 > j ? j : e + d6t.A6], o - e);
        },
        bezierInterpolation: function(t, k) {
            var j = d6t.W6,
                o = t.length - d6t.A6;
            for (var e = d6t.W6; e <= o; e++) {
                j += Math.pow(d6t.A6 - k, o - e) * Math.pow(k, e) * t[e] * this.bernstein(o, e);
            }
            return j;
        },
        catmullRomInterpolation: function(t, k) {
            var j = t.length - d6t.A6,
                o = j * k,
                e = Math.floor(o);
            if (t[d6t.W6] === t[j]) {
                if (k < d6t.W6) {
                    e = Math.floor(o = j * (d6t.A6 + k));
                }
                return this.catmullRom(t[(e - d6t.A6 + j) % j], t[e], t[(e + d6t.A6) % j], t[(e + d6t.D6) % j], o - e);
            } else {
                if (k < d6t.W6) {
                    return t[d6t.W6] - (this.catmullRom(t[d6t.W6], t[d6t.W6], t[d6t.A6], t[d6t.A6], -o) - t[d6t.W6]);
                }
                if (k > d6t.A6) {
                    return t[j] - (this.catmullRom(t[j], t[j], t[j - d6t.A6], t[j - d6t.A6], o - j) - t[j]);
                }
                return this.catmullRom(t[e ? e - d6t.A6 : d6t.W6], t[e], t[j < e + d6t.A6 ? j : e + d6t.A6], t[j < e + d6t.D6 ? j : e + d6t.D6], o - e);
            }
        },
        linear: function(t, k, j) {
            return (k - t) * j + t;
        },
        bernstein: function(t, k) {
            return this.factorial(t) / this.factorial(k) / this.factorial(t - k);
        },
        factorial: function(t) {
            if (t === d6t.W6) {
                return d6t.A6;
            }
            var k = t;
            while (--t) {
                k *= t;
            }
            return k;
        },
        catmullRom: function(t, k, j, o, e) {
            var q = (j - t) * d6t.z48,
                m = (o - k) * d6t.z48,
                k5 = e * e,
                C5 = e * k5;
            return (d6t.D6 * k - d6t.D6 * j + q + m) * C5 + (-d6t.B6 * k + d6t.B6 * j - d6t.D6 * q - m) * k5 + q * e + k;
        },
        difference: function(t, k) {
            return Math.abs(t - k);
        },
        getRandom: function(t, k, j) {
            if (typeof k === d6t.k6f) {
                k = d6t.W6;
            }
            if (typeof j === d6t.k6f) {
                j = d6t.W6;
            }
            if (t != d6t.B3x) {
                var o = j;
                if ((o === d6t.W6) || (o > t.length - k)) {
                    o = t.length - k;
                }
                if (o > d6t.W6) {
                    return t[k + Math.floor(Math.random() * o)];
                }
            }
            return d6t.B3x;
        },
        removeRandom: function(t, k, j) {
            if (typeof k === d6t.k6f) {
                k = d6t.W6;
            }
            if (typeof j === d6t.k6f) {
                j = d6t.W6;
            }
            if (t != d6t.B3x) {
                var o = j;
                if ((o === d6t.W6) || (o > t.length - k)) {
                    o = t.length - k;
                }
                if (o > d6t.W6) {
                    var e = k + Math.floor(Math.random() * o),
                        q = t.splice(e, d6t.A6);
                    return q[d6t.W6];
                }
            }
            return d6t.B3x;
        },
        floor: function(t) {
            var k = t | d6t.W6;
            return (t > d6t.W6) ? (k) : ((k != t) ? (k - d6t.A6) : (k));
        },
        ceil: function(t) {
            var k = t | d6t.W6;
            return (t > d6t.W6) ? ((k != t) ? (k + d6t.A6) : (k)) : (k);
        },
        sinCosGenerator: function(t, k, j, o) {
            if (typeof k === d6t.k6f) {
                k = d6t.N28;
            }
            if (typeof j === d6t.k6f) {
                j = d6t.N28;
            }
            if (typeof o === d6t.k6f) {
                o = d6t.N28;
            }
            var e = k,
                q = j,
                m = o * Math.PI / t,
                k5 = [],
                C5 = [];
            for (var H5 = d6t.W6; H5 < t; H5++) {
                q -= e * m;
                e += q * m;
                k5[H5] = q;
                C5[H5] = e;
            }
            return {
                sin: C5,
                cos: k5,
                length: t
            };
        },
        shift: function(t) {
            var k = t.shift();
            t.push(k);
            return k;
        },
        shuffleArray: function(t) {
            for (var k = t.length - d6t.A6; k > d6t.W6; k--) {
                var j = Math.floor(Math.random() * (k + d6t.A6)),
                    o = t[k];
                t[k] = t[j];
                t[j] = o;
            }
            return t;
        },
        distance: function(t, k, j, o) {
            var e = t - j,
                q = k - o;
            return Math.sqrt(e * e + q * q);
        },
        distancePow: function(t, k, j, o, e) {
            if (typeof e === d6t.k43) {
                e = d6t.D6;
            }
            return Math.sqrt(Math.pow(j - t, e) + Math.pow(o - k, e));
        },
        distanceRounded: function(t, k, j, o) {
            return Math.round(s5.Math.distance(t, k, j, o));
        },
        clamp: function(t, k, j) {
            return (t < k) ? k : ((t > j) ? j : t);
        },
        clampBottom: function(t, k) {
            return t < k ? k : t;
        },
        within: function(t, k, j) {
            return (Math.abs(t - k) <= j);
        },
        mapLinear: function(t, k, j, o, e) {
            return o + (t - k) * (e - o) / (j - k);
        },
        smoothstep: function(t, k, j) {
            t = Math.max(d6t.W6, Math.min(d6t.A6, (t - k) / (j - k)));
            return t * t * (d6t.B6 - d6t.D6 * t);
        },
        smootherstep: function(t, k, j) {
            t = Math.max(d6t.W6, Math.min(d6t.A6, (t - k) / (j - k)));
            return t * t * t * (t * (t * d6t.J6 - d6t.B7x) + d6t.x7x);
        },
        sign: function(t) {
            return (t < d6t.W6) ? -d6t.A6 : ((t > d6t.W6) ? d6t.A6 : d6t.W6);
        },
        percent: function(t, k, j) {
            if (typeof j === d6t.k43) {
                j = d6t.W6;
            }
            if (t > k || j > k) {
                return d6t.A6;
            } else if (t < j || j > t) {
                return d6t.W6;
            } else {
                return (t - j) / k;
            }
        },
        degToRad: (function() {
            var k = Math.PI / d6t.D6B;
            return function(t) {
                return t * k;
            };
        }()),
        radToDeg: (function() {
            var k = d6t.D6B / Math.PI;
            return function(t) {
                return t * k;
            };
        }())
    };
    s5.RandomDataGenerator = function(t) {
        if (typeof t === d6t.k6f) {
            t = [];
        }
        this.c = d6t.A6;
        this.s0 = d6t.W6;
        this.s1 = d6t.W6;
        this.s2 = d6t.W6;
        this.sow(t);
    };
    s5.RandomDataGenerator.prototype = {
        rnd: function() {
            var t = ((0x41, 0x176) >= 0x95 ? (113.80E1, 2091639) : (106, 3.6E2)),
                k = t * this.s0 + this.c * o4;
            this.c = k | d6t.W6;
            this.s0 = this.s1;
            this.s1 = this.s2;
            this.s2 = k - this.c;
            return this.s2;
        },
        sow: function(t) {
            if (typeof t === d6t.k6f) {
                t = [];
            }
            this.s0 = this.hash(d6t.p93);
            this.s1 = this.hash(this.s0);
            this.s2 = this.hash(this.s1);
            this.c = d6t.A6;
            var k;
            for (var j = d6t.W6; k = t[j++];) {
                this.s0 -= this.hash(k);
                this.s0 += ~~(this.s0 < d6t.W6);
                this.s1 -= this.hash(k);
                this.s1 += ~~(this.s1 < d6t.W6);
                this.s2 -= this.hash(k);
                this.s2 += ~~(this.s2 < d6t.W6);
            }
        },
        hash: function(t) {
            var k = (93. < (0x155, 4.51E2) ? (0x1D5, 0.02519603282416938) : (117, 37.1E1) > (43., 0x1DA) ? 91. : (126., 0x160)),
                j, o, e;
            e = ((1.2550E3, 120) >= 0x237 ? 13.0E2 : (113., 0xA6) > (12.92E2, 32) ? (0x30, 0xefc8249d) : (0xC8, 130));
            t = t.toString();
            for (o = d6t.W6; o < t.length; o++) {
                e += t.charCodeAt(o);
                j = k * e;
                e = j >>> d6t.W6;
                j -= e;
                j *= e;
                e = j >>> d6t.W6;
                j -= e;
                e += j * 0x100000000;
            }
            return (e >>> d6t.W6) * o4;
        },
        integer: function() {
            return this.rnd.apply(this) * 0x100000000;
        },
        frac: function() {
            var t = ((0x198, 65.3E1) > (56.90E1, 0x108) ? (0x29, 1.1102230246251565e-16) : (125, 15.10E1));
            return this.rnd.apply(this) + (this.rnd.apply(this) * 0x200000 | d6t.W6) * t;
        },
        real: function() {
            return this.integer() + this.frac();
        },
        integerInRange: function(t, k) {
            return Math.floor(this.realInRange(d6t.W6, k - t + d6t.A6) + t);
        },
        between: function(t, k) {
            return this.integerInRange(t, k);
        },
        realInRange: function(t, k) {
            return this.frac() * (k - t) + t;
        },
        normal: function() {
            return d6t.A6 - d6t.D6 * this.frac();
        },
        uuid: function() {
            var t = d6t.I6x,
                k = d6t.I6x;
            for (k = t = d6t.I6x; t++ < G4; k += ~t % d6t.U6 | t * d6t.B6 & d6t.M6 ? (t ^ d6t.B7x ? d6t.d6 ^ this.frac() * (t ^ d6t.X7x ? d6t.M7x : d6t.M6) : d6t.M6).toString(d6t.M7x) : d6t.r23) {}
            return k;
        },
        pick: function(t) {
            return t[this.integerInRange(d6t.W6, t.length - d6t.A6)];
        },
        weightedPick: function(t) {
            return t[~~(Math.pow(this.frac(), d6t.D6) * (t.length - d6t.A6))];
        },
        timestamp: function(t, k) {
            var j = ((77, 147.4E1) < 11.61E2 ? 'b' : (0xD5, 148.) < 137.4E1 ? (0x112, 1577862000000) : (67., 0xDF)),
                o = ((0x108, 125) < 4.9E1 ? (14.85E2, 6.93E2) : (114, 124.) >= (3.81E2, 32) ? (9.700E2, 946684800000) : (125.4E1, 33.));
            return this.realInRange(t || o, k || j);
        },
        angle: function() {
            return this.integerInRange(-d6t.D6B, d6t.D6B);
        }
    };
    s5.RandomDataGenerator.prototype.constructor = s5.RandomDataGenerator;
    s5.QuadTree = function(t, k, j, o, e, q, m) {
        this.maxObjects = d6t.x7x;
        this.maxLevels = d6t.M6;
        this.level = d6t.W6;
        this.bounds = {};
        this.objects = [];
        this.nodes = [];
        this._empty = [];
        this.reset(t, k, j, o, e, q, m);
    };
    s5.QuadTree.prototype = {
        reset: function(t, k, j, o, e, q, m) {
            this.maxObjects = e || d6t.x7x;
            this.maxLevels = q || d6t.M6;
            this.level = m || d6t.W6;
            this.bounds = {
                x: Math.round(t),
                y: Math.round(k),
                width: j,
                height: o,
                subWidth: Math.floor(j / d6t.D6),
                subHeight: Math.floor(o / d6t.D6),
                right: Math.round(t) + Math.floor(j / d6t.D6),
                bottom: Math.round(k) + Math.floor(o / d6t.D6)
            };
            this.objects.length = d6t.W6;
            this.nodes.length = d6t.W6;
        },
        populate: function(t) {
            t.forEach(this.populateHandler, this, d6t.s73);
        },
        populateHandler: function(t) {
            if (t.body && t.exists) {
                this.insert(t.body);
            }
        },
        split: function() {
            this.nodes[d6t.W6] = new s5.QuadTree(this.bounds.right, this.bounds.y, this.bounds.subWidth, this.bounds.subHeight, this.maxObjects, this.maxLevels, (this.level + d6t.A6));
            this.nodes[d6t.A6] = new s5.QuadTree(this.bounds.x, this.bounds.y, this.bounds.subWidth, this.bounds.subHeight, this.maxObjects, this.maxLevels, (this.level + d6t.A6));
            this.nodes[d6t.D6] = new s5.QuadTree(this.bounds.x, this.bounds.bottom, this.bounds.subWidth, this.bounds.subHeight, this.maxObjects, this.maxLevels, (this.level + d6t.A6));
            this.nodes[d6t.B6] = new s5.QuadTree(this.bounds.right, this.bounds.bottom, this.bounds.subWidth, this.bounds.subHeight, this.maxObjects, this.maxLevels, (this.level + d6t.A6));
        },
        insert: function(t) {
            var k = d6t.W6,
                j;
            if (this.nodes[d6t.W6] != d6t.B3x) {
                j = this.getIndex(t);
                if (j !== -d6t.A6) {
                    this.nodes[j].insert(t);
                    return;
                }
            }
            this.objects.push(t);
            if (this.objects.length > this.maxObjects && this.level < this.maxLevels) {
                if (this.nodes[d6t.W6] == d6t.B3x) {
                    this.split();
                }
                while (k < this.objects.length) {
                    j = this.getIndex(this.objects[k]);
                    if (j !== -d6t.A6) {
                        this.nodes[j].insert(this.objects.splice(k, d6t.A6)[d6t.W6]);
                    } else {
                        k++;
                    }
                }
            }
        },
        getIndex: function(t) {
            var k = -d6t.A6;
            if (t.x < this.bounds.right && t.right < this.bounds.right) {
                if (t.y < this.bounds.bottom && t.bottom < this.bounds.bottom) {
                    k = d6t.A6;
                } else if (t.y > this.bounds.bottom) {
                    k = d6t.D6;
                }
            } else if (t.x > this.bounds.right) {
                if (t.y < this.bounds.bottom && t.bottom < this.bounds.bottom) {
                    k = d6t.W6;
                } else if (t.y > this.bounds.bottom) {
                    k = d6t.B6;
                }
            }
            return k;
        },
        retrieve: function(t) {
            if (t instanceof s5.Rectangle) {
                var k = this.objects,
                    j = this.getIndex(t);
            } else {
                if (!t.body) {
                    return this._empty;
                }
                var k = this.objects,
                    j = this.getIndex(t.body);
            }
            if (this.nodes[d6t.W6]) {
                if (j !== -d6t.A6) {
                    k = k.concat(this.nodes[j].retrieve(t));
                } else {
                    k = k.concat(this.nodes[d6t.W6].retrieve(t));
                    k = k.concat(this.nodes[d6t.A6].retrieve(t));
                    k = k.concat(this.nodes[d6t.D6].retrieve(t));
                    k = k.concat(this.nodes[d6t.B6].retrieve(t));
                }
            }
            return k;
        },
        clear: function() {
            this.objects.length = d6t.W6;
            var t = this.nodes.length;
            while (t--) {
                this.nodes[t].clear();
                this.nodes.splice(t, d6t.A6);
            }
            this.nodes.length = d6t.W6;
        }
    };
    s5.QuadTree.prototype.constructor = s5.QuadTree;
    s5.Net = function(game) {
        this.game = game;
    };
    s5.Net.prototype = {
        getHostName: function() {
            if (window.location && window.location.hostname) {
                return window.location.hostname;
            }
            return d6t.B3x;
        },
        checkDomainName: function(t) {
            return window.location.hostname.indexOf(t) !== -d6t.A6;
        },
        updateQueryString: function(t, k, j, o) {
            var e = '?',
                q = '$1$3',
                m = '$2$3',
                k5 = '$1',
                C5 = "gi",
                H5 = "=.*?(&|#|$)(.*)",
                j5 = "([?|&])";
            if (typeof j === d6t.k6f) {
                j = d6t.F18;
            }
            if (typeof o === d6t.k6f || o === d6t.I6x) {
                o = window.location.href;
            }
            var Y5 = d6t.I6x,
                z5 = new RegExp(j5 + t + H5, C5);
            if (z5.test(o)) {
                if (typeof k !== d6t.k43 && k !== d6t.B3x) {
                    Y5 = o.replace(z5, k5 + t + d6t.H1x + k + m);
                } else {
                    Y5 = o.replace(z5, q).replace(/(&|\?)$/, d6t.I6x);
                }
            } else {
                if (typeof k !== d6t.k43 && k !== d6t.B3x) {
                    var P5 = o.indexOf(e) !== -d6t.A6 ? d6t.l83 : e,
                        p5 = o.split(d6t.L83);
                    o = p5[d6t.W6] + P5 + t + d6t.k48 + k;
                    if (p5[d6t.A6]) {
                        o += d6t.L83 + p5[d6t.A6];
                    }
                    Y5 = o;
                } else {
                    Y5 = o;
                }
            }
            if (j) {
                window.location.href = Y5;
            } else {
                return Y5;
            }
        },
        getQueryString: function(t) {
            if (typeof t === d6t.k6f) {
                t = d6t.I6x;
            }
            var k = {},
                j = location.search.substring(d6t.A6).split(d6t.l83);
            for (var o in j) {
                var e = j[o].split(d6t.k48);
                if (e.length > d6t.A6) {
                    if (t && t == this.decodeURI(e[d6t.W6])) {
                        return this.decodeURI(e[d6t.A6]);
                    } else {
                        k[this.decodeURI(e[d6t.W6])] = this.decodeURI(e[d6t.A6]);
                    }
                }
            }
            return k;
        },
        decodeURI: function(t) {
            return decodeURIComponent(t.replace(/\+/g, d6t.D0));
        }
    };
    s5.Net.prototype.constructor = s5.Net;
    s5.TweenManager = function(game) {
        this.game = game;
        this._tweens = [];
        this._add = [];
        this.game.onPause.add(this._pauseAll, this);
        this.game.onResume.add(this._resumeAll, this);
    };
    s5.TweenManager.prototype = {
        getAll: function() {
            return this._tweens;
        },
        removeAll: function() {
            for (var t = d6t.W6; t < this._tweens.length; t++) {
                this._tweens[t].pendingDelete = d6t.s73;
            }
            this._add = [];
        },
        add: function(t) {
            t._manager = this;
            this._add.push(t);
        },
        create: function(t) {
            return new s5.Tween(t, this.game, this);
        },
        remove: function(t) {
            var k = this._tweens.indexOf(t);
            if (k !== -d6t.A6) {
                this._tweens[k].pendingDelete = d6t.s73;
            } else {
                k = this._add.indexOf(t);
                if (k !== -d6t.A6) {
                    this._add[k].pendingDelete = d6t.s73;
                }
            }
        },
        update: function() {
            var t = this._add.length,
                k = this._tweens.length;
            if (k === d6t.W6 && t === d6t.W6) {
                return d6t.F18;
            }
            var j = d6t.W6;
            while (j < k) {
                if (this._tweens[j].update(this.game.time.now)) {
                    j++;
                } else {
                    this._tweens.splice(j, d6t.A6);
                    k--;
                }
            }
            if (t > d6t.W6) {
                this._tweens = this._tweens.concat(this._add);
                this._add.length = d6t.W6;
            }
            return d6t.s73;
        },
        isTweening: function(k) {
            return this._tweens.some(function(t) {
                return t._object === k;
            });
        },
        _pauseAll: function() {
            for (var t = this._tweens.length - d6t.A6; t >= d6t.W6; t--) {
                this._tweens[t]._pause();
            }
        },
        _resumeAll: function() {
            for (var t = this._tweens.length - d6t.A6; t >= d6t.W6; t--) {
                this._tweens[t]._resume();
            }
        },
        pauseAll: function() {
            for (var t = this._tweens.length - d6t.A6; t >= d6t.W6; t--) {
                this._tweens[t].pause();
            }
        },
        resumeAll: function() {
            for (var t = this._tweens.length - d6t.A6; t >= d6t.W6; t--) {
                this._tweens[t].resume(d6t.s73);
            }
        }
    };
    s5.TweenManager.prototype.constructor = s5.TweenManager;
    s5.Tween = function(t, game, j) {
        this._object = t;
        this.game = game;
        this._manager = j;
        this._valuesStart = {};
        this._valuesEnd = {};
        this._valuesStartRepeat = {};
        this._duration = d6t.I6;
        this._repeat = d6t.W6;
        this._yoyo = d6t.F18;
        this._reversed = d6t.F18;
        this._delayTime = d6t.W6;
        this._startTime = d6t.B3x;
        this._easingFunction = s5.Easing.Default;
        this._interpolationFunction = s5.Math.linearInterpolation;
        this._chainedTweens = [];
        this._onStartCallbackFired = d6t.F18;
        this._onUpdateCallback = d6t.B3x;
        this._onUpdateCallbackContext = d6t.B3x;
        this._paused = d6t.F18;
        this._pausedTime = d6t.W6;
        this._codePaused = d6t.F18;
        this.pendingDelete = d6t.F18;
        this.onStart = new s5.Signal();
        this.onLoop = new s5.Signal();
        this.onComplete = new s5.Signal();
        this.isRunning = d6t.F18;
    };
    s5.Tween.prototype = {
        to: function(t, k, j, o, e, q, m) {
            k = k || d6t.I6;
            j = j || d6t.B3x;
            o = o || d6t.F18;
            e = e || d6t.W6;
            q = q || d6t.W6;
            m = m || d6t.F18;
            if (m && q === d6t.W6) {
                q = d6t.A6;
            }
            var k5;
            if (this._parent) {
                k5 = this._manager.create(this._object);
                this._lastChild.chain(k5);
                this._lastChild = k5;
            } else {
                k5 = this;
                this._parent = this;
                this._lastChild = this;
            }
            k5._repeat = q;
            k5._duration = k;
            k5._valuesEnd = t;
            if (j !== d6t.B3x) {
                k5._easingFunction = j;
            }
            if (e > d6t.W6) {
                k5._delayTime = e;
            }
            k5._yoyo = m;
            if (o) {
                return this.start();
            } else {
                return this;
            }
        },
        from: function(t, k, j, o, e, q, m) {
            var k5 = {};
            for (var C5 in t) {
                k5[C5] = this._object[C5];
                this._object[C5] = t[C5];
            }
            return this.to(k5, k, j, o, e, q, m);
        },
        start: function() {
            if (this.game === d6t.B3x || this._object === d6t.B3x) {
                return;
            }
            this._manager.add(this);
            this.isRunning = d6t.s73;
            this._onStartCallbackFired = d6t.F18;
            this._startTime = this.game.time.now + this._delayTime;
            for (var t in this._valuesEnd) {
                if (Array.isArray(this._valuesEnd[t])) {
                    if (this._valuesEnd[t].length === d6t.W6) {
                        continue;
                    }
                    this._valuesEnd[t] = [this._object[t]].concat(this._valuesEnd[t]);
                }
                this._valuesStart[t] = this._object[t];
                if (!Array.isArray(this._valuesStart[t])) {
                    this._valuesStart[t] *= d6t.N28;
                }
                this._valuesStartRepeat[t] = this._valuesStart[t] || d6t.W6;
            }
            return this;
        },
        generateData: function(t, k) {
            if (this.game === d6t.B3x || this._object === d6t.B3x) {
                return d6t.B3x;
            }
            this._startTime = d6t.W6;
            for (var j in this._valuesEnd) {
                if (Array.isArray(this._valuesEnd[j])) {
                    if (this._valuesEnd[j].length === d6t.W6) {
                        continue;
                    }
                    this._valuesEnd[j] = [this._object[j]].concat(this._valuesEnd[j]);
                }
                this._valuesStart[j] = this._object[j];
                if (!Array.isArray(this._valuesStart[j])) {
                    this._valuesStart[j] *= d6t.N28;
                }
                this._valuesStartRepeat[j] = this._valuesStart[j] || d6t.W6;
            }
            var o = d6t.W6,
                e = Math.floor(t * (this._duration / d6t.I6)),
                q = this._duration / e,
                m = [];
            while (e--) {
                var j, k5 = (o - this._startTime) / this._duration;
                k5 = k5 > d6t.A6 ? d6t.A6 : k5;
                var C5 = this._easingFunction(k5),
                    H5 = {};
                for (j in this._valuesEnd) {
                    var j5 = this._valuesStart[j] || d6t.W6,
                        Y5 = this._valuesEnd[j];
                    if (Y5 instanceof Array) {
                        H5[j] = this._interpolationFunction(Y5, C5);
                    } else {
                        if (typeof Y5 === d6t.F78) {
                            Y5 = j5 + parseFloat(Y5, d6t.x7x);
                        } else if (typeof Y5 === d6t.F3B) {
                            H5[j] = j5 + (Y5 - j5) * C5;
                        }
                    }
                }
                m.push(H5);
                o += q;
            }
            var H5 = {};
            for (j in this._valuesEnd) {
                H5[j] = this._valuesEnd[j];
            }
            m.push(H5);
            if (this._yoyo) {
                var z5 = m.slice();
                z5.reverse();
                m = m.concat(z5);
            }
            if (typeof k !== d6t.k43) {
                k = k.concat(m);
                return k;
            } else {
                return m;
            }
        },
        stop: function() {
            this.isRunning = d6t.F18;
            this._onUpdateCallback = d6t.B3x;
            this._manager.remove(this);
            return this;
        },
        delay: function(t) {
            this._delayTime = t;
            return this;
        },
        repeat: function(t) {
            this._repeat = t;
            return this;
        },
        yoyo: function(t) {
            this._yoyo = t;
            if (t && this._repeat === d6t.W6) {
                this._repeat = d6t.A6;
            }
            return this;
        },
        easing: function(t) {
            this._easingFunction = t;
            return this;
        },
        interpolation: function(t) {
            this._interpolationFunction = t;
            return this;
        },
        chain: function() {
            this._chainedTweens = arguments;
            return this;
        },
        loop: function() {
            this._lastChild.chain(this);
            return this;
        },
        onUpdateCallback: function(t, k) {
            this._onUpdateCallback = t;
            this._onUpdateCallbackContext = k;
            return this;
        },
        pause: function() {
            this._codePaused = d6t.s73;
            this._paused = d6t.s73;
            this._pausedTime = this.game.time.now;
        },
        _pause: function() {
            if (!this._codePaused) {
                this._paused = d6t.s73;
                this._pausedTime = this.game.time.now;
            }
        },
        resume: function() {
            if (this._paused) {
                this._paused = d6t.F18;
                this._codePaused = d6t.F18;
                this._startTime += (this.game.time.now - this._pausedTime);
            }
        },
        _resume: function() {
            if (this._codePaused) {
                return;
            } else {
                this._startTime += this.game.time.pauseDuration;
                this._paused = d6t.F18;
            }
        },
        update: function(t) {
            if (this.pendingDelete) {
                return d6t.F18;
            }
            if (this._paused || t < this._startTime) {
                return d6t.s73;
            }
            var k;
            if (t < this._startTime) {
                return d6t.s73;
            }
            if (this._onStartCallbackFired === d6t.F18) {
                this.onStart.dispatch(this._object);
                this._onStartCallbackFired = d6t.s73;
            }
            var j = (t - this._startTime) / this._duration;
            j = j > d6t.A6 ? d6t.A6 : j;
            var o = this._easingFunction(j);
            for (k in this._valuesEnd) {
                var e = this._valuesStart[k] || d6t.W6,
                    q = this._valuesEnd[k];
                if (q instanceof Array) {
                    this._object[k] = this._interpolationFunction(q, o);
                } else {
                    if (typeof(q) === d6t.F78) {
                        q = e + parseFloat(q, d6t.x7x);
                    }
                    if (typeof(q) === d6t.F3B) {
                        this._object[k] = e + (q - e) * o;
                    }
                }
            }
            if (this._onUpdateCallback !== d6t.B3x) {
                this._onUpdateCallback.call(this._onUpdateCallbackContext, this, o);
                if (!this.isRunning) {
                    return d6t.F18;
                }
            }
            if (j == d6t.A6) {
                if (this._repeat > d6t.W6) {
                    if (isFinite(this._repeat)) {
                        this._repeat--;
                    }
                    for (k in this._valuesStartRepeat) {
                        if (typeof(this._valuesEnd[k]) === d6t.F78) {
                            this._valuesStartRepeat[k] = this._valuesStartRepeat[k] + parseFloat(this._valuesEnd[k], d6t.x7x);
                        }
                        if (this._yoyo) {
                            var m = this._valuesStartRepeat[k];
                            this._valuesStartRepeat[k] = this._valuesEnd[k];
                            this._valuesEnd[k] = m;
                        }
                        this._valuesStart[k] = this._valuesStartRepeat[k];
                    }
                    if (this._yoyo) {
                        this._reversed = !this._reversed;
                    }
                    this._startTime = t + this._delayTime;
                    this.onLoop.dispatch(this._object);
                    return d6t.s73;
                } else {
                    this.isRunning = d6t.F18;
                    this.onComplete.dispatch(this._object);
                    for (var k5 = d6t.W6, C5 = this._chainedTweens.length; k5 < C5; k5++) {
                        this._chainedTweens[k5].start(t);
                    }
                    return d6t.F18;
                }
            }
            return d6t.s73;
        }
    };
    s5.Tween.prototype.constructor = s5.Tween;
    s5.Easing = {
        Linear: {
            None: function(t) {
                return t;
            }
        },
        Quadratic: {
            In: function(t) {
                return t * t;
            },
            Out: function(t) {
                return t * (d6t.D6 - t);
            },
            InOut: function(t) {
                if ((t *= d6t.D6) < d6t.A6) return d6t.z48 * t * t;
                return -d6t.z48 * (--t * (t - d6t.D6) - d6t.A6);
            }
        },
        Cubic: {
            In: function(t) {
                return t * t * t;
            },
            Out: function(t) {
                return --t * t * t + d6t.A6;
            },
            InOut: function(t) {
                if ((t *= d6t.D6) < d6t.A6) return d6t.z48 * t * t * t;
                return d6t.z48 * ((t -= d6t.D6) * t * t + d6t.D6);
            }
        },
        Quartic: {
            In: function(t) {
                return t * t * t * t;
            },
            Out: function(t) {
                return d6t.A6 - (--t * t * t * t);
            },
            InOut: function(t) {
                if ((t *= d6t.D6) < d6t.A6) return d6t.z48 * t * t * t * t;
                return -d6t.z48 * ((t -= d6t.D6) * t * t * t - d6t.D6);
            }
        },
        Quintic: {
            In: function(t) {
                return t * t * t * t * t;
            },
            Out: function(t) {
                return --t * t * t * t * t + d6t.A6;
            },
            InOut: function(t) {
                if ((t *= d6t.D6) < d6t.A6) return d6t.z48 * t * t * t * t * t;
                return d6t.z48 * ((t -= d6t.D6) * t * t * t * t + d6t.D6);
            }
        },
        Sinusoidal: {
            In: function(t) {
                return d6t.A6 - Math.cos(t * Math.PI / d6t.D6);
            },
            Out: function(t) {
                return Math.sin(t * Math.PI / d6t.D6);
            },
            InOut: function(t) {
                return d6t.z48 * (d6t.A6 - Math.cos(Math.PI * t));
            }
        },
        Exponential: {
            In: function(t) {
                return t === d6t.W6 ? d6t.W6 : Math.pow(O4, t - d6t.A6);
            },
            Out: function(t) {
                return t === d6t.A6 ? d6t.A6 : d6t.A6 - Math.pow(d6t.D6, -d6t.x7x * t);
            },
            InOut: function(t) {
                if (t === d6t.W6) return d6t.W6;
                if (t === d6t.A6) return d6t.A6;
                if ((t *= d6t.D6) < d6t.A6) return d6t.z48 * Math.pow(O4, t - d6t.A6);
                return d6t.z48 * (-Math.pow(d6t.D6, -d6t.x7x * (t - d6t.A6)) + d6t.D6);
            }
        },
        Circular: {
            In: function(t) {
                return d6t.A6 - Math.sqrt(d6t.A6 - t * t);
            },
            Out: function(t) {
                return Math.sqrt(d6t.A6 - (--t * t));
            },
            InOut: function(t) {
                if ((t *= d6t.D6) < d6t.A6) return -d6t.z48 * (Math.sqrt(d6t.A6 - t * t) - d6t.A6);
                return d6t.z48 * (Math.sqrt(d6t.A6 - (t -= d6t.D6) * t) + d6t.A6);
            }
        },
        Elastic: {
            In: function(t) {
                var k, j = d6t.H48,
                    o = d6t.Y48;
                if (t === d6t.W6) return d6t.W6;
                if (t === d6t.A6) return d6t.A6;
                if (!j || j < d6t.A6) {
                    j = d6t.A6;
                    k = o / d6t.M6;
                } else k = o * Math.asin(d6t.A6 / j) / (d6t.D6 * Math.PI);
                return -(j * Math.pow(d6t.D6, d6t.x7x * (t -= d6t.A6)) * Math.sin((t - k) * (d6t.D6 * Math.PI) / o));
            },
            Out: function(t) {
                var k, j = d6t.H48,
                    o = d6t.Y48;
                if (t === d6t.W6) return d6t.W6;
                if (t === d6t.A6) return d6t.A6;
                if (!j || j < d6t.A6) {
                    j = d6t.A6;
                    k = o / d6t.M6;
                } else k = o * Math.asin(d6t.A6 / j) / (d6t.D6 * Math.PI);
                return (j * Math.pow(d6t.D6, -d6t.x7x * t) * Math.sin((t - k) * (d6t.D6 * Math.PI) / o) + d6t.A6);
            },
            InOut: function(t) {
                var k, j = d6t.H48,
                    o = d6t.Y48;
                if (t === d6t.W6) return d6t.W6;
                if (t === d6t.A6) return d6t.A6;
                if (!j || j < d6t.A6) {
                    j = d6t.A6;
                    k = o / d6t.M6;
                } else k = o * Math.asin(d6t.A6 / j) / (d6t.D6 * Math.PI);
                if ((t *= d6t.D6) < d6t.A6) return -d6t.z48 * (j * Math.pow(d6t.D6, d6t.x7x * (t -= d6t.A6)) * Math.sin((t - k) * (d6t.D6 * Math.PI) / o));
                return j * Math.pow(d6t.D6, -d6t.x7x * (t -= d6t.A6)) * Math.sin((t - k) * (d6t.D6 * Math.PI) / o) * d6t.z48 + d6t.A6;
            }
        },
        Back: {
            In: function(t) {
                var k = W4;
                return t * t * ((k + d6t.A6) * t - k);
            },
            Out: function(t) {
                var k = W4;
                return --t * t * ((k + d6t.A6) * t + k) + d6t.A6;
            },
            InOut: function(t) {
                var k = (1.212E3 <= (28, 1.237E3) ? (0x1D4, 1.525) : 7.38E2 > (0xB9, 9.91E2) ? (112, 'K') : (1.063E3, 0x1F5)),
                    j = W4 * k;
                if ((t *= d6t.D6) < d6t.A6) return d6t.z48 * (t * t * ((j + d6t.A6) * t - j));
                return d6t.z48 * ((t -= d6t.D6) * t * ((j + d6t.A6) * t + j) + d6t.D6);
            }
        },
        Bounce: {
            In: function(t) {
                return d6t.A6 - s5.Easing.Bounce.Out(d6t.A6 - t);
            },
            Out: function(t) {
                var k = ((35.7E1, 0x1FC) > (137, 12.41E2) ? 59 : 62 > (46.7E1, 16) ? (38., 0.984375) : (11.83E2, 24.)),
                    j = ((4.5E1, 114.) <= (0x1EF, 94.) ? (7.74E2, 34.) : 0xF0 < (48., 0x16D) ? (81, 2.625) : (46., 7.5E2)),
                    o = 0.9375,
                    e = 2.25,
                    q = 2.5,
                    m = 0.75,
                    k5 = ((4.67E2, 0xE7) <= 19.40E1 ? (0x11C, "q") : 24 > (32.2E1, 93.30E1) ? 0xB3 : 81. <= (85, 0x256) ? (9.70E1, 7.5625) : (23.5E1, 20.40E1)),
                    C5 = ((73., 0xFE) > (9, 1.183E3) ? (0x5F, 4.69E2) : (0xD3, 14.61E2) > 0x18F ? (48, 2.75) : (0x1C4, 81.4E1));
                if (t < (d6t.A6 / C5)) {
                    return k5 * t * t;
                } else if (t < (d6t.D6 / C5)) {
                    return k5 * (t -= (d6t.g28 / C5)) * t + m;
                } else if (t < (q / C5)) {
                    return k5 * (t -= (e / C5)) * t + o;
                } else {
                    return k5 * (t -= (j / C5)) * t + k;
                }
            },
            InOut: function(t) {
                if (t < d6t.z48) return s5.Easing.Bounce.In(t * d6t.D6) * d6t.z48;
                return s5.Easing.Bounce.Out(t * d6t.D6 - d6t.A6) * d6t.z48 + d6t.z48;
            }
        }
    };
    s5.Easing.Default = s5.Easing.Linear.None;
    s5.Time = function(game) {
        this.game = game;
        this.time = d6t.W6;
        this.prevTime = d6t.W6;
        this.now = d6t.W6;
        this.elapsed = d6t.W6;
        this.pausedTime = d6t.W6;
        this.advancedTiming = d6t.F18;
        this.fps = d6t.W6;
        this.fpsMin = d6t.I6;
        this.fpsMax = d6t.W6;
        this.msMin = d6t.I6;
        this.msMax = d6t.W6;
        this.physicsElapsed = d6t.W6;
        this.deltaCap = d6t.W6;
        this.timeCap = d6t.A6 / d6t.V8x * d6t.I6;
        this.frames = d6t.W6;
        this.pauseDuration = d6t.W6;
        this.timeToCall = d6t.W6;
        this.lastTime = d6t.W6;
        this.events = new s5.Timer(this.game, d6t.F18);
        this._started = d6t.W6;
        this._timeLastSecond = d6t.W6;
        this._pauseStarted = d6t.W6;
        this._justResumed = d6t.F18;
        this._timers = [];
        this._len = d6t.W6;
        this._i = d6t.W6;
    };
    s5.Time.prototype = {
        boot: function() {
            this._started = Date.now();
            this.events.start();
        },
        add: function(t) {
            this._timers.push(t);
            return t;
        },
        create: function(t) {
            if (typeof t === d6t.k43) {
                t = d6t.s73;
            }
            var k = new s5.Timer(this.game, t);
            this._timers.push(k);
            return k;
        },
        removeAll: function() {
            for (var t = d6t.W6; t < this._timers.length; t++) {
                this._timers[t].destroy();
            }
            this._timers = [];
            this.events.removeAll();
        },
        update: function(t) {
            this.prevTime = this.now;
            this.now = t;
            this.timeToCall = this.game.math.max(d6t.W6, d6t.M7x - (t - this.lastTime));
            this.elapsed = this.now - this.time;
            if (this.elapsed > this.timeCap) {
                this.elapsed = this.timeCap;
            }
            this.physicsElapsed = this.elapsed / d6t.I6 || d6t.A6 / d6t.V8x;
            if (this.deltaCap > d6t.W6 && this.physicsElapsed > this.deltaCap) {
                this.physicsElapsed = this.deltaCap;
            }
            if (this.advancedTiming) {
                this.msMin = this.game.math.min(this.msMin, this.elapsed);
                this.msMax = this.game.math.max(this.msMax, this.elapsed);
                this.frames++;
                if (this.now > this._timeLastSecond + d6t.I6) {
                    this.fps = Math.round((this.frames * d6t.I6) / (this.now - this._timeLastSecond));
                    this.fpsMin = this.game.math.min(this.fpsMin, this.fps);
                    this.fpsMax = this.game.math.max(this.fpsMax, this.fps);
                    this._timeLastSecond = this.now;
                    this.frames = d6t.W6;
                }
            }
            this.time = this.now;
            this.lastTime = t + this.timeToCall;
            if (!this.game.paused) {
                this.events.update(this.now);
                this._i = d6t.W6;
                this._len = this._timers.length;
                while (this._i < this._len) {
                    if (this._timers[this._i].update(this.now)) {
                        this._i++;
                    } else {
                        this._timers.splice(this._i, d6t.A6);
                        this._len--;
                    }
                }
            }
        },
        gamePaused: function() {
            this._pauseStarted = this.now;
            this.events.pause();
            var t = this._timers.length;
            while (t--) {
                this._timers[t]._pause();
            }
        },
        gameResumed: function() {
            this.time = this.now = Date.now();
            this.pauseDuration = this.time - this._pauseStarted;
            this.events.resume();
            var t = this._timers.length;
            while (t--) {
                this._timers[t]._resume();
            }
        },
        totalElapsedSeconds: function() {
            return (this.now - this._started) * d6t.u4H;
        },
        elapsedSince: function(t) {
            return this.now - t;
        },
        elapsedSecondsSince: function(t) {
            return (this.now - t) * d6t.u4H;
        },
        reset: function() {
            this._started = this.now;
            this.removeAll();
        }
    };
    s5.Time.prototype.constructor = s5.Time;
    s5.Timer = function(game, k) {
        if (typeof k === d6t.k43) {
            k = d6t.s73;
        }
        this.game = game;
        this.running = d6t.F18;
        this.autoDestroy = k;
        this.expired = d6t.F18;
        this.elapsed = d6t.W6;
        this.events = [];
        this.onComplete = new s5.Signal();
        this.nextTick = d6t.W6;
        this.timeCap = d6t.I6;
        this.paused = d6t.F18;
        this._codePaused = d6t.F18;
        this._started = d6t.W6;
        this._pauseStarted = d6t.W6;
        this._pauseTotal = d6t.W6;
        this._now = Date.now();
        this._len = d6t.W6;
        this._marked = d6t.W6;
        this._i = d6t.W6;
        this._diff = d6t.W6;
        this._newTick = d6t.W6;
    };
    s5.Timer.MINUTE = o6;
    s5.Timer.SECOND = d6t.I6;
    s5.Timer.HALF = d6t.T2H;
    s5.Timer.QUARTER = d6t.q9;
    s5.Timer.prototype = {
        create: function(t, k, j, o, e, q) {
            t = Math.round(t);
            var m = t;
            if (this._now === d6t.W6) {
                m += this.game.time.now;
            } else {
                m += this._now;
            }
            var k5 = new s5.TimerEvent(this, t, m, j, k, o, e, q);
            this.events.push(k5);
            this.order();
            this.expired = d6t.F18;
            return k5;
        },
        add: function(t, k, j) {
            return this.create(t, d6t.F18, d6t.W6, k, j, Array.prototype.splice.call(arguments, d6t.B6));
        },
        repeat: function(t, k, j, o) {
            return this.create(t, d6t.F18, k, j, o, Array.prototype.splice.call(arguments, d6t.M6));
        },
        loop: function(t, k, j) {
            return this.create(t, d6t.s73, d6t.W6, k, j, Array.prototype.splice.call(arguments, d6t.B6));
        },
        start: function(t) {
            if (this.running) {
                return;
            }
            this._started = this.game.time.now + (t || d6t.W6);
            this.running = d6t.s73;
            for (var k = d6t.W6; k < this.events.length; k++) {
                this.events[k].tick = this.events[k].delay + this._started;
            }
        },
        stop: function(t) {
            this.running = d6t.F18;
            if (typeof t === d6t.k43) {
                t = d6t.s73;
            }
            if (t) {
                this.events.length = d6t.W6;
            }
        },
        remove: function(t) {
            for (var k = d6t.W6; k < this.events.length; k++) {
                if (this.events[k] === t) {
                    this.events[k].pendingDelete = d6t.s73;
                    return d6t.s73;
                }
            }
            return d6t.F18;
        },
        order: function() {
            if (this.events.length > d6t.W6) {
                this.events.sort(this.sortHandler);
                this.nextTick = this.events[d6t.W6].tick;
            }
        },
        sortHandler: function(t, k) {
            if (t.tick < k.tick) {
                return -d6t.A6;
            } else if (t.tick > k.tick) {
                return d6t.A6;
            }
            return d6t.W6;
        },
        clearPendingEvents: function() {
            this._i = this.events.length;
            while (this._i--) {
                if (this.events[this._i].pendingDelete) {
                    this.events.splice(this._i, d6t.A6);
                }
            }
            this._len = this.events.length;
            this._i = d6t.W6;
        },
        update: function(t) {
            if (this.paused) {
                return d6t.s73;
            }
            this.elapsed = t - this._now;
            this._now = t;
            if (this.elapsed > this.timeCap) {
                this.adjustEvents(t - this.elapsed);
            }
            this._marked = d6t.W6;
            this.clearPendingEvents();
            if (this.running && this._now >= this.nextTick && this._len > d6t.W6) {
                while (this._i < this._len && this.running) {
                    if (this._now >= this.events[this._i].tick) {
                        this._newTick = (this._now + this.events[this._i].delay) - (this._now - this.events[this._i].tick);
                        if (this._newTick < d6t.W6) {
                            this._newTick = this._now + this.events[this._i].delay;
                        }
                        if (this.events[this._i].loop === d6t.s73) {
                            this.events[this._i].tick = this._newTick;
                            this.events[this._i].callback.apply(this.events[this._i].callbackContext, this.events[this._i].args);
                        } else if (this.events[this._i].repeatCount > d6t.W6) {
                            this.events[this._i].repeatCount--;
                            this.events[this._i].tick = this._newTick;
                            this.events[this._i].callback.apply(this.events[this._i].callbackContext, this.events[this._i].args);
                        } else {
                            this._marked++;
                            this.events[this._i].pendingDelete = d6t.s73;
                            this.events[this._i].callback.apply(this.events[this._i].callbackContext, this.events[this._i].args);
                        }
                        this._i++;
                    } else {
                        break;
                    }
                }
                if (this.events.length > this._marked) {
                    this.order();
                } else {
                    this.expired = d6t.s73;
                    this.onComplete.dispatch(this);
                }
            }
            if (this.expired && this.autoDestroy) {
                return d6t.F18;
            } else {
                return d6t.s73;
            }
        },
        pause: function() {
            if (!this.running) {
                return;
            }
            this._codePaused = d6t.s73;
            if (this.paused) {
                return;
            }
            this._pauseStarted = this.game.time.now;
            this.paused = d6t.s73;
        },
        _pause: function() {
            if (this.paused || !this.running) {
                return;
            }
            this._pauseStarted = this.game.time.now;
            this.paused = d6t.s73;
        },
        adjustEvents: function(t) {
            for (var k = d6t.W6; k < this.events.length; k++) {
                if (!this.events[k].pendingDelete) {
                    var j = this.events[k].tick - t;
                    if (j < d6t.W6) {
                        j = d6t.W6;
                    }
                    this.events[k].tick = this._now + j;
                }
            }
            var o = this.nextTick - t;
            if (o < d6t.W6) {
                this.nextTick = this._now;
            } else {
                this.nextTick = this._now + o;
            }
        },
        resume: function() {
            if (!this.paused) {
                return;
            }
            var t = this.game.time.now;
            this._pauseTotal += t - this._now;
            this._now = t;
            this.adjustEvents(this._pauseStarted);
            this.paused = d6t.F18;
            this._codePaused = d6t.F18;
        },
        _resume: function() {
            if (this._codePaused) {
                return;
            } else {
                this.resume();
            }
        },
        removeAll: function() {
            this.onComplete.removeAll();
            this.events.length = d6t.W6;
            this._len = d6t.W6;
            this._i = d6t.W6;
        },
        destroy: function() {
            this.onComplete.removeAll();
            this.running = d6t.F18;
            this.events = [];
            this._len = d6t.W6;
            this._i = d6t.W6;
        }
    };
    Object.defineProperty(s5.Timer.prototype, C9, {
        get: function() {
            return this.nextTick;
        }
    });
    Object.defineProperty(s5.Timer.prototype, w4, {
        get: function() {
            if (this.running && this.nextTick > this._now) {
                return this.nextTick - this._now;
            } else {
                return d6t.W6;
            }
        }
    });
    Object.defineProperty(s5.Timer.prototype, d6t.e23, {
        get: function() {
            return this.events.length;
        }
    });
    Object.defineProperty(s5.Timer.prototype, R4, {
        get: function() {
            if (this.running) {
                return this._now - this._started - this._pauseTotal;
            } else {
                return d6t.W6;
            }
        }
    });
    Object.defineProperty(s5.Timer.prototype, p4, {
        get: function() {
            if (this.running) {
                return this.ms * d6t.u4H;
            } else {
                return d6t.W6;
            }
        }
    });
    s5.Timer.prototype.constructor = s5.Timer;
    s5.TimerEvent = function(t, k, j, o, e, q, m, k5) {
        this.timer = t;
        this.delay = k;
        this.tick = j;
        this.repeatCount = o - d6t.A6;
        this.loop = e;
        this.callback = q;
        this.callbackContext = m;
        this.args = k5;
        this.pendingDelete = d6t.F18;
    };
    s5.TimerEvent.prototype.constructor = s5.TimerEvent;
    s5.AnimationManager = function(t) {
        this.sprite = t;
        this.game = t.game;
        this.currentFrame = d6t.B3x;
        this.currentAnim = d6t.B3x;
        this.updateIfVisible = d6t.s73;
        this.isLoaded = d6t.F18;
        this._frameData = d6t.B3x;
        this._anims = {};
        this._outputFrames = [];
    };
    s5.AnimationManager.prototype = {
        loadFrameData: function(t, k) {
            if (typeof t === d6t.k43) {
                return d6t.F18;
            }
            if (this.isLoaded) {
                for (var j in this._anims) {
                    this._anims[j].updateFrameData(t);
                }
            }
            this._frameData = t;
            if (typeof k === d6t.k43 || k === d6t.B3x) {
                this.frame = d6t.W6;
            } else {
                if (typeof k === d6t.F78) {
                    this.frameName = k;
                } else {
                    this.frame = k;
                }
            }
            this.isLoaded = d6t.s73;
            return d6t.s73;
        },
        copyFrameData: function(t, k) {
            this._frameData = t.clone();
            if (this.isLoaded) {
                for (var j in this._anims) {
                    this._anims[j].updateFrameData(this._frameData);
                }
            }
            if (typeof k === d6t.k43 || k === d6t.B3x) {
                this.frame = d6t.W6;
            } else {
                if (typeof k === d6t.F78) {
                    this.frameName = k;
                } else {
                    this.frame = k;
                }
            }
            this.isLoaded = d6t.s73;
            return d6t.s73;
        },
        add: function(t, k, j, o, e) {
            k = k || [];
            j = j || d6t.V8x;
            if (typeof o === d6t.k43) {
                o = d6t.F18;
            }
            if (typeof e === d6t.k43) {
                if (k && typeof k[d6t.W6] === d6t.F3B) {
                    e = d6t.s73;
                } else {
                    e = d6t.F18;
                }
            }
            if (this.sprite.events.onAnimationStart === d6t.B3x) {
                this.sprite.events.onAnimationStart = new s5.Signal();
                this.sprite.events.onAnimationComplete = new s5.Signal();
                this.sprite.events.onAnimationLoop = new s5.Signal();
            }
            this._outputFrames.length = d6t.W6;
            this._frameData.getFrameIndexes(k, e, this._outputFrames);
            this._anims[t] = new s5.Animation(this.game, this.sprite, t, this._frameData, this._outputFrames, j, o);
            this.currentAnim = this._anims[t];
            this.currentFrame = this.currentAnim.currentFrame;
            if (this.sprite.__tilePattern) {
                this.sprite.__tilePattern = d6t.F18;
                this.tilingTexture = d6t.F18;
            }
            return this._anims[t];
        },
        validateFrames: function(t, k) {
            if (typeof k === d6t.k43) {
                k = d6t.s73;
            }
            for (var j = d6t.W6; j < t.length; j++) {
                if (k === d6t.s73) {
                    if (t[j] > this._frameData.total) {
                        return d6t.F18;
                    }
                } else {
                    if (this._frameData.checkFrameName(t[j]) === d6t.F18) {
                        return d6t.F18;
                    }
                }
            }
            return d6t.s73;
        },
        play: function(t, k, j, o) {
            if (this._anims[t]) {
                if (this.currentAnim === this._anims[t]) {
                    if (this.currentAnim.isPlaying === d6t.F18) {
                        this.currentAnim.paused = d6t.F18;
                        return this.currentAnim.play(k, j, o);
                    }
                    return this.currentAnim;
                } else {
                    if (this.currentAnim && this.currentAnim.isPlaying) {
                        this.currentAnim.stop();
                    }
                    this.currentAnim = this._anims[t];
                    this.currentAnim.paused = d6t.F18;
                    this.currentFrame = this.currentAnim.currentFrame;
                    return this.currentAnim.play(k, j, o);
                }
            }
        },
        stop: function(t, k) {
            if (typeof k === d6t.k43) {
                k = d6t.F18;
            }
            if (typeof t === d6t.F78) {
                if (this._anims[t]) {
                    this.currentAnim = this._anims[t];
                    this.currentAnim.stop(k);
                }
            } else {
                if (this.currentAnim) {
                    this.currentAnim.stop(k);
                }
            }
        },
        update: function() {
            if (this.updateIfVisible && !this.sprite.visible) {
                return d6t.F18;
            }
            if (this.currentAnim && this.currentAnim.update() === d6t.s73) {
                this.currentFrame = this.currentAnim.currentFrame;
                return d6t.s73;
            }
            return d6t.F18;
        },
        next: function(t) {
            if (this.currentAnim) {
                this.currentAnim.next(t);
                this.currentFrame = this.currentAnim.currentFrame;
            }
        },
        previous: function(t) {
            if (this.currentAnim) {
                this.currentAnim.previous(t);
                this.currentFrame = this.currentAnim.currentFrame;
            }
        },
        getAnimation: function(t) {
            if (typeof t === d6t.F78) {
                if (this._anims[t]) {
                    return this._anims[t];
                }
            }
            return d6t.B3x;
        },
        refreshFrame: function() {
            this.sprite.setTexture(PIXI.TextureCache[this.currentFrame.uuid]);
            if (this.sprite.__tilePattern) {
                this.__tilePattern = d6t.F18;
                this.tilingTexture = d6t.F18;
            }
        },
        destroy: function() {
            var t = d6t.B3x;
            for (var t in this._anims) {
                if (this._anims.hasOwnProperty(t)) {
                    this._anims[t].destroy();
                }
            }
            this._anims = {};
            this._frameData = d6t.B3x;
            this._frameIndex = d6t.W6;
            this.currentAnim = d6t.B3x;
            this.currentFrame = d6t.B3x;
        }
    };
    s5.AnimationManager.prototype.constructor = s5.AnimationManager;
    Object.defineProperty(s5.AnimationManager.prototype, Q6, {
        get: function() {
            return this._frameData;
        }
    });
    Object.defineProperty(s5.AnimationManager.prototype, v5, {
        get: function() {
            return this._frameData.total;
        }
    });
    Object.defineProperty(s5.AnimationManager.prototype, d6t.n9x, {
        get: function() {
            return this.currentAnim.isPaused;
        },
        set: function(t) {
            this.currentAnim.paused = t;
        }
    });
    Object.defineProperty(s5.AnimationManager.prototype, C4, {
        get: function() {
            if (this.currentAnim) {
                return this.currentAnim.name;
            }
        }
    });
    Object.defineProperty(s5.AnimationManager.prototype, s4, {
        get: function() {
            if (this.currentFrame) {
                return this._frameIndex;
            }
        },
        set: function(t) {
            if (typeof t === d6t.F3B && this._frameData.getFrame(t) !== d6t.B3x) {
                this.currentFrame = this._frameData.getFrame(t);
                if (this.currentFrame) {
                    this._frameIndex = t;
                    this.sprite.setFrame(this.currentFrame);
                    if (this.sprite.__tilePattern) {
                        this.__tilePattern = d6t.F18;
                        this.tilingTexture = d6t.F18;
                    }
                }
            }
        }
    });
    Object.defineProperty(s5.AnimationManager.prototype, d6t.O6H, {
        get: function() {
            if (this.currentFrame) {
                return this.currentFrame.name;
            }
        },
        set: function(t) {
            var k = 'Cannot set frameName: ';
            if (typeof t === d6t.F78 && this._frameData.getFrameByName(t) !== d6t.B3x) {
                this.currentFrame = this._frameData.getFrameByName(t);
                if (this.currentFrame) {
                    this._frameIndex = this.currentFrame.index;
                    this.sprite.setFrame(this.currentFrame);
                    if (this.sprite.__tilePattern) {
                        this.__tilePattern = d6t.F18;
                        this.tilingTexture = d6t.F18;
                    }
                }
            } else {
                console.warn(k + t);
            }
        }
    });
    s5.Animation = function(game, k, j, o, e, q, m) {
        if (typeof m === d6t.k43) {
            m = d6t.F18;
        }
        this.game = game;
        this._parent = k;
        this._frameData = o;
        this.name = j;
        this._frames = [];
        this._frames = this._frames.concat(e);
        this.delay = d6t.I6 / q;
        this.loop = m;
        this.loopCount = d6t.W6;
        this.killOnComplete = d6t.F18;
        this.isFinished = d6t.F18;
        this.isPlaying = d6t.F18;
        this.isPaused = d6t.F18;
        this._pauseStartTime = d6t.W6;
        this._frameIndex = d6t.W6;
        this._frameDiff = d6t.W6;
        this._frameSkip = d6t.A6;
        this.currentFrame = this._frameData.getFrame(this._frames[this._frameIndex]);
        this.onStart = new s5.Signal();
        this.onUpdate = d6t.B3x;
        this.onComplete = new s5.Signal();
        this.onLoop = new s5.Signal();
        this.game.onPause.add(this.onPause, this);
        this.game.onResume.add(this.onResume, this);
    };
    s5.Animation.prototype = {
        play: function(t, k, j) {
            if (typeof t === d6t.F3B) {
                this.delay = d6t.I6 / t;
            }
            if (typeof k === d6t.U3f) {
                this.loop = k;
            }
            if (typeof j !== d6t.k43) {
                this.killOnComplete = j;
            }
            this.isPlaying = d6t.s73;
            this.isFinished = d6t.F18;
            this.paused = d6t.F18;
            this.loopCount = d6t.W6;
            this._timeLastFrame = this.game.time.now;
            this._timeNextFrame = this.game.time.now + this.delay;
            this._frameIndex = d6t.W6;
            this.currentFrame = this._frameData.getFrame(this._frames[this._frameIndex]);
            this._parent.setFrame(this.currentFrame);
            if (this._parent.__tilePattern) {
                this._parent.__tilePattern = d6t.F18;
                this._parent.tilingTexture = d6t.F18;
            }
            this._parent.events.onAnimationStart.dispatch(this._parent, this);
            this.onStart.dispatch(this._parent, this);
            return this;
        },
        restart: function() {
            this.isPlaying = d6t.s73;
            this.isFinished = d6t.F18;
            this.paused = d6t.F18;
            this.loopCount = d6t.W6;
            this._timeLastFrame = this.game.time.now;
            this._timeNextFrame = this.game.time.now + this.delay;
            this._frameIndex = d6t.W6;
            this.currentFrame = this._frameData.getFrame(this._frames[this._frameIndex]);
            this._parent.setFrame(this.currentFrame);
            this.onStart.dispatch(this._parent, this);
        },
        setFrame: function(t, k) {
            var j;
            if (typeof k === d6t.k43) {
                k = d6t.F18;
            }
            if (typeof t === d6t.H1H) {
                for (var o = d6t.W6; o < this._frames.length; o++) {
                    if (this._frameData.getFrame(this._frames[o]).name === t) {
                        j = o;
                    }
                }
            } else if (typeof t === d6t.k13) {
                if (k) {
                    j = t;
                } else {
                    for (var o = d6t.W6; o < this._frames.length; o++) {
                        if (this.frames[o] === j) {
                            j = o;
                        }
                    }
                }
            }
            if (j) {
                this._frameIndex = j - d6t.A6;
                this._timeNextFrame = this.game.time.now;
                this.update();
            }
        },
        stop: function(t, k) {
            if (typeof t === d6t.k43) {
                t = d6t.F18;
            }
            if (typeof k === d6t.k43) {
                k = d6t.F18;
            }
            this.isPlaying = d6t.F18;
            this.isFinished = d6t.s73;
            this.paused = d6t.F18;
            if (t) {
                this.currentFrame = this._frameData.getFrame(this._frames[d6t.W6]);
                this._parent.setFrame(this.currentFrame);
            }
            if (k) {
                this._parent.events.onAnimationComplete.dispatch(this._parent, this);
                this.onComplete.dispatch(this._parent, this);
            }
        },
        onPause: function() {
            if (this.isPlaying) {
                this._frameDiff = this._timeNextFrame - this.game.time.now;
            }
        },
        onResume: function() {
            if (this.isPlaying) {
                this._timeNextFrame = this.game.time.now + this._frameDiff;
            }
        },
        update: function() {
            if (this.isPaused) {
                return d6t.F18;
            }
            if (this.isPlaying && this.game.time.now >= this._timeNextFrame) {
                this._frameSkip = d6t.A6;
                this._frameDiff = this.game.time.now - this._timeNextFrame;
                this._timeLastFrame = this.game.time.now;
                if (this._frameDiff > this.delay) {
                    this._frameSkip = Math.floor(this._frameDiff / this.delay);
                    this._frameDiff -= (this._frameSkip * this.delay);
                }
                this._timeNextFrame = this.game.time.now + (this.delay - this._frameDiff);
                this._frameIndex += this._frameSkip;
                if (this._frameIndex >= this._frames.length) {
                    if (this.loop) {
                        this._frameIndex %= this._frames.length;
                        this.currentFrame = this._frameData.getFrame(this._frames[this._frameIndex]);
                        this.loopCount++;
                        this._parent.events.onAnimationLoop.dispatch(this._parent, this);
                        this.onLoop.dispatch(this._parent, this);
                    } else {
                        this.complete();
                    }
                }
                this.currentFrame = this._frameData.getFrame(this._frames[this._frameIndex]);
                if (this.currentFrame) {
                    this._parent.setFrame(this.currentFrame);
                    if (this._parent.__tilePattern) {
                        this._parent.__tilePattern = d6t.F18;
                        this._parent.tilingTexture = d6t.F18;
                    }
                    if (this.onUpdate) {
                        this.onUpdate.dispatch(this, this.currentFrame);
                    }
                }
                return d6t.s73;
            }
            return d6t.F18;
        },
        next: function(t) {
            if (typeof t === d6t.k43) {
                t = d6t.A6;
            }
            var k = this._frameIndex + t;
            if (k >= this._frames.length) {
                if (this.loop) {
                    k %= this._frames.length;
                } else {
                    k = this._frames.length - d6t.A6;
                }
            }
            if (k !== this._frameIndex) {
                this._frameIndex = k;
                this.currentFrame = this._frameData.getFrame(this._frames[this._frameIndex]);
                if (this.currentFrame) {
                    this._parent.setFrame(this.currentFrame);
                    if (this._parent.__tilePattern) {
                        this._parent.__tilePattern = d6t.F18;
                        this._parent.tilingTexture = d6t.F18;
                    }
                }
                if (this.onUpdate) {
                    this.onUpdate.dispatch(this, this.currentFrame);
                }
            }
        },
        previous: function(t) {
            if (typeof t === d6t.k43) {
                t = d6t.A6;
            }
            var k = this._frameIndex - t;
            if (k < d6t.W6) {
                if (this.loop) {
                    k = this._frames.length + k;
                } else {
                    k++;
                }
            }
            if (k !== this._frameIndex) {
                this._frameIndex = k;
                this.currentFrame = this._frameData.getFrame(this._frames[this._frameIndex]);
                if (this.currentFrame) {
                    this._parent.setFrame(this.currentFrame);
                    if (this._parent.__tilePattern) {
                        this._parent.__tilePattern = d6t.F18;
                        this._parent.tilingTexture = d6t.F18;
                    }
                }
                if (this.onUpdate) {
                    this.onUpdate.dispatch(this, this.currentFrame);
                }
            }
        },
        updateFrameData: function(t) {
            this._frameData = t;
            this.currentFrame = this._frameData ? this._frameData.getFrame(this._frames[this._frameIndex % this._frames.length]) : d6t.B3x;
        },
        destroy: function() {
            this.game.onPause.remove(this.onPause, this);
            this.game.onResume.remove(this.onResume, this);
            this.game = d6t.B3x;
            this._parent = d6t.B3x;
            this._frames = d6t.B3x;
            this._frameData = d6t.B3x;
            this.currentFrame = d6t.B3x;
            this.isPlaying = d6t.F18;
            this.onStart.dispose();
            this.onLoop.dispose();
            this.onComplete.dispose();
            if (this.onUpdate) {
                this.onUpdate.dispose();
            }
        },
        complete: function() {
            this.isPlaying = d6t.F18;
            this.isFinished = d6t.s73;
            this.paused = d6t.F18;
            this._parent.events.onAnimationComplete.dispatch(this._parent, this);
            this.onComplete.dispatch(this._parent, this);
            if (this.killOnComplete) {
                this._parent.kill();
            }
        }
    };
    s5.Animation.prototype.constructor = s5.Animation;
    Object.defineProperty(s5.Animation.prototype, d6t.n9x, {
        get: function() {
            return this.isPaused;
        },
        set: function(t) {
            this.isPaused = t;
            if (t) {
                this._pauseStartTime = this.game.time.now;
            } else {
                if (this.isPlaying) {
                    this._timeNextFrame = this.game.time.now + this.delay;
                }
            }
        }
    });
    Object.defineProperty(s5.Animation.prototype, v5, {
        get: function() {
            return this._frames.length;
        }
    });
    Object.defineProperty(s5.Animation.prototype, s4, {
        get: function() {
            if (this.currentFrame !== d6t.B3x) {
                return this.currentFrame.index;
            } else {
                return this._frameIndex;
            }
        },
        set: function(t) {
            this.currentFrame = this._frameData.getFrame(this._frames[t]);
            if (this.currentFrame !== d6t.B3x) {
                this._frameIndex = t;
                this._parent.setFrame(this.currentFrame);
                if (this.onUpdate) {
                    this.onUpdate.dispatch(this, this.currentFrame);
                }
            }
        }
    });
    Object.defineProperty(s5.Animation.prototype, n6, {
        get: function() {
            return Math.round(d6t.I6 / this.delay);
        },
        set: function(t) {
            if (t >= d6t.A6) {
                this.delay = d6t.I6 / t;
            }
        }
    });
    Object.defineProperty(s5.Animation.prototype, v4, {
        get: function() {
            return (this.onUpdate !== d6t.B3x);
        },
        set: function(t) {
            if (t && this.onUpdate === d6t.B3x) {
                this.onUpdate = new s5.Signal();
            } else if (!t && this.onUpdate !== d6t.B3x) {
                this.onUpdate.dispose();
                this.onUpdate = d6t.B3x;
            }
        }
    });
    s5.Animation.generateFrameNames = function(t, k, j, o, e) {
        if (typeof o === d6t.k43) {
            o = d6t.I6x;
        }
        var q = [],
            m = d6t.I6x;
        if (k < j) {
            for (var k5 = k; k5 <= j; k5++) {
                if (typeof e === d6t.F3B) {
                    m = s5.Utils.pad(k5.toString(), e, d6t.s03, d6t.A6);
                } else {
                    m = k5.toString();
                }
                m = t + m + o;
                q.push(m);
            }
        } else {
            for (var k5 = k; k5 >= j; k5--) {
                if (typeof e === d6t.F3B) {
                    m = s5.Utils.pad(k5.toString(), e, d6t.s03, d6t.A6);
                } else {
                    m = k5.toString();
                }
                m = t + m + o;
                q.push(m);
            }
        }
        return q;
    };
    s5.Frame = function(t, k, j, o, e, q, m) {
        var k5 = 'cw';
        this.index = t;
        this.x = k;
        this.y = j;
        this.width = o;
        this.height = e;
        this.name = q;
        this.uuid = m;
        this.centerX = Math.floor(o / d6t.D6);
        this.centerY = Math.floor(e / d6t.D6);
        this.distance = s5.Math.distance(d6t.W6, d6t.W6, o, e);
        this.rotated = d6t.F18;
        this.rotationDirection = k5;
        this.trimmed = d6t.F18;
        this.sourceSizeW = o;
        this.sourceSizeH = e;
        this.spriteSourceSizeX = d6t.W6;
        this.spriteSourceSizeY = d6t.W6;
        this.spriteSourceSizeW = d6t.W6;
        this.spriteSourceSizeH = d6t.W6;
        this.right = this.x + this.width;
        this.bottom = this.y + this.height;
    };
    s5.Frame.prototype = {
        setTrim: function(t, k, j, o, e, q, m) {
            this.trimmed = t;
            if (t) {
                this.sourceSizeW = k;
                this.sourceSizeH = j;
                this.centerX = Math.floor(k / d6t.D6);
                this.centerY = Math.floor(j / d6t.D6);
                this.spriteSourceSizeX = o;
                this.spriteSourceSizeY = e;
                this.spriteSourceSizeW = q;
                this.spriteSourceSizeH = m;
            }
        },
        clone: function() {
            var t = new s5.Frame(this.index, this.x, this.y, this.width, this.height, this.name, this.uuid);
            for (var k in this) {
                if (this.hasOwnProperty(k)) {
                    t[k] = this[k];
                }
            }
            return t;
        },
        getRect: function(t) {
            if (typeof t === d6t.k43) {
                t = new s5.Rectangle(this.x, this.y, this.width, this.height);
            } else {
                t.setTo(this.x, this.y, this.width, this.height);
            }
            return t;
        }
    };
    s5.Frame.prototype.constructor = s5.Frame;
    s5.FrameData = function() {
        this._frames = [];
        this._frameNames = [];
    };
    s5.FrameData.prototype = {
        addFrame: function(t) {
            t.index = this._frames.length;
            this._frames.push(t);
            if (t.name !== d6t.I6x) {
                this._frameNames[t.name] = t.index;
            }
            return t;
        },
        getFrame: function(t) {
            if (t > this._frames.length) {
                t = d6t.W6;
            }
            return this._frames[t];
        },
        getFrameByName: function(t) {
            if (typeof this._frameNames[t] === d6t.F3B) {
                return this._frames[this._frameNames[t]];
            }
            return d6t.B3x;
        },
        checkFrameName: function(t) {
            if (this._frameNames[t] == d6t.B3x) {
                return d6t.F18;
            }
            return d6t.s73;
        },
        clone: function() {
            var t = new s5.FrameData();
            for (var k = d6t.W6; k < this._frames.length; k++) {
                t._frames.push(this._frames[k].clone());
            }
            for (var k = d6t.W6; k < this._frameNames.length; k++) {
                t._frameNames.push(this._frameNames[k]);
            }
            return t;
        },
        getFrameRange: function(t, k, j) {
            if (typeof j === d6t.k6f) {
                j = [];
            }
            for (var o = t; o <= k; o++) {
                j.push(this._frames[o]);
            }
            return j;
        },
        getFrames: function(t, k, j) {
            if (typeof k === d6t.k6f) {
                k = d6t.s73;
            }
            if (typeof j === d6t.k6f) {
                j = [];
            }
            if (typeof t === d6t.k6f || t.length === d6t.W6) {
                for (var o = d6t.W6; o < this._frames.length; o++) {
                    j.push(this._frames[o]);
                }
            } else {
                for (var o = d6t.W6, e = t.length; o < e; o++) {
                    if (k) {
                        j.push(this.getFrame(t[o]));
                    } else {
                        j.push(this.getFrameByName(t[o]));
                    }
                }
            }
            return j;
        },
        getFrameIndexes: function(t, k, j) {
            if (typeof k === d6t.k6f) {
                k = d6t.s73;
            }
            if (typeof j === d6t.k6f) {
                j = [];
            }
            if (typeof t === d6t.k6f || t.length === d6t.W6) {
                for (var o = d6t.W6, e = this._frames.length; o < e; o++) {
                    j.push(this._frames[o].index);
                }
            } else {
                for (var o = d6t.W6, e = t.length; o < e; o++) {
                    if (k) {
                        j.push(t[o]);
                    } else {
                        if (this.getFrameByName(t[o])) {
                            j.push(this.getFrameByName(t[o]).index);
                        }
                    }
                }
            }
            return j;
        }
    };
    s5.FrameData.prototype.constructor = s5.FrameData;
    Object.defineProperty(s5.FrameData.prototype, k9, {
        get: function() {
            return this._frames.length;
        }
    });
    s5.AnimationParser = {
        spriteSheet: function(game, k, j, o, e, q, m) {
            var k5 = "'s width/height zero or width/height < given frameWidth/frameHeight",
                C5 = "Phaser.AnimationParser.spriteSheet: '",
                H5 = game.cache.getImage(k);
            if (H5 == d6t.B3x) {
                return d6t.B3x;
            }
            var j5 = H5.width,
                Y5 = H5.height;
            if (j <= d6t.W6) {
                j = Math.floor(-j5 / Math.min(-d6t.A6, j));
            }
            if (o <= d6t.W6) {
                o = Math.floor(-Y5 / Math.min(-d6t.A6, o));
            }
            var z5 = Math.floor((j5 - q) / (j + m)),
                P5 = Math.floor((Y5 - q) / (o + m)),
                p5 = z5 * P5;
            if (e !== -d6t.A6) {
                p5 = e;
            }
            if (j5 === d6t.W6 || Y5 === d6t.W6 || j5 < j || Y5 < o || p5 === d6t.W6) {
                console.warn(C5 + k + k5);
                return d6t.B3x;
            }
            var w5 = new s5.FrameData(),
                R5 = q,
                r5 = q;
            for (var T5 = d6t.W6; T5 < p5; T5++) {
                var a5 = game.rnd.uuid();
                w5.addFrame(new s5.Frame(T5, R5, r5, j, o, d6t.I6x, a5));
                PIXI.TextureCache[a5] = new PIXI.Texture(PIXI.BaseTextureCache[k], {
                    x: R5,
                    y: r5,
                    width: j,
                    height: o
                });
                R5 += j + m;
                if (R5 + j > j5) {
                    R5 = q;
                    r5 += o + m;
                }
            }
            return w5;
        },
        JSONData: function(game, k, j) {
            var o = "Phaser.AnimationParser.JSONData: Invalid Texture Atlas JSON given, missing 'frames' array";
            if (!k[b6]) {
                console.warn(o);
                console.log(k);
                return;
            }
            var e = new s5.FrameData(),
                q = k[b6],
                m;
            for (var k5 = d6t.W6; k5 < q.length; k5++) {
                var C5 = game.rnd.uuid();
                m = e.addFrame(new s5.Frame(k5, q[k5].frame.x, q[k5].frame.y, q[k5].frame.w, q[k5].frame.h, q[k5].filename, C5));
                PIXI.TextureCache[C5] = new PIXI.Texture(PIXI.BaseTextureCache[j], {
                    x: q[k5].frame.x,
                    y: q[k5].frame.y,
                    width: q[k5].frame.w,
                    height: q[k5].frame.h
                });
                if (q[k5].trimmed) {
                    m.setTrim(q[k5].trimmed, q[k5].sourceSize.w, q[k5].sourceSize.h, q[k5].spriteSourceSize.x, q[k5].spriteSourceSize.y, q[k5].spriteSourceSize.w, q[k5].spriteSourceSize.h);
                }
            }
            return e;
        },
        JSONDataHash: function(game, k, j) {
            var o = "Phaser.AnimationParser.JSONDataHash: Invalid Texture Atlas JSON given, missing 'frames' object";
            if (!k[b6]) {
                console.warn(o);
                console.log(k);
                return;
            }
            var e = new s5.FrameData(),
                q = k[b6],
                m, k5 = d6t.W6;
            for (var C5 in q) {
                var H5 = game.rnd.uuid();
                m = e.addFrame(new s5.Frame(k5, q[C5].frame.x, q[C5].frame.y, q[C5].frame.w, q[C5].frame.h, C5, H5));
                PIXI.TextureCache[H5] = new PIXI.Texture(PIXI.BaseTextureCache[j], {
                    x: q[C5].frame.x,
                    y: q[C5].frame.y,
                    width: q[C5].frame.w,
                    height: q[C5].frame.h
                });
                if (q[C5].trimmed) {
                    m.setTrim(q[C5].trimmed, q[C5].sourceSize.w, q[C5].sourceSize.h, q[C5].spriteSourceSize.x, q[C5].spriteSourceSize.y, q[C5].spriteSourceSize.w, q[C5].spriteSourceSize.h);
                }
                k5++;
            }
            return e;
        },
        XMLData: function(game, k, j) {
            var o = 'SubTexture',
                e = "Phaser.AnimationParser.XMLData: Invalid Texture Atlas XML given, missing <TextureAtlas> tag",
                q = 'TextureAtlas';
            if (!k.getElementsByTagName(q)) {
                console.warn(e);
                return;
            }
            var m = new s5.FrameData(),
                k5 = k.getElementsByTagName(o),
                C5, H5, j5, Y5, z5, P5, p5, w5, R5, r5, T5, a5;
            for (var x5 = d6t.W6; x5 < k5.length; x5++) {
                H5 = game.rnd.uuid();
                Y5 = k5[x5].attributes;
                j5 = Y5.name.value;
                z5 = parseInt(Y5.x.value, d6t.x7x);
                P5 = parseInt(Y5.y.value, d6t.x7x);
                p5 = parseInt(Y5.width.value, d6t.x7x);
                w5 = parseInt(Y5.height.value, d6t.x7x);
                R5 = d6t.B3x;
                r5 = d6t.B3x;
                if (Y5.frameX) {
                    R5 = Math.abs(parseInt(Y5.frameX.value, d6t.x7x));
                    r5 = Math.abs(parseInt(Y5.frameY.value, d6t.x7x));
                    T5 = parseInt(Y5.frameWidth.value, d6t.x7x);
                    a5 = parseInt(Y5.frameHeight.value, d6t.x7x);
                }
                C5 = m.addFrame(new s5.Frame(x5, z5, P5, p5, w5, j5, H5));
                PIXI.TextureCache[H5] = new PIXI.Texture(PIXI.BaseTextureCache[j], {
                    x: z5,
                    y: P5,
                    width: p5,
                    height: w5
                });
                if (R5 !== d6t.B3x || r5 !== d6t.B3x) {
                    C5.setTrim(d6t.s73, p5, w5, R5, r5, T5, a5);
                }
            }
            return m;
        }
    };
    s5.Cache = function(game) {
        this.game = game;
        this._canvases = {};
        this._images = {};
        this._textures = {};
        this._sounds = {};
        this._text = {};
        this._json = {};
        this._xml = {};
        this._physics = {};
        this._tilemaps = {};
        this._binary = {};
        this._bitmapDatas = {};
        this._bitmapFont = {};
        this._urlMap = {};
        this._urlResolver = new Image();
        this._urlTemp = d6t.B3x;
        this.addDefaultImage();
        this.addMissingImage();
        this.onSoundUnlock = new s5.Signal();
        this._cacheMap = [];
        this._cacheMap[s5.Cache.CANVAS] = this._canvases;
        this._cacheMap[s5.Cache.IMAGE] = this._images;
        this._cacheMap[s5.Cache.TEXTURE] = this._textures;
        this._cacheMap[s5.Cache.SOUND] = this._sounds;
        this._cacheMap[s5.Cache.TEXT] = this._text;
        this._cacheMap[s5.Cache.PHYSICS] = this._physics;
        this._cacheMap[s5.Cache.TILEMAP] = this._tilemaps;
        this._cacheMap[s5.Cache.BINARY] = this._binary;
        this._cacheMap[s5.Cache.BITMAPDATA] = this._bitmapDatas;
        this._cacheMap[s5.Cache.BITMAPFONT] = this._bitmapFont;
        this._cacheMap[s5.Cache.JSON] = this._json;
        this._cacheMap[s5.Cache.XML] = this._xml;
    };
    s5.Cache.CANVAS = d6t.A6;
    s5.Cache.IMAGE = d6t.D6;
    s5.Cache.TEXTURE = d6t.B6;
    s5.Cache.SOUND = d6t.M6;
    s5.Cache.TEXT = d6t.U6;
    s5.Cache.PHYSICS = d6t.J6;
    s5.Cache.TILEMAP = d6t.v6;
    s5.Cache.BINARY = d6t.d6;
    s5.Cache.BITMAPDATA = d6t.S6;
    s5.Cache.BITMAPFONT = d6t.x7x;
    s5.Cache.JSON = d6t.f7x;
    s5.Cache.XML = d6t.W7x;
    s5.Cache.prototype = {
        addCanvas: function(t, k, j) {
            this._canvases[t] = {
                canvas: k,
                context: j
            };
        },
        addBinary: function(t, k) {
            this._binary[t] = k;
        },
        addBitmapData: function(t, k, j) {
            k.key = t;
            this._bitmapDatas[t] = {
                data: k,
                frameData: j
            };
            return k;
        },
        addRenderTexture: function(t, k) {
            var j = new s5.Frame(d6t.W6, d6t.W6, d6t.W6, k.width, k.height, d6t.I6x, d6t.I6x);
            this._textures[t] = {
                texture: k,
                frame: j
            };
        },
        addSpriteSheet: function(t, k, j, o, e, q, m, k5) {
            this._images[t] = {
                url: k,
                data: j,
                frameWidth: o,
                frameHeight: e,
                margin: m,
                spacing: k5
            };
            PIXI.BaseTextureCache[t] = new PIXI.BaseTexture(j);
            PIXI.TextureCache[t] = new PIXI.Texture(PIXI.BaseTextureCache[t]);
            this._images[t].frameData = s5.AnimationParser.spriteSheet(this.game, t, o, e, q, m, k5);
            this._urlMap[this._resolveUrl(k)] = this._images[t];
        },
        addTilemap: function(t, k, j, o) {
            this._tilemaps[t] = {
                url: k,
                data: j,
                format: o
            };
            this._urlMap[this._resolveUrl(k)] = this._tilemaps[t];
        },
        addTextureAtlas: function(t, k, j, o, e) {
            this._images[t] = {
                url: k,
                data: j
            };
            PIXI.BaseTextureCache[t] = new PIXI.BaseTexture(j);
            PIXI.TextureCache[t] = new PIXI.Texture(PIXI.BaseTextureCache[t]);
            if (e == s5.Loader.TEXTURE_ATLAS_JSON_ARRAY) {
                this._images[t].frameData = s5.AnimationParser.JSONData(this.game, o, t);
            } else if (e == s5.Loader.TEXTURE_ATLAS_JSON_HASH) {
                this._images[t].frameData = s5.AnimationParser.JSONDataHash(this.game, o, t);
            } else if (e == s5.Loader.TEXTURE_ATLAS_XML_STARLING) {
                this._images[t].frameData = s5.AnimationParser.XMLData(this.game, o, t);
            }
            this._urlMap[this._resolveUrl(k)] = this._images[t];
        },
        addBitmapFont: function(t, k, j, o, e, q) {
            this._images[t] = {
                url: k,
                data: j
            };
            PIXI.BaseTextureCache[t] = new PIXI.BaseTexture(j);
            PIXI.TextureCache[t] = new PIXI.Texture(PIXI.BaseTextureCache[t]);
            s5.LoaderParser.bitmapFont(this.game, o, t, e, q);
            this._bitmapFont[t] = PIXI.BitmapText.fonts[t];
            this._urlMap[this._resolveUrl(k)] = this._bitmapFont[t];
        },
        addPhysicsData: function(t, k, j, o) {
            this._physics[t] = {
                url: k,
                data: j,
                format: o
            };
            this._urlMap[this._resolveUrl(k)] = this._physics[t];
        },
        addDefaultImage: function() {
            var t = new Image();
            t.src = d6t.N5x;
            this._images[d6t.U03] = {
                url: d6t.B3x,
                data: t
            };
            this._images[d6t.U03].frame = new s5.Frame(d6t.W6, d6t.W6, d6t.W6, d6t.z9x, d6t.z9x, d6t.I6x, d6t.I6x);
            this._images[d6t.U03].frameData = new s5.FrameData();
            this._images[d6t.U03].frameData.addFrame(new s5.Frame(d6t.W6, d6t.W6, d6t.W6, d6t.z9x, d6t.z9x, d6t.B3x, this.game.rnd.uuid()));
            PIXI.BaseTextureCache[d6t.U03] = new PIXI.BaseTexture(t);
            PIXI.TextureCache[d6t.U03] = new PIXI.Texture(PIXI.BaseTextureCache[d6t.U03]);
        },
        addMissingImage: function() {
            var t = new Image();
            t.src = d6t.l33;
            this._images[d6t.h3] = {
                url: d6t.B3x,
                data: t
            };
            this._images[d6t.h3].frame = new s5.Frame(d6t.W6, d6t.W6, d6t.W6, d6t.z9x, d6t.z9x, d6t.I6x, d6t.I6x);
            this._images[d6t.h3].frameData = new s5.FrameData();
            this._images[d6t.h3].frameData.addFrame(new s5.Frame(d6t.W6, d6t.W6, d6t.W6, d6t.z9x, d6t.z9x, d6t.B3x, this.game.rnd.uuid()));
            PIXI.BaseTextureCache[d6t.h3] = new PIXI.BaseTexture(t);
            PIXI.TextureCache[d6t.h3] = new PIXI.Texture(PIXI.BaseTextureCache[d6t.h3]);
        },
        addText: function(t, k, j) {
            this._text[t] = {
                url: k,
                data: j
            };
            this._urlMap[this._resolveUrl(k)] = this._text[t];
        },
        addJSON: function(t, k, j) {
            this._json[t] = {
                url: k,
                data: j
            };
            this._urlMap[this._resolveUrl(k)] = this._json[t];
        },
        addXML: function(t, k, j) {
            this._xml[t] = {
                url: k,
                data: j
            };
        },
        addImage: function(t, k, j) {
            this._images[t] = {
                url: k,
                data: j
            };
            this._images[t].frame = new s5.Frame(d6t.W6, d6t.W6, d6t.W6, j.width, j.height, t, this.game.rnd.uuid());
            this._images[t].frameData = new s5.FrameData();
            this._images[t].frameData.addFrame(new s5.Frame(d6t.W6, d6t.W6, d6t.W6, j.width, j.height, k, this.game.rnd.uuid()));
            PIXI.BaseTextureCache[t] = new PIXI.BaseTexture(j);
            PIXI.TextureCache[t] = new PIXI.Texture(PIXI.BaseTextureCache[t]);
            this._urlMap[this._resolveUrl(k)] = this._images[t];
        },
        addSound: function(t, k, j, o, e) {
            o = o || d6t.s73;
            e = e || d6t.F18;
            var q = d6t.F18;
            if (e) {
                q = d6t.s73;
            }
            this._sounds[t] = {
                url: k,
                data: j,
                isDecoding: d6t.F18,
                decoded: q,
                webAudio: o,
                audioTag: e,
                locked: this.game.sound.touchLocked
            };
            this._urlMap[this._resolveUrl(k)] = this._sounds[t];
        },
        reloadSound: function(t) {
            var k = this;
            if (this._sounds[t]) {
                this._sounds[t].data.src = this._sounds[t].url;
                this._sounds[t].data.addEventListener(d6t.q4, function() {
                    return k.reloadSoundComplete(t);
                }, d6t.F18);
                this._sounds[t].data.load();
            }
        },
        reloadSoundComplete: function(t) {
            if (this._sounds[t]) {
                this._sounds[t].locked = d6t.F18;
                this.onSoundUnlock.dispatch(t);
            }
        },
        updateSound: function(t, k, j) {
            if (this._sounds[t]) {
                this._sounds[t][k] = j;
            }
        },
        decodedSound: function(t, k) {
            this._sounds[t].data = k;
            this._sounds[t].decoded = d6t.s73;
            this._sounds[t].isDecoding = d6t.F18;
        },
        getCanvas: function(t) {
            if (this._canvases[t]) {
                return this._canvases[t].canvas;
            } else {
                console.warn(d6t.a23 + t + d6t.l93);
            }
        },
        getBitmapData: function(t) {
            if (this._bitmapDatas[t]) {
                return this._bitmapDatas[t].data;
            } else {
                console.warn(d6t.o58 + t + d6t.l93);
            }
        },
        getBitmapFont: function(t) {
            if (this._bitmapFont[t]) {
                return this._bitmapFont[t];
            } else {
                console.warn(d6t.f6 + t + d6t.l93);
            }
        },
        getPhysicsData: function(t, k, j) {
            if (typeof k === d6t.k43 || k === d6t.B3x) {
                if (this._physics[t]) {
                    return this._physics[t].data;
                } else {
                    console.warn(d6t.T7f + t + d6t.l93);
                }
            } else {
                if (this._physics[t] && this._physics[t].data[k]) {
                    var o = this._physics[t].data[k];
                    if (o && j) {
                        for (var e in o) {
                            e = o[e];
                            if (e.fixtureKey === j) {
                                return e;
                            }
                        }
                        console.warn(d6t.c9 + j + d6t.Y5H + t + d6t.l93);
                    } else {
                        return o;
                    }
                } else {
                    console.warn(d6t.e3 + t + d6t.t83 + k + d6t.l93);
                }
            }
            return d6t.B3x;
        },
        checkKey: function(t, k) {
            if (this._cacheMap[t][k]) {
                return d6t.s73;
            }
            return d6t.F18;
        },
        checkCanvasKey: function(t) {
            return this.checkKey(s5.Cache.CANVAS, t);
        },
        checkImageKey: function(t) {
            return this.checkKey(s5.Cache.IMAGE, t);
        },
        checkTextureKey: function(t) {
            return this.checkKey(s5.Cache.TEXTURE, t);
        },
        checkSoundKey: function(t) {
            return this.checkKey(s5.Cache.SOUND, t);
        },
        checkTextKey: function(t) {
            return this.checkKey(s5.Cache.TEXT, t);
        },
        checkPhysicsKey: function(t) {
            return this.checkKey(s5.Cache.PHYSICS, t);
        },
        checkTilemapKey: function(t) {
            return this.checkKey(s5.Cache.TILEMAP, t);
        },
        checkBinaryKey: function(t) {
            return this.checkKey(s5.Cache.BINARY, t);
        },
        checkBitmapDataKey: function(t) {
            return this.checkKey(s5.Cache.BITMAPDATA, t);
        },
        checkBitmapFontKey: function(t) {
            return this.checkKey(s5.Cache.BITMAPFONT, t);
        },
        checkJSONKey: function(t) {
            return this.checkKey(s5.Cache.JSON, t);
        },
        checkXMLKey: function(t) {
            return this.checkKey(s5.Cache.XML, t);
        },
        checkUrl: function(t) {
            if (this._urlMap[this._resolveUrl(t)]) {
                return d6t.s73;
            }
            return d6t.F18;
        },
        getImage: function(t) {
            if (this._images[t]) {
                return this._images[t].data;
            } else {
                console.warn(d6t.v5x + t + d6t.l93);
                return d6t.B3x;
            }
        },
        getTilemapData: function(t) {
            if (this._tilemaps[t]) {
                return this._tilemaps[t];
            } else {
                console.warn(d6t.r8H + t + d6t.l93);
            }
        },
        getFrameData: function(t, k) {
            if (typeof k === d6t.k43) {
                k = s5.Cache.IMAGE;
            }
            if (this._cacheMap[k][t]) {
                return this._cacheMap[k][t].frameData;
            }
            return d6t.B3x;
        },
        updateFrameData: function(t, k) {
            if (this._images[t]) {
                this._images[t].frameData = k;
            }
        },
        getFrameByIndex: function(t, k) {
            if (this._images[t]) {
                return this._images[t].frameData.getFrame(k);
            }
            return d6t.B3x;
        },
        getFrameByName: function(t, k) {
            if (this._images[t]) {
                return this._images[t].frameData.getFrameByName(k);
            }
            return d6t.B3x;
        },
        getFrame: function(t) {
            if (this._images[t]) {
                return this._images[t].frame;
            }
            return d6t.B3x;
        },
        getTextureFrame: function(t) {
            if (this._textures[t]) {
                return this._textures[t].frame;
            }
            return d6t.B3x;
        },
        getTexture: function(t) {
            if (this._textures[t]) {
                return this._textures[t];
            } else {
                console.warn(d6t.d98 + t + d6t.l93);
            }
        },
        getSound: function(t) {
            if (this._sounds[t]) {
                return this._sounds[t];
            } else {
                console.warn(d6t.s33 + t + d6t.l93);
            }
        },
        getSoundData: function(t) {
            if (this._sounds[t]) {
                return this._sounds[t].data;
            } else {
                console.warn(d6t.h1f + t + d6t.l93);
            }
        },
        isSoundDecoded: function(t) {
            if (this._sounds[t]) {
                return this._sounds[t].decoded;
            }
        },
        isSoundReady: function(t) {
            return (this._sounds[t] && this._sounds[t].decoded && this.game.sound.touchLocked === d6t.F18);
        },
        getFrameCount: function(t) {
            if (this._images[t]) {
                return this._images[t].frameData.total;
            }
            return d6t.W6;
        },
        getText: function(t) {
            if (this._text[t]) {
                return this._text[t].data;
            } else {
                console.warn(d6t.A6B + t + d6t.l93);
            }
        },
        getJSON: function(t) {
            if (this._json[t]) {
                return this._json[t].data;
            } else {
                console.warn(d6t.z93 + t + d6t.l93);
            }
        },
        getXML: function(t) {
            if (this._xml[t]) {
                return this._xml[t].data;
            } else {
                console.warn(d6t.c3x + t + d6t.l93);
            }
        },
        getBinary: function(t) {
            if (this._binary[t]) {
                return this._binary[t];
            } else {
                console.warn(d6t.Q68 + t + d6t.l93);
            }
        },
        getUrl: function(t) {
            if (this._urlMap[this._resolveUrl(t)]) {
                return this._urlMap[this._resolveUrl(t)];
            } else {
                console.warn(d6t.w28 + t + d6t.l93);
            }
        },
        getKeys: function(t) {
            var k = d6t.B3x;
            switch (t) {
                case s5.Cache.CANVAS:
                    k = this._canvases;
                    break;
                case s5.Cache.IMAGE:
                    k = this._images;
                    break;
                case s5.Cache.TEXTURE:
                    k = this._textures;
                    break;
                case s5.Cache.SOUND:
                    k = this._sounds;
                    break;
                case s5.Cache.TEXT:
                    k = this._text;
                    break;
                case s5.Cache.PHYSICS:
                    k = this._physics;
                    break;
                case s5.Cache.TILEMAP:
                    k = this._tilemaps;
                    break;
                case s5.Cache.BINARY:
                    k = this._binary;
                    break;
                case s5.Cache.BITMAPDATA:
                    k = this._bitmapDatas;
                    break;
                case s5.Cache.BITMAPFONT:
                    k = this._bitmapFont;
                    break;
                case s5.Cache.JSON:
                    k = this._json;
                    break;
                case s5.Cache.XML:
                    k = this._xml;
                    break;
            }
            if (!k) {
                return;
            }
            var j = [];
            for (var o in k) {
                if (o !== d6t.U03 && o !== d6t.h3) {
                    j.push(o);
                }
            }
            return j;
        },
        removeCanvas: function(t) {
            delete this._canvases[t];
        },
        removeImage: function(t, k) {
            if (typeof k === d6t.k43) {
                k = d6t.s73;
            }
            delete this._images[t];
            if (k) {
                PIXI.BaseTextureCache[t].destroy();
            }
        },
        removeSound: function(t) {
            delete this._sounds[t];
        },
        removeText: function(t) {
            delete this._text[t];
        },
        removeJSON: function(t) {
            delete this._json[t];
        },
        removeXML: function(t) {
            delete this._xml[t];
        },
        removePhysics: function(t) {
            delete this._physics[t];
        },
        removeTilemap: function(t) {
            delete this._tilemaps[t];
        },
        removeBinary: function(t) {
            delete this._binary[t];
        },
        removeBitmapData: function(t) {
            delete this._bitmapDatas[t];
        },
        removeBitmapFont: function(t) {
            delete this._bitmapFont[t];
        },
        _resolveUrl: function(t) {
            this._urlResolver.src = this.game.load.baseURL + t;
            this._urlTemp = this._urlResolver.src;
            this._urlResolver.src = d6t.I6x;
            return this._urlTemp;
        },
        destroy: function() {
            for (var t in this._canvases) {
                delete this._canvases[t];
            }
            for (var t in this._images) {
                if (t !== d6t.U03 && t !== d6t.h3) {
                    delete this._images[t];
                }
            }
            for (var t in this._sounds) {
                delete this._sounds[t];
            }
            for (var t in this._text) {
                delete this._text[t];
            }
            for (var t in this._json) {
                delete this._json[t];
            }
            for (var t in this._xml) {
                delete this._xml[t];
            }
            for (var t in this._textures) {
                delete this._textures[t];
            }
            for (var t in this._physics) {
                delete this._physics[t];
            }
            for (var t in this._tilemaps) {
                delete this._tilemaps[t];
            }
            for (var t in this._binary) {
                delete this._binary[t];
            }
            for (var t in this._bitmapDatas) {
                delete this._bitmapDatas[t];
            }
            for (var t in this._bitmapFont) {
                delete this._bitmapFont[t];
            }
            this._urlMap = d6t.B3x;
            this._urlResolver = d6t.B3x;
            this._urlTemp = d6t.B3x;
        }
    };
    s5.Cache.prototype.constructor = s5.Cache;
    s5.Loader = function(game) {
        this.game = game;
        this.isLoading = d6t.F18;
        this.hasLoaded = d6t.F18;
        this.progress = d6t.W6;
        this.progressFloat = d6t.W6;
        this.preloadSprite = d6t.B3x;
        this.crossOrigin = d6t.F18;
        this.baseURL = d6t.I6x;
        this.onLoadStart = new s5.Signal();
        this.onFileStart = new s5.Signal();
        this.onFileComplete = new s5.Signal();
        this.onFileError = new s5.Signal();
        this.onLoadComplete = new s5.Signal();
        this.onPackComplete = new s5.Signal();
        this.useXDomainRequest = (this.game.device.ieVersion === d6t.S6);
        this._packList = [];
        this._packIndex = d6t.W6;
        this._fileList = [];
        this._fileIndex = d6t.W6;
        this._progressChunk = d6t.W6;
        this._xhr = new XMLHttpRequest();
        this._ajax = d6t.B3x;
    };
    s5.Loader.TEXTURE_ATLAS_JSON_ARRAY = d6t.W6;
    s5.Loader.TEXTURE_ATLAS_JSON_HASH = d6t.A6;
    s5.Loader.TEXTURE_ATLAS_XML_STARLING = d6t.D6;
    s5.Loader.PHYSICS_LIME_CORONA_JSON = d6t.B6;
    s5.Loader.PHYSICS_PHASER_JSON = d6t.M6;
    s5.Loader.prototype = {
        setPreloadSprite: function(t, k) {
            k = k || d6t.W6;
            this.preloadSprite = {
                sprite: t,
                direction: k,
                width: t.width,
                height: t.height,
                rect: d6t.B3x
            };
            if (k === d6t.W6) {
                this.preloadSprite.rect = new s5.Rectangle(d6t.W6, d6t.W6, d6t.A6, t.height);
            } else {
                this.preloadSprite.rect = new s5.Rectangle(d6t.W6, d6t.W6, t.width, d6t.A6);
            }
            t.crop(this.preloadSprite.rect);
            t.visible = d6t.s73;
        },
        checkKeyExists: function(t, k) {
            if (this._fileList.length > d6t.W6) {
                for (var j = d6t.W6; j < this._fileList.length; j++) {
                    if (this._fileList[j].type === t && this._fileList[j].key === k) {
                        return d6t.s73;
                    }
                }
            }
            return d6t.F18;
        },
        getAssetIndex: function(t, k) {
            if (this._fileList.length > d6t.W6) {
                for (var j = d6t.W6; j < this._fileList.length; j++) {
                    if (this._fileList[j].type === t && this._fileList[j].key === k) {
                        return j;
                    }
                }
            }
            return -d6t.A6;
        },
        getAsset: function(t, k) {
            if (this._fileList.length > d6t.W6) {
                for (var j = d6t.W6; j < this._fileList.length; j++) {
                    if (this._fileList[j].type === t && this._fileList[j].key === k) {
                        return {
                            index: j,
                            file: this._fileList[j]
                        };
                    }
                }
            }
            return d6t.F18;
        },
        reset: function() {
            this.preloadSprite = d6t.B3x;
            this.isLoading = d6t.F18;
            this._packList.length = d6t.W6;
            this._packIndex = d6t.W6;
            this._fileList.length = d6t.W6;
            this._fileIndex = d6t.W6;
        },
        addToFileList: function(t, k, j, o) {
            var e = {
                type: t,
                key: k,
                url: j,
                data: d6t.B3x,
                error: d6t.F18,
                loaded: d6t.F18
            };
            if (typeof o !== d6t.k6f) {
                for (var q in o) {
                    e[q] = o[q];
                }
            }
            if (this.checkKeyExists(t, k) === d6t.F18) {
                this._fileList.push(e);
            }
        },
        replaceInFileList: function(t, k, j, o) {
            var e = {
                type: t,
                key: k,
                url: j,
                data: d6t.B3x,
                error: d6t.F18,
                loaded: d6t.F18
            };
            if (typeof o !== d6t.k6f) {
                for (var q in o) {
                    e[q] = o[q];
                }
            }
            var m = this.getAssetIndex(t, k);
            if (m === -d6t.A6) {
                this._fileList.push(e);
            } else {
                this._fileList[m] = e;
            }
        },
        pack: function(t, k, j, o) {
            var e = 'Phaser.Loader.pack - Both url and data are null. One must be set.';
            if (typeof k === d6t.k6f) {
                k = d6t.B3x;
            }
            if (typeof j === d6t.k6f) {
                j = d6t.B3x;
            }
            if (typeof o === d6t.k6f) {
                o = this;
            }
            if (k === d6t.B3x && j === d6t.B3x) {
                console.warn(e);
                return this;
            }
            if (j) {
                if (typeof j === d6t.F78) {
                    j = JSON.parse(j);
                }
            }
            this._packList.push({
                key: t,
                url: k,
                data: j,
                loaded: d6t.F18,
                error: d6t.F18,
                callbackContext: o
            });
            return this;
        },
        image: function(t, k, j) {
            if (typeof j === d6t.k6f) {
                j = d6t.F18;
            }
            if (j) {
                this.replaceInFileList(d6t.f7, t, k);
            } else {
                this.addToFileList(d6t.f7, t, k);
            }
            return this;
        },
        text: function(t, k, j) {
            if (typeof j === d6t.k6f) {
                j = d6t.F18;
            }
            if (j) {
                this.replaceInFileList(d6t.M4H, t, k);
            } else {
                this.addToFileList(d6t.M4H, t, k);
            }
            return this;
        },
        json: function(t, k, j) {
            if (typeof j === d6t.k6f) {
                j = d6t.F18;
            }
            if (j) {
                this.replaceInFileList(d6t.Y58, t, k);
            } else {
                this.addToFileList(d6t.Y58, t, k);
            }
            return this;
        },
        xml: function(t, k, j) {
            if (typeof j === d6t.k6f) {
                j = d6t.F18;
            }
            if (j) {
                this.replaceInFileList(d6t.n3x, t, k);
            } else {
                this.addToFileList(d6t.n3x, t, k);
            }
            return this;
        },
        script: function(t, k, j, o) {
            if (typeof j === d6t.k43) {
                j = d6t.F18;
            }
            if (j !== d6t.F18 && typeof o === d6t.k43) {
                o = j;
            }
            this.addToFileList(d6t.o03, t, k, {
                callback: j,
                callbackContext: o
            });
            return this;
        },
        binary: function(t, k, j, o) {
            if (typeof j === d6t.k43) {
                j = d6t.F18;
            }
            if (j !== d6t.F18 && typeof o === d6t.k43) {
                o = j;
            }
            this.addToFileList(d6t.B8x, t, k, {
                callback: j,
                callbackContext: o
            });
            return this;
        },
        spritesheet: function(t, k, j, o, e, q, m) {
            if (typeof e === d6t.k6f) {
                e = -d6t.A6;
            }
            if (typeof q === d6t.k6f) {
                q = d6t.W6;
            }
            if (typeof m === d6t.k6f) {
                m = d6t.W6;
            }
            this.addToFileList(d6t.E3x, t, k, {
                frameWidth: j,
                frameHeight: o,
                frameMax: e,
                margin: q,
                spacing: m
            });
            return this;
        },
        audio: function(t, k, j) {
            if (typeof j === d6t.k6f) {
                j = d6t.s73;
            }
            this.addToFileList(d6t.O6B, t, k, {
                buffer: d6t.B3x,
                autoDecode: j
            });
            return this;
        },
        audiosprite: function(t, k, j) {
            this.audio(t, k);
            this.json(t + U4, j);
            return this;
        },
        tilemap: function(t, k, j, o) {
            var e = 'Phaser.Loader.tilemap - Both url and data are null. One must be set.';
            if (typeof k === d6t.k6f) {
                k = d6t.B3x;
            }
            if (typeof j === d6t.k6f) {
                j = d6t.B3x;
            }
            if (typeof o === d6t.k6f) {
                o = s5.Tilemap.CSV;
            }
            if (k == d6t.B3x && j == d6t.B3x) {
                console.warn(e);
                return this;
            }
            if (j) {
                switch (o) {
                    case s5.Tilemap.CSV:
                        break;
                    case s5.Tilemap.TILED_JSON:
                        if (typeof j === d6t.F78) {
                            j = JSON.parse(j);
                        }
                        break;
                }
                this.game.cache.addTilemap(t, d6t.B3x, j, o);
            } else {
                this.addToFileList(d6t.Z0, t, k, {
                    format: o
                });
            }
            return this;
        },
        physics: function(t, k, j, o) {
            var e = 'Phaser.Loader.physics - Both url and data are null. One must be set.';
            if (typeof k === d6t.k6f) {
                k = d6t.B3x;
            }
            if (typeof j === d6t.k6f) {
                j = d6t.B3x;
            }
            if (typeof o === d6t.k6f) {
                o = s5.Physics.LIME_CORONA_JSON;
            }
            if (k == d6t.B3x && j == d6t.B3x) {
                console.warn(e);
                return this;
            }
            if (j) {
                if (typeof j === d6t.F78) {
                    j = JSON.parse(j);
                }
                this.game.cache.addPhysicsData(t, d6t.B3x, j, o);
            } else {
                this.addToFileList(d6t.e7f, t, k, {
                    format: o
                });
            }
            return this;
        },
        bitmapFont: function(k, j, o, e, q, m) {
            var k5 = "Phaser.Loader. Invalid Bitmap Font XML given";
            if (typeof o === d6t.k6f) {
                o = d6t.B3x;
            }
            if (typeof e === d6t.k6f) {
                e = d6t.B3x;
            }
            if (typeof q === d6t.k6f) {
                q = d6t.W6;
            }
            if (typeof m === d6t.k6f) {
                m = d6t.W6;
            }
            if (o) {
                this.addToFileList(d6t.p43, k, j, {
                    xmlURL: o,
                    xSpacing: q,
                    ySpacing: m
                });
            } else {
                if (typeof e === d6t.F78) {
                    var C5;
                    try {
                        if (window[d6t.P9]) {
                            var H5 = new DOMParser();
                            C5 = H5.parseFromString(e, d6t.h4H);
                        } else {
                            C5 = new ActiveXObject(d6t.p78);
                            C5.async = d6t.x9f;
                            C5.loadXML(e);
                        }
                    } catch (t) {
                        C5 = undefined;
                    }
                    if (!C5 || !C5.documentElement || C5.getElementsByTagName(d6t.K0).length) {
                        throw new Error(k5);
                    } else {
                        this.addToFileList(d6t.p43, k, j, {
                            xmlURL: d6t.B3x,
                            xmlData: C5,
                            xSpacing: q,
                            ySpacing: m
                        });
                    }
                }
            }
            return this;
        },
        atlasJSONArray: function(t, k, j, o) {
            return this.atlas(t, k, j, o, s5.Loader.TEXTURE_ATLAS_JSON_ARRAY);
        },
        atlasJSONHash: function(t, k, j, o) {
            return this.atlas(t, k, j, o, s5.Loader.TEXTURE_ATLAS_JSON_HASH);
        },
        atlasXML: function(t, k, j, o) {
            return this.atlas(t, k, j, o, s5.Loader.TEXTURE_ATLAS_XML_STARLING);
        },
        atlas: function(k, j, o, e, q) {
            var m = "Phaser.Loader. Invalid Texture Atlas XML given";
            if (typeof o === d6t.k6f) {
                o = d6t.B3x;
            }
            if (typeof e === d6t.k6f) {
                e = d6t.B3x;
            }
            if (typeof q === d6t.k6f) {
                q = s5.Loader.TEXTURE_ATLAS_JSON_ARRAY;
            }
            if (o) {
                this.addToFileList(d6t.K9H, k, j, {
                    atlasURL: o,
                    format: q
                });
            } else {
                switch (q) {
                    case s5.Loader.TEXTURE_ATLAS_JSON_ARRAY:
                        if (typeof e === d6t.F78) {
                            e = JSON.parse(e);
                        }
                        break;
                    case s5.Loader.TEXTURE_ATLAS_XML_STARLING:
                        if (typeof e === d6t.F78) {
                            var k5;
                            try {
                                if (window[d6t.P9]) {
                                    var C5 = new DOMParser();
                                    k5 = C5.parseFromString(e, d6t.h4H);
                                } else {
                                    k5 = new ActiveXObject(d6t.p78);
                                    k5.async = d6t.x9f;
                                    k5.loadXML(e);
                                }
                            } catch (t) {
                                k5 = undefined;
                            }
                            if (!k5 || !k5.documentElement || k5.getElementsByTagName(d6t.K0).length) {
                                throw new Error(m);
                            } else {
                                e = k5;
                            }
                        }
                        break;
                }
                this.addToFileList(d6t.K9H, k, j, {
                    atlasURL: d6t.B3x,
                    atlasData: e,
                    format: q
                });
            }
            return this;
        },
        removeFile: function(t, k) {
            var j = this.getAsset(t, k);
            if (j !== d6t.F18) {
                this._fileList.splice(j.index, d6t.A6);
            }
        },
        removeAll: function() {
            this._fileList.length = d6t.W6;
        },
        start: function() {
            if (this.isLoading) {
                return;
            }
            if (this._packList.length > d6t.W6) {
                this._packIndex = d6t.W6;
                this.loadPack();
            } else {
                this.beginLoad();
            }
        },
        beginLoad: function() {
            this.progress = d6t.W6;
            this.progressFloat = d6t.W6;
            this.hasLoaded = d6t.F18;
            this.isLoading = d6t.s73;
            this.onLoadStart.dispatch(this._fileList.length);
            if (this._fileList.length > d6t.W6) {
                this._fileIndex = d6t.W6;
                this._progressChunk = d6t.a08 / this._fileList.length;
                this.loadFile();
            } else {
                this.progress = d6t.a08;
                this.progressFloat = d6t.a08;
                this.hasLoaded = d6t.s73;
                this.isLoading = d6t.F18;
                this.onLoadComplete.dispatch();
            }
        },
        loadPack: function() {
            var t = 'packLoadError',
                k = 'packLoadComplete',
                j = 'Phaser.Loader loadPackList invalid index ';
            if (!this._packList[this._packIndex]) {
                console.warn(j + this._packIndex);
                return;
            }
            var o = this._packList[this._packIndex];
            if (o.data !== d6t.B3x) {
                this.packLoadComplete(this._packIndex, d6t.F18);
            } else {
                this.xhrLoad(this._packIndex, this.baseURL + o.url, d6t.M4H, k, t);
            }
        },
        packLoadComplete: function(t, k) {
            var j = "atlas",
                o = "atlasXML",
                e = "atlasJSONHash",
                q = "atlasJSONArray",
                m = "bitmapFont",
                k5 = "physics",
                C5 = "tilemap",
                H5 = "audio",
                j5 = "spritesheet",
                Y5 = "binary",
                z5 = "xml",
                P5 = "json",
                p5 = "image",
                w5 = 'Phaser.Loader packLoadComplete invalid index ';
            if (typeof k === d6t.k43) {
                k = d6t.s73;
            }
            if (!this._packList[t]) {
                console.warn(w5 + t);
                return;
            }
            var R5 = this._packList[t];
            R5.loaded = d6t.s73;
            if (k) {
                var r5 = JSON.parse(this._xhr.responseText);
            } else {
                var r5 = this._packList[t].data;
            }
            if (r5[R5.key]) {
                var T5;
                for (var a5 = d6t.W6; a5 < r5[R5.key].length; a5++) {
                    T5 = r5[R5.key][a5];
                    switch (T5.type) {
                        case p5:
                            this.image(T5.key, T5.url, T5.overwrite);
                            break;
                        case d6t.y4x:
                            this.text(T5.key, T5.url, T5.overwrite);
                            break;
                        case P5:
                            this.json(T5.key, T5.url, T5.overwrite);
                            break;
                        case z5:
                            this.xml(T5.key, T5.url, T5.overwrite);
                            break;
                        case d6t.Y3:
                            this.script(T5.key, T5.url, T5.callback, R5.callbackContext);
                            break;
                        case Y5:
                            this.binary(T5.key, T5.url, T5.callback, R5.callbackContext);
                            break;
                        case j5:
                            this.spritesheet(T5.key, T5.url, T5.frameWidth, T5.frameHeight, T5.frameMax, T5.margin, T5.spacing);
                            break;
                        case H5:
                            this.audio(T5.key, T5.urls, T5.autoDecode);
                            break;
                        case C5:
                            this.tilemap(T5.key, T5.url, T5.data, s5.Tilemap[T5.format]);
                            break;
                        case k5:
                            this.physics(T5.key, T5.url, T5.data, s5.Loader[T5.format]);
                            break;
                        case m:
                            this.bitmapFont(T5.key, T5.textureURL, T5.xmlURL, T5.xmlData, T5.xSpacing, T5.ySpacing);
                            break;
                        case q:
                            this.atlasJSONArray(T5.key, T5.textureURL, T5.atlasURL, T5.atlasData);
                            break;
                        case e:
                            this.atlasJSONHash(T5.key, T5.textureURL, T5.atlasURL, T5.atlasData);
                            break;
                        case o:
                            this.atlasXML(T5.key, T5.textureURL, T5.atlasURL, T5.atlasData);
                            break;
                        case j:
                            this.atlas(T5.key, T5.textureURL, T5.atlasURL, T5.atlasData, s5.Loader[T5.format]);
                            break;
                    }
                }
            }
            this.nextPack(t, d6t.s73);
        },
        packError: function(t) {
            var k = "Phaser.Loader error loading pack file: ";
            this._packList[t].loaded = d6t.s73;
            this._packList[t].error = d6t.s73;
            this.onFileError.dispatch(this._packList[t].key, this._packList[t]);
            console.warn(k + this._packList[t].key + P4 + this._packList[t].url);
            this.nextPack(t, d6t.F18);
        },
        nextPack: function(t, k) {
            this.onPackComplete.dispatch(this._packList[t].key, k, this.totalLoadedPacks(), this._packList.length);
            this._packIndex++;
            if (this._packIndex < this._packList.length) {
                this.loadPack();
            } else {
                this.beginLoad();
            }
        },
        loadFile: function() {
            if (!this._fileList[this._fileIndex]) {
                console.warn(d6t.D3 + this._fileIndex);
                return;
            }
            var t = this._fileList[this._fileIndex],
                k = this;
            this.onFileStart.dispatch(this.progress, t.key, t.url);
            switch (t.type) {
                case d6t.f7:
                case d6t.E3x:
                case d6t.K9H:
                case d6t.p43:
                    t.data = new Image();
                    t.data.name = t.key;
                    t.data.onload = function() {
                        return k.fileComplete(k._fileIndex);
                    };
                    t.data.onerror = function() {
                        return k.fileError(k._fileIndex);
                    };
                    if (this.crossOrigin) {
                        t.data.crossOrigin = this.crossOrigin;
                    }
                    t.data.src = this.baseURL + t.url;
                    break;
                case d6t.O6B:
                    t.url = this.getAudioURL(t.url);
                    if (t.url !== d6t.B3x) {
                        if (this.game.sound.usingWebAudio) {
                            this.xhrLoad(this._fileIndex, this.baseURL + t.url, d6t.I2f, d6t.A2H, d6t.v18);
                        } else if (this.game.sound.usingAudioTag) {
                            if (this.game.sound.touchLocked) {
                                t.data = new Audio();
                                t.data.name = t.key;
                                t.data.preload = d6t.c7f;
                                t.data.src = this.baseURL + t.url;
                                this.fileComplete(this._fileIndex);
                            } else {
                                t.data = new Audio();
                                t.data.name = t.key;
                                t.data.onerror = function() {
                                    return k.fileError(k._fileIndex);
                                };
                                t.data.preload = d6t.c7f;
                                t.data.src = this.baseURL + t.url;
                                t.data.addEventListener(d6t.q4, function() {
                                    s5.GAMES[k.game.id].load.fileComplete(k._fileIndex);
                                }, d6t.F18);
                                t.data.load();
                            }
                        }
                    } else {
                        this.fileError(this._fileIndex);
                    }
                    break;
                case d6t.Y58:
                    if (this.useXDomainRequest && window.XDomainRequest) {
                        this._ajax = new window.XDomainRequest();
                        this._ajax.timeout = d6t.n5H;
                        this._ajax.onerror = function() {
                            return k.dataLoadError(k._fileIndex);
                        };
                        this._ajax.ontimeout = function() {
                            return k.dataLoadError(k._fileIndex);
                        };
                        this._ajax.onprogress = function() {};
                        this._ajax.onload = function() {
                            return k.jsonLoadComplete(k._fileIndex);
                        };
                        this._ajax.open(d6t.R3H, this.baseURL + t.url, d6t.s73);
                        setTimeout(function() {
                            this._ajax.send();
                        }, d6t.W6);
                    } else {
                        this.xhrLoad(this._fileIndex, this.baseURL + t.url, d6t.M4H, d6t.s0f, d6t.c5H);
                    }
                    break;
                case d6t.n3x:
                    this.xhrLoad(this._fileIndex, this.baseURL + t.url, d6t.M4H, d6t.s8f, d6t.c5H);
                    break;
                case d6t.Z0:
                    if (t.format === s5.Tilemap.TILED_JSON) {
                        this.xhrLoad(this._fileIndex, this.baseURL + t.url, d6t.M4H, d6t.s0f, d6t.c5H);
                    } else if (t.format === s5.Tilemap.CSV) {
                        this.xhrLoad(this._fileIndex, this.baseURL + t.url, d6t.M4H, d6t.x2f, d6t.c5H);
                    } else {
                        throw new Error(d6t.a78 + t.format);
                    }
                    break;
                case d6t.M4H:
                case d6t.o03:
                case d6t.e7f:
                    this.xhrLoad(this._fileIndex, this.baseURL + t.url, d6t.M4H, d6t.A2H, d6t.v18);
                    break;
                case d6t.B8x:
                    this.xhrLoad(this._fileIndex, this.baseURL + t.url, d6t.I2f, d6t.A2H, d6t.v18);
                    break;
            }
        },
        xhrLoad: function(t, k, j, o, e) {
            this._xhr.open(d6t.Y9f, k, d6t.s73);
            this._xhr.responseType = j;
            var q = this;
            this._xhr.onload = function() {
                return q[o](t);
            };
            this._xhr.onerror = function() {
                return q[e](t);
            };
            this._xhr.send();
        },
        getAudioURL: function(t) {
            var k;
            if (typeof t === d6t.F78) {
                t = [t];
            }
            for (var j = d6t.W6; j < t.length; j++) {
                k = t[j].toLowerCase();
                k = k.substr((Math.max(d6t.W6, k.lastIndexOf(d6t.b4x)) || Infinity) + d6t.A6);
                if (k.indexOf(d6t.G1x) >= d6t.W6) {
                    k = k.substr(d6t.W6, k.indexOf(d6t.G1x));
                }
                if (this.game.device.canPlayAudio(k)) {
                    return t[j];
                }
            }
            return d6t.B3x;
        },
        fileError: function(t) {
            var k = "Phaser.Loader error loading file: ";
            this._fileList[t].loaded = d6t.s73;
            this._fileList[t].error = d6t.s73;
            this.onFileError.dispatch(this._fileList[t].key, this._fileList[t]);
            console.warn(k + this._fileList[t].key + P4 + this._fileList[t].url);
            this.nextFile(t, d6t.F18);
        },
        fileComplete: function(k) {
            if (!this._fileList[k]) {
                console.warn(d6t.W5H + k);
                return;
            }
            var j = this._fileList[k];
            j.loaded = d6t.s73;
            var o = d6t.s73;
            switch (j.type) {
                case d6t.f7:
                    this.game.cache.addImage(j.key, j.url, j.data);
                    break;
                case d6t.E3x:
                    this.game.cache.addSpriteSheet(j.key, j.url, j.data, j.frameWidth, j.frameHeight, j.frameMax, j.margin, j.spacing);
                    break;
                case d6t.K9H:
                    if (j.atlasURL == d6t.B3x) {
                        this.game.cache.addTextureAtlas(j.key, j.url, j.data, j.atlasData, j.format);
                    } else {
                        o = d6t.F18;
                        if (j.format == s5.Loader.TEXTURE_ATLAS_JSON_ARRAY || j.format == s5.Loader.TEXTURE_ATLAS_JSON_HASH) {
                            this.xhrLoad(this._fileIndex, this.baseURL + j.atlasURL, d6t.M4H, d6t.s0f, d6t.c5H);
                        } else if (j.format == s5.Loader.TEXTURE_ATLAS_XML_STARLING) {
                            this.xhrLoad(this._fileIndex, this.baseURL + j.atlasURL, d6t.M4H, d6t.s8f, d6t.c5H);
                        } else {
                            throw new Error(d6t.h13 + j.format);
                        }
                    }
                    break;
                case d6t.p43:
                    if (j.xmlURL == d6t.B3x) {
                        this.game.cache.addBitmapFont(j.key, j.url, j.data, j.xmlData, j.xSpacing, j.ySpacing);
                    } else {
                        o = d6t.F18;
                        this.xhrLoad(this._fileIndex, this.baseURL + j.xmlURL, d6t.M4H, d6t.s8f, d6t.c5H);
                    }
                    break;
                case d6t.O6B:
                    if (this.game.sound.usingWebAudio) {
                        j.data = this._xhr.response;
                        this.game.cache.addSound(j.key, j.url, j.data, d6t.s73, d6t.F18);
                        if (j.autoDecode) {
                            var e = this,
                                q = j.key;
                            this.game.cache.updateSound(q, d6t.V18, d6t.s73);
                            this.game.sound.context.decodeAudioData(j.data, function(t) {
                                if (t) {
                                    e.game.cache.decodedSound(q, t);
                                    e.game.sound.onSoundDecode.dispatch(q, e.game.cache.getSound(q));
                                }
                            });
                        }
                    } else {
                        j.data.removeEventListener(d6t.q4, s5.GAMES[this.game.id].load.fileComplete);
                        this.game.cache.addSound(j.key, j.url, j.data, d6t.F18, d6t.s73);
                    }
                    break;
                case d6t.M4H:
                    j.data = this._xhr.responseText;
                    this.game.cache.addText(j.key, j.url, j.data);
                    break;
                case d6t.e7f:
                    var m = JSON.parse(this._xhr.responseText);
                    this.game.cache.addPhysicsData(j.key, j.url, m, j.format);
                    break;
                case d6t.o03:
                    j.data = document.createElement(d6t.o03);
                    j.data.language = d6t.T1H;
                    j.data.type = d6t.d3;
                    j.data.defer = d6t.F18;
                    j.data.text = this._xhr.responseText;
                    document.head.appendChild(j.data);
                    if (j.callback) {
                        j.data = j.callback.call(j.callbackContext, j.key, this._xhr.responseText);
                    }
                    break;
                case d6t.B8x:
                    if (j.callback) {
                        j.data = j.callback.call(j.callbackContext, j.key, this._xhr.response);
                    } else {
                        j.data = this._xhr.response;
                    }
                    this.game.cache.addBinary(j.key, j.data);
                    break;
            }
            if (o) {
                this.nextFile(k, d6t.s73);
            }
        },
        jsonLoadComplete: function(t) {
            if (!this._fileList[t]) {
                console.warn(d6t.b8x + t);
                return;
            }
            var k = this._fileList[t];
            if (this._ajax && this._ajax.responseText) {
                var j = JSON.parse(this._ajax.responseText);
            } else {
                var j = JSON.parse(this._xhr.responseText);
            }
            k.loaded = d6t.s73;
            if (k.type === d6t.Z0) {
                this.game.cache.addTilemap(k.key, k.url, j, k.format);
            } else if (k.type === d6t.Y58) {
                this.game.cache.addJSON(k.key, k.url, j);
            } else {
                this.game.cache.addTextureAtlas(k.key, k.url, k.data, j, k.format);
            }
            this.nextFile(t, d6t.s73);
        },
        csvLoadComplete: function(t) {
            if (!this._fileList[t]) {
                console.warn(d6t.y6B + t);
                return;
            }
            var k = this._fileList[t],
                j = this._xhr.responseText;
            k.loaded = d6t.s73;
            this.game.cache.addTilemap(k.key, k.url, j, k.format);
            this.nextFile(t, d6t.s73);
        },
        dataLoadError: function(t) {
            var k = "Phaser.Loader dataLoadError: ",
                j = this._fileList[t];
            j.loaded = d6t.s73;
            j.error = d6t.s73;
            console.warn(k + j.key);
            this.nextFile(t, d6t.s73);
        },
        xmlLoadComplete: function(k) {
            if (this._xhr.responseType !== d6t.I6x && this._xhr.responseType !== d6t.M4H) {
                console.warn(d6t.b88, this._fileList[k]);
                console.warn(this._xhr);
            }
            var j = this._xhr.responseText,
                o;
            try {
                if (window[d6t.P9]) {
                    var e = new DOMParser();
                    o = e.parseFromString(j, d6t.h4H);
                } else {
                    o = new ActiveXObject(d6t.p78);
                    o.async = d6t.x9f;
                    o.loadXML(j);
                }
            } catch (t) {
                o = undefined;
            }
            if (!o || !o.documentElement || o.getElementsByTagName(d6t.K0).length) {
                throw new Error(d6t.y73);
            }
            var q = this._fileList[k];
            q.loaded = d6t.s73;
            if (q.type === d6t.p43) {
                this.game.cache.addBitmapFont(q.key, q.url, q.data, o, q.xSpacing, q.ySpacing);
            } else if (q.type === d6t.K9H) {
                this.game.cache.addTextureAtlas(q.key, q.url, q.data, o, q.format);
            } else if (q.type === d6t.n3x) {
                this.game.cache.addXML(q.key, q.url, o);
            }
            this.nextFile(k, d6t.s73);
        },
        nextFile: function(t, k) {
            this.progressFloat += this._progressChunk;
            this.progress = Math.round(this.progressFloat);
            if (this.progress > d6t.a08) {
                this.progress = d6t.a08;
            }
            if (this.preloadSprite !== d6t.B3x) {
                if (this.preloadSprite.direction === d6t.W6) {
                    this.preloadSprite.rect.width = Math.floor((this.preloadSprite.width / d6t.a08) * this.progress);
                } else {
                    this.preloadSprite.rect.height = Math.floor((this.preloadSprite.height / d6t.a08) * this.progress);
                }
                this.preloadSprite.sprite.updateCrop();
            }
            this.onFileComplete.dispatch(this.progress, this._fileList[t].key, k, this.totalLoadedFiles(), this._fileList.length);
            if (this.totalQueuedFiles() > d6t.W6) {
                this._fileIndex++;
                this.loadFile();
            } else {
                this.hasLoaded = d6t.s73;
                this.isLoading = d6t.F18;
                this.removeAll();
                this.onLoadComplete.dispatch();
            }
        },
        totalLoadedFiles: function() {
            var t = d6t.W6;
            for (var k = d6t.W6; k < this._fileList.length; k++) {
                if (this._fileList[k].loaded) {
                    t++;
                }
            }
            return t;
        },
        totalQueuedFiles: function() {
            var t = d6t.W6;
            for (var k = d6t.W6; k < this._fileList.length; k++) {
                if (this._fileList[k].loaded === d6t.F18) {
                    t++;
                }
            }
            return t;
        },
        totalLoadedPacks: function() {
            var t = d6t.W6;
            for (var k = d6t.W6; k < this._packList.length; k++) {
                if (this._packList[k].loaded) {
                    t++;
                }
            }
            return t;
        },
        totalQueuedPacks: function() {
            var t = d6t.W6;
            for (var k = d6t.W6; k < this._packList.length; k++) {
                if (this._packList[k].loaded === d6t.F18) {
                    t++;
                }
            }
            return t;
        }
    };
    s5.Loader.prototype.constructor = s5.Loader;
    s5.LoaderParser = {
        bitmapFont: function(game, k, j, o, e) {
            var q = 'amount',
                m = 'second',
                k5 = 'first',
                C5 = 'kerning',
                H5 = 'xadvance',
                j5 = 'yoffset',
                Y5 = 'xoffset',
                z5 = 'char',
                P5 = 'lineHeight',
                p5 = 'size',
                w5 = 'face',
                R5 = 'common',
                r5 = 'info',
                T5 = {},
                a5 = k.getElementsByTagName(r5)[d6t.W6],
                x5 = k.getElementsByTagName(R5)[d6t.W6];
            T5.font = a5.getAttribute(w5);
            T5.size = parseInt(a5.getAttribute(p5), d6t.x7x);
            T5.lineHeight = parseInt(x5.getAttribute(P5), d6t.x7x) + e;
            T5.chars = {};
            var f5 = k.getElementsByTagName(z5);
            for (var A5 = d6t.W6; A5 < f5.length; A5++) {
                var u5 = parseInt(f5[A5].getAttribute(d6t.B9f), d6t.x7x),
                    B5 = new PIXI.Rectangle(parseInt(f5[A5].getAttribute(d6t.U3), d6t.x7x), parseInt(f5[A5].getAttribute(d6t.n3), d6t.x7x), parseInt(f5[A5].getAttribute(d6t.y1f), d6t.x7x), parseInt(f5[A5].getAttribute(d6t.I7H), d6t.x7x));
                T5.chars[u5] = {
                    xOffset: parseInt(f5[A5].getAttribute(Y5), d6t.x7x),
                    yOffset: parseInt(f5[A5].getAttribute(j5), d6t.x7x),
                    xAdvance: parseInt(f5[A5].getAttribute(H5), d6t.x7x) + o,
                    kerning: {},
                    texture: PIXI.TextureCache[j] = new PIXI.Texture(PIXI.BaseTextureCache[j], B5)
                };
            }
            var D5 = k.getElementsByTagName(C5);
            for (A5 = d6t.W6; A5 < D5.length; A5++) {
                var o5 = parseInt(D5[A5].getAttribute(k5), d6t.x7x),
                    N5 = parseInt(D5[A5].getAttribute(m), d6t.x7x),
                    y5 = parseInt(D5[A5].getAttribute(q), d6t.x7x);
                T5.chars[N5].kerning[o5] = y5;
            }
            PIXI.BitmapText.fonts[j] = T5;
        }
    };
    s5.AudioSprite = function(game, k) {
        this.game = game;
        this.key = k;
        this.config = this.game.cache.getJSON(k + U4);
        this.autoplayKey = d6t.B3x;
        this.autoplay = d6t.F18;
        this.sounds = {};
        for (var j in this.config.spritemap) {
            var o = this.config.spritemap[j],
                e = this.game.add.sound(this.key);
            if (o.loop) {
                e.addMarker(j, o.start, (o.end - o.start), d6t.B3x, d6t.s73);
            } else {
                e.addMarker(j, o.start, (o.end - o.start), d6t.B3x, d6t.F18);
            }
            this.sounds[j] = e;
        }
        if (this.config.autoplay) {
            this.autoplayKey = this.config.autoplay;
            this.play(this.autoplayKey);
            this.autoplay = this.sounds[this.autoplayKey];
        }
    };
    s5.AudioSprite.prototype = {
        play: function(t, k) {
            if (typeof k === d6t.k43) {
                k = d6t.A6;
            }
            return this.sounds[t].play(t, d6t.B3x, k);
        },
        stop: function(t) {
            if (!t) {
                for (var k in this.sounds) {
                    this.sounds[k].stop();
                }
            } else {
                this.sounds[t].stop();
            }
        },
        get: function(t) {
            return this.sounds[t];
        }
    };
    s5.AudioSprite.prototype.constructor = s5.AudioSprite;
    s5.Sound = function(game, k, j, o, e) {
        if (typeof j === d6t.k43) {
            j = d6t.A6;
        }
        if (typeof o === d6t.k43) {
            o = d6t.F18;
        }
        if (typeof e === d6t.k43) {
            e = game.sound.connectToMaster;
        }
        this.game = game;
        this.name = k;
        this.key = k;
        this.loop = o;
        this.volume = j;
        this.markers = {};
        this.context = d6t.B3x;
        this.autoplay = d6t.F18;
        this.totalDuration = d6t.W6;
        this.startTime = d6t.W6;
        this.currentTime = d6t.W6;
        this.duration = d6t.W6;
        this.durationMS = d6t.W6;
        this.position = d6t.W6;
        this.stopTime = d6t.W6;
        this.paused = d6t.F18;
        this.pausedPosition = d6t.W6;
        this.pausedTime = d6t.W6;
        this.isPlaying = d6t.F18;
        this.currentMarker = d6t.I6x;
        this.pendingPlayback = d6t.F18;
        this.override = d6t.F18;
        this.allowMultiple = d6t.F18;
        this.usingWebAudio = this.game.sound.usingWebAudio;
        this.usingAudioTag = this.game.sound.usingAudioTag;
        this.externalNode = d6t.B3x;
        this.masterGainNode = d6t.B3x;
        this.gainNode = d6t.B3x;
        if (this.usingWebAudio) {
            this.context = this.game.sound.context;
            this.masterGainNode = this.game.sound.masterGain;
            if (typeof this.context.createGain === d6t.k43) {
                this.gainNode = this.context.createGainNode();
            } else {
                this.gainNode = this.context.createGain();
            }
            this.gainNode.gain.value = j * this.game.sound.volume;
            if (e) {
                this.gainNode.connect(this.masterGainNode);
            }
        } else {
            if (this.game.cache.getSound(k) && this.game.cache.isSoundReady(k)) {
                this._sound = this.game.cache.getSoundData(k);
                this.totalDuration = d6t.W6;
                if (this._sound.duration) {
                    this.totalDuration = this._sound.duration;
                }
            } else {
                this.game.cache.onSoundUnlock.add(this.soundHasUnlocked, this);
            }
        }
        this.onDecoded = new s5.Signal();
        this.onPlay = new s5.Signal();
        this.onPause = new s5.Signal();
        this.onResume = new s5.Signal();
        this.onLoop = new s5.Signal();
        this.onStop = new s5.Signal();
        this.onMute = new s5.Signal();
        this.onMarkerComplete = new s5.Signal();
        this.onFadeComplete = new s5.Signal();
        this._volume = j;
        this._buffer = d6t.B3x;
        this._muted = d6t.F18;
        this._tempMarker = d6t.W6;
        this._tempPosition = d6t.W6;
        this._tempVolume = d6t.W6;
        this._muteVolume = d6t.W6;
        this._tempLoop = d6t.W6;
        this._paused = d6t.F18;
        this._onDecodedEventDispatched = d6t.F18;
    };
    s5.Sound.prototype = {
        soundHasUnlocked: function(t) {
            if (t === this.key) {
                this._sound = this.game.cache.getSoundData(this.key);
                this.totalDuration = this._sound.duration;
            }
        },
        addMarker: function(t, k, j, o, e) {
            if (typeof o === d6t.k43) {
                o = d6t.A6;
            }
            if (typeof e === d6t.k43) {
                e = d6t.F18;
            }
            this.markers[t] = {
                name: t,
                start: k,
                stop: k + j,
                volume: o,
                duration: j,
                durationMS: j * d6t.I6,
                loop: e
            };
        },
        removeMarker: function(t) {
            delete this.markers[t];
        },
        update: function() {
            if (this.isDecoded && !this._onDecodedEventDispatched) {
                this.onDecoded.dispatch(this);
                this._onDecodedEventDispatched = d6t.s73;
            }
            if (this.pendingPlayback && this.game.cache.isSoundReady(this.key)) {
                this.pendingPlayback = d6t.F18;
                this.play(this._tempMarker, this._tempPosition, this._tempVolume, this._tempLoop);
            }
            if (this.isPlaying) {
                this.currentTime = this.game.time.now - this.startTime;
                if (this.currentTime >= this.durationMS) {
                    if (this.usingWebAudio) {
                        if (this.loop) {
                            this.onLoop.dispatch(this);
                            if (this.currentMarker === d6t.I6x) {
                                this.currentTime = d6t.W6;
                                this.startTime = this.game.time.now;
                            } else {
                                this.onMarkerComplete.dispatch(this.currentMarker, this);
                                this.play(this.currentMarker, d6t.W6, this.volume, d6t.s73, d6t.s73);
                            }
                        } else {
                            this.stop();
                        }
                    } else {
                        if (this.loop) {
                            this.onLoop.dispatch(this);
                            this.play(this.currentMarker, d6t.W6, this.volume, d6t.s73, d6t.s73);
                        } else {
                            this.stop();
                        }
                    }
                }
            }
        },
        play: function(t, k, j, o, e) {
            if (typeof t === d6t.k43) {
                t = d6t.I6x;
            }
            if (typeof e === d6t.k43) {
                e = d6t.s73;
            }
            if (this.isPlaying && !this.allowMultiple && !e && !this.override) {
                return this;
            }
            if (this.isPlaying && !this.allowMultiple && (this.override || e)) {
                if (this.usingWebAudio) {
                    if (typeof this._sound.stop === d6t.k43) {
                        this._sound.noteOff(d6t.W6);
                    } else {
                        this._sound.stop(d6t.W6);
                    }
                } else if (this.usingAudioTag) {
                    this._sound.pause();
                    this._sound.currentTime = d6t.W6;
                }
            }
            this.currentMarker = t;
            if (t !== d6t.I6x) {
                if (this.markers[t]) {
                    this.position = this.markers[t].start;
                    this.volume = this.markers[t].volume;
                    this.loop = this.markers[t].loop;
                    this.duration = this.markers[t].duration;
                    this.durationMS = this.markers[t].durationMS;
                    if (typeof j !== d6t.k43) {
                        this.volume = j;
                    }
                    if (typeof o !== d6t.k43) {
                        this.loop = o;
                    }
                    this._tempMarker = t;
                    this._tempPosition = this.position;
                    this._tempVolume = this.volume;
                    this._tempLoop = this.loop;
                } else {
                    console.warn(d6t.y13 + t + d6t.Q9x);
                    return this;
                }
            } else {
                k = k || d6t.W6;
                if (typeof j === d6t.k43) {
                    j = this._volume;
                }
                if (typeof o === d6t.k43) {
                    o = this.loop;
                }
                this.position = k;
                this.volume = j;
                this.loop = o;
                this.duration = d6t.W6;
                this.durationMS = d6t.W6;
                this._tempMarker = t;
                this._tempPosition = k;
                this._tempVolume = j;
                this._tempLoop = o;
            }
            if (this.usingWebAudio) {
                if (this.game.cache.isSoundDecoded(this.key)) {
                    if (this._buffer === d6t.B3x) {
                        this._buffer = this.game.cache.getSoundData(this.key);
                    }
                    this._sound = this.context.createBufferSource();
                    this._sound.buffer = this._buffer;
                    if (this.externalNode) {
                        this._sound.connect(this.externalNode);
                    } else {
                        this._sound.connect(this.gainNode);
                    }
                    this.totalDuration = this._sound.buffer.duration;
                    if (this.duration === d6t.W6) {
                        this.duration = this.totalDuration;
                        this.durationMS = this.totalDuration * d6t.I6;
                    }
                    if (this.loop && t === d6t.I6x) {
                        this._sound.loop = d6t.s73;
                    }
                    if (typeof this._sound.start === d6t.k43) {
                        this._sound.noteGrainOn(d6t.W6, this.position, this.duration);
                    } else {
                        this._sound.start(d6t.W6, this.position, this.duration);
                    }
                    this.isPlaying = d6t.s73;
                    this.startTime = this.game.time.now;
                    this.currentTime = d6t.W6;
                    this.stopTime = this.startTime + this.durationMS;
                    this.onPlay.dispatch(this);
                } else {
                    this.pendingPlayback = d6t.s73;
                    if (this.game.cache.getSound(this.key) && this.game.cache.getSound(this.key).isDecoding === d6t.F18) {
                        this.game.sound.decode(this.key, this);
                    }
                }
            } else {
                if (this.game.cache.getSound(this.key) && this.game.cache.getSound(this.key).locked) {
                    this.game.cache.reloadSound(this.key);
                    this.pendingPlayback = d6t.s73;
                } else {
                    if (this._sound && (this.game.device.cocoonJS || this._sound.readyState === d6t.M6)) {
                        this._sound.play();
                        this.totalDuration = this._sound.duration;
                        if (this.duration === d6t.W6) {
                            this.duration = this.totalDuration;
                            this.durationMS = this.totalDuration * d6t.I6;
                        }
                        this._sound.currentTime = this.position;
                        this._sound.muted = this._muted;
                        if (this._muted) {
                            this._sound.volume = d6t.W6;
                        } else {
                            this._sound.volume = this._volume;
                        }
                        this.isPlaying = d6t.s73;
                        this.startTime = this.game.time.now;
                        this.currentTime = d6t.W6;
                        this.stopTime = this.startTime + this.durationMS;
                        this.onPlay.dispatch(this);
                    } else {
                        this.pendingPlayback = d6t.s73;
                    }
                }
            }
            return this;
        },
        restart: function(t, k, j, o) {
            t = t || d6t.I6x;
            k = k || d6t.W6;
            j = j || d6t.A6;
            if (typeof o === d6t.k43) {
                o = d6t.F18;
            }
            this.play(t, k, j, o, d6t.s73);
        },
        pause: function() {
            if (this.isPlaying && this._sound) {
                this.paused = d6t.s73;
                this.pausedPosition = this.currentTime;
                this.pausedTime = this.game.time.now;
                this.onPause.dispatch(this);
                this.stop();
            }
        },
        resume: function() {
            if (this.paused && this._sound) {
                if (this.usingWebAudio) {
                    var t = this.position + (this.pausedPosition / d6t.I6);
                    this._sound = this.context.createBufferSource();
                    this._sound.buffer = this._buffer;
                    if (this.externalNode) {
                        this._sound.connect(this.externalNode);
                    } else {
                        this._sound.connect(this.gainNode);
                    }
                    if (this.loop) {
                        this._sound.loop = d6t.s73;
                    }
                    if (typeof this._sound.start === d6t.k43) {
                        this._sound.noteGrainOn(d6t.W6, t, this.duration);
                    } else {
                        this._sound.start(d6t.W6, t, this.duration);
                    }
                } else {
                    this._sound.play();
                }
                this.isPlaying = d6t.s73;
                this.paused = d6t.F18;
                this.startTime += (this.game.time.now - this.pausedTime);
                this.onResume.dispatch(this);
            }
        },
        stop: function() {
            if (this.isPlaying && this._sound) {
                if (this.usingWebAudio) {
                    if (typeof this._sound.stop === d6t.k43) {
                        this._sound.noteOff(d6t.W6);
                    } else {
                        try {
                            this._sound.stop(d6t.W6);
                        } catch (t) {}
                    }
                } else if (this.usingAudioTag) {
                    this._sound.pause();
                    this._sound.currentTime = d6t.W6;
                }
            }
            this.isPlaying = d6t.F18;
            var k = this.currentMarker;
            if (this.currentMarker !== d6t.I6x) {
                this.onMarkerComplete.dispatch(this.currentMarker, this);
            }
            this.currentMarker = d6t.I6x;
            if (!this.paused) {
                this.onStop.dispatch(this, k);
            }
        },
        fadeIn: function(t, k) {
            if (typeof k === d6t.k43) {
                k = d6t.F18;
            }
            if (this.paused) {
                return;
            }
            this.play(d6t.I6x, d6t.W6, d6t.W6, k);
            this.fadeTo(t, d6t.A6);
        },
        fadeOut: function(t) {
            this.fadeTo(t, d6t.W6);
        },
        fadeTo: function(t, k) {
            var j = "Phaser.Sound.fadeTo: No Volume Specified.";
            if (!this.isPlaying || this.paused || k === this.volume) {
                return;
            }
            if (typeof t === d6t.k43) {
                t = d6t.I6;
            }
            if (typeof k === d6t.k43) {
                console.warn(j);
                return;
            }
            var o = this.game.add.tween(this).to({
                volume: k
            }, t, s5.Easing.Linear.None, d6t.s73);
            o.onComplete.add(this.fadeComplete, this);
        },
        fadeComplete: function() {
            this.onFadeComplete.dispatch(this, this.volume);
            if (this.volume === d6t.W6) {
                this.stop();
            }
        },
        destroy: function(t) {
            if (typeof t === d6t.k43) {
                t = d6t.s73;
            }
            this.stop();
            if (t) {
                this.game.sound.remove(this);
            } else {
                this.markers = {};
                this.context = d6t.B3x;
                this._buffer = d6t.B3x;
                this.externalNode = d6t.B3x;
                this.onDecoded.dispose();
                this.onPlay.dispose();
                this.onPause.dispose();
                this.onResume.dispose();
                this.onLoop.dispose();
                this.onStop.dispose();
                this.onMute.dispose();
                this.onMarkerComplete.dispose();
            }
        }
    };
    s5.Sound.prototype.constructor = s5.Sound;
    Object.defineProperty(s5.Sound.prototype, i6, {
        get: function() {
            return this.game.cache.getSound(this.key).isDecoding;
        }
    });
    Object.defineProperty(s5.Sound.prototype, t4, {
        get: function() {
            return this.game.cache.isSoundDecoded(this.key);
        }
    });
    Object.defineProperty(s5.Sound.prototype, m5, {
        get: function() {
            return (this._muted || this.game.sound.mute);
        },
        set: function(t) {
            t = t || d6t.B3x;
            if (t) {
                this._muted = d6t.s73;
                if (this.usingWebAudio) {
                    this._muteVolume = this.gainNode.gain.value;
                    this.gainNode.gain.value = d6t.W6;
                } else if (this.usingAudioTag && this._sound) {
                    this._muteVolume = this._sound.volume;
                    this._sound.volume = d6t.W6;
                }
            } else {
                this._muted = d6t.F18;
                if (this.usingWebAudio) {
                    this.gainNode.gain.value = this._muteVolume;
                } else if (this.usingAudioTag && this._sound) {
                    this._sound.volume = this._muteVolume;
                }
            }
            this.onMute.dispatch(this);
        }
    });
    Object.defineProperty(s5.Sound.prototype, n7, {
        get: function() {
            return this._volume;
        },
        set: function(t) {
            if (this.usingWebAudio) {
                this._volume = t;
                this.gainNode.gain.value = t;
            } else if (this.usingAudioTag && this._sound) {
                if (t >= d6t.W6 && t <= d6t.A6) {
                    this._volume = t;
                    this._sound.volume = t;
                }
            }
        }
    });
    s5.SoundManager = function(game) {
        this.game = game;
        this.onSoundDecode = new s5.Signal();
        this._codeMuted = d6t.F18;
        this._muted = d6t.F18;
        this._unlockSource = d6t.B3x;
        this._volume = d6t.A6;
        this._sounds = [];
        this.context = d6t.B3x;
        this.usingWebAudio = d6t.s73;
        this.usingAudioTag = d6t.F18;
        this.noAudio = d6t.F18;
        this.connectToMaster = d6t.s73;
        this.touchLocked = d6t.F18;
        this.channels = d6t.z9x;
    };
    s5.SoundManager.prototype = {
        boot: function() {
            if (this.game.device.iOS && this.game.device.webAudio === d6t.F18) {
                this.channels = d6t.A6;
            }
            if (!this.game.device.cocoonJS && this.game.device.iOS || (window[P6] && window[P6].fakeiOSTouchLock)) {
                this.touchLocked = d6t.s73;
                if (this.game.device.android && this.game.device.chrome) {
                    this.game.canvas.addEventListener(c3, this.unlock.bind(this), {
                        once: d6t.s73
                    });
                } else {
                    this.game.input.touch.callbackContext = this;
                    this.game.input.touch.touchStartCallback = this.unlock;
                    this.game.input.mouse.callbackContext = this;
                    this.game.input.mouse.mouseDownCallback = this.unlock;
                }
            } else {
                this.touchLocked = d6t.F18;
            }
            if (window[P6]) {
                if (window[P6].disableAudio === d6t.s73) {
                    this.usingWebAudio = d6t.F18;
                    this.noAudio = d6t.s73;
                    return;
                }
                if (window[P6].disableWebAudio === d6t.s73) {
                    this.usingWebAudio = d6t.F18;
                    this.usingAudioTag = d6t.s73;
                    this.noAudio = d6t.F18;
                    return;
                }
            }
            if (!!window[D4]) {
                try {
                    this.context = new window[D4]();
                } catch (t) {
                    this.context = d6t.B3x;
                    this.usingWebAudio = d6t.F18;
                    this.noAudio = d6t.s73;
                }
            } else if (!!window[N4]) {
                try {
                    this.context = new window[N4]();
                } catch (t) {
                    this.context = d6t.B3x;
                    this.usingWebAudio = d6t.F18;
                    this.noAudio = d6t.s73;
                }
            }
            if (!!window[d4] && this.context === d6t.B3x) {
                this.usingWebAudio = d6t.F18;
                this.usingAudioTag = d6t.s73;
                this.noAudio = d6t.F18;
            }
            if (this.context !== d6t.B3x) {
                if (typeof this.context.createGain === d6t.k43) {
                    this.masterGain = this.context.createGainNode();
                } else {
                    this.masterGain = this.context.createGain();
                }
                this.masterGain.gain.value = d6t.A6;
                this.masterGain.connect(this.context.destination);
            }
        },
        unlock: function() {
            var t = 'suspended',
                k = 22050;
            if (this.touchLocked === d6t.F18) {
                return;
            }
            if (this.game.device.webAudio === d6t.F18 || (window[P6] && window[P6].disableWebAudio === d6t.s73)) {
                this.touchLocked = d6t.F18;
                this._unlockSource = d6t.B3x;
                this.game.input.touch.callbackContext = d6t.B3x;
                this.game.input.touch.touchStartCallback = d6t.B3x;
                this.game.input.mouse.callbackContext = d6t.B3x;
                this.game.input.mouse.mouseDownCallback = d6t.B3x;
            }
            var j = this.context.createBuffer(d6t.A6, d6t.A6, k);
            this._unlockSource = this.context.createBufferSource();
            this._unlockSource.buffer = j;
            this._unlockSource.connect(this.context.destination);
            if (this._unlockSource.start === undefined) {
                this._unlockSource.noteOn(d6t.W6);
            } else {
                this._unlockSource.start(d6t.W6);
            }
            if (this._unlockSource.context.state === t) {
                this._unlockSource.context.resume();
            }
        },
        stopAll: function() {
            for (var t = d6t.W6; t < this._sounds.length; t++) {
                if (this._sounds[t]) {
                    this._sounds[t].stop();
                }
            }
        },
        pauseAll: function() {
            for (var t = d6t.W6; t < this._sounds.length; t++) {
                if (this._sounds[t]) {
                    this._sounds[t].pause();
                }
            }
        },
        resumeAll: function() {
            for (var t = d6t.W6; t < this._sounds.length; t++) {
                if (this._sounds[t]) {
                    this._sounds[t].resume();
                }
            }
        },
        decode: function(k, j) {
            j = j || d6t.B3x;
            var o = this.game.cache.getSoundData(k);
            if (o) {
                if (this.game.cache.isSoundDecoded(k) === d6t.F18) {
                    this.game.cache.updateSound(k, d6t.V18, d6t.s73);
                    var e = this;
                    this.context.decodeAudioData(o, function(t) {
                        e.game.cache.decodedSound(k, t);
                        if (j) {
                            e.onSoundDecode.dispatch(k, j);
                        }
                    });
                }
            }
        },
        update: function() {
            if (this.touchLocked) {
                if (this.game.device.webAudio && this._unlockSource !== d6t.B3x) {
                    if ((this._unlockSource.playbackState === this._unlockSource.PLAYING_STATE || this._unlockSource.playbackState === this._unlockSource.FINISHED_STATE)) {
                        this.touchLocked = d6t.F18;
                        this._unlockSource = d6t.B3x;
                        this.game.input.touch.callbackContext = d6t.B3x;
                        this.game.input.touch.touchStartCallback = d6t.B3x;
                    }
                }
            }
            for (var t = d6t.W6; t < this._sounds.length; t++) {
                this._sounds[t].update();
            }
        },
        add: function(t, k, j, o) {
            if (typeof k === d6t.k43) {
                k = d6t.A6;
            }
            if (typeof j === d6t.k43) {
                j = d6t.F18;
            }
            if (typeof o === d6t.k43) {
                o = this.connectToMaster;
            }
            var e = new s5.Sound(this.game, t, k, j, o);
            this._sounds.push(e);
            return e;
        },
        addSprite: function(t) {
            var k = new s5.AudioSprite(this.game, t);
            return k;
        },
        remove: function(t) {
            var k = this._sounds.length;
            while (k--) {
                if (this._sounds[k] === t) {
                    this._sounds[k].destroy(d6t.F18);
                    this._sounds.splice(k, d6t.A6);
                    return d6t.s73;
                }
            }
            return d6t.F18;
        },
        removeByKey: function(t) {
            var k = this._sounds.length,
                j = d6t.W6;
            while (k--) {
                if (this._sounds[k].key === t) {
                    this._sounds[k].destroy(d6t.F18);
                    this._sounds.splice(k, d6t.A6);
                    j++;
                }
            }
            return j;
        },
        play: function(t, k, j) {
            var o = this.add(t, k, j);
            o.play();
            return o;
        },
        setMute: function() {
            if (this._muted) {
                return;
            }
            this._muted = d6t.s73;
            if (this.usingWebAudio) {
                this._muteVolume = this.masterGain.gain.value;
                this.masterGain.gain.value = d6t.W6;
            }
            for (var t = d6t.W6; t < this._sounds.length; t++) {
                if (this._sounds[t].usingAudioTag) {
                    this._sounds[t].mute = d6t.s73;
                }
            }
        },
        unsetMute: function() {
            if (!this._muted || this._codeMuted) {
                return;
            }
            this._muted = d6t.F18;
            if (this.usingWebAudio) {
                this.masterGain.gain.value = this._muteVolume;
            }
            for (var t = d6t.W6; t < this._sounds.length; t++) {
                if (this._sounds[t].usingAudioTag) {
                    this._sounds[t].mute = d6t.F18;
                }
            }
        },
        destroy: function() {
            this.stopAll();
            for (var t = d6t.W6; t < this._sounds.length; t++) {
                if (this._sounds[t]) {
                    this._sounds[t].destroy();
                }
            }
            this._sounds = [];
            this.onSoundDecode.dispose();
        }
    };
    s5.SoundManager.prototype.constructor = s5.SoundManager;
    Object.defineProperty(s5.SoundManager.prototype, m5, {
        get: function() {
            return this._muted;
        },
        set: function(t) {
            t = t || d6t.B3x;
            if (t) {
                if (this._muted) {
                    return;
                }
                this._codeMuted = d6t.s73;
                this.setMute();
            } else {
                if (!this._muted) {
                    return;
                }
                this._codeMuted = d6t.F18;
                this.unsetMute();
            }
        }
    });
    Object.defineProperty(s5.SoundManager.prototype, n7, {
        get: function() {
            if (this.usingWebAudio) {
                return this.masterGain.gain.value;
            } else {
                return this._volume;
            }
        },
        set: function(t) {
            this._volume = t;
            if (this.usingWebAudio) {
                this.masterGain.gain.value = t;
            } else {
                for (var k = d6t.W6; k < this._sounds.length; k++) {
                    if (this._sounds[k].usingAudioTag) {
                        this._sounds[k].volume = this._sounds[k].volume * t;
                    }
                }
            }
        }
    });
    s5.Utils.Debug = function(game) {
        var k = '14px Courier';
        this.game = game;
        this.sprite = d6t.B3x;
        this.bmd = d6t.B3x;
        this.canvas = d6t.B3x;
        this.context = d6t.B3x;
        this.font = k;
        this.columnWidth = d6t.a08;
        this.lineHeight = d6t.M7x;
        this.renderShadow = d6t.s73;
        this.currentX = d6t.W6;
        this.currentY = d6t.W6;
        this.currentAlpha = d6t.A6;
        this.dirty = d6t.F18;
    };
    s5.Utils.Debug.prototype = {
        boot: function() {
            if (this.game.renderType === s5.CANVAS) {
                this.context = this.game.context;
            } else {
                this.bmd = this.game.make.bitmapData(this.game.width, this.game.height);
                this.sprite = this.game.make.image(d6t.W6, d6t.W6, this.bmd);
                this.game.stage.addChild(this.sprite);
                this.canvas = s5.Canvas.create(this.game.width, this.game.height, d6t.I6x, d6t.s73);
                this.context = this.canvas.getContext(d6t.J8);
            }
        },
        preUpdate: function() {
            if (this.dirty && this.sprite) {
                this.bmd.clear();
                this.bmd.draw(this.canvas, d6t.W6, d6t.W6);
                this.context.clearRect(d6t.W6, d6t.W6, this.game.width, this.game.height);
                this.dirty = d6t.F18;
            }
        },
        reset: function() {
            if (this.context) {
                this.context.clearRect(d6t.W6, d6t.W6, this.game.width, this.game.height);
            }
            if (this.sprite) {
                this.bmd.clear();
            }
        },
        start: function(t, k, j, o) {
            if (typeof t !== d6t.F3B) {
                t = d6t.W6;
            }
            if (typeof k !== d6t.F3B) {
                k = d6t.W6;
            }
            j = j || N6;
            if (typeof o === d6t.k43) {
                o = d6t.W6;
            }
            this.currentX = t;
            this.currentY = k;
            this.currentColor = j;
            this.currentAlpha = this.context.globalAlpha;
            this.columnWidth = o;
            this.dirty = d6t.s73;
            this.context.save();
            this.context.setTransform(d6t.A6, d6t.W6, d6t.W6, d6t.A6, d6t.W6, d6t.W6);
            this.context.strokeStyle = j;
            this.context.fillStyle = j;
            this.context.font = this.font;
            this.context.globalAlpha = d6t.A6;
        },
        stop: function() {
            this.context.restore();
            this.context.globalAlpha = this.currentAlpha;
        },
        line: function() {
            var t = this.currentX;
            for (var k = d6t.W6; k < arguments.length; k++) {
                if (this.renderShadow) {
                    this.context.fillStyle = X4;
                    this.context.fillText(arguments[k], t + d6t.A6, this.currentY + d6t.A6);
                    this.context.fillStyle = this.currentColor;
                }
                this.context.fillText(arguments[k], t, this.currentY);
                t += this.columnWidth;
            }
            this.currentY += this.lineHeight;
        },
        soundInfo: function(t, k, j, o) {
            var e = 'Position: ',
                q = ' Stop: ',
                m = 'Start: ',
                k5 = ' (ms: ',
                C5 = 'Marker: ',
                H5 = ' Audio: ',
                j5 = 'WebAudio: ',
                Y5 = ' Muted: ',
                z5 = 'Volume: ',
                P5 = 'Time: ',
                p5 = ' Playing: ',
                w5 = 'Total Duration: ',
                R5 = ' Decoding: ',
                r5 = 'Decoded: ',
                T5 = ' Pending Playback: ',
                a5 = 'Is Ready?: ',
                x5 = ' Locked: ',
                f5 = 'Sound: ';
            this.start(k, j, o);
            this.line(f5 + t.key + x5 + t.game.sound.touchLocked);
            this.line(a5 + this.game.cache.isSoundReady(t.key) + T5 + t.pendingPlayback);
            this.line(r5 + t.isDecoded + R5 + t.isDecoding);
            this.line(w5 + t.totalDuration + p5 + t.isPlaying);
            this.line(P5 + t.currentTime);
            this.line(z5 + t.volume + Y5 + t.mute);
            this.line(j5 + t.usingWebAudio + H5 + t.usingAudioTag);
            if (t.currentMarker !== d6t.I6x) {
                this.line(C5 + t.currentMarker + Z6 + t.duration + k5 + t.durationMS + d6t.A13);
                this.line(m + t.markers[t.currentMarker].start + q + t.markers[t.currentMarker].stop);
                this.line(e + t.position);
            }
            this.stop();
        },
        cameraInfo: function(t, k, j, o) {
            var e = 'View x: ',
                q = ' h: ',
                m = ' w: ',
                k5 = 'Bounds x: ',
                C5 = 'Camera (';
            this.start(k, j, o);
            this.line(C5 + t.width + x7 + t.height + d6t.A13);
            this.line(d6t.z8f + t.x + d6t.D1x + t.y);
            if (t.bounds) {
                this.line(k5 + t.bounds.x + d6t.D1x + t.bounds.y + m + t.bounds.width + q + t.bounds.height);
            }
            this.line(e + t.view.x + d6t.D1x + t.view.y + m + t.view.width + q + t.view.height);
            this.stop();
        },
        timer: function(t, k, j, o) {
            var e = ' Length: ',
                q = 'Paused: ',
                m = 'Next Tick: ',
                k5 = ' expired: ',
                C5 = 'Timer (running: ';
            this.start(k, j, o);
            this.line(C5 + t.running + k5 + t.expired + d6t.A13);
            this.line(m + t.next + Z6 + t.duration);
            this.line(q + t.paused + e + t.length);
            this.stop();
        },
        pointer: function(t, k, j, o, e) {
            var q = " is Up: ",
                m = 'is Down: ',
                k5 = " ms",
                C5 = 'Duration: ',
                H5 = " Screen Y: ",
                j5 = " World Y: ",
                Y5 = " Active: ",
                z5 = 'ID: ',
                P5 = 'rgba(255,0,0,0.5)',
                p5 = 'rgba(0,255,0,0.5)';
            if (t == d6t.B3x) {
                return;
            }
            if (typeof k === d6t.k43) {
                k = d6t.F18;
            }
            j = j || p5;
            o = o || P5;
            if (k === d6t.s73 && t.isUp === d6t.s73) {
                return;
            }
            this.start(t.x, t.y - d6t.a08, e);
            this.context.beginPath();
            this.context.arc(t.x, t.y, t.circle.radius, d6t.W6, Math.PI * d6t.D6);
            if (t.active) {
                this.context.fillStyle = j;
            } else {
                this.context.fillStyle = o;
            }
            this.context.fill();
            this.context.closePath();
            this.context.beginPath();
            this.context.moveTo(t.positionDown.x, t.positionDown.y);
            this.context.lineTo(t.position.x, t.position.y);
            this.context.lineWidth = d6t.D6;
            this.context.stroke();
            this.context.closePath();
            this.line(z5 + t.id + Y5 + t.active);
            this.line(z6 + t.worldX + j5 + t.worldY);
            this.line(d5 + t.x + H5 + t.y);
            this.line(C5 + t.duration + k5);
            this.line(m + t.isDown + q + t.isUp);
            this.stop();
        },
        spriteInputInfo: function(t, k, j, o) {
            var e = ' just out: ',
                q = 'just over: ',
                m = ' duration: ',
                k5 = 'over: ',
                C5 = 'Sprite Input: (';
            this.start(k, j, o);
            this.line(C5 + t.width + x7 + t.height + d6t.A13);
            this.line(d6t.q88 + t.input.pointerX().toFixed(d6t.A6) + y6 + t.input.pointerY().toFixed(d6t.A6));
            this.line(k5 + t.input.pointerOver() + m + t.input.overDuration().toFixed(d6t.W6));
            this.line(Q5 + t.input.pointerDown() + m + t.input.downDuration().toFixed(d6t.W6));
            this.line(q + t.input.justOver() + e + t.input.justOut());
            this.stop();
        },
        key: function(t, k, j, o) {
            var e = 'duration:',
                q = 'Time Down:',
                m = 'justReleased:',
                k5 = 'justPressed:',
                C5 = 'isDown:',
                H5 = 'Key:';
            this.start(k, j, o, d6t.h5B);
            this.line(H5, t.keyCode, C5, t.isDown);
            this.line(k5, t.justPressed(), m, t.justReleased());
            this.line(q, t.timeDown.toFixed(d6t.W6), e, t.duration.toFixed(d6t.W6));
            this.stop();
        },
        inputInfo: function(t, k, j) {
            var o = ' Screen Y: ',
                e = ' Scale Y: ',
                q = 'Scale X: ',
                m = ' World Y: ',
                k5 = 'Input';
            this.start(t, k, j);
            this.line(k5);
            this.line(d6t.z8f + this.game.input.x + d6t.D1x + this.game.input.y);
            this.line(z6 + this.game.input.worldX + m + this.game.input.worldY);
            this.line(q + this.game.input.scale.x.toFixed(d6t.A6) + e + this.game.input.scale.x.toFixed(d6t.A6));
            this.line(d5 + this.game.input.activePointer.screenX + o + this.game.input.activePointer.screenY);
            this.stop();
        },
        spriteBounds: function(t, k, j) {
            var o = t.getBounds();
            o.x += this.game.camera.x;
            o.y += this.game.camera.y;
            this.rectangle(o, k, j);
        },
        ropeSegments: function(k, j, o) {
            var e = k.segments;
            e.forEach(function(t) {
                this.rectangle(t, j, o);
            }, this);
        },
        spriteInfo: function(t, k, j, o) {
            var e = ' in camera: ',
                q = 'visible: ',
                m = ' rotation: ',
                k5 = ') anchor: ',
                C5 = ' (',
                H5 = 'Sprite: ';
            this.start(k, j, o);
            this.line(H5 + C5 + t.width + x7 + t.height + k5 + t.anchor.x + x7 + t.anchor.y);
            this.line(d6t.q88 + t.x.toFixed(d6t.A6) + y6 + t.y.toFixed(d6t.A6));
            this.line(j6 + t.angle.toFixed(d6t.A6) + m + t.rotation.toFixed(d6t.A6));
            this.line(q + t.visible + e + t.inCamera);
            this.stop();
        },
        spriteCoords: function(t, k, j, o) {
            var e = 'world y:',
                q = 'world x:',
                m = 'pos y:',
                k5 = 'pos x:',
                C5 = 'y:',
                H5 = 'x:';
            this.start(k, j, o, d6t.a08);
            if (t.name) {
                this.line(t.name);
            }
            this.line(H5, t.x.toFixed(d6t.D6), C5, t.y.toFixed(d6t.D6));
            this.line(k5, t.position.x.toFixed(d6t.D6), m, t.position.y.toFixed(d6t.D6));
            this.line(q, t.world.x.toFixed(d6t.D6), e, t.world.y.toFixed(d6t.D6));
            this.stop();
        },
        lineInfo: function(t, k, j, o) {
            var e = 'angle:',
                q = 'length:',
                m = 'end.y:',
                k5 = 'end.x:',
                C5 = 'start.y:',
                H5 = 'start.x:',
                j5 = (1.83E2 <= (98.80E1, 104) ? 'f' : 120. < (112., 141.) ? (12.41E2, 80) : (12.71E2, 83.) > (1.462E3, 0x214) ? (0x1FC, 0x13A) : (0x169, 8.19E2));
            this.start(k, j, o, j5);
            this.line(H5, t.start.x.toFixed(d6t.D6), C5, t.start.y.toFixed(d6t.D6));
            this.line(k5, t.end.x.toFixed(d6t.D6), m, t.end.y.toFixed(d6t.D6));
            this.line(q, t.length.toFixed(d6t.D6), e, t.angle);
            this.stop();
        },
        pixel: function(t, k, j, o) {
            o = o || d6t.D6;
            this.start();
            this.context.fillStyle = j;
            this.context.fillRect(t, k, o, o);
            this.stop();
        },
        geom: function(t, k, j, o) {
            if (typeof j === d6t.k43) {
                j = d6t.s73;
            }
            if (typeof o === d6t.k43) {
                o = d6t.W6;
            }
            k = k || O6;
            this.start();
            this.context.fillStyle = k;
            this.context.strokeStyle = k;
            if (t instanceof s5.Rectangle || o === d6t.A6) {
                if (j) {
                    this.context.fillRect(t.x - this.game.camera.x, t.y - this.game.camera.y, t.width, t.height);
                } else {
                    this.context.strokeRect(t.x - this.game.camera.x, t.y - this.game.camera.y, t.width, t.height);
                }
            } else if (t instanceof s5.Circle || o === d6t.D6) {
                this.context.beginPath();
                this.context.arc(t.x - this.game.camera.x, t.y - this.game.camera.y, t.radius, d6t.W6, Math.PI * d6t.D6, d6t.F18);
                this.context.closePath();
                if (j) {
                    this.context.fill();
                } else {
                    this.context.stroke();
                }
            } else if (t instanceof s5.Point || o === d6t.B6) {
                this.context.fillRect(t.x - this.game.camera.x, t.y - this.game.camera.y, d6t.M6, d6t.M6);
            } else if (t instanceof s5.Line || o === d6t.M6) {
                this.context.lineWidth = d6t.A6;
                this.context.beginPath();
                this.context.moveTo((t.start.x + d6t.z48) - this.game.camera.x, (t.start.y + d6t.z48) - this.game.camera.y);
                this.context.lineTo((t.end.x + d6t.z48) - this.game.camera.x, (t.end.y + d6t.z48) - this.game.camera.y);
                this.context.closePath();
                this.context.stroke();
            }
            this.stop();
        },
        rectangle: function(t, k, j) {
            if (typeof j === d6t.k43) {
                j = d6t.s73;
            }
            k = k || E6;
            this.start();
            if (j) {
                this.context.fillStyle = k;
                this.context.fillRect(t.x - this.game.camera.x, t.y - this.game.camera.y, t.width, t.height);
            } else {
                this.context.strokeStyle = k;
                this.context.strokeRect(t.x - this.game.camera.x, t.y - this.game.camera.y, t.width, t.height);
            }
            this.stop();
        },
        text: function(t, k, j, o, e) {
            var q = '16px Courier';
            o = o || N6;
            e = e || q;
            this.start();
            this.context.font = e;
            if (this.renderShadow) {
                this.context.fillStyle = X4;
                this.context.fillText(t, k + d6t.A6, j + d6t.A6);
            }
            this.context.fillStyle = o;
            this.context.fillText(t, k, j);
            this.stop();
        },
        quadTree: function(t, k) {
            var j = 'rgb(0,255,0)',
                o = '12px Courier',
                e = 'rgb(0,200,0)',
                q = 'size: ',
                m = 'rgba(255,0,0,0.3)';
            k = k || m;
            this.start();
            var k5 = t.bounds;
            if (t.nodes.length === d6t.W6) {
                this.context.strokeStyle = k;
                this.context.strokeRect(k5.x, k5.y, k5.width, k5.height);
                this.text(q + t.objects.length, k5.x + d6t.M6, k5.y + d6t.M7x, e, o);
                this.context.strokeStyle = j;
                for (var C5 = d6t.W6; C5 < t.objects.length; C5++) {
                    this.context.strokeRect(t.objects[C5].x, t.objects[C5].y, t.objects[C5].width, t.objects[C5].height);
                }
            } else {
                for (var C5 = d6t.W6; C5 < t.nodes.length; C5++) {
                    this.quadTree(t.nodes[C5]);
                }
            }
            this.stop();
        },
        body: function(t, k, j) {
            if (t.body) {
                this.start();
                if (t.body.type === s5.Physics.ARCADE) {
                    s5.Physics.Arcade.Body.render(this.context, t.body, k, j);
                } else if (t.body.type === s5.Physics.NINJA) {
                    s5.Physics.Ninja.Body.render(this.context, t.body, k, j);
                } else if (t.body.type === s5.Physics.BOX2D) {
                    s5.Physics.Box2D.renderBody(this.context, t.body, k);
                }
                this.stop();
            }
        },
        bodyInfo: function(t, k, j, o) {
            if (t.body) {
                this.start(k, j, o, d6t.h7);
                if (t.body.type === s5.Physics.ARCADE) {
                    s5.Physics.Arcade.Body.renderBodyInfo(this, t.body);
                } else if (t.body.type === s5.Physics.BOX2D) {
                    this.game.physics.box2d.renderBodyInfo(this, t.body);
                }
                this.stop();
            }
        },
        box2dWorld: function() {
            this.start();
            this.context.translate(-this.game.camera.view.x, -this.game.camera.view.y, d6t.W6);
            this.game.physics.box2d.renderDebugDraw(this.context);
            this.stop();
        },
        box2dBody: function(t, k) {
            this.start();
            s5.Physics.Box2D.renderBody(this.context, t, k);
            this.stop();
        }
    };
    s5.Utils.Debug.prototype.constructor = s5.Utils.Debug;
    s5.Color = {
        packPixel: function(t, k, j, o) {
            if (s5.Device.LITTLE_ENDIAN) {
                return ((o << d6t.q7x) | (j << d6t.M7x) | (k << d6t.d6) | t) >>> d6t.W6;
            } else {
                return ((t << d6t.q7x) | (k << d6t.M7x) | (j << d6t.d6) | o) >>> d6t.W6;
            }
        },
        unpackPixel: function(t, k, j, o) {
            if (typeof k === d6t.k43 || k === d6t.B3x) {
                k = s5.Color.createColor();
            }
            if (typeof j === d6t.k43 || j === d6t.B3x) {
                j = d6t.F18;
            }
            if (typeof o === d6t.k43 || o === d6t.B3x) {
                o = d6t.F18;
            }
            if (s5.Device.LITTLE_ENDIAN) {
                k.a = ((t & 0xff000000) >>> d6t.q7x);
                k.b = ((t & 0x00ff0000) >>> d6t.M7x);
                k.g = ((t & ((103, 69.) < (62., 7.49E2) ? (94., 0x0000ff00) : 8.31E2 < (6.83E2, 64.0E1) ? "_" : (0x194, 0xDC))) >>> d6t.d6);
                k.r = ((t & 0x000000ff));
            } else {
                k.r = ((t & 0xff000000) >>> d6t.q7x);
                k.g = ((t & 0x00ff0000) >>> d6t.M7x);
                k.b = ((t & ((109, 0x9F) <= 107. ? '|Mq' : 0x45 > (1.3E1, 97.) ? (128.4E1, 1.433E3) : (24.5E1, 0x143) >= (71, 17) ? (48., 0x0000ff00) : (0x245, 136.6E1))) >>> d6t.d6);
                k.a = ((t & 0x000000ff));
            }
            k.color = t;
            k.rgba = s3 + k.r + d6t.H23 + k.g + d6t.H23 + k.b + d6t.H23 + (k.a / d6t.s8) + d6t.A13;
            if (j) {
                s5.Color.RGBtoHSL(k.r, k.g, k.b, k);
            }
            if (o) {
                s5.Color.RGBtoHSV(k.r, k.g, k.b, k);
            }
            return k;
        },
        fromRGBA: function(t, k) {
            if (!k) {
                k = s5.Color.createColor();
            }
            k.r = ((t & ((9.52E2, 14.68E2) >= 0xC0 ? (84.9E1, 0xff000000) : (0x14C, 4.80E1))) >>> d6t.q7x);
            k.g = ((t & 0x00ff0000) >>> d6t.M7x);
            k.b = ((t & ((0x1B8, 147.) > (1.73E2, 0xC) ? (62., 0x0000ff00) : (69, 50.))) >>> d6t.d6);
            k.a = ((t & 0x000000ff));
            k.rgba = s3 + k.r + d6t.H23 + k.g + d6t.H23 + k.b + d6t.H23 + k.a + d6t.A13;
            return k;
        },
        toRGBA: function(t, k, j, o) {
            return (t << d6t.q7x) | (k << d6t.M7x) | (j << d6t.d6) | o;
        },
        RGBtoHSL: function(t, k, j, o) {
            if (!o) {
                o = s5.Color.createColor(t, k, j, d6t.A6);
            }
            t /= d6t.s8;
            k /= d6t.s8;
            j /= d6t.s8;
            var e = Math.min(t, k, j),
                q = Math.max(t, k, j);
            o.h = d6t.W6;
            o.s = d6t.W6;
            o.l = (q + e) / d6t.D6;
            if (q !== e) {
                var m = q - e;
                o.s = o.l > d6t.z48 ? m / (d6t.D6 - q - e) : m / (q + e);
                if (q === t) {
                    o.h = (k - j) / m + (k < j ? d6t.J6 : d6t.W6);
                } else if (q === k) {
                    o.h = (j - t) / m + d6t.D6;
                } else if (q === j) {
                    o.h = (t - k) / m + d6t.M6;
                }
                o.h /= d6t.J6;
            }
            return o;
        },
        HSLtoRGB: function(t, k, j, o) {
            if (!o) {
                o = s5.Color.createColor(j, j, j);
            } else {
                o.r = j;
                o.g = j;
                o.b = j;
            }
            if (k !== d6t.W6) {
                var e = j < d6t.z48 ? j * (d6t.A6 + k) : j + k - j * k,
                    q = d6t.D6 * j - e;
                o.r = s5.Color.hueToColor(q, e, t + d6t.A6 / d6t.B6);
                o.g = s5.Color.hueToColor(q, e, t);
                o.b = s5.Color.hueToColor(q, e, t - d6t.A6 / d6t.B6);
            }
            o.r = Math.floor((o.r * d6t.s8 | d6t.W6));
            o.g = Math.floor((o.g * d6t.s8 | d6t.W6));
            o.b = Math.floor((o.b * d6t.s8 | d6t.W6));
            s5.Color.updateColor(o);
            return o;
        },
        RGBtoHSV: function(t, k, j, o) {
            if (!o) {
                o = s5.Color.createColor(t, k, j, d6t.s8);
            }
            t /= d6t.s8;
            k /= d6t.s8;
            j /= d6t.s8;
            var e = Math.min(t, k, j),
                q = Math.max(t, k, j),
                m = q - e;
            o.h = d6t.W6;
            o.s = q === d6t.W6 ? d6t.W6 : m / q;
            o.v = q;
            if (q !== e) {
                if (q === t) {
                    o.h = (k - j) / m + (k < j ? d6t.J6 : d6t.W6);
                } else if (q === k) {
                    o.h = (j - t) / m + d6t.D6;
                } else if (q === j) {
                    o.h = (t - k) / m + d6t.M6;
                }
                o.h /= d6t.J6;
            }
            return o;
        },
        HSVtoRGB: function(t, k, j, o) {
            if (typeof o === d6t.k43) {
                o = s5.Color.createColor(d6t.W6, d6t.W6, d6t.W6, d6t.A6, t, k, d6t.W6, j);
            }
            var e, q, m, k5 = Math.floor(t * d6t.J6),
                C5 = t * d6t.J6 - k5,
                H5 = j * (d6t.A6 - k),
                j5 = j * (d6t.A6 - C5 * k),
                Y5 = j * (d6t.A6 - (d6t.A6 - C5) * k);
            switch (k5 % d6t.J6) {
                case d6t.W6:
                    e = j;
                    q = Y5;
                    m = H5;
                    break;
                case d6t.A6:
                    e = j5;
                    q = j;
                    m = H5;
                    break;
                case d6t.D6:
                    e = H5;
                    q = j;
                    m = Y5;
                    break;
                case d6t.B6:
                    e = H5;
                    q = j5;
                    m = j;
                    break;
                case d6t.M6:
                    e = Y5;
                    q = H5;
                    m = j;
                    break;
                case d6t.U6:
                    e = j;
                    q = H5;
                    m = j5;
                    break;
            }
            o.r = Math.floor(e * d6t.s8);
            o.g = Math.floor(q * d6t.s8);
            o.b = Math.floor(m * d6t.s8);
            s5.Color.updateColor(o);
            return o;
        },
        hueToColor: function(t, k, j) {
            if (j < d6t.W6) {
                j += d6t.A6;
            }
            if (j > d6t.A6) {
                j -= d6t.A6;
            }
            if (j < d6t.A6 / d6t.J6) {
                return t + (k - t) * d6t.J6 * j;
            }
            if (j < d6t.A6 / d6t.D6) {
                return k;
            }
            if (j < d6t.D6 / d6t.B6) {
                return t + (k - t) * (d6t.D6 / d6t.B6 - j) * d6t.J6;
            }
            return t;
        },
        createColor: function(t, k, j, o, e, q, m, k5) {
            var C5 = {
                r: t || d6t.W6,
                g: k || d6t.W6,
                b: j || d6t.W6,
                a: o || d6t.A6,
                h: e || d6t.W6,
                s: q || d6t.W6,
                l: m || d6t.W6,
                v: k5 || d6t.W6,
                color: d6t.W6,
                color32: d6t.W6,
                rgba: d6t.I6x
            };
            C5.color = s5.Color.getColor(C5.r, C5.g, C5.b);
            C5.color32 = s5.Color.getColor32(C5.a, C5.r, C5.g, C5.b);
            return s5.Color.updateColor(C5);
        },
        updateColor: function(t) {
            t.rgba = s3 + t.r.toString() + d6t.H23 + t.g.toString() + d6t.H23 + t.b.toString() + d6t.H23 + t.a.toString() + d6t.A13;
            return t;
        },
        getColor32: function(t, k, j, o) {
            return t << d6t.q7x | k << d6t.M7x | j << d6t.d6 | o;
        },
        getColor: function(t, k, j) {
            return t << d6t.M7x | k << d6t.d6 | j;
        },
        RGBtoString: function(t, k, j, o, e) {
            var q = '0x';
            if (typeof o === d6t.k43) {
                o = d6t.s8;
            }
            if (typeof e === d6t.k43) {
                e = d6t.L83;
            }
            if (e === d6t.L83) {
                return d6t.L83 + ((d6t.A6 << d6t.q7x) + (t << d6t.M7x) + (k << d6t.d6) + j).toString(d6t.M7x).slice(d6t.A6);
            } else {
                return q + s5.Color.componentToHex(o) + s5.Color.componentToHex(t) + s5.Color.componentToHex(k) + s5.Color.componentToHex(j);
            }
        },
        hexToRGB: function(t) {
            var k = s5.Color.hexToColor(t);
            if (k) {
                return s5.Color.getColor32(k.a, k.r, k.g, k.b);
            }
        },
        hexToColor: function(e, q) {
            e = e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i, function(t, k, j, o) {
                return k + k + j + j + o + o;
            });
            var m = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);
            if (m) {
                var k5 = parseInt(m[d6t.A6], d6t.M7x),
                    C5 = parseInt(m[d6t.D6], d6t.M7x),
                    H5 = parseInt(m[d6t.B6], d6t.M7x);
                if (!q) {
                    q = s5.Color.createColor(k5, C5, H5);
                } else {
                    q.r = k5;
                    q.g = C5;
                    q.b = H5;
                }
            }
            return q;
        },
        webToColor: function(t, k) {
            if (!k) {
                k = s5.Color.createColor();
            }
            var j = /^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/.exec(t);
            if (j) {
                k.r = parseInt(j[d6t.A6], d6t.x7x);
                k.g = parseInt(j[d6t.D6], d6t.x7x);
                k.b = parseInt(j[d6t.B6], d6t.x7x);
            }
            return k;
        },
        componentToHex: function(t) {
            var k = t.toString(d6t.M7x);
            return k.length == d6t.A6 ? d6t.y3x + k : k;
        },
        HSVColorWheel: function(t, k) {
            if (typeof t === d6t.k43) {
                t = d6t.N28;
            }
            if (typeof k === d6t.k43) {
                k = d6t.N28;
            }
            var j = [];
            for (var o = d6t.W6; o <= Y6; o++) {
                j.push(s5.Color.HSVtoRGB(o / Y6, t, k));
            }
            return j;
        },
        HSLColorWheel: function(t, k) {
            if (typeof t === d6t.k43) {
                t = d6t.z48;
            }
            if (typeof k === d6t.k43) {
                k = d6t.z48;
            }
            var j = [];
            for (var o = d6t.W6; o <= Y6; o++) {
                j.push(s5.Color.HSLtoRGB(o / Y6, t, k));
            }
            return j;
        },
        interpolateColor: function(t, k, j, o, e) {
            if (typeof e === d6t.k6f) {
                e = d6t.s8;
            }
            var q = s5.Color.getRGB(t),
                m = s5.Color.getRGB(k),
                k5 = (((m.red - q.red) * o) / j) + q.red,
                C5 = (((m.green - q.green) * o) / j) + q.green,
                H5 = (((m.blue - q.blue) * o) / j) + q.blue;
            return s5.Color.getColor32(e, k5, C5, H5);
        },
        interpolateColorWithRGB: function(t, k, j, o, e, q) {
            var m = s5.Color.getRGB(t),
                k5 = (((k - m.red) * q) / e) + m.red,
                C5 = (((j - m.green) * q) / e) + m.green,
                H5 = (((o - m.blue) * q) / e) + m.blue;
            return s5.Color.getColor(k5, C5, H5);
        },
        interpolateRGB: function(t, k, j, o, e, q, m, k5) {
            var C5 = (((o - t) * k5) / m) + t,
                H5 = (((e - k) * k5) / m) + k,
                j5 = (((q - j) * k5) / m) + j;
            return s5.Color.getColor(C5, H5, j5);
        },
        getRandomColor: function(t, k, j) {
            if (typeof t === d6t.k6f) {
                t = d6t.W6;
            }
            if (typeof k === d6t.k6f) {
                k = d6t.s8;
            }
            if (typeof j === d6t.k6f) {
                j = d6t.s8;
            }
            if (k > d6t.s8 || t > k) {
                return s5.Color.getColor(d6t.s8, d6t.s8, d6t.s8);
            }
            var o = t + Math.round(Math.random() * (k - t)),
                e = t + Math.round(Math.random() * (k - t)),
                q = t + Math.round(Math.random() * (k - t));
            return s5.Color.getColor32(j, o, e, q);
        },
        getRGB: function(t) {
            var k = 16777215;
            if (t > k) {
                return {
                    alpha: t >>> d6t.q7x,
                    red: t >> d6t.M7x & 0xFF,
                    green: t >> d6t.d6 & ((74, 87.) < (0x10E, 0x12C) ? (0x5F, 0xFF) : (0x14B, 90.)),
                    blue: t & 0xFF,
                    a: t >>> d6t.q7x,
                    r: t >> d6t.M7x & 0xFF,
                    g: t >> d6t.d6 & ((2, 0xCA) < 0x22F ? (60, 0xFF) : 0x112 >= (7.2E2, 34.80E1) ? (0x15F, 'K') : (6.3E2, 12.10E1)),
                    b: t & 0xFF
                };
            } else {
                return {
                    alpha: d6t.s8,
                    red: t >> d6t.M7x & 0xFF,
                    green: t >> d6t.d6 & 0xFF,
                    blue: t & 0xFF,
                    a: d6t.s8,
                    r: t >> d6t.M7x & ((0x1E9, 37) < 0x140 ? (0x13E, 0xFF) : (14.120E2, 0x1B7) >= 14.89E2 ? (0x250, ':') : (123., 61.90E1)),
                    g: t >> d6t.d6 & ((14.92E2, 104) <= 70.0E1 ? (56., 0xFF) : (8.3E1, 0x95)),
                    b: t & ((9., 14.57E2) >= (57.30E1, 1.036E3) ? (0x243, 0xFF) : (0xDD, 0x38))
                };
            }
        },
        getWebRGB: function(t) {
            if (typeof t === d6t.T7H) {
                return s3 + t.r.toString() + d6t.H23 + t.g.toString() + d6t.H23 + t.b.toString() + d6t.H23 + (t.a / d6t.s8).toString() + d6t.A13;
            } else {
                var k = s5.Color.getRGB(t);
                return s3 + k.r.toString() + d6t.H23 + k.g.toString() + d6t.H23 + k.b.toString() + d6t.H23 + (k.a / d6t.s8).toString() + d6t.A13;
            }
        },
        getAlpha: function(t) {
            return t >>> d6t.q7x;
        },
        getAlphaFloat: function(t) {
            return (t >>> d6t.q7x) / d6t.s8;
        },
        getRed: function(t) {
            return t >> d6t.M7x & ((18.40E1, 115.) < (66, 0x209) ? (0xF5, 0xFF) : 0x87 <= (12.70E1, 32) ? 31 : 31 >= (0xF3, 0x17A) ? (92.80E1, 9.18E2) : (0x9C, 0x215));
        },
        getGreen: function(t) {
            return t >> d6t.d6 & ((94, 14.05E2) >= (6.9E1, 99.10E1) ? (77.80E1, 0xFF) : (148, 0x205));
        },
        getBlue: function(t) {
            return t & ((47, 22.5E1) < 0xC9 ? 8 : 38.30E1 > (102., 0x13F) ? (114.7E1, 0xFF) : (27., 83.));
        }
    };
    s5.Physics = function(game, k) {
        k = k || {};
        this.game = game;
        this.config = k;
        this.arcade = d6t.B3x;
        this.p2 = d6t.B3x;
        this.ninja = d6t.B3x;
        this.box2d = d6t.B3x;
        this.chipmunk = d6t.B3x;
        this.parseConfig();
    };
    s5.Physics.ARCADE = d6t.W6;
    s5.Physics.P2JS = d6t.A6;
    s5.Physics.NINJA = d6t.D6;
    s5.Physics.BOX2D = d6t.B6;
    s5.Physics.CHIPMUNK = d6t.M6;
    s5.Physics.prototype = {
        parseConfig: function() {
            var t = 'BOX2D',
                k = 'box2d',
                j = 'P2',
                o = 'p2',
                e = 'Ninja',
                q = 'ninja',
                m = 'Arcade',
                k5 = 'arcade';
            if ((!this.config.hasOwnProperty(k5) || this.config[k5] === d6t.s73) && s5.Physics.hasOwnProperty(m)) {
                this.arcade = new s5.Physics.Arcade(this.game);
                this.game.time.deltaCap = d6t.j48;
            }
            if (this.config.hasOwnProperty(q) && this.config[q] === d6t.s73 && s5.Physics.hasOwnProperty(e)) {
                this.ninja = new s5.Physics.Ninja(this.game);
            }
            if (this.config.hasOwnProperty(o) && this.config[o] === d6t.s73 && s5.Physics.hasOwnProperty(j)) {
                this.p2 = new s5.Physics.P2(this.game, this.config);
            }
            if (this.config.hasOwnProperty(k) && this.config[k] === d6t.s73 && s5.Physics.hasOwnProperty(t)) {
                this.box2d = new s5.Physics.BOX2D(this.game, this.config);
            }
        },
        startSystem: function(t) {
            var k = 'The Chipmunk physics system has not been implemented yet.';
            if (t === s5.Physics.ARCADE) {
                this.arcade = new s5.Physics.Arcade(this.game);
            } else if (t === s5.Physics.P2JS) {
                this.p2 = new s5.Physics.P2(this.game, this.config);
            }
            if (t === s5.Physics.NINJA) {
                this.ninja = new s5.Physics.Ninja(this.game);
            } else if (t === s5.Physics.BOX2D && this.box2d === d6t.B3x) {
                this.box2d = new s5.Physics.Box2D(this.game, this.config);
            } else if (t === s5.Physics.CHIPMUNK && this.chipmunk === d6t.B3x) {
                throw new Error(k);
            }
        },
        enable: function(t, k, j) {
            if (typeof k === d6t.k43) {
                k = s5.Physics.ARCADE;
            }
            if (typeof j === d6t.k43) {
                j = d6t.F18;
            }
            if (k === s5.Physics.ARCADE) {
                this.arcade.enable(t);
            } else if (k === s5.Physics.P2JS && this.p2) {
                this.p2.enable(t, j);
            } else if (k === s5.Physics.NINJA && this.ninja) {
                this.ninja.enableAABB(t);
            } else if (k === s5.Physics.BOX2D && this.box2d) {
                this.box2d.enable(t);
            }
        },
        preUpdate: function() {
            if (this.p2) {
                this.p2.preUpdate();
            }
            if (this.box2d) {
                this.box2d.preUpdate();
            }
        },
        update: function() {
            if (this.p2) {
                this.p2.update();
            }
            if (this.box2d) {
                this.box2d.update();
            }
        },
        setBoundsToWorld: function() {
            if (this.arcade) {
                this.arcade.setBoundsToWorld();
            }
            if (this.ninja) {
                this.ninja.setBoundsToWorld();
            }
            if (this.p2) {
                this.p2.setBoundsToWorld();
            }
            if (this.box2d) {
                this.box2d.setBoundsToWorld();
            }
        },
        clear: function() {
            if (this.p2) {
                this.p2.clear();
            }
            if (this.box2d) {
                this.box2d.clear();
            }
        },
        destroy: function() {
            if (this.p2) {
                this.p2.destroy();
            }
            if (this.box2d) {
                this.box2d.destroy();
            }
            this.arcade = d6t.B3x;
            this.ninja = d6t.B3x;
            this.p2 = d6t.B3x;
            this.box2d = d6t.B3x;
        }
    };
    s5.Physics.prototype.constructor = s5.Physics;
    s5.Physics.Arcade = function(game) {
        this.game = game;
        this.gravity = new s5.Point();
        this.bounds = new s5.Rectangle(d6t.W6, d6t.W6, game.world.width, game.world.height);
        this.checkCollision = {
            up: d6t.s73,
            down: d6t.s73,
            left: d6t.s73,
            right: d6t.s73
        };
        this.maxObjects = d6t.x7x;
        this.maxLevels = d6t.M6;
        this.OVERLAP_BIAS = d6t.M6;
        this.TILE_BIAS = d6t.M7x;
        this.forceX = d6t.F18;
        this.skipQuadTree = d6t.F18;
        this.quadTree = new s5.QuadTree(this.game.world.bounds.x, this.game.world.bounds.y, this.game.world.bounds.width, this.game.world.bounds.height, this.maxObjects, this.maxLevels);
        this._overlap = d6t.W6;
        this._maxOverlap = d6t.W6;
        this._velocity1 = d6t.W6;
        this._velocity2 = d6t.W6;
        this._newVelocity1 = d6t.W6;
        this._newVelocity2 = d6t.W6;
        this._average = d6t.W6;
        this._mapData = [];
        this._result = d6t.F18;
        this._total = d6t.W6;
        this._angle = d6t.W6;
        this._dx = d6t.W6;
        this._dy = d6t.W6;
        this.setBoundsToWorld();
    };
    s5.Physics.Arcade.prototype.constructor = s5.Physics.Arcade;
    s5.Physics.Arcade.prototype = {
        setBounds: function(t, k, j, o) {
            this.bounds.setTo(t, k, j, o);
        },
        setBoundsToWorld: function() {
            this.bounds.setTo(this.game.world.bounds.x, this.game.world.bounds.y, this.game.world.bounds.width, this.game.world.bounds.height);
        },
        enable: function(t, k) {
            var j = 'children';
            if (typeof k === d6t.k43) {
                k = d6t.s73;
            }
            var o = d6t.A6;
            if (Array.isArray(t)) {
                o = t.length;
                while (o--) {
                    if (t[o] instanceof s5.Group) {
                        this.enable(t[o].children, k);
                    } else {
                        this.enableBody(t[o]);
                        if (k && t[o].hasOwnProperty(j) && t[o].children.length > d6t.W6) {
                            this.enable(t[o], d6t.s73);
                        }
                    }
                }
            } else {
                if (t instanceof s5.Group) {
                    this.enable(t.children, k);
                } else {
                    this.enableBody(t);
                    if (k && t.hasOwnProperty(j) && t.children.length > d6t.W6) {
                        this.enable(t.children, d6t.s73);
                    }
                }
            }
        },
        enableBody: function(t) {
            if (t.hasOwnProperty(d6t.m2f) && t.body === d6t.B3x) {
                t.body = new s5.Physics.Arcade.Body(t);
            }
        },
        updateMotion: function(t) {
            this._velocityDelta = this.computeVelocity(d6t.W6, t, t.angularVelocity, t.angularAcceleration, t.angularDrag, t.maxAngular) - t.angularVelocity;
            t.angularVelocity += this._velocityDelta;
            t.rotation += (t.angularVelocity * this.game.time.physicsElapsed);
            t.velocity.x = this.computeVelocity(d6t.A6, t, t.velocity.x, t.acceleration.x, t.drag.x, t.maxVelocity.x);
            t.velocity.y = this.computeVelocity(d6t.D6, t, t.velocity.y, t.acceleration.y, t.drag.y, t.maxVelocity.y);
        },
        computeVelocity: function(t, k, j, o, e, q) {
            q = q || c6;
            if (t == d6t.A6 && k.allowGravity) {
                j += (this.gravity.x + k.gravity.x) * this.game.time.physicsElapsed;
            } else if (t == d6t.D6 && k.allowGravity) {
                j += (this.gravity.y + k.gravity.y) * this.game.time.physicsElapsed;
            }
            if (o) {
                j += o * this.game.time.physicsElapsed;
            } else if (e) {
                this._drag = e * this.game.time.physicsElapsed;
                if (j - this._drag > d6t.W6) {
                    j -= this._drag;
                } else if (j + this._drag < d6t.W6) {
                    j += this._drag;
                } else {
                    j = d6t.W6;
                }
            }
            if (j > q) {
                j = q;
            } else if (j < -q) {
                j = -q;
            }
            return j;
        },
        overlap: function(t, k, j, o, e) {
            j = j || d6t.B3x;
            o = o || d6t.B3x;
            e = e || j;
            this._result = d6t.F18;
            this._total = d6t.W6;
            if (!Array.isArray(t) && Array.isArray(k)) {
                for (var q = d6t.W6, m = k.length; q < m; q++) {
                    this.collideHandler(t, k[q], j, o, e, d6t.s73);
                }
            } else if (Array.isArray(t) && !Array.isArray(k)) {
                for (var q = d6t.W6, m = t.length; q < m; q++) {
                    this.collideHandler(t[q], k, j, o, e, d6t.s73);
                }
            } else if (Array.isArray(t) && Array.isArray(k)) {
                for (var q = d6t.W6, m = t.length; q < m; q++) {
                    for (var k5 = d6t.W6, C5 = k.length; k5 < C5; k5++) {
                        this.collideHandler(t[q], k[k5], j, o, e, d6t.s73);
                    }
                }
            } else {
                this.collideHandler(t, k, j, o, e, d6t.s73);
            }
            return (this._total > d6t.W6);
        },
        collide: function(t, k, j, o, e) {
            j = j || d6t.B3x;
            o = o || d6t.B3x;
            e = e || j;
            this._result = d6t.F18;
            this._total = d6t.W6;
            if (!Array.isArray(t) && Array.isArray(k)) {
                for (var q = d6t.W6, m = k.length; q < m; q++) {
                    this.collideHandler(t, k[q], j, o, e, d6t.F18);
                }
            } else if (Array.isArray(t) && !Array.isArray(k)) {
                for (var q = d6t.W6, m = t.length; q < m; q++) {
                    this.collideHandler(t[q], k, j, o, e, d6t.F18);
                }
            } else if (Array.isArray(t) && Array.isArray(k)) {
                for (var q = d6t.W6, k5 = t.length; q < k5; q++) {
                    for (var C5 = d6t.W6, H5 = k.length; C5 < H5; C5++) {
                        this.collideHandler(t[q], k[C5], j, o, e, d6t.F18);
                    }
                }
            } else {
                this.collideHandler(t, k, j, o, e, d6t.F18);
            }
            return (this._total > d6t.W6);
        },
        collideHandler: function(t, k, j, o, e, q) {
            if (typeof k === d6t.k43 && (t.type === s5.GROUP || t.type === s5.EMITTER)) {
                this.collideGroupVsSelf(t, j, o, e, q);
                return;
            }
            if (t && k && t.exists && k.exists) {
                if (t.type == s5.SPRITE || t.type == s5.TILESPRITE) {
                    if (k.type == s5.SPRITE || k.type == s5.TILESPRITE) {
                        this.collideSpriteVsSprite(t, k, j, o, e, q);
                    } else if (k.type == s5.GROUP || k.type == s5.EMITTER) {
                        this.collideSpriteVsGroup(t, k, j, o, e, q);
                    } else if (k.type == s5.TILEMAPLAYER) {
                        this.collideSpriteVsTilemapLayer(t, k, j, o, e);
                    }
                } else if (t.type == s5.GROUP) {
                    if (k.type == s5.SPRITE || k.type == s5.TILESPRITE) {
                        this.collideSpriteVsGroup(k, t, j, o, e, q);
                    } else if (k.type == s5.GROUP || k.type == s5.EMITTER) {
                        this.collideGroupVsGroup(t, k, j, o, e, q);
                    } else if (k.type == s5.TILEMAPLAYER) {
                        this.collideGroupVsTilemapLayer(t, k, j, o, e);
                    }
                } else if (t.type == s5.TILEMAPLAYER) {
                    if (k.type == s5.SPRITE || k.type == s5.TILESPRITE) {
                        this.collideSpriteVsTilemapLayer(k, t, j, o, e);
                    } else if (k.type == s5.GROUP || k.type == s5.EMITTER) {
                        this.collideGroupVsTilemapLayer(k, t, j, o, e);
                    }
                } else if (t.type == s5.EMITTER) {
                    if (k.type == s5.SPRITE || k.type == s5.TILESPRITE) {
                        this.collideSpriteVsGroup(k, t, j, o, e, q);
                    } else if (k.type == s5.GROUP || k.type == s5.EMITTER) {
                        this.collideGroupVsGroup(t, k, j, o, e, q);
                    } else if (k.type == s5.TILEMAPLAYER) {
                        this.collideGroupVsTilemapLayer(t, k, j, o, e);
                    }
                }
            }
        },
        collideSpriteVsSprite: function(t, k, j, o, e, q) {
            if (!t.body || !k.body) {
                return d6t.F18;
            }
            if (this.separate(t.body, k.body, o, e, q)) {
                if (j) {
                    j.call(e, t, k);
                }
                this._total++;
            }
            return d6t.s73;
        },
        collideSpriteVsGroup: function(t, k, j, o, e, q) {
            if (k.length === d6t.W6 || !t.body) {
                return;
            }
            if (t.body.skipQuadTree || this.skipQuadTree) {
                for (var m = d6t.W6, k5 = k.children.length; m < k5; m++) {
                    if (k.children[m] && k.children[m].exists) {
                        this.collideSpriteVsSprite(t, k.children[m], j, o, e, q);
                    }
                }
            } else {
                this.quadTree.clear();
                this.quadTree.reset(this.game.world.bounds.x, this.game.world.bounds.y, this.game.world.bounds.width, this.game.world.bounds.height, this.maxObjects, this.maxLevels);
                this.quadTree.populate(k);
                this._potentials = this.quadTree.retrieve(t);
                for (var m = d6t.W6, k5 = this._potentials.length; m < k5; m++) {
                    if (this.separate(t.body, this._potentials[m], o, e, q)) {
                        if (j) {
                            j.call(e, t, this._potentials[m].sprite);
                        }
                        this._total++;
                    }
                }
            }
        },
        collideGroupVsSelf: function(t, k, j, o, e) {
            if (t.length === d6t.W6) {
                return;
            }
            var q = t.children.length;
            for (var m = d6t.W6; m < q; m++) {
                for (var k5 = m + d6t.A6; k5 <= q; k5++) {
                    if (t.children[m] && t.children[k5] && t.children[m].exists && t.children[k5].exists) {
                        this.collideSpriteVsSprite(t.children[m], t.children[k5], k, j, o, e);
                    }
                }
            }
        },
        collideGroupVsGroup: function(t, k, j, o, e, q) {
            if (t.length === d6t.W6 || k.length === d6t.W6) {
                return;
            }
            for (var m = d6t.W6, k5 = t.children.length; m < k5; m++) {
                if (t.children[m].exists) {
                    if (t.children[m].type === s5.GROUP) {
                        this.collideGroupVsGroup(t.children[m], k, j, o, e, q);
                    } else {
                        this.collideSpriteVsGroup(t.children[m], k, j, o, e, q);
                    }
                }
            }
        },
        collideSpriteVsTilemapLayer: function(t, k, j, o, e) {
            if (!t.body) {
                return;
            }
            this._mapData = k.getTiles(t.body.position.x - t.body.tilePadding.x, t.body.position.y - t.body.tilePadding.y, t.body.width + t.body.tilePadding.x, t.body.height + t.body.tilePadding.y, d6t.F18, d6t.F18);
            if (this._mapData.length === d6t.W6) {
                return;
            }
            for (var q = d6t.W6; q < this._mapData.length; q++) {
                if (o) {
                    if (o.call(e, t, this._mapData[q])) {
                        if (this.separateTile(q, t.body, this._mapData[q])) {
                            this._total++;
                            if (j) {
                                j.call(e, t, this._mapData[q]);
                            }
                        }
                    }
                } else {
                    if (this.separateTile(q, t.body, this._mapData[q])) {
                        this._total++;
                        if (j) {
                            j.call(e, t, this._mapData[q]);
                        }
                    }
                }
            }
        },
        collideGroupVsTilemapLayer: function(t, k, j, o, e) {
            if (t.length === d6t.W6) {
                return;
            }
            for (var q = d6t.W6, m = t.children.length; q < m; q++) {
                if (t.children[q].exists) {
                    this.collideSpriteVsTilemapLayer(t.children[q], k, j, o, e);
                }
            }
        },
        separate: function(t, k, j, o, e) {
            if (!t.enable || !k.enable || !this.intersects(t, k)) {
                return d6t.F18;
            }
            if (j && j.call(o, t.sprite, k.sprite) === d6t.F18) {
                return d6t.F18;
            }
            if (this.forceX || Math.abs(this.gravity.y + t.gravity.y) < Math.abs(this.gravity.x + t.gravity.x)) {
                this._result = (this.separateX(t, k, e) || this.separateY(t, k, e));
            } else {
                this._result = (this.separateY(t, k, e) || this.separateX(t, k, e));
            }
            if (e) {
                return d6t.s73;
            } else {
                return this._result;
            }
        },
        intersects: function(t, k) {
            if (t.right <= k.position.x) {
                return d6t.F18;
            }
            if (t.bottom <= k.position.y) {
                return d6t.F18;
            }
            if (t.position.x >= k.right) {
                return d6t.F18;
            }
            if (t.position.y >= k.bottom) {
                return d6t.F18;
            }
            return d6t.s73;
        },
        separateX: function(t, k, j) {
            if (t.immovable && k.immovable) {
                return d6t.F18;
            }
            this._overlap = d6t.W6;
            if (this.intersects(t, k)) {
                this._maxOverlap = t.deltaAbsX() + k.deltaAbsX() + this.OVERLAP_BIAS;
                if (t.deltaX() === d6t.W6 && k.deltaX() === d6t.W6) {
                    t.embedded = d6t.s73;
                    k.embedded = d6t.s73;
                } else if (t.deltaX() > k.deltaX()) {
                    this._overlap = t.right - k.x;
                    if ((this._overlap > this._maxOverlap) || t.checkCollision.right === d6t.F18 || k.checkCollision.left === d6t.F18) {
                        this._overlap = d6t.W6;
                    } else {
                        t.touching.none = d6t.F18;
                        t.touching.right = d6t.s73;
                        k.touching.none = d6t.F18;
                        k.touching.left = d6t.s73;
                    }
                } else if (t.deltaX() < k.deltaX()) {
                    this._overlap = t.x - k.width - k.x;
                    if ((-this._overlap > this._maxOverlap) || t.checkCollision.left === d6t.F18 || k.checkCollision.right === d6t.F18) {
                        this._overlap = d6t.W6;
                    } else {
                        t.touching.none = d6t.F18;
                        t.touching.left = d6t.s73;
                        k.touching.none = d6t.F18;
                        k.touching.right = d6t.s73;
                    }
                }
                t.overlapX = this._overlap;
                k.overlapX = this._overlap;
                if (this._overlap !== d6t.W6) {
                    if (j || t.customSeparateX || k.customSeparateX) {
                        return d6t.s73;
                    }
                    this._velocity1 = t.velocity.x;
                    this._velocity2 = k.velocity.x;
                    if (!t.immovable && !k.immovable) {
                        this._overlap *= d6t.z48;
                        t.x = t.x - this._overlap;
                        k.x += this._overlap;
                        this._newVelocity1 = Math.sqrt((this._velocity2 * this._velocity2 * k.mass) / t.mass) * ((this._velocity2 > d6t.W6) ? d6t.A6 : -d6t.A6);
                        this._newVelocity2 = Math.sqrt((this._velocity1 * this._velocity1 * t.mass) / k.mass) * ((this._velocity1 > d6t.W6) ? d6t.A6 : -d6t.A6);
                        this._average = (this._newVelocity1 + this._newVelocity2) * d6t.z48;
                        this._newVelocity1 -= this._average;
                        this._newVelocity2 -= this._average;
                        t.velocity.x = this._average + this._newVelocity1 * t.bounce.x;
                        k.velocity.x = this._average + this._newVelocity2 * k.bounce.x;
                    } else if (!t.immovable) {
                        t.x = t.x - this._overlap;
                        t.velocity.x = this._velocity2 - this._velocity1 * t.bounce.x;
                    } else if (!k.immovable) {
                        k.x += this._overlap;
                        k.velocity.x = this._velocity1 - this._velocity2 * k.bounce.x;
                    }
                    return d6t.s73;
                }
            }
            return d6t.F18;
        },
        separateY: function(t, k, j) {
            if (t.immovable && k.immovable) {
                return d6t.F18;
            }
            this._overlap = d6t.W6;
            if (this.intersects(t, k)) {
                this._maxOverlap = t.deltaAbsY() + k.deltaAbsY() + this.OVERLAP_BIAS;
                if (t.deltaY() === d6t.W6 && k.deltaY() === d6t.W6) {
                    t.embedded = d6t.s73;
                    k.embedded = d6t.s73;
                } else if (t.deltaY() > k.deltaY()) {
                    this._overlap = t.bottom - k.y;
                    if ((this._overlap > this._maxOverlap) || t.checkCollision.down === d6t.F18 || k.checkCollision.up === d6t.F18) {
                        this._overlap = d6t.W6;
                    } else {
                        t.touching.none = d6t.F18;
                        t.touching.down = d6t.s73;
                        k.touching.none = d6t.F18;
                        k.touching.up = d6t.s73;
                    }
                } else if (t.deltaY() < k.deltaY()) {
                    this._overlap = t.y - k.bottom;
                    if ((-this._overlap > this._maxOverlap) || t.checkCollision.up === d6t.F18 || k.checkCollision.down === d6t.F18) {
                        this._overlap = d6t.W6;
                    } else {
                        t.touching.none = d6t.F18;
                        t.touching.up = d6t.s73;
                        k.touching.none = d6t.F18;
                        k.touching.down = d6t.s73;
                    }
                }
                t.overlapY = this._overlap;
                k.overlapY = this._overlap;
                if (this._overlap !== d6t.W6) {
                    if (j || t.customSeparateY || k.customSeparateY) {
                        return d6t.s73;
                    }
                    this._velocity1 = t.velocity.y;
                    this._velocity2 = k.velocity.y;
                    if (!t.immovable && !k.immovable) {
                        this._overlap *= d6t.z48;
                        t.y = t.y - this._overlap;
                        k.y += this._overlap;
                        this._newVelocity1 = Math.sqrt((this._velocity2 * this._velocity2 * k.mass) / t.mass) * ((this._velocity2 > d6t.W6) ? d6t.A6 : -d6t.A6);
                        this._newVelocity2 = Math.sqrt((this._velocity1 * this._velocity1 * t.mass) / k.mass) * ((this._velocity1 > d6t.W6) ? d6t.A6 : -d6t.A6);
                        this._average = (this._newVelocity1 + this._newVelocity2) * d6t.z48;
                        this._newVelocity1 -= this._average;
                        this._newVelocity2 -= this._average;
                        t.velocity.y = this._average + this._newVelocity1 * t.bounce.y;
                        k.velocity.y = this._average + this._newVelocity2 * k.bounce.y;
                    } else if (!t.immovable) {
                        t.y = t.y - this._overlap;
                        t.velocity.y = this._velocity2 - this._velocity1 * t.bounce.y;
                        if (k.moves) {
                            t.x += k.x - k.prev.x;
                        }
                    } else if (!k.immovable) {
                        k.y += this._overlap;
                        k.velocity.y = this._velocity1 - this._velocity2 * k.bounce.y;
                        if (t.moves) {
                            k.x += t.x - t.prev.x;
                        }
                    }
                    return d6t.s73;
                }
            }
            return d6t.F18;
        },
        separateTile: function(t, k, j) {
            if (!k.enable || !j.intersects(k.position.x, k.position.y, k.right, k.bottom)) {
                return d6t.F18;
            }
            if (j.collisionCallback && !j.collisionCallback.call(j.collisionCallbackContext, k.sprite, j)) {
                return d6t.F18;
            } else if (j.layer.callbacks[j.index] && !j.layer.callbacks[j.index].callback.call(j.layer.callbacks[j.index].callbackContext, k.sprite, j)) {
                return d6t.F18;
            }
            if (!j.faceLeft && !j.faceRight && !j.faceTop && !j.faceBottom) {
                return d6t.F18;
            }
            var o = d6t.W6,
                e = d6t.W6,
                q = d6t.W6,
                m = d6t.A6;
            if (k.deltaAbsX() > k.deltaAbsY()) {
                q = -d6t.A6;
            } else if (k.deltaAbsX() < k.deltaAbsY()) {
                m = -d6t.A6;
            }
            if (k.deltaX() !== d6t.W6 && k.deltaY() !== d6t.W6 && (j.faceLeft || j.faceRight) && (j.faceTop || j.faceBottom)) {
                q = Math.min(Math.abs(k.position.x - j.right), Math.abs(k.right - j.left));
                m = Math.min(Math.abs(k.position.y - j.bottom), Math.abs(k.bottom - j.top));
            }
            if (q < m) {
                if (j.faceLeft || j.faceRight) {
                    o = this.tileCheckX(k, j);
                    if (o !== d6t.W6 && !j.intersects(k.position.x, k.position.y, k.right, k.bottom)) {
                        return d6t.s73;
                    }
                }
                if (j.faceTop || j.faceBottom) {
                    e = this.tileCheckY(k, j);
                }
            } else {
                if (j.faceTop || j.faceBottom) {
                    e = this.tileCheckY(k, j);
                    if (e !== d6t.W6 && !j.intersects(k.position.x, k.position.y, k.right, k.bottom)) {
                        return d6t.s73;
                    }
                }
                if (j.faceLeft || j.faceRight) {
                    o = this.tileCheckX(k, j);
                }
            }
            return (o !== d6t.W6 || e !== d6t.W6);
        },
        tileCheckX: function(t, k) {
            var j = d6t.W6;
            if (t.deltaX() < d6t.W6 && !t.blocked.left && k.collideRight && t.checkCollision.left) {
                if (k.faceRight && t.x < k.right) {
                    j = t.x - k.right;
                    if (j < -this.TILE_BIAS) {
                        j = d6t.W6;
                    }
                }
            } else if (t.deltaX() > d6t.W6 && !t.blocked.right && k.collideLeft && t.checkCollision.right) {
                if (k.faceLeft && t.right > k.left) {
                    j = t.right - k.left;
                    if (j > this.TILE_BIAS) {
                        j = d6t.W6;
                    }
                }
            }
            if (j !== d6t.W6) {
                this.processTileSeparationX(t, j);
            }
            return j;
        },
        tileCheckY: function(t, k) {
            var j = d6t.W6;
            if (t.deltaY() < d6t.W6 && !t.blocked.up && k.collideDown && t.checkCollision.up) {
                if (k.faceBottom && t.y < k.bottom) {
                    j = t.y - k.bottom;
                    if (j < -this.TILE_BIAS) {
                        j = d6t.W6;
                    }
                }
            } else if (t.deltaY() > d6t.W6 && !t.blocked.down && k.collideUp && t.checkCollision.down) {
                if (k.faceTop && t.bottom > k.top) {
                    j = t.bottom - k.top;
                    if (j > this.TILE_BIAS) {
                        j = d6t.W6;
                    }
                }
            }
            if (j !== d6t.W6) {
                this.processTileSeparationY(t, j);
            }
            return j;
        },
        processTileSeparationX: function(t, k) {
            if (k < d6t.W6) {
                t.blocked.left = d6t.s73;
            } else if (k > d6t.W6) {
                t.blocked.right = d6t.s73;
            }
            t.position.x -= k;
            if (t.bounce.x === d6t.W6) {
                t.velocity.x = d6t.W6;
            } else {
                t.velocity.x = -t.velocity.x * t.bounce.x;
            }
        },
        processTileSeparationY: function(t, k) {
            if (k < d6t.W6) {
                t.blocked.up = d6t.s73;
            } else if (k > d6t.W6) {
                t.blocked.down = d6t.s73;
            }
            t.position.y -= k;
            if (t.bounce.y === d6t.W6) {
                t.velocity.y = d6t.W6;
            } else {
                t.velocity.y = -t.velocity.y * t.bounce.y;
            }
        },
        getObjectsUnderPointer: function(t, k, j, o) {
            if (k.length === d6t.W6 || !t.exists) {
                return;
            }
            this.quadTree.clear();
            this.quadTree.reset(this.game.world.bounds.x, this.game.world.bounds.y, this.game.world.bounds.width, this.game.world.bounds.height, this.maxObjects, this.maxLevels);
            this.quadTree.populate(k);
            var e = new s5.Rectangle(t.x, t.y, d6t.A6, d6t.A6),
                q = [];
            this._potentials = this.quadTree.retrieve(e);
            for (var m = d6t.W6, k5 = this._potentials.length; m < k5; m++) {
                if (this._potentials[m].hitTest(t.x, t.y)) {
                    if (j) {
                        j.call(o, t, this._potentials[m].sprite);
                    }
                    q.push(this._potentials[m].sprite);
                }
            }
            return q;
        },
        moveToObject: function(t, k, j, o) {
            if (typeof j === d6t.k43) {
                j = d6t.V8x;
            }
            if (typeof o === d6t.k43) {
                o = d6t.W6;
            }
            this._angle = Math.atan2(k.y - t.y, k.x - t.x);
            if (o > d6t.W6) {
                j = this.distanceBetween(t, k) / (o / d6t.I6);
            }
            t.body.velocity.x = Math.cos(this._angle) * j;
            t.body.velocity.y = Math.sin(this._angle) * j;
            return this._angle;
        },
        moveToPointer: function(t, k, j, o) {
            if (typeof k === d6t.k43) {
                k = d6t.V8x;
            }
            j = j || this.game.input.activePointer;
            if (typeof o === d6t.k43) {
                o = d6t.W6;
            }
            this._angle = this.angleToPointer(t, j);
            if (o > d6t.W6) {
                k = this.distanceToPointer(t, j) / (o / d6t.I6);
            }
            t.body.velocity.x = Math.cos(this._angle) * k;
            t.body.velocity.y = Math.sin(this._angle) * k;
            return this._angle;
        },
        moveToXY: function(t, k, j, o, e) {
            if (typeof o === d6t.k43) {
                o = d6t.V8x;
            }
            if (typeof e === d6t.k43) {
                e = d6t.W6;
            }
            this._angle = Math.atan2(j - t.y, k - t.x);
            if (e > d6t.W6) {
                o = this.distanceToXY(t, k, j) / (e / d6t.I6);
            }
            t.body.velocity.x = Math.cos(this._angle) * o;
            t.body.velocity.y = Math.sin(this._angle) * o;
            return this._angle;
        },
        velocityFromAngle: function(t, k, j) {
            if (typeof k === d6t.k43) {
                k = d6t.V8x;
            }
            j = j || new s5.Point();
            return j.setTo((Math.cos(this.game.math.degToRad(t)) * k), (Math.sin(this.game.math.degToRad(t)) * k));
        },
        velocityFromRotation: function(t, k, j) {
            if (typeof k === d6t.k43) {
                k = d6t.V8x;
            }
            j = j || new s5.Point();
            return j.setTo((Math.cos(t) * k), (Math.sin(t) * k));
        },
        accelerationFromRotation: function(t, k, j) {
            if (typeof k === d6t.k43) {
                k = d6t.V8x;
            }
            j = j || new s5.Point();
            return j.setTo((Math.cos(t) * k), (Math.sin(t) * k));
        },
        accelerateToObject: function(t, k, j, o, e) {
            if (typeof j === d6t.k43) {
                j = d6t.V8x;
            }
            if (typeof o === d6t.k43) {
                o = d6t.I6;
            }
            if (typeof e === d6t.k43) {
                e = d6t.I6;
            }
            this._angle = this.angleBetween(t, k);
            t.body.acceleration.setTo(Math.cos(this._angle) * j, Math.sin(this._angle) * j);
            t.body.maxVelocity.setTo(o, e);
            return this._angle;
        },
        accelerateToPointer: function(t, k, j, o, e) {
            if (typeof j === d6t.k43) {
                j = d6t.V8x;
            }
            if (typeof k === d6t.k43) {
                k = this.game.input.activePointer;
            }
            if (typeof o === d6t.k43) {
                o = d6t.I6;
            }
            if (typeof e === d6t.k43) {
                e = d6t.I6;
            }
            this._angle = this.angleToPointer(t, k);
            t.body.acceleration.setTo(Math.cos(this._angle) * j, Math.sin(this._angle) * j);
            t.body.maxVelocity.setTo(o, e);
            return this._angle;
        },
        accelerateToXY: function(t, k, j, o, e, q) {
            if (typeof o === d6t.k43) {
                o = d6t.V8x;
            }
            if (typeof e === d6t.k43) {
                e = d6t.I6;
            }
            if (typeof q === d6t.k43) {
                q = d6t.I6;
            }
            this._angle = this.angleToXY(t, k, j);
            t.body.acceleration.setTo(Math.cos(this._angle) * o, Math.sin(this._angle) * o);
            t.body.maxVelocity.setTo(e, q);
            return this._angle;
        },
        distanceBetween: function(t, k) {
            this._dx = t.x - k.x;
            this._dy = t.y - k.y;
            return Math.sqrt(this._dx * this._dx + this._dy * this._dy);
        },
        distanceToXY: function(t, k, j) {
            this._dx = t.x - k;
            this._dy = t.y - j;
            return Math.sqrt(this._dx * this._dx + this._dy * this._dy);
        },
        distanceToPointer: function(t, k) {
            k = k || this.game.input.activePointer;
            this._dx = t.x - k.x;
            this._dy = t.y - k.y;
            return Math.sqrt(this._dx * this._dx + this._dy * this._dy);
        },
        angleBetween: function(t, k) {
            this._dx = k.x - t.x;
            this._dy = k.y - t.y;
            return Math.atan2(this._dy, this._dx);
        },
        angleToXY: function(t, k, j) {
            this._dx = k - t.x;
            this._dy = j - t.y;
            return Math.atan2(this._dy, this._dx);
        },
        angleToPointer: function(t, k) {
            k = k || this.game.input.activePointer;
            this._dx = k.worldX - t.x;
            this._dy = k.worldY - t.y;
            return Math.atan2(this._dy, this._dx);
        }
    };
    s5.Physics.Arcade.Body = function(t) {
        this.sprite = t;
        this.game = t.game;
        this.type = s5.Physics.ARCADE;
        this.enable = d6t.s73;
        this.offset = new s5.Point();
        this.position = new s5.Point(t.x, t.y);
        this.prev = new s5.Point(this.position.x, this.position.y);
        this.allowRotation = d6t.s73;
        this.rotation = t.rotation;
        this.preRotation = t.rotation;
        this.sourceWidth = t.texture.frame.width;
        this.sourceHeight = t.texture.frame.height;
        this.width = t.width;
        this.height = t.height;
        this.halfWidth = Math.abs(t.width / d6t.D6);
        this.halfHeight = Math.abs(t.height / d6t.D6);
        this.center = new s5.Point(t.x + this.halfWidth, t.y + this.halfHeight);
        this.velocity = new s5.Point();
        this.newVelocity = new s5.Point(d6t.W6, d6t.W6);
        this.deltaMax = new s5.Point(d6t.W6, d6t.W6);
        this.acceleration = new s5.Point();
        this.drag = new s5.Point();
        this.allowGravity = d6t.s73;
        this.gravity = new s5.Point(d6t.W6, d6t.W6);
        this.bounce = new s5.Point();
        this.maxVelocity = new s5.Point(c6, c6);
        this.angularVelocity = d6t.W6;
        this.angularAcceleration = d6t.W6;
        this.angularDrag = d6t.W6;
        this.maxAngular = d6t.I6;
        this.mass = d6t.A6;
        this.angle = d6t.W6;
        this.speed = d6t.W6;
        this.facing = s5.NONE;
        this.immovable = d6t.F18;
        this.moves = d6t.s73;
        this.customSeparateX = d6t.F18;
        this.customSeparateY = d6t.F18;
        this.overlapX = d6t.W6;
        this.overlapY = d6t.W6;
        this.embedded = d6t.F18;
        this.collideWorldBounds = d6t.F18;
        this.checkCollision = {
            none: d6t.F18,
            any: d6t.s73,
            up: d6t.s73,
            down: d6t.s73,
            left: d6t.s73,
            right: d6t.s73
        };
        this.touching = {
            none: d6t.s73,
            up: d6t.F18,
            down: d6t.F18,
            left: d6t.F18,
            right: d6t.F18
        };
        this.wasTouching = {
            none: d6t.s73,
            up: d6t.F18,
            down: d6t.F18,
            left: d6t.F18,
            right: d6t.F18
        };
        this.blocked = {
            up: d6t.F18,
            down: d6t.F18,
            left: d6t.F18,
            right: d6t.F18
        };
        this.tilePadding = new s5.Point();
        this.phase = d6t.W6;
        this.skipQuadTree = d6t.F18;
        this._reset = d6t.s73;
        this._sx = t.scale.x;
        this._sy = t.scale.y;
        this._dx = d6t.W6;
        this._dy = d6t.W6;
    };
    s5.Physics.Arcade.Body.prototype = {
        updateBounds: function() {
            var t = Math.abs(this.sprite.scale.x),
                k = Math.abs(this.sprite.scale.y);
            if (t !== this._sx || k !== this._sy) {
                this.width = this.sourceWidth * t;
                this.height = this.sourceHeight * k;
                this.halfWidth = Math.floor(this.width / d6t.D6);
                this.halfHeight = Math.floor(this.height / d6t.D6);
                this._sx = t;
                this._sy = k;
                this.center.setTo(this.position.x + this.halfWidth, this.position.y + this.halfHeight);
                this._reset = d6t.s73;
            }
        },
        preUpdate: function() {
            if (!this.enable) {
                return;
            }
            this.phase = d6t.A6;
            this.wasTouching.none = this.touching.none;
            this.wasTouching.up = this.touching.up;
            this.wasTouching.down = this.touching.down;
            this.wasTouching.left = this.touching.left;
            this.wasTouching.right = this.touching.right;
            this.touching.none = d6t.s73;
            this.touching.up = d6t.F18;
            this.touching.down = d6t.F18;
            this.touching.left = d6t.F18;
            this.touching.right = d6t.F18;
            this.blocked.up = d6t.F18;
            this.blocked.down = d6t.F18;
            this.blocked.left = d6t.F18;
            this.blocked.right = d6t.F18;
            this.embedded = d6t.F18;
            this.updateBounds();
            this.position.x = (this.sprite.world.x - (this.sprite.anchor.x * this.width)) + this.offset.x;
            this.position.y = (this.sprite.world.y - (this.sprite.anchor.y * this.height)) + this.offset.y;
            this.rotation = this.sprite.angle;
            this.preRotation = this.rotation;
            if (this._reset || this.sprite._cache[d6t.M6] === d6t.A6) {
                this.prev.x = this.position.x;
                this.prev.y = this.position.y;
            }
            if (this.moves) {
                this.game.physics.arcade.updateMotion(this);
                this.newVelocity.set(this.velocity.x * this.game.time.physicsElapsed, this.velocity.y * this.game.time.physicsElapsed);
                this.position.x += this.newVelocity.x;
                this.position.y += this.newVelocity.y;
                if (this.position.x !== this.prev.x || this.position.y !== this.prev.y) {
                    this.speed = Math.sqrt(this.velocity.x * this.velocity.x + this.velocity.y * this.velocity.y);
                    this.angle = Math.atan2(this.velocity.y, this.velocity.x);
                }
                if (this.collideWorldBounds) {
                    this.checkWorldBounds();
                }
            }
            this._dx = this.deltaX();
            this._dy = this.deltaY();
            this._reset = d6t.F18;
        },
        postUpdate: function() {
            if (!this.enable) {
                return;
            }
            if (this.phase === d6t.D6) {
                return;
            }
            this.phase = d6t.D6;
            if (this.deltaX() < d6t.W6) {
                this.facing = s5.LEFT;
            } else if (this.deltaX() > d6t.W6) {
                this.facing = s5.RIGHT;
            }
            if (this.deltaY() < d6t.W6) {
                this.facing = s5.UP;
            } else if (this.deltaY() > d6t.W6) {
                this.facing = s5.DOWN;
            }
            if (this.moves) {
                this._dx = this.deltaX();
                this._dy = this.deltaY();
                if (this.deltaMax.x !== d6t.W6 && this._dx !== d6t.W6) {
                    if (this._dx < d6t.W6 && this._dx < -this.deltaMax.x) {
                        this._dx = -this.deltaMax.x;
                    } else if (this._dx > d6t.W6 && this._dx > this.deltaMax.x) {
                        this._dx = this.deltaMax.x;
                    }
                }
                if (this.deltaMax.y !== d6t.W6 && this._dy !== d6t.W6) {
                    if (this._dy < d6t.W6 && this._dy < -this.deltaMax.y) {
                        this._dy = -this.deltaMax.y;
                    } else if (this._dy > d6t.W6 && this._dy > this.deltaMax.y) {
                        this._dy = this.deltaMax.y;
                    }
                }
                this.sprite.x += this._dx;
                this.sprite.y += this._dy;
            }
            this.center.setTo(this.position.x + this.halfWidth, this.position.y + this.halfHeight);
            if (this.allowRotation) {
                this.sprite.angle += this.deltaZ();
            }
            this.prev.x = this.position.x;
            this.prev.y = this.position.y;
        },
        destroy: function() {
            this.sprite.body = d6t.B3x;
            this.sprite = d6t.B3x;
        },
        checkWorldBounds: function() {
            if (this.position.x < this.game.physics.arcade.bounds.x && this.game.physics.arcade.checkCollision.left) {
                this.position.x = this.game.physics.arcade.bounds.x;
                this.velocity.x *= -this.bounce.x;
                this.blocked.left = d6t.s73;
            } else if (this.right > this.game.physics.arcade.bounds.right && this.game.physics.arcade.checkCollision.right) {
                this.position.x = this.game.physics.arcade.bounds.right - this.width;
                this.velocity.x *= -this.bounce.x;
                this.blocked.right = d6t.s73;
            }
            if (this.position.y < this.game.physics.arcade.bounds.y && this.game.physics.arcade.checkCollision.up) {
                this.position.y = this.game.physics.arcade.bounds.y;
                this.velocity.y *= -this.bounce.y;
                this.blocked.up = d6t.s73;
            } else if (this.bottom > this.game.physics.arcade.bounds.bottom && this.game.physics.arcade.checkCollision.down) {
                this.position.y = this.game.physics.arcade.bounds.bottom - this.height;
                this.velocity.y *= -this.bounce.y;
                this.blocked.down = d6t.s73;
            }
        },
        setSize: function(t, k, j, o) {
            if (typeof j === d6t.k43) {
                j = this.offset.x;
            }
            if (typeof o === d6t.k43) {
                o = this.offset.y;
            }
            this.sourceWidth = t;
            this.sourceHeight = k;
            this.width = this.sourceWidth * this._sx;
            this.height = this.sourceHeight * this._sy;
            this.halfWidth = Math.floor(this.width / d6t.D6);
            this.halfHeight = Math.floor(this.height / d6t.D6);
            this.offset.setTo(j, o);
            this.center.setTo(this.position.x + this.halfWidth, this.position.y + this.halfHeight);
        },
        reset: function(t, k) {
            this.velocity.set(d6t.W6);
            this.acceleration.set(d6t.W6);
            this.angularVelocity = d6t.W6;
            this.angularAcceleration = d6t.W6;
            this.position.x = (t - (this.sprite.anchor.x * this.width)) + this.offset.x;
            this.position.y = (k - (this.sprite.anchor.y * this.height)) + this.offset.y;
            this.prev.x = this.position.x;
            this.prev.y = this.position.y;
            this.rotation = this.sprite.angle;
            this.preRotation = this.rotation;
            this._sx = this.sprite.scale.x;
            this._sy = this.sprite.scale.y;
            this.center.setTo(this.position.x + this.halfWidth, this.position.y + this.halfHeight);
        },
        hitTest: function(t, k) {
            return s5.Rectangle.contains(this, t, k);
        },
        onFloor: function() {
            return this.blocked.down;
        },
        onWall: function() {
            return (this.blocked.left || this.blocked.right);
        },
        deltaAbsX: function() {
            return (this.deltaX() > d6t.W6 ? this.deltaX() : -this.deltaX());
        },
        deltaAbsY: function() {
            return (this.deltaY() > d6t.W6 ? this.deltaY() : -this.deltaY());
        },
        deltaX: function() {
            return this.position.x - this.prev.x;
        },
        deltaY: function() {
            return this.position.y - this.prev.y;
        },
        deltaZ: function() {
            return this.rotation - this.preRotation;
        }
    };
    Object.defineProperty(s5.Physics.Arcade.Body.prototype, K7, {
        get: function() {
            return this.position.y + this.height;
        }
    });
    Object.defineProperty(s5.Physics.Arcade.Body.prototype, d6t.J4f, {
        get: function() {
            return this.position.x + this.width;
        }
    });
    Object.defineProperty(s5.Physics.Arcade.Body.prototype, d6t.m5f, {
        get: function() {
            return this.position.x;
        },
        set: function(t) {
            this.position.x = t;
        }
    });
    Object.defineProperty(s5.Physics.Arcade.Body.prototype, d6t.w6f, {
        get: function() {
            return this.position.y;
        },
        set: function(t) {
            this.position.y = t;
        }
    });
    s5.Physics.Arcade.Body.render = function(t, k, j, o) {
        if (typeof o === d6t.k43) {
            o = d6t.s73;
        }
        j = j || O6;
        if (o) {
            t.fillStyle = j;
            t.fillRect(k.position.x - k.game.camera.x, k.position.y - k.game.camera.y, k.width, k.height);
        } else {
            t.strokeStyle = j;
            t.strokeRect(k.position.x - k.game.camera.x, k.position.y - k.game.camera.y, k.width, k.height);
        }
    };
    s5.Physics.Arcade.Body.renderBodyInfo = function(t, k) {
        var j = 'blocked left: ',
            o = 'up: ',
            e = 'right: ',
            q = 'touching left: ',
            m = 'bounce x: ',
            k5 = 'gravity x: ',
            C5 = 'speed: ',
            H5 = 'acceleration x: ',
            j5 = 'deltaY: ',
            Y5 = 'deltaX: ',
            z5 = 'velocity x: ',
            P5 = 'height: ',
            p5 = 'width: ';
        t.line(d6t.q88 + k.x.toFixed(d6t.D6), d6t.n9f + k.y.toFixed(d6t.D6), p5 + k.width, P5 + k.height);
        t.line(z5 + k.velocity.x.toFixed(d6t.D6), d6t.n9f + k.velocity.y.toFixed(d6t.D6), Y5 + k._dx.toFixed(d6t.D6), j5 + k._dy.toFixed(d6t.D6));
        t.line(H5 + k.acceleration.x.toFixed(d6t.D6), d6t.n9f + k.acceleration.y.toFixed(d6t.D6), C5 + k.speed.toFixed(d6t.D6), j6 + k.angle.toFixed(d6t.D6));
        t.line(k5 + k.gravity.x, d6t.n9f + k.gravity.y, m + k.bounce.x.toFixed(d6t.D6), d6t.n9f + k.bounce.y.toFixed(d6t.D6));
        t.line(q + k.touching.left, e + k.touching.right, o + k.touching.up, Q5 + k.touching.down);
        t.line(j + k.blocked.left, e + k.blocked.right, o + k.blocked.up, Q5 + k.blocked.down);
    };
    s5.Physics.Arcade.Body.prototype.constructor = s5.Physics.Arcade.Body;
    s5.Particles = function(game) {
        this.game = game;
        this.emitters = {};
        this.ID = d6t.W6;
    };
    s5.Particles.prototype = {
        add: function(t) {
            this.emitters[t.name] = t;
            return t;
        },
        remove: function(t) {
            delete this.emitters[t.name];
        },
        update: function() {
            for (var t in this.emitters) {
                if (this.emitters[t].exists) {
                    this.emitters[t].update();
                }
            }
        }
    };
    s5.Particles.prototype.constructor = s5.Particles;
    s5.Particles.Arcade = {};
    s5.Particles.Arcade.Emitter = function(game, k, j, o) {
        var e = 'emitter';
        this.maxParticles = o || d6t.I9x;
        s5.Group.call(this, game);
        this.name = e + this.game.particles.ID++;
        this.type = s5.EMITTER;
        this.area = new s5.Rectangle(k, j, d6t.A6, d6t.A6);
        this.minParticleSpeed = new s5.Point(-d6t.a08, -d6t.a08);
        this.maxParticleSpeed = new s5.Point(d6t.a08, d6t.a08);
        this.minParticleScale = d6t.A6;
        this.maxParticleScale = d6t.A6;
        this.scaleData = d6t.B3x;
        this.minRotation = -d6t.v7x;
        this.maxRotation = d6t.v7x;
        this.minParticleAlpha = d6t.A6;
        this.maxParticleAlpha = d6t.A6;
        this.alphaData = d6t.B3x;
        this.gravity = d6t.a08;
        this.particleClass = s5.Particle;
        this.particleDrag = new s5.Point();
        this.angularDrag = d6t.W6;
        this.frequency = d6t.a08;
        this.lifespan = d6t.P43;
        this.bounce = new s5.Point();
        this.on = d6t.F18;
        this.particleAnchor = new s5.Point(d6t.z48, d6t.z48);
        this.blendMode = s5.blendModes.NORMAL;
        this.emitX = k;
        this.emitY = j;
        this.autoScale = d6t.F18;
        this.autoAlpha = d6t.F18;
        this.particleBringToTop = d6t.F18;
        this.particleSendToBack = d6t.F18;
        this._minParticleScale = new s5.Point(d6t.A6, d6t.A6);
        this._maxParticleScale = new s5.Point(d6t.A6, d6t.A6);
        this._quantity = d6t.W6;
        this._timer = d6t.W6;
        this._counter = d6t.W6;
        this._explode = d6t.s73;
        this._frames = d6t.B3x;
    };
    s5.Particles.Arcade.Emitter.prototype = Object.create(s5.Group.prototype);
    s5.Particles.Arcade.Emitter.prototype.constructor = s5.Particles.Arcade.Emitter;
    s5.Particles.Arcade.Emitter.prototype.update = function() {
        if (this.on) {
            if (this._explode) {
                this._counter = d6t.W6;
                do {
                    this.emitParticle();
                    this._counter++;
                } while (this._counter < this._quantity);
                this.on = d6t.F18;
            } else {
                if (this.game.time.now >= this._timer) {
                    this.emitParticle();
                    this._counter++;
                    if (this._quantity > d6t.W6) {
                        if (this._counter >= this._quantity) {
                            this.on = d6t.F18;
                        }
                    }
                    this._timer = this.game.time.now + this.frequency;
                }
            }
        }
        var t = this.children.length;
        while (t--) {
            if (this.children[t].exists) {
                this.children[t].update();
            }
        }
    };
    s5.Particles.Arcade.Emitter.prototype.makeParticles = function(t, k, j, o, e) {
        if (typeof k === d6t.k43) {
            k = d6t.W6;
        }
        if (typeof j === d6t.k43) {
            j = this.maxParticles;
        }
        if (typeof o === d6t.k43) {
            o = d6t.F18;
        }
        if (typeof e === d6t.k43) {
            e = d6t.F18;
        }
        var q, m = d6t.W6,
            k5 = t,
            C5 = k;
        this._frames = k;
        while (m < j) {
            if (Array.isArray(t)) {
                k5 = this.game.rnd.pick(t);
            }
            if (Array.isArray(k)) {
                C5 = this.game.rnd.pick(k);
            }
            q = new this.particleClass(this.game, d6t.W6, d6t.W6, k5, C5);
            this.game.physics.arcade.enable(q, d6t.F18);
            if (o) {
                q.body.checkCollision.any = d6t.s73;
                q.body.checkCollision.none = d6t.F18;
            } else {
                q.body.checkCollision.none = d6t.s73;
            }
            q.body.collideWorldBounds = e;
            q.exists = d6t.F18;
            q.visible = d6t.F18;
            q.anchor.copyFrom(this.particleAnchor);
            this.add(q);
            m++;
        }
        return this;
    };
    s5.Particles.Arcade.Emitter.prototype.kill = function() {
        this.on = d6t.F18;
        this.alive = d6t.F18;
        this.exists = d6t.F18;
    };
    s5.Particles.Arcade.Emitter.prototype.revive = function() {
        this.alive = d6t.s73;
        this.exists = d6t.s73;
    };
    s5.Particles.Arcade.Emitter.prototype.explode = function(t, k) {
        this.start(d6t.s73, t, d6t.W6, k, d6t.F18);
    };
    s5.Particles.Arcade.Emitter.prototype.flow = function(t, k, j) {
        this.start(d6t.F18, t, k, j, d6t.s73);
    };
    s5.Particles.Arcade.Emitter.prototype.start = function(t, k, j, o, e) {
        if (typeof t === d6t.k43) {
            t = d6t.s73;
        }
        if (typeof k === d6t.k43) {
            k = d6t.W6;
        }
        if (typeof j === d6t.k43 || j === d6t.B3x) {
            j = d6t.q9;
        }
        if (typeof o === d6t.k43) {
            o = d6t.W6;
        }
        if (typeof e === d6t.k43) {
            e = d6t.F18;
        }
        this.revive();
        this.visible = d6t.s73;
        this.on = d6t.s73;
        this._explode = t;
        this.lifespan = k;
        this.frequency = j;
        if (t || e) {
            this._quantity = o;
        } else {
            this._quantity += o;
        }
        this._counter = d6t.W6;
        this._timer = this.game.time.now + j;
    };
    s5.Particles.Arcade.Emitter.prototype.emitParticle = function() {
        var t = this.getFirstExists(d6t.F18);
        if (t === d6t.B3x) {
            return;
        }
        if (this.width > d6t.A6 || this.height > d6t.A6) {
            t.reset(this.game.rnd.integerInRange(this.left, this.right), this.game.rnd.integerInRange(this.top, this.bottom));
        } else {
            t.reset(this.emitX, this.emitY);
        }
        t.angle = d6t.W6;
        t.lifespan = this.lifespan;
        if (this.particleBringToTop) {
            this.bringToTop(t);
        } else if (this.particleSendToBack) {
            this.sendToBack(t);
        }
        if (this.autoScale) {
            t.setScaleData(this.scaleData);
        } else if (this.minParticleScale !== d6t.A6 || this.maxParticleScale !== d6t.A6) {
            t.scale.set(this.game.rnd.realInRange(this.minParticleScale, this.maxParticleScale));
        } else if ((this._minParticleScale.x !== this._maxParticleScale.x) || (this._minParticleScale.y !== this._maxParticleScale.y)) {
            t.scale.set(this.game.rnd.realInRange(this._minParticleScale.x, this._maxParticleScale.x), this.game.rnd.realInRange(this._minParticleScale.y, this._maxParticleScale.y));
        }
        if (Array.isArray(this._frames === d6t.T7H)) {
            t.frame = this.game.rnd.pick(this._frames);
        } else {
            t.frame = this._frames;
        }
        if (this.autoAlpha) {
            t.setAlphaData(this.alphaData);
        } else {
            t.alpha = this.game.rnd.realInRange(this.minParticleAlpha, this.maxParticleAlpha);
        }
        t.blendMode = this.blendMode;
        t.body.updateBounds();
        t.body.bounce.setTo(this.bounce.x, this.bounce.y);
        t.body.velocity.x = this.game.rnd.integerInRange(this.minParticleSpeed.x, this.maxParticleSpeed.x);
        t.body.velocity.y = this.game.rnd.integerInRange(this.minParticleSpeed.y, this.maxParticleSpeed.y);
        t.body.angularVelocity = this.game.rnd.integerInRange(this.minRotation, this.maxRotation);
        t.body.gravity.y = this.gravity;
        t.body.drag.x = this.particleDrag.x;
        t.body.drag.y = this.particleDrag.y;
        t.body.angularDrag = this.angularDrag;
        t.onEmit();
    };
    s5.Particles.Arcade.Emitter.prototype.setSize = function(t, k) {
        this.area.width = t;
        this.area.height = k;
    };
    s5.Particles.Arcade.Emitter.prototype.setXSpeed = function(t, k) {
        t = t || d6t.W6;
        k = k || d6t.W6;
        this.minParticleSpeed.x = t;
        this.maxParticleSpeed.x = k;
    };
    s5.Particles.Arcade.Emitter.prototype.setYSpeed = function(t, k) {
        t = t || d6t.W6;
        k = k || d6t.W6;
        this.minParticleSpeed.y = t;
        this.maxParticleSpeed.y = k;
    };
    s5.Particles.Arcade.Emitter.prototype.setRotation = function(t, k) {
        t = t || d6t.W6;
        k = k || d6t.W6;
        this.minRotation = t;
        this.maxRotation = k;
    };
    s5.Particles.Arcade.Emitter.prototype.setAlpha = function(t, k, j, o, e) {
        if (typeof t === d6t.k43) {
            t = d6t.A6;
        }
        if (typeof k === d6t.k43) {
            k = d6t.A6;
        }
        if (typeof j === d6t.k43) {
            j = d6t.W6;
        }
        if (typeof o === d6t.k43) {
            o = s5.Easing.Linear.None;
        }
        if (typeof e === d6t.k43) {
            e = d6t.F18;
        }
        this.minParticleAlpha = t;
        this.maxParticleAlpha = k;
        this.autoAlpha = d6t.F18;
        if (j > d6t.W6 && t !== k) {
            var q = {
                    v: t
                },
                m = this.game.make.tween(q).to({
                    v: k
                }, j, o);
            m.yoyo(e);
            this.alphaData = m.generateData(d6t.V8x);
            this.alphaData.reverse();
            this.autoAlpha = d6t.s73;
        }
    };
    s5.Particles.Arcade.Emitter.prototype.setScale = function(t, k, j, o, e, q, m) {
        if (typeof t === d6t.k43) {
            t = d6t.A6;
        }
        if (typeof k === d6t.k43) {
            k = d6t.A6;
        }
        if (typeof j === d6t.k43) {
            j = d6t.A6;
        }
        if (typeof o === d6t.k43) {
            o = d6t.A6;
        }
        if (typeof e === d6t.k43) {
            e = d6t.W6;
        }
        if (typeof q === d6t.k43) {
            q = s5.Easing.Linear.None;
        }
        if (typeof m === d6t.k43) {
            m = d6t.F18;
        }
        this.minParticleScale = d6t.A6;
        this.maxParticleScale = d6t.A6;
        this._minParticleScale.set(t, j);
        this._maxParticleScale.set(k, o);
        this.autoScale = d6t.F18;
        if (e > d6t.W6 && (t !== k) || (j !== o)) {
            var k5 = {
                    x: t,
                    y: j
                },
                C5 = this.game.make.tween(k5).to({
                    x: k,
                    y: o
                }, e, q);
            C5.yoyo(m);
            this.scaleData = C5.generateData(d6t.V8x);
            this.scaleData.reverse();
            this.autoScale = d6t.s73;
        }
    };
    s5.Particles.Arcade.Emitter.prototype.at = function(t) {
        if (t.center) {
            this.emitX = t.center.x;
            this.emitY = t.center.y;
        } else {
            this.emitX = t.world.x + (t.anchor.x * t.width);
            this.emitY = t.world.y + (t.anchor.y * t.height);
        }
    };
    Object.defineProperty(s5.Particles.Arcade.Emitter.prototype, d6t.K5B, {
        get: function() {
            return this.area.width;
        },
        set: function(t) {
            this.area.width = t;
        }
    });
    Object.defineProperty(s5.Particles.Arcade.Emitter.prototype, d6t.B2f, {
        get: function() {
            return this.area.height;
        },
        set: function(t) {
            this.area.height = t;
        }
    });
    Object.defineProperty(s5.Particles.Arcade.Emitter.prototype, d6t.m5f, {
        get: function() {
            return this.emitX;
        },
        set: function(t) {
            this.emitX = t;
        }
    });
    Object.defineProperty(s5.Particles.Arcade.Emitter.prototype, d6t.w6f, {
        get: function() {
            return this.emitY;
        },
        set: function(t) {
            this.emitY = t;
        }
    });
    Object.defineProperty(s5.Particles.Arcade.Emitter.prototype, d6t.I7x, {
        get: function() {
            return Math.floor(this.x - (this.area.width / d6t.D6));
        }
    });
    Object.defineProperty(s5.Particles.Arcade.Emitter.prototype, d6t.J4f, {
        get: function() {
            return Math.floor(this.x + (this.area.width / d6t.D6));
        }
    });
    Object.defineProperty(s5.Particles.Arcade.Emitter.prototype, W7, {
        get: function() {
            return Math.floor(this.y - (this.area.height / d6t.D6));
        }
    });
    Object.defineProperty(s5.Particles.Arcade.Emitter.prototype, K7, {
        get: function() {
            return Math.floor(this.y + (this.area.height / d6t.D6));
        }
    });
    s5.Tile = function(t, k, j, o, e, q) {
        this.layer = t;
        this.index = k;
        this.x = j;
        this.y = o;
        this.worldX = j * e;
        this.worldY = o * q;
        this.width = e;
        this.height = q;
        this.centerX = Math.abs(e / d6t.D6);
        this.centerY = Math.abs(q / d6t.D6);
        this.alpha = d6t.A6;
        this.properties = {};
        this.scanned = d6t.F18;
        this.faceTop = d6t.F18;
        this.faceBottom = d6t.F18;
        this.faceLeft = d6t.F18;
        this.faceRight = d6t.F18;
        this.collideLeft = d6t.F18;
        this.collideRight = d6t.F18;
        this.collideUp = d6t.F18;
        this.collideDown = d6t.F18;
        this.collisionCallback = d6t.B3x;
        this.collisionCallbackContext = this;
    };
    s5.Tile.prototype = {
        containsPoint: function(t, k) {
            return !(t < this.worldX || k < this.worldY || t > this.right || k > this.bottom);
        },
        intersects: function(t, k, j, o) {
            if (j <= this.worldX) {
                return d6t.F18;
            }
            if (o <= this.worldY) {
                return d6t.F18;
            }
            if (t >= this.worldX + this.width) {
                return d6t.F18;
            }
            if (k >= this.worldY + this.height) {
                return d6t.F18;
            }
            return d6t.s73;
        },
        setCollisionCallback: function(t, k) {
            this.collisionCallback = t;
            this.collisionCallbackContext = k;
        },
        destroy: function() {
            this.collisionCallback = d6t.B3x;
            this.collisionCallbackContext = d6t.B3x;
            this.properties = d6t.B3x;
        },
        setCollision: function(t, k, j, o) {
            this.collideLeft = t;
            this.collideRight = k;
            this.collideUp = j;
            this.collideDown = o;
            this.faceLeft = t;
            this.faceRight = k;
            this.faceTop = j;
            this.faceBottom = o;
        },
        resetCollision: function() {
            this.collideLeft = d6t.F18;
            this.collideRight = d6t.F18;
            this.collideUp = d6t.F18;
            this.collideDown = d6t.F18;
            this.faceTop = d6t.F18;
            this.faceBottom = d6t.F18;
            this.faceLeft = d6t.F18;
            this.faceRight = d6t.F18;
        },
        isInteresting: function(t, k) {
            if (t && k) {
                return (this.collideLeft || this.collideRight || this.collideUp || this.collideDown || this.faceTop || this.faceBottom || this.faceLeft || this.faceRight || this.collisionCallback);
            } else if (t) {
                return (this.collideLeft || this.collideRight || this.collideUp || this.collideDown);
            } else if (k) {
                return (this.faceTop || this.faceBottom || this.faceLeft || this.faceRight);
            }
            return d6t.F18;
        },
        copy: function(t) {
            this.index = t.index;
            this.alpha = t.alpha;
            this.properties = t.properties;
            this.collideUp = t.collideUp;
            this.collideDown = t.collideDown;
            this.collideLeft = t.collideLeft;
            this.collideRight = t.collideRight;
            this.collisionCallback = t.collisionCallback;
            this.collisionCallbackContext = t.collisionCallbackContext;
        }
    };
    s5.Tile.prototype.constructor = s5.Tile;
    Object.defineProperty(s5.Tile.prototype, G5, {
        get: function() {
            return (this.collideLeft || this.collideRight || this.collideUp || this.collideDown);
        }
    });
    Object.defineProperty(s5.Tile.prototype, m6, {
        get: function() {
            return (this.collideLeft || this.collideRight || this.collideUp || this.collideDown || this.collisionCallback);
        }
    });
    Object.defineProperty(s5.Tile.prototype, d6t.I7x, {
        get: function() {
            return this.worldX;
        }
    });
    Object.defineProperty(s5.Tile.prototype, d6t.J4f, {
        get: function() {
            return this.worldX + this.width;
        }
    });
    Object.defineProperty(s5.Tile.prototype, W7, {
        get: function() {
            return this.worldY;
        }
    });
    Object.defineProperty(s5.Tile.prototype, K7, {
        get: function() {
            return this.worldY + this.height;
        }
    });
    s5.Tilemap = function(game, k, j, o, e, q) {
        this.game = game;
        this.key = k;
        var m = s5.TilemapParser.parse(this.game, k, j, o, e, q);
        if (m === d6t.B3x) {
            return;
        }
        this.width = m.width;
        this.height = m.height;
        this.tileWidth = m.tileWidth;
        this.tileHeight = m.tileHeight;
        this.orientation = m.orientation;
        this.format = m.format;
        this.version = m.version;
        this.properties = m.properties;
        this.widthInPixels = m.widthInPixels;
        this.heightInPixels = m.heightInPixels;
        this.layers = m.layers;
        this.tilesets = m.tilesets;
        this.tiles = m.tiles;
        this.objects = m.objects;
        this.collideIndexes = [];
        this.collision = m.collision;
        this.images = m.images;
        this.currentLayer = d6t.W6;
        this.debugMap = [];
        this._results = [];
        this._tempA = d6t.W6;
        this._tempB = d6t.W6;
    };
    s5.Tilemap.CSV = d6t.W6;
    s5.Tilemap.TILED_JSON = d6t.A6;
    s5.Tilemap.NORTH = d6t.W6;
    s5.Tilemap.EAST = d6t.A6;
    s5.Tilemap.SOUTH = d6t.D6;
    s5.Tilemap.WEST = d6t.B6;
    s5.Tilemap.prototype = {
        create: function(t, k, j, o, e, q) {
            if (typeof q === d6t.k43) {
                q = this.game.world;
            }
            this.width = k;
            this.height = j;
            this.setTileSize(o, e);
            this.layers.length = d6t.W6;
            return this.createBlankLayer(t, k, j, o, e, q);
        },
        setTileSize: function(t, k) {
            this.tileWidth = t;
            this.tileHeight = k;
            this.widthInPixels = this.width * t;
            this.heightInPixels = this.height * k;
        },
        addTilesetImage: function(t, k, j, o, e, q, m) {
            var k5 = 'Phaser.Tilemap.addTilesetImage: No data found in the JSON matching the tileset name: "',
                C5 = 'Phaser.Tilemap.addTilesetImage: Invalid image key given: "';
            if (typeof j === d6t.k43) {
                j = this.tileWidth;
            }
            if (typeof o === d6t.k43) {
                o = this.tileHeight;
            }
            if (typeof e === d6t.k43) {
                e = d6t.W6;
            }
            if (typeof q === d6t.k43) {
                q = d6t.W6;
            }
            if (typeof m === d6t.k43) {
                m = d6t.W6;
            }
            if (j === d6t.W6) {
                j = d6t.z9x;
            }
            if (o === d6t.W6) {
                o = d6t.z9x;
            }
            if (typeof k === d6t.k43) {
                if (typeof t === d6t.F78) {
                    k = t;
                    if (!this.game.cache.checkImageKey(k)) {
                        console.warn(C5 + k + d6t.l93);
                        return d6t.B3x;
                    }
                } else {
                    return d6t.B3x;
                }
            }
            if (typeof t === d6t.F78) {
                t = this.getTilesetIndex(t);
                if (t === d6t.B3x && this.format === s5.Tilemap.TILED_JSON) {
                    console.warn(k5 + k + d6t.l93);
                    return d6t.B3x;
                }
            }
            if (this.tilesets[t]) {
                this.tilesets[t].setImage(this.game.cache.getImage(k));
                return this.tilesets[t];
            } else {
                var H5 = new s5.Tileset(k, m, j, o, e, q, {});
                H5.setImage(this.game.cache.getImage(k));
                this.tilesets.push(H5);
                var j5 = this.tilesets.length - d6t.A6,
                    Y5 = e,
                    z5 = e,
                    P5 = d6t.W6,
                    p5 = d6t.W6,
                    w5 = d6t.W6;
                for (var R5 = m; R5 < m + H5.total; R5++) {
                    this.tiles[R5] = [Y5, z5, j5];
                    Y5 += j + q;
                    P5++;
                    if (P5 === H5.total) {
                        break;
                    }
                    p5++;
                    if (p5 === H5.columns) {
                        Y5 = e;
                        z5 += o + q;
                        p5 = d6t.W6;
                        w5++;
                        if (w5 === H5.rows) {
                            break;
                        }
                    }
                }
                return H5;
            }
            return d6t.B3x;
        },
        createFromObjects: function(t, k, j, o, e, q, m, k5, C5) {
            var H5 = 'Tilemap.createFromObjects: Invalid objectgroup name given: ';
            if (typeof e === d6t.k43) {
                e = d6t.s73;
            }
            if (typeof q === d6t.k43) {
                q = d6t.F18;
            }
            if (typeof m === d6t.k43) {
                m = this.game.world;
            }
            if (typeof k5 === d6t.k43) {
                k5 = s5.Sprite;
            }
            if (typeof C5 === d6t.k43) {
                C5 = d6t.s73;
            }
            if (!this.objects[t]) {
                console.warn(H5 + t);
                return;
            }
            var j5;
            for (var Y5 = d6t.W6, z5 = this.objects[t].length; Y5 < z5; Y5++) {
                if (this.objects[t][Y5].gid === k) {
                    j5 = new k5(this.game, this.objects[t][Y5].x, this.objects[t][Y5].y, j, o);
                    j5.name = this.objects[t][Y5].name;
                    j5.visible = this.objects[t][Y5].visible;
                    j5.autoCull = q;
                    j5.exists = e;
                    if (C5) {
                        j5.y -= j5.height;
                    }
                    m.add(j5);
                    for (var P5 in this.objects[t][Y5].properties) {
                        m.set(j5, P5, this.objects[t][Y5].properties[P5], d6t.F18, d6t.F18, d6t.W6, d6t.s73);
                    }
                }
            }
        },
        createLayer: function(t, k, j, o) {
            var e = 'Tilemap.createLayer: Invalid layer ID given: ';
            if (typeof k === d6t.k43) {
                k = this.game.width;
            }
            if (typeof j === d6t.k43) {
                j = this.game.height;
            }
            if (typeof o === d6t.k43) {
                o = this.game.world;
            }
            var q = t;
            if (typeof t === d6t.F78) {
                q = this.getLayerIndex(t);
            }
            if (q === d6t.B3x || q > this.layers.length) {
                console.warn(e + q);
                return;
            }
            return o.add(new s5.TilemapLayer(this.game, this, q, k, j));
        },
        createBlankLayer: function(t, k, j, o, e, q) {
            var m = 'Tilemap.createBlankLayer: Layer with matching name already exists';
            if (typeof q === d6t.k43) {
                q = this.game.world;
            }
            if (this.getLayerIndex(t) !== d6t.B3x) {
                console.warn(m);
                return;
            }
            var k5 = {
                    name: t,
                    x: d6t.W6,
                    y: d6t.W6,
                    width: k,
                    height: j,
                    widthInPixels: k * o,
                    heightInPixels: j * e,
                    alpha: d6t.A6,
                    visible: d6t.s73,
                    properties: {},
                    indexes: [],
                    callbacks: [],
                    bodies: [],
                    data: d6t.B3x
                },
                C5, H5 = [];
            for (var j5 = d6t.W6; j5 < j; j5++) {
                C5 = [];
                for (var Y5 = d6t.W6; Y5 < k; Y5++) {
                    C5.push(new s5.Tile(k5, -d6t.A6, Y5, j5, o, e));
                }
                H5.push(C5);
            }
            k5.data = H5;
            this.layers.push(k5);
            this.currentLayer = this.layers.length - d6t.A6;
            var z5 = k5.widthInPixels,
                P5 = k5.heightInPixels;
            if (z5 > this.game.width) {
                z5 = this.game.width;
            }
            if (P5 > this.game.height) {
                P5 = this.game.height;
            }
            var H5 = new s5.TilemapLayer(this.game, this, this.layers.length - d6t.A6, z5, P5);
            H5.name = t;
            return q.add(H5);
        },
        getIndex: function(t, k) {
            for (var j = d6t.W6; j < t.length; j++) {
                if (t[j].name === k) {
                    return j;
                }
            }
            return d6t.B3x;
        },
        getLayerIndex: function(t) {
            return this.getIndex(this.layers, t);
        },
        getTilesetIndex: function(t) {
            return this.getIndex(this.tilesets, t);
        },
        getImageIndex: function(t) {
            return this.getIndex(this.images, t);
        },
        getObjectIndex: function(t) {
            return this.getIndex(this.objects, t);
        },
        setTileIndexCallback: function(t, k, j, o) {
            o = this.getLayer(o);
            if (typeof t === d6t.F3B) {
                this.layers[o].callbacks[t] = {
                    callback: k,
                    callbackContext: j
                };
            } else {
                for (var e = d6t.W6, q = t.length; e < q; e++) {
                    this.layers[o].callbacks[t[e]] = {
                        callback: k,
                        callbackContext: j
                    };
                }
            }
        },
        setTileLocationCallback: function(t, k, j, o, e, q, m) {
            m = this.getLayer(m);
            this.copy(t, k, j, o, m);
            if (this._results.length < d6t.D6) {
                return;
            }
            for (var k5 = d6t.A6; k5 < this._results.length; k5++) {
                this._results[k5].setCollisionCallback(e, q);
            }
        },
        setCollision: function(t, k, j, o) {
            if (typeof k === d6t.k43) {
                k = d6t.s73;
            }
            if (typeof o === d6t.k43) {
                o = d6t.s73;
            }
            j = this.getLayer(j);
            if (typeof t === d6t.F3B) {
                return this.setCollisionByIndex(t, k, j, d6t.s73);
            } else {
                for (var e = d6t.W6, q = t.length; e < q; e++) {
                    this.setCollisionByIndex(t[e], k, j, d6t.F18);
                }
                if (o) {
                    this.calculateFaces(j);
                }
            }
        },
        setCollisionBetween: function(t, k, j, o, e) {
            if (typeof j === d6t.k43) {
                j = d6t.s73;
            }
            if (typeof e === d6t.k43) {
                e = d6t.s73;
            }
            o = this.getLayer(o);
            if (t > k) {
                return;
            }
            for (var q = t; q <= k; q++) {
                this.setCollisionByIndex(q, j, o, d6t.F18);
            }
            if (e) {
                this.calculateFaces(o);
            }
        },
        setCollisionByExclusion: function(t, k, j, o) {
            if (typeof k === d6t.k43) {
                k = d6t.s73;
            }
            if (typeof o === d6t.k43) {
                o = d6t.s73;
            }
            j = this.getLayer(j);
            for (var e = d6t.W6, q = this.tiles.length; e < q; e++) {
                if (t.indexOf(e) === -d6t.A6) {
                    this.setCollisionByIndex(e, k, j, d6t.F18);
                }
            }
            if (o) {
                this.calculateFaces(j);
            }
        },
        setCollisionByIndex: function(t, k, j, o) {
            if (typeof k === d6t.k43) {
                k = d6t.s73;
            }
            if (typeof j === d6t.k43) {
                j = this.currentLayer;
            }
            if (typeof o === d6t.k43) {
                o = d6t.s73;
            }
            if (k) {
                this.collideIndexes.push(t);
            } else {
                var e = this.collideIndexes.indexOf(t);
                if (e > -d6t.A6) {
                    this.collideIndexes.splice(e, d6t.A6);
                }
            }
            for (var q = d6t.W6; q < this.layers[j].height; q++) {
                for (var m = d6t.W6; m < this.layers[j].width; m++) {
                    var k5 = this.layers[j].data[q][m];
                    if (k5 && k5.index === t) {
                        if (k) {
                            k5.setCollision(d6t.s73, d6t.s73, d6t.s73, d6t.s73);
                        } else {
                            k5.resetCollision();
                        }
                        k5.faceTop = k;
                        k5.faceBottom = k;
                        k5.faceLeft = k;
                        k5.faceRight = k;
                    }
                }
            }
            if (o) {
                this.calculateFaces(j);
            }
            return j;
        },
        getLayer: function(t) {
            if (typeof t === d6t.k43) {
                t = this.currentLayer;
            } else if (typeof t === d6t.F78) {
                t = this.getLayerIndex(t);
            } else if (t instanceof s5.TilemapLayer) {
                t = t.index;
            }
            return t;
        },
        setPreventRecalculate: function(t) {
            if ((t === d6t.s73) && (this.preventingRecalculate !== d6t.s73)) {
                this.preventingRecalculate = d6t.s73;
                this.needToRecalculate = {};
            }
            if ((t === d6t.F18) && (this.preventingRecalculate === d6t.s73)) {
                this.preventingRecalculate = d6t.F18;
                for (var k in this.needToRecalculate) {
                    this.calculateFaces(k);
                }
                this.needToRecalculate = d6t.F18;
            }
        },
        calculateFaces: function(t) {
            if (this.preventingRecalculate) {
                this.needToRecalculate[t] = d6t.s73;
                return;
            }
            var k = d6t.B3x,
                j = d6t.B3x,
                o = d6t.B3x,
                e = d6t.B3x;
            for (var q = d6t.W6, m = this.layers[t].height; q < m; q++) {
                for (var k5 = d6t.W6, C5 = this.layers[t].width; k5 < C5; k5++) {
                    var H5 = this.layers[t].data[q][k5];
                    if (H5) {
                        k = this.getTileAbove(t, k5, q);
                        j = this.getTileBelow(t, k5, q);
                        o = this.getTileLeft(t, k5, q);
                        e = this.getTileRight(t, k5, q);
                        if (H5.collides) {
                            H5.faceTop = d6t.s73;
                            H5.faceBottom = d6t.s73;
                            H5.faceLeft = d6t.s73;
                            H5.faceRight = d6t.s73;
                        }
                        if (k && k.collides) {
                            H5.faceTop = d6t.F18;
                        }
                        if (j && j.collides) {
                            H5.faceBottom = d6t.F18;
                        }
                        if (o && o.collides) {
                            H5.faceLeft = d6t.F18;
                        }
                        if (e && e.collides) {
                            H5.faceRight = d6t.F18;
                        }
                    }
                }
            }
        },
        getTileAbove: function(t, k, j) {
            if (j > d6t.W6) {
                return this.layers[t].data[j - d6t.A6][k];
            }
            return d6t.B3x;
        },
        getTileBelow: function(t, k, j) {
            if (j < this.layers[t].height - d6t.A6) {
                return this.layers[t].data[j + d6t.A6][k];
            }
            return d6t.B3x;
        },
        getTileLeft: function(t, k, j) {
            if (k > d6t.W6) {
                return this.layers[t].data[j][k - d6t.A6];
            }
            return d6t.B3x;
        },
        getTileRight: function(t, k, j) {
            if (k < this.layers[t].width - d6t.A6) {
                return this.layers[t].data[j][k + d6t.A6];
            }
            return d6t.B3x;
        },
        setLayer: function(t) {
            t = this.getLayer(t);
            if (this.layers[t]) {
                this.currentLayer = t;
            }
        },
        hasTile: function(t, k, j) {
            j = this.getLayer(j);
            return (this.layers[j].data[k][t].index > -d6t.A6);
        },
        removeTile: function(t, k, j) {
            j = this.getLayer(j);
            if (t >= d6t.W6 && t < this.layers[j].width && k >= d6t.W6 && k < this.layers[j].height) {
                if (this.hasTile(t, k, j)) {
                    var o = this.layers[j].data[k][t];
                    this.layers[j].data[k][t] = new s5.Tile(this.layers[j], -d6t.A6, t, k, this.tileWidth, this.tileHeight);
                    this.layers[j].dirty = d6t.s73;
                    this.calculateFaces(j);
                    return o;
                }
            }
        },
        removeTileWorldXY: function(t, k, j, o, e) {
            e = this.getLayer(e);
            t = this.game.math.snapToFloor(t, j) / j;
            k = this.game.math.snapToFloor(k, o) / o;
            return this.removeTile(t, k, e);
        },
        putTile: function(t, k, j, o) {
            if (t === d6t.B3x) {
                return this.removeTile(k, j, o);
            }
            o = this.getLayer(o);
            if (k >= d6t.W6 && k < this.layers[o].width && j >= d6t.W6 && j < this.layers[o].height) {
                var e;
                if (t instanceof s5.Tile) {
                    e = t.index;
                    if (this.hasTile(k, j, o)) {
                        this.layers[o].data[j][k].copy(t);
                    } else {
                        this.layers[o].data[j][k] = new s5.Tile(o, e, k, j, t.width, t.height);
                    }
                } else {
                    e = t;
                    if (this.hasTile(k, j, o)) {
                        this.layers[o].data[j][k].index = e;
                    } else {
                        this.layers[o].data[j][k] = new s5.Tile(this.layers[o], e, k, j, this.tileWidth, this.tileHeight);
                    }
                }
                if (this.collideIndexes.indexOf(e) > -d6t.A6) {
                    this.layers[o].data[j][k].setCollision(d6t.s73, d6t.s73, d6t.s73, d6t.s73);
                } else {
                    this.layers[o].data[j][k].resetCollision();
                }
                this.layers[o].dirty = d6t.s73;
                this.calculateFaces(o);
                return this.layers[o].data[j][k];
            }
            return d6t.B3x;
        },
        putTileWorldXY: function(t, k, j, o, e, q) {
            q = this.getLayer(q);
            k = this.game.math.snapToFloor(k, o) / o;
            j = this.game.math.snapToFloor(j, e) / e;
            return this.putTile(t, k, j, q);
        },
        searchTileIndex: function(t, k, j, o) {
            if (typeof k === d6t.k43) {
                k = d6t.W6;
            }
            if (typeof j === d6t.k43) {
                j = d6t.F18;
            }
            o = this.getLayer(o);
            var e = d6t.W6;
            if (j) {
                for (var q = this.layers[o].height - d6t.A6; q >= d6t.W6; q--) {
                    for (var m = this.layers[o].width - d6t.A6; m >= d6t.W6; m--) {
                        if (this.layers[o].data[q][m].index === t) {
                            if (e === k) {
                                return this.layers[o].data[q][m];
                            } else {
                                e++;
                            }
                        }
                    }
                }
            } else {
                for (var q = d6t.W6; q < this.layers[o].height; q++) {
                    for (var m = d6t.W6; m < this.layers[o].width; m++) {
                        if (this.layers[o].data[q][m].index === t) {
                            if (e === k) {
                                return this.layers[o].data[q][m];
                            } else {
                                e++;
                            }
                        }
                    }
                }
            }
            return d6t.B3x;
        },
        getTile: function(t, k, j, o) {
            if (typeof o === d6t.k43) {
                o = d6t.F18;
            }
            j = this.getLayer(j);
            if (t >= d6t.W6 && t < this.layers[j].width && k >= d6t.W6 && k < this.layers[j].height) {
                if (this.layers[j].data[k][t].index === -d6t.A6) {
                    if (o) {
                        return this.layers[j].data[k][t];
                    } else {
                        return d6t.B3x;
                    }
                } else {
                    return this.layers[j].data[k][t];
                }
            } else {
                return d6t.B3x;
            }
        },
        getTileWorldXY: function(t, k, j, o, e) {
            if (typeof j === d6t.k43) {
                j = this.tileWidth;
            }
            if (typeof o === d6t.k43) {
                o = this.tileHeight;
            }
            e = this.getLayer(e);
            t = this.game.math.snapToFloor(t, j) / j;
            k = this.game.math.snapToFloor(k, o) / o;
            return this.getTile(t, k, e);
        },
        copy: function(t, k, j, o, e) {
            e = this.getLayer(e);
            if (!this.layers[e]) {
                this._results.length = d6t.W6;
                return;
            }
            if (typeof t === d6t.k6f) {
                t = d6t.W6;
            }
            if (typeof k === d6t.k6f) {
                k = d6t.W6;
            }
            if (typeof j === d6t.k6f) {
                j = this.layers[e].width;
            }
            if (typeof o === d6t.k6f) {
                o = this.layers[e].height;
            }
            if (t < d6t.W6) {
                t = d6t.W6;
            }
            if (k < d6t.W6) {
                k = d6t.W6;
            }
            if (j > this.layers[e].width) {
                j = this.layers[e].width;
            }
            if (o > this.layers[e].height) {
                o = this.layers[e].height;
            }
            this._results.length = d6t.W6;
            this._results.push({
                x: t,
                y: k,
                width: j,
                height: o,
                layer: e
            });
            for (var q = k; q < k + o; q++) {
                for (var m = t; m < t + j; m++) {
                    this._results.push(this.layers[e].data[q][m]);
                }
            }
            return this._results;
        },
        paste: function(t, k, j, o) {
            if (typeof t === d6t.k6f) {
                t = d6t.W6;
            }
            if (typeof k === d6t.k6f) {
                k = d6t.W6;
            }
            o = this.getLayer(o);
            if (!j || j.length < d6t.D6) {
                return;
            }
            var e = j[d6t.A6].x - t,
                q = j[d6t.A6].y - k;
            for (var m = d6t.A6; m < j.length; m++) {
                this.layers[o].data[q + j[m].y][e + j[m].x].copy(j[m]);
            }
            this.layers[o].dirty = d6t.s73;
            this.calculateFaces(o);
        },
        swap: function(t, k, j, o, e, q, m) {
            m = this.getLayer(m);
            this.copy(j, o, e, q, m);
            if (this._results.length < d6t.D6) {
                return;
            }
            this._tempA = t;
            this._tempB = k;
            this._results.forEach(this.swapHandler, this);
            this.paste(j, o, this._results, m);
        },
        swapHandler: function(t) {
            if (t.index === this._tempA) {
                t.index = this._tempB;
            } else if (t.index === this._tempB) {
                t.index = this._tempA;
            }
        },
        forEach: function(t, k, j, o, e, q, m) {
            m = this.getLayer(m);
            this.copy(j, o, e, q, m);
            if (this._results.length < d6t.D6) {
                return;
            }
            this._results.forEach(t, k);
            this.paste(j, o, this._results, m);
        },
        replace: function(t, k, j, o, e, q, m) {
            m = this.getLayer(m);
            this.copy(j, o, e, q, m);
            if (this._results.length < d6t.D6) {
                return;
            }
            for (var k5 = d6t.A6; k5 < this._results.length; k5++) {
                if (this._results[k5].index === t) {
                    this._results[k5].index = k;
                }
            }
            this.paste(j, o, this._results, m);
        },
        random: function(t, k, j, o, e) {
            e = this.getLayer(e);
            this.copy(t, k, j, o, e);
            if (this._results.length < d6t.D6) {
                return;
            }
            var q = [];
            for (var m = d6t.A6; m < this._results.length; m++) {
                if (this._results[m].index) {
                    var k5 = this._results[m].index;
                    if (q.indexOf(k5) === -d6t.A6) {
                        q.push(k5);
                    }
                }
            }
            for (var C5 = d6t.A6; C5 < this._results.length; C5++) {
                this._results[C5].index = this.game.rnd.pick(q);
            }
            this.paste(t, k, this._results, e);
        },
        shuffle: function(t, k, j, o, e) {
            e = this.getLayer(e);
            this.copy(t, k, j, o, e);
            if (this._results.length < d6t.D6) {
                return;
            }
            var q = [];
            for (var m = d6t.A6; m < this._results.length; m++) {
                if (this._results[m].index) {
                    q.push(this._results[m].index);
                }
            }
            s5.Utils.shuffle(q);
            for (var k5 = d6t.A6; k5 < this._results.length; k5++) {
                this._results[k5].index = q[k5 - d6t.A6];
            }
            this.paste(t, k, this._results, e);
        },
        fill: function(t, k, j, o, e, q) {
            q = this.getLayer(q);
            this.copy(k, j, o, e, q);
            if (this._results.length < d6t.D6) {
                return;
            }
            for (var m = d6t.A6; m < this._results.length; m++) {
                this._results[m].index = t;
            }
            this.paste(k, j, this._results, q);
        },
        removeAllLayers: function() {
            this.layers.length = d6t.W6;
            this.currentLayer = d6t.W6;
        },
        dump: function() {
            var t = "background: rgb(0, 0, 0)",
                k = "background: #ffffff",
                j = "background: ",
                o = "%c  ",
                e = d6t.I6x,
                q = [d6t.I6x];
            for (var m = d6t.W6; m < this.layers[this.currentLayer].height; m++) {
                for (var k5 = d6t.W6; k5 < this.layers[this.currentLayer].width; k5++) {
                    e += o;
                    if (this.layers[this.currentLayer].data[m][k5] > d6t.A6) {
                        if (this.debugMap[this.layers[this.currentLayer].data[m][k5]]) {
                            q.push(j + this.debugMap[this.layers[this.currentLayer].data[m][k5]]);
                        } else {
                            q.push(k);
                        }
                    } else {
                        q.push(t);
                    }
                }
                e += d6t.t98;
            }
            q[d6t.W6] = e;
            console.log.apply(console, q);
        },
        destroy: function() {
            this.removeAllLayers();
            this.data = [];
            this.game = d6t.B3x;
        }
    };
    s5.Tilemap.prototype.constructor = s5.Tilemap;
    Object.defineProperty(s5.Tilemap.prototype, C6, {
        get: function() {
            return this.layers[this.currentLayer];
        },
        set: function(t) {
            if (t !== this.currentLayer) {
                this.setLayer(t);
            }
        }
    });
    s5.TilemapLayer = function(game, k, j, o, e) {
        var q = 'rgba(255, 0, 0, 1)',
            m = 'rgba(0, 255, 0, 0.2)',
            k5 = 'rgba(0, 255, 0, 1)',
            C5 = 'rgb(255, 255, 255)',
            H5 = 'tilemapLayer';
        this.game = game;
        this.map = k;
        this.index = j;
        this.layer = k.layers[j];
        this.canvas = s5.Canvas.create(o, e, d6t.I6x, d6t.s73);
        this.context = this.canvas.getContext(d6t.J8);
        this.baseTexture = new PIXI.BaseTexture(this.canvas);
        this.texture = new PIXI.Texture(this.baseTexture);
        this.textureFrame = new s5.Frame(d6t.W6, d6t.W6, d6t.W6, o, e, H5, game.rnd.uuid());
        s5.Image.call(this, this.game, d6t.W6, d6t.W6, this.texture, this.textureFrame);
        this.name = d6t.I6x;
        this.type = s5.TILEMAPLAYER;
        this.fixedToCamera = d6t.s73;
        this.cameraOffset = new s5.Point(d6t.W6, d6t.W6);
        this.tileColor = C5;
        this.debug = d6t.F18;
        this.debugAlpha = d6t.z48;
        this.debugColor = k5;
        this.debugFill = d6t.F18;
        this.debugFillColor = m;
        this.debugCallbackColor = q;
        this.scrollFactorX = d6t.A6;
        this.scrollFactorY = d6t.A6;
        this.dirty = d6t.s73;
        this.rayStepRate = d6t.M6;
        this.wrap = d6t.F18;
        this._mc = {
            cw: k.tileWidth,
            ch: k.tileHeight,
            ga: d6t.A6,
            dx: d6t.W6,
            dy: d6t.W6,
            dw: d6t.W6,
            dh: d6t.W6,
            tx: d6t.W6,
            ty: d6t.W6,
            tw: d6t.W6,
            th: d6t.W6,
            tl: d6t.W6,
            maxX: d6t.W6,
            maxY: d6t.W6,
            startX: d6t.W6,
            startY: d6t.W6,
            x: d6t.W6,
            y: d6t.W6,
            prevX: d6t.W6,
            prevY: d6t.W6
        };
        this._results = [];
        this.updateMax();
    };
    s5.TilemapLayer.prototype = Object.create(s5.Image.prototype);
    s5.TilemapLayer.prototype.constructor = s5.TilemapLayer;
    s5.TilemapLayer.prototype.postUpdate = function() {
        s5.Image.prototype.postUpdate.call(this);
        this.scrollX = this.game.camera.x * this.scrollFactorX;
        this.scrollY = this.game.camera.y * this.scrollFactorY;
        this.render();
        if (this._cache[d6t.v6] === d6t.A6) {
            this.position.x = (this.game.camera.view.x + this.cameraOffset.x) / this.game.camera.scale.x;
            this.position.y = (this.game.camera.view.y + this.cameraOffset.y) / this.game.camera.scale.y;
        }
    };
    s5.TilemapLayer.prototype.resizeWorld = function() {
        this.game.world.setBounds(d6t.W6, d6t.W6, this.layer.widthInPixels, this.layer.heightInPixels);
    };
    s5.TilemapLayer.prototype._fixX = function(t) {
        if (t < d6t.W6) {
            t = d6t.W6;
        }
        if (this.scrollFactorX === d6t.A6) {
            return t;
        }
        return this._mc.x + (t - (this._mc.x / this.scrollFactorX));
    };
    s5.TilemapLayer.prototype._unfixX = function(t) {
        if (this.scrollFactorX === d6t.A6) {
            return t;
        }
        return (this._mc.x / this.scrollFactorX) + (t - this._mc.x);
    };
    s5.TilemapLayer.prototype._fixY = function(t) {
        if (t < d6t.W6) {
            t = d6t.W6;
        }
        if (this.scrollFactorY === d6t.A6) {
            return t;
        }
        return this._mc.y + (t - (this._mc.y / this.scrollFactorY));
    };
    s5.TilemapLayer.prototype._unfixY = function(t) {
        if (this.scrollFactorY === d6t.A6) {
            return t;
        }
        return (this._mc.y / this.scrollFactorY) + (t - this._mc.y);
    };
    s5.TilemapLayer.prototype.getTileX = function(t) {
        return this.game.math.snapToFloor(this._fixX(t), this.map.tileWidth) / this.map.tileWidth;
    };
    s5.TilemapLayer.prototype.getTileY = function(t) {
        return this.game.math.snapToFloor(this._fixY(t), this.map.tileHeight) / this.map.tileHeight;
    };
    s5.TilemapLayer.prototype.getTileXY = function(t, k, j) {
        j.x = this.getTileX(t);
        j.y = this.getTileY(k);
        return j;
    };
    s5.TilemapLayer.prototype.getRayCastTiles = function(t, k, j, o) {
        if (typeof k === d6t.k43 || k === d6t.B3x) {
            k = this.rayStepRate;
        }
        if (typeof j === d6t.k43) {
            j = d6t.F18;
        }
        if (typeof o === d6t.k43) {
            o = d6t.F18;
        }
        var e = this.getTiles(t.x, t.y, t.width, t.height, j, o);
        if (e.length === d6t.W6) {
            return [];
        }
        var q = t.coordinatesOnLine(k),
            m = q.length,
            k5 = [];
        for (var C5 = d6t.W6; C5 < e.length; C5++) {
            for (var H5 = d6t.W6; H5 < m; H5++) {
                if (e[C5].containsPoint(q[H5][d6t.W6], q[H5][d6t.A6])) {
                    k5.push(e[C5]);
                    break;
                }
            }
        }
        return k5;
    };
    s5.TilemapLayer.prototype.getTiles = function(t, k, j, o, e, q) {
        if (typeof e === d6t.k43) {
            e = d6t.F18;
        }
        if (typeof q === d6t.k43) {
            q = d6t.F18;
        }
        t = this._fixX(t);
        k = this._fixY(k);
        if (j > this.layer.widthInPixels) {
            j = this.layer.widthInPixels;
        }
        if (o > this.layer.heightInPixels) {
            o = this.layer.heightInPixels;
        }
        this._mc.tx = this.game.math.snapToFloor(t, this._mc.cw) / this._mc.cw;
        this._mc.ty = this.game.math.snapToFloor(k, this._mc.ch) / this._mc.ch;
        this._mc.tw = (this.game.math.snapToCeil(j, this._mc.cw) + this._mc.cw) / this._mc.cw;
        this._mc.th = (this.game.math.snapToCeil(o, this._mc.ch) + this._mc.ch) / this._mc.ch;
        this._results.length = d6t.W6;
        for (var m = this._mc.ty; m < this._mc.ty + this._mc.th; m++) {
            for (var k5 = this._mc.tx; k5 < this._mc.tx + this._mc.tw; k5++) {
                if (this.layer.data[m] && this.layer.data[m][k5]) {
                    if ((!e && !q) || this.layer.data[m][k5].isInteresting(e, q)) {
                        this._results.push(this.layer.data[m][k5]);
                    }
                }
            }
        }
        return this._results;
    };
    s5.TilemapLayer.prototype.updateMax = function() {
        this._mc.maxX = this.game.math.ceil(this.canvas.width / this.map.tileWidth) + d6t.A6;
        this._mc.maxY = this.game.math.ceil(this.canvas.height / this.map.tileHeight) + d6t.A6;
        this.dirty = d6t.s73;
    };
    s5.TilemapLayer.prototype.render = function() {
        if (this.layer.dirty) {
            this.dirty = d6t.s73;
        }
        if (!this.dirty || !this.visible) {
            return;
        }
        this._mc.prevX = this._mc.dx;
        this._mc.prevY = this._mc.dy;
        this._mc.dx = -(this._mc.x - (this._mc.startX * this.map.tileWidth));
        this._mc.dy = -(this._mc.y - (this._mc.startY * this.map.tileHeight));
        this._mc.tx = this._mc.dx;
        this._mc.ty = this._mc.dy;
        this.context.clearRect(d6t.W6, d6t.W6, this.canvas.width, this.canvas.height);
        this.context.fillStyle = this.tileColor;
        var t, k;
        if (this.debug) {
            this.context.globalAlpha = this.debugAlpha;
        }
        for (var j = this._mc.startY, o = this._mc.startY + this._mc.maxY; j < o; j++) {
            this._column = d6t.B3x;
            if (j < d6t.W6 && this.wrap) {
                this._column = this.layer.data[j + this.map.height];
            } else if (j >= this.map.height && this.wrap) {
                this._column = this.layer.data[j - this.map.height];
            } else if (this.layer.data[j]) {
                this._column = this.layer.data[j];
            }
            if (this._column) {
                for (var e = this._mc.startX, q = this._mc.startX + this._mc.maxX; e < q; e++) {
                    var t = d6t.B3x;
                    if (e < d6t.W6 && this.wrap) {
                        t = this._column[e + this.map.width];
                    } else if (e >= this.map.width && this.wrap) {
                        t = this._column[e - this.map.width];
                    } else if (this._column[e]) {
                        t = this._column[e];
                    }
                    if (t && t.index > -d6t.A6) {
                        k = this.map.tilesets[this.map.tiles[t.index][d6t.D6]];
                        if (this.debug === d6t.F18 && t.alpha !== this.context.globalAlpha) {
                            this.context.globalAlpha = t.alpha;
                        }
                        k.draw(this.context, Math.floor(this._mc.tx), Math.floor(this._mc.ty), t.index);
                        if (t.debug) {
                            this.context.fillStyle = E6;
                            this.context.fillRect(Math.floor(this._mc.tx), Math.floor(this._mc.ty), this.map.tileWidth, this.map.tileHeight);
                        }
                    }
                    this._mc.tx += this.map.tileWidth;
                }
            }
            this._mc.tx = this._mc.dx;
            this._mc.ty += this.map.tileHeight;
        }
        if (this.debug) {
            this.context.globalAlpha = d6t.A6;
            this.renderDebug();
        }
        this.texture._updateUvs();
        this.dirty = d6t.F18;
        this.layer.dirty = d6t.F18;
        return d6t.s73;
    };
    s5.TilemapLayer.prototype.renderDebug = function() {
        this._mc.tx = this._mc.dx;
        this._mc.ty = this._mc.dy;
        this.context.strokeStyle = this.debugColor;
        this.context.fillStyle = this.debugFillColor;
        for (var t = this._mc.startY, k = this._mc.startY + this._mc.maxY; t < k; t++) {
            this._column = d6t.B3x;
            if (t < d6t.W6 && this.wrap) {
                this._column = this.layer.data[t + this.map.height];
            } else if (t >= this.map.height && this.wrap) {
                this._column = this.layer.data[t - this.map.height];
            } else if (this.layer.data[t]) {
                this._column = this.layer.data[t];
            }
            if (this._column) {
                for (var j = this._mc.startX, o = this._mc.startX + this._mc.maxX; j < o; j++) {
                    var e = d6t.B3x;
                    if (j < d6t.W6 && this.wrap) {
                        e = this._column[j + this.map.width];
                    } else if (j >= this.map.width && this.wrap) {
                        e = this._column[j - this.map.width];
                    } else if (this._column[j]) {
                        e = this._column[j];
                    }
                    if (e && (e.faceTop || e.faceBottom || e.faceLeft || e.faceRight)) {
                        this._mc.tx = Math.floor(this._mc.tx);
                        if (this.debugFill) {
                            this.context.fillRect(this._mc.tx, this._mc.ty, this._mc.cw, this._mc.ch);
                        }
                        this.context.beginPath();
                        if (e.faceTop) {
                            this.context.moveTo(this._mc.tx, this._mc.ty);
                            this.context.lineTo(this._mc.tx + this._mc.cw, this._mc.ty);
                        }
                        if (e.faceBottom) {
                            this.context.moveTo(this._mc.tx, this._mc.ty + this._mc.ch);
                            this.context.lineTo(this._mc.tx + this._mc.cw, this._mc.ty + this._mc.ch);
                        }
                        if (e.faceLeft) {
                            this.context.moveTo(this._mc.tx, this._mc.ty);
                            this.context.lineTo(this._mc.tx, this._mc.ty + this._mc.ch);
                        }
                        if (e.faceRight) {
                            this.context.moveTo(this._mc.tx + this._mc.cw, this._mc.ty);
                            this.context.lineTo(this._mc.tx + this._mc.cw, this._mc.ty + this._mc.ch);
                        }
                        this.context.stroke();
                    }
                    this._mc.tx += this.map.tileWidth;
                }
            }
            this._mc.tx = this._mc.dx;
            this._mc.ty += this.map.tileHeight;
        }
    };
    Object.defineProperty(s5.TilemapLayer.prototype, h6, {
        get: function() {
            return this._mc.x;
        },
        set: function(t) {
            if (t !== this._mc.x) {
                this._mc.x = t;
                this._mc.startX = this.game.math.floor(this._mc.x / this.map.tileWidth);
                this.dirty = d6t.s73;
            }
        }
    });
    Object.defineProperty(s5.TilemapLayer.prototype, q6, {
        get: function() {
            return this._mc.y;
        },
        set: function(t) {
            if (t !== this._mc.y) {
                this._mc.y = t;
                this._mc.startY = this.game.math.floor(this._mc.y / this.map.tileHeight);
                this.dirty = d6t.s73;
            }
        }
    });
    Object.defineProperty(s5.TilemapLayer.prototype, S5, {
        get: function() {
            return this._mc.cw;
        },
        set: function(t) {
            this._mc.cw = t;
            this.dirty = d6t.s73;
        }
    });
    Object.defineProperty(s5.TilemapLayer.prototype, b5, {
        get: function() {
            return this._mc.ch;
        },
        set: function(t) {
            this._mc.ch = t;
            this.dirty = d6t.s73;
        }
    });
    s5.TilemapParser = {
        parse: function(game, k, j, o, e, q) {
            var m = 'Phaser.TilemapParser.parse - No map data found for key ';
            if (typeof j === d6t.k43) {
                j = d6t.z9x;
            }
            if (typeof o === d6t.k43) {
                o = d6t.z9x;
            }
            if (typeof e === d6t.k43) {
                e = d6t.x7x;
            }
            if (typeof q === d6t.k43) {
                q = d6t.x7x;
            }
            if (typeof k === d6t.k43) {
                return this.getEmptyData();
            }
            if (k === d6t.B3x) {
                return this.getEmptyData(j, o, e, q);
            }
            var k5 = game.cache.getTilemapData(k);
            if (k5) {
                if (k5.format === s5.Tilemap.CSV) {
                    return this.parseCSV(k, k5.data, j, o);
                } else if (!k5.format || k5.format === s5.Tilemap.TILED_JSON) {
                    return this.parseTiledJSON(k5.data);
                }
            } else {
                console.warn(m + k);
            }
        },
        parseCSV: function(t, k, j, o) {
            var e = this.getEmptyData();
            k = k.trim();
            var q = [],
                m = k.split(d6t.t98),
                k5 = m.length,
                C5 = d6t.W6;
            for (var H5 = d6t.W6; H5 < m.length; H5++) {
                q[H5] = [];
                var j5 = m[H5].split(d6t.T4x);
                for (var Y5 = d6t.W6; Y5 < j5.length; Y5++) {
                    q[H5][Y5] = new s5.Tile(e.layers[d6t.W6], parseInt(j5[Y5], d6t.x7x), Y5, H5, j, o);
                }
                if (C5 === d6t.W6) {
                    C5 = j5.length;
                }
            }
            e.format = s5.Tilemap.CSV;
            e.name = t;
            e.width = C5;
            e.height = k5;
            e.tileWidth = j;
            e.tileHeight = o;
            e.widthInPixels = C5 * j;
            e.heightInPixels = k5 * o;
            e.layers[d6t.W6].width = C5;
            e.layers[d6t.W6].height = k5;
            e.layers[d6t.W6].widthInPixels = e.widthInPixels;
            e.layers[d6t.W6].heightInPixels = e.heightInPixels;
            e.layers[d6t.W6].data = q;
            return e;
        },
        getEmptyData: function(t, k, j, o) {
            var e = 'layer',
                q = {};
            q.width = d6t.W6;
            q.height = d6t.W6;
            q.tileWidth = d6t.W6;
            q.tileHeight = d6t.W6;
            if (typeof t !== d6t.k43 && t !== d6t.B3x) {
                q.tileWidth = t;
            }
            if (typeof k !== d6t.k43 && k !== d6t.B3x) {
                q.tileHeight = k;
            }
            if (typeof j !== d6t.k43 && j !== d6t.B3x) {
                q.width = j;
            }
            if (typeof o !== d6t.k43 && o !== d6t.B3x) {
                q.height = o;
            }
            q.orientation = V6;
            q.version = d6t.p03;
            q.properties = {};
            q.widthInPixels = d6t.W6;
            q.heightInPixels = d6t.W6;
            var m = [],
                k5 = {
                    name: e,
                    x: d6t.W6,
                    y: d6t.W6,
                    width: d6t.W6,
                    height: d6t.W6,
                    widthInPixels: d6t.W6,
                    heightInPixels: d6t.W6,
                    alpha: d6t.A6,
                    visible: d6t.s73,
                    properties: {},
                    indexes: [],
                    callbacks: [],
                    bodies: [],
                    data: []
                };
            m.push(k5);
            q.layers = m;
            q.images = [];
            q.objects = {};
            q.collision = {};
            q.tilesets = [];
            q.tiles = [];
            return q;
        },
        parseTiledJSON: function(q) {
            var m = "ellipse",
                k5 = "properties",
                C5 = "visible",
                H5 = 'objectgroup',
                j5 = 'TileSet image dimensions do not match expected dimensions. Tileset width/height must be evenly divisible by Tilemap tile width/height.',
                Y5 = 'imagelayer',
                z5 = 'tilelayer',
                P5 = 'TilemapParser.parseTiledJSON: Only orthogonal map types are supported in this version of Phaser';
            if (q.orientation !== V6) {
                console.warn(P5);
                return d6t.B3x;
            }
            var p5 = {};
            p5.width = q.width;
            p5.height = q.height;
            p5.tileWidth = q.tilewidth;
            p5.tileHeight = q.tileheight;
            p5.orientation = q.orientation;
            p5.format = s5.Tilemap.TILED_JSON;
            p5.version = q.version;
            p5.properties = q.properties;
            p5.widthInPixels = p5.width * p5.tileWidth;
            p5.heightInPixels = p5.height * p5.tileHeight;
            var w5 = [];
            for (var R5 = d6t.W6; R5 < q.layers.length; R5++) {
                if (q.layers[R5].type !== z5) {
                    continue;
                }
                var r5 = {
                    name: q.layers[R5].name,
                    x: q.layers[R5].x,
                    y: q.layers[R5].y,
                    width: q.layers[R5].width,
                    height: q.layers[R5].height,
                    widthInPixels: q.layers[R5].width * q.tilewidth,
                    heightInPixels: q.layers[R5].height * q.tileheight,
                    alpha: q.layers[R5].opacity,
                    visible: q.layers[R5].visible,
                    properties: {},
                    indexes: [],
                    callbacks: [],
                    bodies: []
                };
                if (q.layers[R5].properties) {
                    r5.properties = q.layers[R5].properties;
                }
                var T5 = d6t.W6,
                    a5 = [],
                    x5 = [];
                for (var f5 = d6t.W6, A5 = q.layers[R5].data.length; f5 < A5; f5++) {
                    if (q.layers[R5].data[f5] > d6t.W6) {
                        a5.push(new s5.Tile(r5, q.layers[R5].data[f5], T5, x5.length, q.tilewidth, q.tileheight));
                    } else {
                        a5.push(new s5.Tile(r5, -d6t.A6, T5, x5.length, q.tilewidth, q.tileheight));
                    }
                    T5++;
                    if (T5 === q.layers[R5].width) {
                        x5.push(a5);
                        T5 = d6t.W6;
                        a5 = [];
                    }
                }
                r5.data = x5;
                w5.push(r5);
            }
            p5.layers = w5;
            var u5 = [];
            for (var R5 = d6t.W6; R5 < q.layers.length; R5++) {
                if (q.layers[R5].type !== Y5) {
                    continue;
                }
                var B5 = {
                    name: q.layers[R5].name,
                    image: q.layers[R5].image,
                    x: q.layers[R5].x,
                    y: q.layers[R5].y,
                    alpha: q.layers[R5].opacity,
                    visible: q.layers[R5].visible,
                    properties: {}
                };
                if (q.layers[R5].properties) {
                    B5.properties = q.layers[R5].properties;
                }
                u5.push(B5);
            }
            p5.images = u5;
            var D5 = [];
            for (var R5 = d6t.W6; R5 < q.tilesets.length; R5++) {
                var o5 = q.tilesets[R5],
                    N5 = new s5.Tileset(o5.name, o5.firstgid, o5.tilewidth, o5.tileheight, o5.margin, o5.spacing, o5.properties);
                if (o5.tileproperties) {
                    N5.tileProperties = o5.tileproperties;
                }
                N5.rows = Math.round((o5.imageheight - o5.margin) / (o5.tileheight + o5.spacing));
                N5.columns = Math.round((o5.imagewidth - o5.margin) / (o5.tilewidth + o5.spacing));
                N5.total = N5.rows * N5.columns;
                if (N5.rows % d6t.A6 !== d6t.W6 || N5.columns % d6t.A6 !== d6t.W6) {
                    console.warn(j5);
                } else {
                    D5.push(N5);
                }
            }
            p5.tilesets = D5;
            var y5 = {},
                U5 = {};

            function W5(t, k) {
                var j = {};
                for (var o in k) {
                    var e = k[o];
                    j[e] = t[e];
                }
                return j;
            }
            for (var R5 = d6t.W6; R5 < q.layers.length; R5++) {
                if (q.layers[R5].type !== H5) {
                    continue;
                }
                y5[q.layers[R5].name] = [];
                U5[q.layers[R5].name] = [];
                for (var J5 = d6t.W6, A5 = q.layers[R5].objects.length; J5 < A5; J5++) {
                    if (q.layers[R5].objects[J5].gid) {
                        var g5 = {
                            gid: q.layers[R5].objects[J5].gid,
                            name: q.layers[R5].objects[J5].name,
                            x: q.layers[R5].objects[J5].x,
                            y: q.layers[R5].objects[J5].y,
                            visible: q.layers[R5].objects[J5].visible,
                            properties: q.layers[R5].objects[J5].properties
                        };
                        y5[q.layers[R5].name].push(g5);
                    } else if (q.layers[R5].objects[J5].polyline) {
                        var g5 = {
                            name: q.layers[R5].objects[J5].name,
                            type: q.layers[R5].objects[J5].type,
                            x: q.layers[R5].objects[J5].x,
                            y: q.layers[R5].objects[J5].y,
                            width: q.layers[R5].objects[J5].width,
                            height: q.layers[R5].objects[J5].height,
                            visible: q.layers[R5].objects[J5].visible,
                            properties: q.layers[R5].objects[J5].properties
                        };
                        g5.polyline = [];
                        for (var c5 = d6t.W6; c5 < q.layers[R5].objects[J5].polyline.length; c5++) {
                            g5.polyline.push([q.layers[R5].objects[J5].polyline[c5].x, q.layers[R5].objects[J5].polyline[c5].y]);
                        }
                        U5[q.layers[R5].name].push(g5);
                        y5[q.layers[R5].name].push(g5);
                    } else if (q.layers[R5].objects[J5].polygon) {
                        var g5 = W5(q.layers[R5].objects[J5], [d6t.y88, d6t.p08, d6t.m5f, d6t.w6f, C5, k5]);
                        g5.polygon = [];
                        for (var c5 = d6t.W6; c5 < q.layers[R5].objects[J5].polygon.length; c5++) {
                            g5.polygon.push([q.layers[R5].objects[J5].polygon[c5].x, q.layers[R5].objects[J5].polygon[c5].y]);
                        }
                        y5[q.layers[R5].name].push(g5);
                    } else if (q.layers[R5].objects[J5].ellipse) {
                        var g5 = W5(q.layers[R5].objects[J5], [d6t.y88, d6t.p08, m, d6t.m5f, d6t.w6f, d6t.K5B, d6t.B2f, C5, k5]);
                        y5[q.layers[R5].name].push(g5);
                    } else {
                        var g5 = W5(q.layers[R5].objects[J5], [d6t.y88, d6t.p08, d6t.m5f, d6t.w6f, d6t.K5B, d6t.B2f, C5, k5]);
                        g5.rectangle = d6t.s73;
                        y5[q.layers[R5].name].push(g5);
                    }
                }
            }
            p5.objects = y5;
            p5.collision = U5;
            p5.tiles = [];
            for (var R5 = d6t.W6; R5 < p5.tilesets.length; R5++) {
                var o5 = p5.tilesets[R5],
                    T5 = o5.tileMargin,
                    Z5 = o5.tileMargin,
                    M5 = d6t.W6,
                    n5 = d6t.W6,
                    R6 = d6t.W6;
                for (var f5 = o5.firstgid; f5 < o5.firstgid + o5.total; f5++) {
                    p5.tiles[f5] = [T5, Z5, R5];
                    T5 += o5.tileWidth + o5.tileSpacing;
                    M5++;
                    if (M5 === o5.total) {
                        break;
                    }
                    n5++;
                    if (n5 === o5.columns) {
                        T5 = o5.tileMargin;
                        Z5 += o5.tileHeight + o5.tileSpacing;
                        n5 = d6t.W6;
                        R6++;
                        if (R6 === o5.rows) {
                            break;
                        }
                    }
                }
            }
            var R5, h5, K6, r5, s6, i5, o5;
            for (R5 = d6t.W6; R5 < p5.layers.length; R5++) {
                r5 = p5.layers[R5];
                for (h5 = d6t.W6; h5 < r5.data.length; h5++) {
                    a5 = r5.data[h5];
                    for (K6 = d6t.W6; K6 < a5.length; K6++) {
                        s6 = a5[K6];
                        if (s6.index < d6t.W6) {
                            continue;
                        }
                        i5 = p5.tiles[s6.index][d6t.D6];
                        o5 = p5.tilesets[i5];
                        if (o5.tileProperties && o5.tileProperties[s6.index - o5.firstgid]) {
                            s6.properties = o5.tileProperties[s6.index - o5.firstgid];
                        }
                    }
                }
            }
            return p5;
        }
    };
    s5.Tileset = function(t, k, j, o, e, q, m) {
        if (typeof j === d6t.k43 || j <= d6t.W6) {
            j = d6t.z9x;
        }
        if (typeof o === d6t.k43 || o <= d6t.W6) {
            o = d6t.z9x;
        }
        if (typeof e === d6t.k43) {
            e = d6t.W6;
        }
        if (typeof q === d6t.k43) {
            q = d6t.W6;
        }
        this.name = t;
        this.firstgid = k;
        this.tileWidth = j;
        this.tileHeight = o;
        this.tileMargin = e;
        this.tileSpacing = q;
        this.properties = m;
        this.image = d6t.B3x;
        this.rows = d6t.W6;
        this.columns = d6t.W6;
        this.total = d6t.W6;
        this.drawCoords = [];
    };
    s5.Tileset.prototype = {
        draw: function(t, k, j, o) {
            if (!this.image || !this.drawCoords[o]) {
                return;
            }
            t.drawImage(this.image, this.drawCoords[o][d6t.W6], this.drawCoords[o][d6t.A6], this.tileWidth, this.tileHeight, k, j, this.tileWidth, this.tileHeight);
        },
        setImage: function(t) {
            this.image = t;
            this.rows = Math.round((t.height - this.tileMargin) / (this.tileHeight + this.tileSpacing));
            this.columns = Math.round((t.width - this.tileMargin) / (this.tileWidth + this.tileSpacing));
            this.total = this.rows * this.columns;
            this.drawCoords.length = d6t.W6;
            var k = this.tileMargin,
                j = this.tileMargin,
                o = this.firstgid;
            for (var e = d6t.W6; e < this.rows; e++) {
                for (var q = d6t.W6; q < this.columns; q++) {
                    this.drawCoords[o] = [k, j];
                    k += this.tileWidth + this.tileSpacing;
                    o++;
                }
                k = this.tileMargin;
                j += this.tileHeight + this.tileSpacing;
            }
        },
        setSpacing: function(t, k) {
            this.tileMargin = t;
            this.tileSpacing = k;
            this.setImage(this.image);
        }
    };
    s5.Tileset.prototype.constructor = s5.Tileset;
    if (typeof exports !== d6t.k43) {
        if (typeof module !== d6t.k43 && module.exports) {
            exports = module.exports = s5;
        }
        exports.Phaser = s5;
    } else if (typeof define !== d6t.k43 && define.amd) {
        define('Phaser', (function() {
            return w9.Phaser = s5;
        })());
    } else {
        w9.Phaser = s5;
    }
}).call(this);;
define("phaser", (function(j) {
    return function() {
        var t, k;
        return t || j.Phaser;
    };
}(this)));
define('gt/tweaks/Pixi/Graphics', ['bottom_line', 'phaser', 'pixi'], function(A5) {
    A5.extend(PIXI.Graphics.prototype, {
        enumerable: d6t.F18
    }, {
        arc: {
            overwriteaction: d6t.w6H,
            value: function(t, k, j, o, e, q) {
                var m = t + Math.cos(o) * j,
                    k5 = k + Math.sin(o) * j,
                    C5 = [];
                if (C5.length !== d6t.W6 && C5[C5.length - d6t.D6] !== m || C5[C5.length - d6t.A6] !== k5) {
                    this.moveTo(m, k5);
                    C5 = this.currentPath.shape.points;
                }
                if (o === e) return this;
                if (!q && e <= o) {
                    e += Math.PI * d6t.D6;
                } else if (q && o <= e) {
                    o += Math.PI * d6t.D6;
                }
                var H5 = q ? (o - e) * -d6t.A6 : (e - o),
                    j5 = (Math.abs(H5) / (Math.PI * d6t.D6)) * d6t.B9x;
                if (H5 === d6t.W6) return this;
                var Y5 = H5 / (j5 * d6t.D6),
                    z5 = Y5 * d6t.D6,
                    P5 = Math.cos(Y5),
                    p5 = Math.sin(Y5),
                    w5 = j5 - d6t.A6,
                    R5 = (w5 % d6t.A6) / w5;
                for (var r5 = d6t.W6; r5 <= w5; r5++) {
                    var T5 = r5 + R5 * r5,
                        a5 = ((Y5) + o + (z5 * T5)),
                        x5 = Math.cos(a5),
                        f5 = -Math.sin(a5);
                    C5.push(((P5 * x5) + (p5 * f5)) * j + t, ((P5 * -f5) + (p5 * x5)) * j + k);
                }
                this.dirty = d6t.s73;
                return this;
            }
        }
    });
});
define('gt/tweaks/Pixi/WebGLRenderer', ['bottom_line', 'pixi'], function(j) {
    j.extend(PIXI.WebGLRenderer.prototype, {
        updateTexture: {
            overwriteaction: d6t.w6H,
            value: function(t) {
                if (!t.hasLoaded) return;
                var k = this.gl;
                if (!t._glTextures[k.id]) t._glTextures[k.id] = k.createTexture();
                k.bindTexture(k.TEXTURE_2D, t._glTextures[k.id]);
                k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL, t.premultipliedAlpha);
                if (t.source) k.texImage2D(k.TEXTURE_2D, d6t.W6, k.RGBA, k.RGBA, k.UNSIGNED_BYTE, t.source);
                k.texParameteri(k.TEXTURE_2D, k.TEXTURE_MAG_FILTER, t.scaleMode === PIXI.scaleModes.LINEAR ? k.LINEAR : k.NEAREST);
                k.texParameteri(k.TEXTURE_2D, k.TEXTURE_MIN_FILTER, t.scaleMode === PIXI.scaleModes.LINEAR ? k.LINEAR : k.NEAREST);
                if (!t._powerOf2) {
                    k.texParameteri(k.TEXTURE_2D, k.TEXTURE_WRAP_S, k.CLAMP_TO_EDGE);
                    k.texParameteri(k.TEXTURE_2D, k.TEXTURE_WRAP_T, k.CLAMP_TO_EDGE);
                } else {
                    k.texParameteri(k.TEXTURE_2D, k.TEXTURE_WRAP_S, k.REPEAT);
                    k.texParameteri(k.TEXTURE_2D, k.TEXTURE_WRAP_T, k.REPEAT);
                }
                t._dirty[k.id] = d6t.F18;
                return t._glTextures[k.id];
            }
        }
    });
});
define('gt/tweaks/Pixi/Texture', ['bottom_line', 'pixi'], function(k) {
    k.extend(PIXI.Texture.prototype, {
        setFrame: {
            overwriteaction: d6t.w6H,
            value: function(t) {
                this.noFrame = d6t.F18;
                this.frame = t;
                this.width = t.width | d6t.W6;
                this.height = t.height | d6t.W6;
                this.crop.x = t.x | d6t.W6;
                this.crop.y = t.y | d6t.W6;
                this.crop.width = t.width;
                this.crop.height = t.height;
                if (!this.trim && (t.x + t.width > this.baseTexture.width || t.y + t.height > this.baseTexture.height)) {
                    throw new Error(d6t.Q6f + this);
                }
                this.valid = t && t.width && t.height && this.baseTexture.source && this.baseTexture.hasLoaded;
                if (this.trim) {
                    this.width = this.trim.width;
                    this.height = this.trim.height;
                    this.frame.width = this.trim.width;
                    this.frame.height = this.trim.height;
                }
                if (this.valid) this._updateUvs();
            }
        }
    });
});
define('gt/math/ScalePoint', ['phaser', 'bottom_line'], function(o, e) {
    function q(t, k, j) {
        this.scale = t;
        this.scaleX = k || this.scale.x;
        this.scaleY = j || this.scale.y;
    }
    e.extend(q.prototype, {
        enumerable: d6t.F18
    }, {
        set: {
            overrideaction: d6t.w6H,
            value: function(t, k) {
                this.x = t || d6t.W6;
                this.y = k || ((k !== d6t.W6) ? t : d6t.W6);
                return this;
            }
        },
        get x() {
            return this.scale.x / this.scaleX;
        },
        set x(val) {
            this.scale.x = val * this.scaleX;
        },
        get y() {
            return this.scale.y / this.scaleY;
        },
        set y(val) {
            this.scale.y = val * this.scaleY;
        }
    });
    return q;
});
define('gt/math/GlobalPosition', ['bottom_line', 'phaser'], function(e, q) {
    function m(t) {
        this.owner = t;
    }
    e.extend(m.prototype, {
        enumerable: d6t.F18
    }, {
        globalPosition: function() {
            var t = this.owner,
                k = new q.Point(d6t.W6, d6t.W6);
            while (t) {
                k.x += t.x - (t.pivot ? t.pivot.x : d6t.W6);
                k.y += t.y - (t.pivot ? t.pivot.y : d6t.W6);
                t = t.parent;
                var j = (t && t.scale.x) || d6t.A6,
                    o = (t && t.scale.y) || d6t.A6;
                k.x *= j;
                k.y *= o;
            }
            return k;
        },
        get x() {
            return this.globalPosition().x;
        },
        get y() {
            return this.globalPosition().y;
        }
    });
    return m;
});
define('gt/gui/Sprite', ['bottom_line', 'phaser', 'gt/math/ScalePoint', 'gt/math/GlobalPosition'], function(C5, H5, j5, Y5) {
    function z5(t, k, j, o, e, q) {
        var m = o,
            k5 = j || game.spritesheets.sprites[m].spritesheet;
            // k5 = j;
        z5._super.constructor.call(this, game, t, k, k5, m);
        this.id = e;
        this.scaler = new j5(this.scale);
        this.global = new Y5(this);
        this.anchor.set(d6t.z48);
        game.scale.updateElement(this, game.spritesheets[k5], game.viewport, q);
    }
    C5.inherit(z5, H5.Sprite);
    C5.extend(z5, {
        factoryName: d6t.i13
    });
    C5.extend(z5.prototype, {
        get scalar() {
            return this.scaler.x;
        },
        set scalar(val) {
            this.scaler.set(val);
        },
        revive: {
            wrap: d6t.s73,
            value: function() {
                this.init.apply(this, arguments);
                return this;
            }
        },
        setImage: function(t) {
            var k = this._game.spritesheets.sprites[t].spritesheet;
            if (this.key === k) {
                this.frameName = t;
            } else {
                this.loadTexture(k, t);
            }
        }
    });
    return z5;
});
define('gt/tweaks/Pixi/Spine', ['bottom_line', 'pixi', 'gt/gui/Sprite'], function(j5, Y5, z5) {
    PIXI.Spine = function(t) {
        var k = "No spine data found with key: ";
        PIXI.DisplayObjectContainer.call(this);
        this.name = t;
        this.spineData = game.cache.getSpineAnimation(t);
        if (!this.spineData) {
            throw new Error(k + t);
        }
        this.updateSkeleton();
        this.stateData = new spine.AnimationStateData(this.spineData);
        this.state = new spine.AnimationState(this.stateData);
        this.state.onSetAnimation.add(this.updateSkeleton, this);
    };
    PIXI.Spine.prototype = Object.create(PIXI.DisplayObjectContainer.prototype);
    PIXI.Spine.prototype.constructor = PIXI.Spine;
    j5.extend(PIXI.Spine.prototype, {
        updateSkeleton: function() {
            if (this.skeleton) {
                this._removeSlots();
            }
            this.skeleton = new spine.Skeleton(this.spineData);
            this.skeleton.updateWorldTransform();
            this._createSlots();
        },
        _createSlots: function() {
            this.slotContainers = [];
            for (var t = d6t.W6, k = this.skeleton.drawOrder.length; t < k; t++) {
                var j = this.skeleton.drawOrder[t],
                    o = j.attachment,
                    e = new PIXI.DisplayObjectContainer();
                this.slotContainers.push(e);
                this.addChild(e);
                if (!(o instanceof spine.RegionAttachment)) {
                    continue;
                }
                var q = o.rendererObject.name,
                    m = this.createSprite(j, o.rendererObject);
                j.currentSprite = m;
                j.currentSpriteName = q;
                e.addChild(m);
            }
        },
        _removeSlots: function() {
            for (var k = d6t.W6; k < this.slotContainers.length; k++) {
                var j = this.slotContainers[k];
                j.children.forEach(function(t) {
                    j.removeChild(t);
                }.bind(this));
                this.removeChild(j);
            }
        },
        createSprite: function(t, k) {
            var j = PIXI.TextureCache[k.name] ? k.name : k.name + d6t.l0H,
                o = new z5(d6t.W6, d6t.W6, d6t.B3x, j);
            o.scale.x = k.scale.x;
            o.scale.y = k.scale.y;
            o.rotation = k.rotation;
            o.anchor.x = d6t.z48;
            o.anchor.y = d6t.z48;
            t.sprites = t.sprites || {};
            t.sprites[k.name] = o;
            return o;
        },
        preUpdate: function() {},
        update: function() {},
        postUpdate: function() {},
        updateTransform: function() {
            this.lastTime = this.lastTime || Date.now();
            var t = (Date.now() - this.lastTime) * d6t.u4H;
            this.lastTime = Date.now();
            this.state.update(t);
            this.state.apply(this.skeleton);
            this.skeleton.updateWorldTransform();
            var k = this.skeleton.drawOrder;
            for (var j = d6t.W6, o = k.length; j < o; j++) {
                var e = k[j],
                    q = e.attachment,
                    m = this.slotContainers[j];
                if (!(q instanceof spine.RegionAttachment)) {
                    m.visible = d6t.F18;
                    continue;
                }
                if (q.rendererObject) {
                    if (!e.currentSpriteName || e.currentSpriteName != q.name) {
                        var k5 = q.rendererObject.name;
                        if (e.currentSprite !== undefined) {
                            e.currentSprite.visible = d6t.F18;
                        }
                        e.sprites = e.sprites || {};
                        if (e.sprites[k5] !== undefined) {
                            e.sprites[k5].visible = d6t.s73;
                        } else {
                            var C5 = this.createSprite(e, q.rendererObject);
                            m.addChild(C5);
                        }
                        e.currentSprite = e.sprites[k5];
                        e.currentSpriteName = k5;
                    }
                }
                m.visible = d6t.s73;
                var H5 = e.bone;
                m.position.x = H5.worldX + q.x * H5.m00 + q.y * H5.m01;
                m.position.y = H5.worldY + q.x * H5.m10 + q.y * H5.m11;
                m.position.x *= game.viewport.scale;
                m.position.y *= game.viewport.scale;
                m.scale.x = H5.worldScaleX / game.viewport.spritesheetScale * game.viewport.scale;
                m.scale.y = H5.worldScaleY / game.viewport.spritesheetScale * game.viewport.scale;
                m.rotation = -(e.bone.worldRotation * Math.PI / d6t.D6B);
                m.alpha = e.a;
                e.currentSprite.tint = PIXI.rgb2hex([e.r, e.g, e.b]);
            }
            PIXI.DisplayObjectContainer.prototype.updateTransform.call(this);
        }
    });
});
spine.AnimationState = function(t) {
    this.data = t;
    this.queue = [];
    this.paused = d6t.F18;
    this.onSetAnimation = new Phaser.Signal();
};
spine.AnimationState.prototype = {
    animationSpeed: d6t.A6,
    current: d6t.B3x,
    previous: d6t.B3x,
    currentTime: d6t.W6,
    previousTime: d6t.W6,
    currentLoop: d6t.F18,
    previousLoop: d6t.F18,
    backward: d6t.F18,
    mixTime: d6t.W6,
    mixDuration: d6t.W6,
    update: function(t) {
        if (this.paused) {
            return;
        }
        this.currentTime += (t * this.animationSpeed);
        this.previousTime += t;
        this.mixTime += t;
        if (this.queue.length > d6t.W6) {
            var k = this.queue[d6t.W6];
            if (this.currentTime >= k.delay) {
                this._setAnimation(k.animation, k.loop, k.backward);
                this.queue.shift();
            }
        }
    },
    apply: function(t) {
        if (!this.current) {
            return;
        }
        var k = this.backward ? this.current.duration - this.currentTime : this.currentTime;
        if (this.previous) {
            this.previous.apply(t, this.previousTime, this.previousLoop);
            var j = this.mixTime / this.mixDuration;
            if (j >= d6t.A6) {
                j = d6t.A6;
                this.previous = d6t.B3x;
            }
            this.current.mix(t, k, this.currentLoop, j);
        } else {
            this.current.apply(t, k, this.currentLoop);
        }
    },
    pauseAnimation: function() {
        this.paused = d6t.s73;
    },
    resumeAnimation: function() {
        this.paused = d6t.F18;
    },
    clearAnimation: function() {
        this.previous = d6t.B3x;
        this.current = d6t.B3x;
        this.queue.length = d6t.W6;
    },
    _setAnimation: function(t, k, j) {
        this.backward = j;
        this.onSetAnimation.dispatch();
        this.previous = d6t.B3x;
        if (t && this.current) {
            this.mixDuration = this.data.getMix(this.current, t);
            if (this.mixDuration > d6t.W6) {
                this.mixTime = d6t.W6;
                this.previous = this.current;
                this.previousTime = this.currentTime;
                this.previousLoop = this.currentLoop;
            }
        }
        this.current = t;
        this.currentLoop = k;
        this.currentTime = d6t.W6;
    },
    setAnimationByName: function(t, k, j) {
        var o = this.data.skeletonData.findAnimation(t);
        if (!o) {
            throw d6t.g78 + t;
        }
        this.queue.length = d6t.W6;
        this._setAnimation(o, k, j);
    },
    setAnimation: function(t, k, j) {
        this.queue.length = d6t.W6;
        this._setAnimation(t, k, j);
    },
    addAnimationByName: function(t, k, j, o) {
        var e = this.data.skeletonData.findAnimation(t);
        if (!e) {
            throw d6t.g78 + t;
        }
        this.addAnimation(e, k, j, o);
    },
    addAnimation: function(t, k, j, o) {
        var e = {};
        e.animation = t;
        e.loop = k;
        e.backward = o;
        if (!j || j <= d6t.W6) {
            var q = this.queue.length ? this.queue[this.queue.length - d6t.A6].animation : this.current;
            if (q != d6t.B3x) j = q.duration - this.data.getMix(q, t) + (j || d6t.W6);
            else j = d6t.W6;
        }
        e.delay = j;
        this.queue.push(e);
    },
    isComplete: function() {
        var t = this.backward ? this.current.duration - this.currentTime <= d6t.W6 : this.currentTime >= this.current.duration,
            k = !this.current || t;
        return k;
    }
};
define("gt/tweaks/Pixi/SpineAnimationState", function() {});
define('gt/rendering/viewport/ViewportScaleMode', [], function() {
    var t = 'letterbox',
        k = {};
    k.Fill = d6t.t53;
    k.Letterbox = t;
    return k;
});
define('gt/scenes/BackgroundSize', [], function() {
    var t = 'world',
        k = {};
    k.Game = d6t.q38;
    k.Viewport = d6t.i0H;
    k.World = t;
    return k;
});
define('settings', ['bottom_line', 'phaser', 'gt/rendering/viewport/ViewportScaleMode', 'gt/scenes/BackgroundSize'], function(t, k, j, o) {
    var e = 'jiyucho-webfont',
        q = 'rounded-x-mplus-1m-bold',
        m = 1620,
        k5 = ((9.21E2, 124.2E1) > 36.5E1 ? (104, 2160) : (128, 0x130)),
        C5 = (7.69E2 >= (0x17F, 123.) ? (0x233, 1080) : 118.4E1 <= (0xA6, 128.) ? (144, 34) : (0x14F, 0x124)),
        H5 = '0.1.0',
        settings = {
            drawFps: d6t.s73,
            version: H5,
            bm: {},
            designWidth: C5,
            desktopDesignWidth: k5,
            designWidthMax: k5,
            designHeight: m,
            desktopDesignHeight: m,
            designHeightMax: m,
            orientations: {
                desktop: d6t.G8,
                mobile: d6t.i5H
            },
            storage: {
                levelId: {
                    default: d6t.A6,
                    compare: Math.max
                },
                muteAudio: {
                    default: d6t.W6,
                    save: d6t.F18
                },
                '_highScore$': {
                    default: d6t.W6,
                    compare: Math.max
                },
                '_star_0$': {
                    default: d6t.F18
                },
                '_star_1$': {
                    default: d6t.F18
                },
                '_star_2$': {
                    default: d6t.F18
                },
                'total_stars': {
                    default: d6t.W6,
                    compare: Math.max
                },
                'marathon_unlocked': {
                    default: d6t.F18
                }
            },
            fontMap: {
                en: {
                    'rounded-x-mplus-1m-bold': {
                        font: q,
                        scale: d6t.N28
                    },
                    'jiyucho-webfont': {
                        font: e,
                        scale: d6t.N28
                    }
                },
                jp: {
                    'rounded-x-mplus-1m-bold': {
                        font: q,
                        scale: d6t.N28
                    },
                    'jiyucho-webfont': {
                        font: e,
                        scale: d6t.N28
                    }
                }
            },
            volume: t.extend(new Number(d6t.z48), {
                music: d6t.Y48,
                effects: d6t.N28
            }),
            dev: {
                debug: d6t.s73
            },
            viewportConfig: {
                scaleType: j.Fill,
                stretchWorldHeight: d6t.s73,
                stretchWorldWidth: d6t.s73
            },
            backgroundSize: o.Viewport
        };
    Object.freeze(settings);
    return settings;
});
define('utils/quality', ['gt/utils/device', 'gt/utils/browser'], function(t, k) {
    var j = {
        maxParallelLoads: d6t.U6,
        deviceScale: d6t.N28,
        webglFilters: d6t.s73
    };
    if (t.galaxyS3) {
        j.webglFilters = d6t.F18;
        if (!k.chrome) {
            j.deviceScale = d6t.R48;
        }
    }
    if (t.iOS) {
        j.deviceScale = d6t.R48;
        j.webglFilters = d6t.F18;
    }
    if (t.desktop && k.safari) {
        j.maxParallelLoads = d6t.A6;
    }
    return j;
});
(function() {
    "use strict";
    var H5 = 'ES6Promise',
        j5 = 'amd',
        Y5 = '[object process]';

    function z5(t) {
        return typeof t === d6t.j5f || (typeof t === d6t.T7H && t !== d6t.B3x);
    }

    function P5(t) {
        return typeof t === d6t.j5f;
    }

    function p5(t) {
        return typeof t === d6t.T7H && t !== d6t.B3x;
    }
    var w5;
    if (!Array.isArray) {
        w5 = function(t) {
            return Object.prototype.toString.call(t) === d6t.b8f;
        };
    } else {
        w5 = Array.isArray;
    }
    var R5 = w5,
        r5 = d6t.W6,
        T5 = {}.toString,
        a5, x5, f5 = function A5(t, k) {
            M5[r5] = t;
            M5[r5 + d6t.A6] = k;
            r5 += d6t.D6;
            if (r5 === d6t.D6) {
                if (x5) {
                    x5(n5);
                } else {
                    h5();
                }
            }
        };

    function u5(t) {
        x5 = t;
    }

    function B5(t) {
        f5 = t;
    }
    var D5 = (typeof window !== d6t.k43) ? window : undefined,
        o5 = D5 || {},
        N5 = o5.MutationObserver || o5.WebKitMutationObserver,
        y5 = typeof process !== d6t.k43 && {}.toString.call(process) === Y5,
        U5 = typeof Uint8ClampedArray !== d6t.k43 && typeof importScripts !== d6t.k43 && typeof MessageChannel !== d6t.k43;

    function W5() {
        return function() {
            process.nextTick(n5);
        };
    }

    function J5() {
        return function() {
            a5(n5);
        };
    }

    function g5() {
        var t = d6t.W6,
            k = new N5(n5),
            j = document.createTextNode(d6t.I6x);
        k.observe(j, {
            characterData: d6t.s73
        });
        return function() {
            j.data = (t = ++t % d6t.D6);
        };
    }

    function c5() {
        var t = new MessageChannel();
        t.port1.onmessage = n5;
        return function() {
            t.port2.postMessage(d6t.W6);
        };
    }

    function Z5() {
        return function() {
            setTimeout(n5, d6t.A6);
        };
    }
    var M5 = new Array(d6t.I6);

    function n5() {
        for (var t = d6t.W6; t < r5; t += d6t.D6) {
            var k = M5[t],
                j = M5[t + d6t.A6];
            k(j);
            M5[t] = undefined;
            M5[t + d6t.A6] = undefined;
        }
        r5 = d6t.W6;
    }

    function R6() {
        var k = 'vertx';
        try {
            var j = require,
                o = j(k);
            a5 = o.runOnLoop || o.runOnContext;
            return J5();
        } catch (t) {
            return Z5();
        }
    }
    var h5;
    if (y5) {
        h5 = W5();
    } else if (N5) {
        h5 = g5();
    } else if (U5) {
        h5 = c5();
    } else if (D5 === undefined && typeof require === d6t.j5f) {
        h5 = R6();
    } else {
        h5 = Z5();
    }

    function K6() {}
    var s6 = void d6t.W6,
        i5 = d6t.A6,
        V6 = d6t.D6,
        b5 = new d5();

    function S5() {
        var t = "You cannot resolve a promise with itself";
        return new TypeError(t);
    }

    function q6() {
        var t = 'A promises callback cannot return that same promise.';
        return new TypeError(t);
    }

    function h6(k) {
        try {
            return k.then;
        } catch (t) {
            b5.error = t;
            return b5;
        }
    }

    function C6(k, j, o, e) {
        try {
            k.call(j, o, e);
        } catch (t) {
            return t;
        }
    }

    function m6(m, k5, C5) {
        f5(function(k) {
            var j = ' unknown promise',
                o = 'Settle: ',
                e = d6t.F18,
                q = C6(C5, k5, function(t) {
                    if (e) {
                        return;
                    }
                    e = d6t.s73;
                    if (k5 !== t) {
                        Y6(k, t);
                    } else {
                        O6(k, t);
                    }
                }, function(t) {
                    if (e) {
                        return;
                    }
                    e = d6t.s73;
                    j6(k, t);
                }, o + (k._label || j));
            if (!e && q) {
                e = d6t.s73;
                j6(k, q);
            }
        }, m);
    }

    function G5(k, j) {
        if (j._state === i5) {
            O6(k, j._result);
        } else if (j._state === V6) {
            j6(k, j._result);
        } else {
            Q5(j, undefined, function(t) {
                Y6(k, t);
            }, function(t) {
                j6(k, t);
            });
        }
    }

    function c6(t, k) {
        if (k.constructor === t.constructor) {
            G5(t, k);
        } else {
            var j = h6(k);
            if (j === b5) {
                j6(t, b5.error);
            } else if (j === undefined) {
                O6(t, k);
            } else if (P5(j)) {
                m6(t, k, j);
            } else {
                O6(t, k);
            }
        }
    }

    function Y6(t, k) {
        if (t === k) {
            j6(t, S5());
        } else if (z5(k)) {
            c6(t, k);
        } else {
            O6(t, k);
        }
    }

    function E6(t) {
        if (t._onerror) {
            t._onerror(t._result);
        }
        y6(t);
    }

    function O6(t, k) {
        if (t._state !== s6) {
            return;
        }
        t._result = k;
        t._state = i5;
        if (t._subscribers.length !== d6t.W6) {
            f5(y6, t);
        }
    }

    function j6(t, k) {
        if (t._state !== s6) {
            return;
        }
        t._state = V6;
        t._result = k;
        f5(E6, t);
    }

    function Q5(t, k, j, o) {
        var e = t._subscribers,
            q = e.length;
        t._onerror = d6t.B3x;
        e[q] = k;
        e[q + i5] = j;
        e[q + V6] = o;
        if (q === d6t.W6 && t._state) {
            f5(y6, t);
        }
    }

    function y6(t) {
        var k = t._subscribers,
            j = t._state;
        if (k.length === d6t.W6) {
            return;
        }
        var o, e, q = t._result;
        for (var m = d6t.W6; m < k.length; m += d6t.B6) {
            o = k[m];
            e = k[m + j];
            if (o) {
                N6(j, o, e, q);
            } else {
                e(q);
            }
        }
        t._subscribers.length = d6t.W6;
    }

    function d5() {
        this.error = d6t.B3x;
    }
    var z6 = new d5();

    function Z6(k, j) {
        try {
            return k(j);
        } catch (t) {
            z6.error = t;
            return z6;
        }
    }

    function N6(t, k, j, o) {
        var e = P5(j),
            q, m, k5, C5;
        if (e) {
            q = Z6(j, o);
            if (q === z6) {
                C5 = d6t.s73;
                m = q.error;
                q = d6t.B3x;
            } else {
                k5 = d6t.s73;
            }
            if (k === q) {
                j6(k, q6());
                return;
            }
        } else {
            q = o;
            k5 = d6t.s73;
        }
        if (k._state !== s6) {} else if (e && k5) {
            Y6(k, q);
        } else if (C5) {
            j6(k, m);
        } else if (t === i5) {
            O6(k, q);
        } else if (t === V6) {
            j6(k, q);
        }
    }

    function P6(k, j) {
        try {
            j(function o(t) {
                Y6(k, t);
            }, function e(t) {
                j6(k, t);
            });
        } catch (t) {
            j6(k, t);
        }
    }

    function m5(t, k) {
        var j = this;
        j._instanceConstructor = t;
        j.promise = new t(K6);
        if (j._validateInput(k)) {
            j._input = k;
            j.length = k.length;
            j._remaining = k.length;
            j._init();
            if (j.length === d6t.W6) {
                O6(j.promise, j._result);
            } else {
                j.length = j.length || d6t.W6;
                j._enumerate();
                if (j._remaining === d6t.W6) {
                    O6(j.promise, j._result);
                }
            }
        } else {
            j6(j.promise, j._validationError());
        }
    }
    m5.prototype._validateInput = function(t) {
        return R5(t);
    };
    m5.prototype._validationError = function() {
        var t = 'Array Methods must be provided an Array';
        return new Error(t);
    };
    m5.prototype._init = function() {
        this._result = new Array(this.length);
    };
    var t4 = m5;
    m5.prototype._enumerate = function() {
        var t = this,
            k = t.length,
            j = t.promise,
            o = t._input;
        for (var e = d6t.W6; j._state === s6 && e < k; e++) {
            t._eachEntry(o[e], e);
        }
    };
    m5.prototype._eachEntry = function(t, k) {
        var j = this,
            o = j._instanceConstructor;
        if (p5(t)) {
            if (t.constructor === o && t._state !== s6) {
                t._onerror = d6t.B3x;
                j._settledAt(t._state, k, t._result);
            } else {
                j._willSettleAt(o.resolve(t), k);
            }
        } else {
            j._remaining--;
            j._result[k] = t;
        }
    };
    m5.prototype._settledAt = function(t, k, j) {
        var o = this,
            e = o.promise;
        if (e._state === s6) {
            o._remaining--;
            if (t === V6) {
                j6(e, j);
            } else {
                o._result[k] = j;
            }
        }
        if (o._remaining === d6t.W6) {
            O6(e, o._result);
        }
    };
    m5.prototype._willSettleAt = function(k, j) {
        var o = this;
        Q5(k, undefined, function(t) {
            o._settledAt(i5, j, t);
        }, function(t) {
            o._settledAt(V6, j, t);
        });
    };

    function i6(t) {
        return new t4(this, t).promise;
    }
    var P4 = i6;

    function U4(k) {
        var j = 'You must pass an array to race.',
            o = this,
            e = new o(K6);
        if (!R5(k)) {
            j6(e, new TypeError(j));
            return e;
        }
        var q = k.length;

        function m(t) {
            Y6(e, t);
        }

        function k5(t) {
            j6(e, t);
        }
        for (var C5 = d6t.W6; e._state === s6 && C5 < q; C5++) {
            Q5(o.resolve(k[C5]), undefined, m, k5);
        }
        return e;
    }
    var b6 = U4;

    function v4(t) {
        var k = this;
        if (t && typeof t === d6t.T7H && t.constructor === k) {
            return t;
        }
        var j = new k(K6);
        Y6(j, t);
        return j;
    }
    var n6 = v4;

    function s4(t) {
        var k = this,
            j = new k(K6);
        j6(j, t);
        return j;
    }
    var C4 = s4,
        v5 = d6t.W6;

    function Q6() {
        var t = 'You must pass a resolver function as the first argument to the promise constructor';
        throw new TypeError(t);
    }

    function p4() {
        var t = "Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.";
        throw new TypeError(t);
    }
    var R4 = o6;

    function o6(t) {
        this._id = v5++;
        this._state = undefined;
        this._result = undefined;
        this._subscribers = [];
        if (K6 !== t) {
            if (!P5(t)) {
                Q6();
            }
            if (!(this instanceof o6)) {
                p4();
            }
            P6(this, t);
        }
    }
    o6.all = P4;
    o6.race = b6;
    o6.resolve = n6;
    o6.reject = C4;
    o6._setScheduler = u5;
    o6._setAsap = B5;
    o6._asap = f5;
    o6.prototype = {
        constructor: o6,
        then: function(t, k) {
            var j = this,
                o = j._state;
            if (o === i5 && !t || o === V6 && !k) {
                return this;
            }
            var e = new this.constructor(K6),
                q = j._result;
            if (o) {
                var m = arguments[o - d6t.A6];
                f5(function() {
                    N6(o, e, m, q);
                });
            } else {
                Q5(j, e, t, k);
            }
            return e;
        },
        'catch': function(t) {
            return this.then(d6t.B3x, t);
        }
    };

    function W4() {
        var k = '[object Promise]',
            j = 'return this',
            o;
        if (typeof global !== d6t.k43) {
            o = global;
        } else if (typeof self !== d6t.k43) {
            o = self;
        } else {
            try {
                o = Function(j)();
            } catch (t) {
                var e = 'polyfill failed because global object is unavailable in this environment';
                throw new Error(e);
            }
        }
        var q = o.Promise;
        if (q && Object.prototype.toString.call(q.resolve()) === k && !q.cast) {
            return;
        }
        o.Promise = R4;
    }
    var O4 = W4,
        o4 = {
            'Promise': R4,
            'polyfill': O4
        };
    if (typeof define === d6t.j5f && define[j5]) {
        define('promise', [], function() {
            return o4;
        });
    } else if (typeof module !== d6t.k43 && module[d6t.r6f]) {
        module[d6t.r6f] = o4;
    } else if (typeof this !== d6t.k43) {
        this[H5] = o4;
    }
    O4();
}).call(this);
define('gt/extras/Promise', ['promise'], function(t) {
    return window.Promise || t.Promise;
});
'use strict';
define('gt/extras/ajax', ['bottom_line', 'gt/extras/Promise', 'gt/utils/device.info'], function(r5, T5) {
    function a5(t, k) {
        var j = k || x5(t);
        switch (j) {
            case d6t.Y58:
                return JSON.parse(t.response);
            default:
                return t.response;
        }
    }

    function x5(t) {
        var k = 'application/json',
            j = 'Content-Type',
            o = t.getResponseHeader(j);
        if (o._.has(k)) {
            return d6t.Y58;
        }
        return d6t.M4H;
    }

    function f5(j) {
        var o = d6t.I6x;
        if (r5.typeOf(j) === d6t.O2f) {
            j._each(function(t, k) {
                o += (o ? d6t.l83 : d6t.I6x) + k + d6t.H1x + t;
            });
        } else if (j !== d6t.B3x) {
            o = j._toString();
        }
        return o;
    }

    function A5(w5, R5) {
        return new T5(function(k, j) {
            var o = "withCredentials",
                e = "application/x-www-form-urlencoded",
                q = "Content-type",
                m = 'Accept',
                k5 = 'POST',
                C5 = 'data',
                H5 = R5 || {};
            H5.async = H5.async !== d6t.F18;
            H5.method = (H5.method || d6t.R3H).toUpperCase();
            H5.parse = H5.parse !== d6t.F18;
            var j5 = (C5 in H5) ? f5(H5.data) : d6t.I6x,
                Y5 = H5.method === k5,
                z5, P5 = Y5 && r5.typeOf(H5.data) === d6t.T7H;
            if (j5) {
                if (Y5) {
                    z5 = j5;
                } else {
                    w5 += d6t.G1x + j5;
                }
            }
            var p5 = new XMLHttpRequest();
            p5.open(H5.method, w5, H5.async);
            p5.onload = function() {
                if (p5.status == d6t.g7) {
                    var t = H5.parse ? a5(p5, H5.dataType) : p5.response;
                    k(t, p5);
                } else {
                    j.call(Error(p5.statusText), p5);
                }
            };
            p5.onerror = function() {
                var t = "Network Error";
                j(Error(t));
            };
            if (H5.accepts) {
                p5.setRequestHeader(m, H5.accepts);
            }
            if (H5.contentType) {
                p5.setRequestHeader(q, H5.contentType);
            }
            if (P5) {
                p5.setRequestHeader(q, e);
            }
            if (device.desktop && browser.safari) {
                p5.setRequestHeader(d6t.h53, d6t.a63);
                p5.setRequestHeader(d6t.J1H, d6t.a63);
                p5.setRequestHeader(d6t.f4, d6t.W6);
            }
            if (o in H5 && o in p5) {
                p5.withCredentials = H5.withCredentials;
            }
            p5.send(z5);
        });
    }
    return A5;
});
define('gt/tweaks/Phaser/Loader', ['bottom_line', 'phaser', 'settings', 'utils/quality', 'gt/utils/device', 'gt/utils/browser', 'gt/extras/ajax'], function(k5, C5, settings, j5, Y5, z5, P5) {
    k5.extend(C5.Loader.prototype, {
        ajax: P5,
        jsonLoadComplete: {
            overwriteaction: d6t.w6H,
            value: function(t) {
                if (!this._fileList[t]) {
                    console.warn(d6t.b8x + t);
                    return;
                }
                var k = this._fileList[t];
                if (this._ajax && this._ajax[t] && this._ajax[t].responseText) {
                    var j = JSON.parse(this._ajax[t].responseText);
                } else {
                    var j = JSON.parse(k._xhr.responseText);
                }
                if (j.bones) {
                    var o = new spine.SkeletonJson(),
                        e = o.readSkeletonData(j);
                    this.game.cache.addSpineAnimation(k.key, k.url, e);
                }
                k.loaded = d6t.s73;
                if (k.type === d6t.Z0) {
                    this.game.cache.addTilemap(k.key, k.url, j, k.format);
                } else if (k.type === d6t.Y58) {
                    this.game.cache.addJSON(k.key, k.url, j);
                } else {
                    this.game.cache.addTextureAtlas(k.key, k.url, k.data, j, k.format);
                }
                if (j.meta) {
                    if (j.meta.scale) {
                        j.meta.scale = parseFloat(j.meta.scale);
                    }
                    if (j.meta.image) {
                        j.meta.name = j.meta.image._.before(d6t.N23);
                    }
                    if (this.game.cache.getFrameData(k.key)) {
                        this.game.cache.getFrameData(k.key).metaData = j.meta;
                    }
                }
                this.nextFile(t, d6t.s73);
            }
        },
        nextFile: {
            overwriteaction: d6t.w6H,
            value: function(t, k) {
                this.progressFloat += this._progressChunk;
                this.progress = Math.round(this.progressFloat);
                if (this.progress > d6t.a08) {
                    this.progress = d6t.a08;
                }
                if (this.preloadSprite !== d6t.B3x) {
                    if (this.preloadSprite.direction === d6t.W6) {
                        this.preloadSprite.rect.width = Math.floor((this.preloadSprite.width / d6t.a08) * this.progress);
                    } else {
                        this.preloadSprite.rect.height = Math.floor((this.preloadSprite.height / d6t.a08) * this.progress);
                    }
                    this.preloadSprite.sprite.updateCrop();
                }
                this.onFileComplete.dispatch(this.progress, this._fileList[t].key, k, this.totalLoadedFiles(), this._fileList.length, t);
                if (this.progress < d6t.a08 && this._fileIndex < this._fileList.length) {
                    this.loadFile(this._fileIndex++);
                } else if (this.progress === d6t.a08) {
                    this.hasLoaded = d6t.s73;
                    this.isLoading = d6t.F18;
                    this.removeAll();
                    this.onLoadComplete.dispatch();
                }
            }
        },
        loadFile: {
            overwriteaction: d6t.w6H,
            value: function(t) {
                if (!this._fileList[t]) {
                    console.warn(d6t.D3 + t);
                    return;
                }
                var k = this._fileList[t];
                k._xhr = new XMLHttpRequest();
                var j = this;
                this.onFileStart.dispatch(this.progress, k.key, k.url);
                switch (k.type) {
                    case d6t.f7:
                    case d6t.E3x:
                    case d6t.K9H:
                    case d6t.p43:
                        k.data = new Image();
                        k.data.name = k.key;
                        k.data.onload = function() {
                            return j.fileComplete(t);
                        };
                        k.data.onerror = function() {
                            return j.fileError(t);
                        };
                        if (this.crossOrigin) {
                            k.data.crossOrigin = this.crossOrigin;
                        }
                        k.data.src = this.baseURL + k.url;
                        break;
                    case d6t.O6B:
                        k.url = this.getAudioURL(k.url);
                        if (k.url !== d6t.B3x) {
                            if (this.game.sound.usingWebAudio) {
                                this.xhrLoad(t, this.baseURL + k.url, d6t.I2f, d6t.A2H, d6t.v18);
                            } else if (this.game.sound.usingAudioTag) {
                                if (this.game.sound.touchLocked) {
                                    k.data = new Audio();
                                    k.data.name = k.key;
                                    k.data.preload = d6t.c7f;
                                    k.data.src = this.baseURL + k.url;
                                    this.fileComplete(t);
                                } else {
                                    k.data = new Audio();
                                    k.data.name = k.key;
                                    k.data.onerror = function() {
                                        return j.fileError(t);
                                    };
                                    k.data.preload = d6t.c7f;
                                    k.data.src = this.baseURL + k.url;
                                    k.data.addEventListener(d6t.q4, function() {
                                        C5.GAMES[j.game.id].load.fileComplete(t);
                                    }, d6t.F18);
                                    k.data.load();
                                }
                            }
                        } else {
                            this.fileError(t);
                        }
                        break;
                    case d6t.Y58:
                        if (this.useXDomainRequest && window.XDomainRequest) {
                            if (!this._ajax) {
                                this._ajax = [];
                            }
                            this._ajax[t] = new window.XDomainRequest();
                            this._ajax[t].timeout = d6t.n5H;
                            this._ajax[t].onerror = function() {
                                return j.dataLoadError(t);
                            };
                            this._ajax[t].ontimeout = function() {
                                return j.dataLoadError(t);
                            };
                            this._ajax[t].onprogress = function() {};
                            this._ajax[t].onload = function() {
                                return j.jsonLoadComplete(t);
                            };
                            this._ajax[t].open(d6t.R3H, this.baseURL + k.url, d6t.s73);
                            setTimeout(function() {
                                this._ajax[t].send();
                            }, d6t.W6);
                        } else {
                            this.xhrLoad(t, this.baseURL + k.url, d6t.M4H, d6t.s0f, d6t.c5H);
                        }
                        break;
                    case d6t.n3x:
                        this.xhrLoad(t, this.baseURL + k.url, d6t.M4H, d6t.s8f, d6t.c5H);
                        break;
                    case d6t.Z0:
                        if (k.format === C5.Tilemap.TILED_JSON) {
                            this.xhrLoad(t, this.baseURL + k.url, d6t.M4H, d6t.s0f, d6t.c5H);
                        } else if (k.format === C5.Tilemap.CSV) {
                            this.xhrLoad(t, this.baseURL + k.url, d6t.M4H, d6t.x2f, d6t.c5H);
                        } else {
                            throw new Error(d6t.a78 + k.format);
                        }
                        break;
                    case d6t.M4H:
                    case d6t.o03:
                    case d6t.e7f:
                        this.xhrLoad(t, this.baseURL + k.url, d6t.M4H, d6t.A2H, d6t.v18);
                        break;
                    case d6t.B8x:
                        this.xhrLoad(t, this.baseURL + k.url, d6t.I2f, d6t.A2H, d6t.v18);
                        break;
                }
            }
        },
        fileComplete: {
            overwriteaction: d6t.w6H,
            value: function(k) {
                if (!this._fileList[k]) {
                    console.warn(d6t.W5H + k);
                    return;
                }
                var j = this._fileList[k];
                j.loaded = d6t.s73;
                var o = d6t.s73;
                switch (j.type) {
                    case d6t.f7:
                        this.game.cache.addImage(j.key, j.url, j.data);
                        break;
                    case d6t.E3x:
                        this.game.cache.addSpriteSheet(j.key, j.url, j.data, j.frameWidth, j.frameHeight, j.frameMax, j.margin, j.spacing);
                        break;
                    case d6t.K9H:
                        if (j.atlasURL == d6t.B3x) {
                            this.game.cache.addTextureAtlas(j.key, j.url, j.data, j.atlasData, j.format);
                        } else {
                            o = d6t.F18;
                            if (j.format == C5.Loader.TEXTURE_ATLAS_JSON_ARRAY || j.format == C5.Loader.TEXTURE_ATLAS_JSON_HASH) {
                                this.xhrLoad(k, this.baseURL + j.atlasURL, d6t.M4H, d6t.s0f, d6t.c5H);
                            } else if (j.format == C5.Loader.TEXTURE_ATLAS_XML_STARLING) {
                                this.xhrLoad(k, this.baseURL + j.atlasURL, d6t.M4H, d6t.s8f, d6t.c5H);
                            } else {
                                throw new Error(d6t.h13 + j.format);
                            }
                        }
                        break;
                    case d6t.p43:
                        if (j.xmlURL == d6t.B3x) {
                            this.game.cache.addBitmapFont(j.key, j.url, j.data, j.xmlData, j.xSpacing, j.ySpacing);
                        } else {
                            o = d6t.F18;
                            this.xhrLoad(k, this.baseURL + j.xmlURL, d6t.M4H, d6t.s8f, d6t.c5H);
                        }
                        break;
                    case d6t.O6B:
                        if (this.game.sound.usingWebAudio) {
                            j.data = j._xhr.response;
                            this.game.cache.addSound(j.key, j.url, j.data, d6t.s73, d6t.F18);
                            if (j.autoDecode) {
                                var e = this,
                                    q = j.key;
                                this.game.cache.updateSound(q, d6t.V18, d6t.s73);
                                this.game.sound.context.decodeAudioData(j.data, function(t) {
                                    if (t) {
                                        e.game.cache.decodedSound(q, t);
                                        e.game.sound.onSoundDecode.dispatch(q, e.game.cache.getSound(q));
                                    }
                                });
                            }
                        } else {
                            j.data.removeEventListener(d6t.q4, C5.GAMES[this.game.id].load.fileComplete);
                            this.game.cache.addSound(j.key, j.url, j.data, d6t.F18, d6t.s73);
                        }
                        break;
                    case d6t.M4H:
                        j.data = j._xhr.responseText;
                        this.game.cache.addText(j.key, j.url, j.data);
                        break;
                    case d6t.e7f:
                        var m = JSON.parse(j._xhr.responseText);
                        this.game.cache.addPhysicsData(j.key, j.url, m, j.format);
                        break;
                    case d6t.o03:
                        j.data = document.createElement(d6t.o03);
                        j.data.language = d6t.T1H;
                        j.data.type = d6t.d3;
                        j.data.defer = d6t.F18;
                        j.data.text = j._xhr.responseText;
                        document.head.appendChild(j.data);
                        if (j.callback) {
                            j.data = j.callback.call(j.callbackContext, j.key, j._xhr.responseText);
                        }
                        break;
                    case d6t.B8x:
                        if (j.callback) {
                            j.data = j.callback.call(j.callbackContext, j.key, j._xhr.response);
                        } else {
                            j.data = j._xhr.response;
                        }
                        this.game.cache.addBinary(j.key, j.data);
                        break;
                }
                if (o) {
                    this.nextFile(k, d6t.s73);
                }
            }
        },
        beginLoad: {
            overwriteaction: d6t.w6H,
            value: function() {
                if (this.isLoading) {
                    return;
                }
                this.progress = d6t.W6;
                this.progressFloat = d6t.W6;
                this.hasLoaded = d6t.F18;
                this.isLoading = d6t.s73;
                this.onLoadStart.dispatch(this._fileList.length);
                this.maxLoadingFiles = Math.min(this._fileList.length, j5.maxParallelLoads);
                if (this._fileList.length > d6t.W6) {
                    this._progressChunk = d6t.a08 / this._fileList.length;
                    for (this._fileIndex = d6t.W6; this._fileIndex < this.maxLoadingFiles; this._fileIndex++) {
                        this.loadFile(this._fileIndex);
                    }
                } else {
                    this.progress = d6t.a08;
                    this.progressFloat = d6t.a08;
                    this.hasLoaded = d6t.s73;
                    this.onLoadComplete.dispatch();
                }
            }
        },
        xhrLoad: {
            overwriteaction: d6t.w6H,
            value: function(t, k, j, o, e) {
                var q = this._fileList[t];
                q._xhr.open(d6t.Y9f, k, d6t.s73);
                q._xhr.responseType = j;
                if (Y5.desktop && z5.safari) {
                    q._xhr.setRequestHeader(d6t.h53, d6t.a63);
                    q._xhr.setRequestHeader(d6t.J1H, d6t.a63);
                    q._xhr.setRequestHeader(d6t.f4, d6t.W6);
                }
                var m = this;
                q._xhr.onload = function() {
                    return m[o](t);
                };
                q._xhr.onerror = function() {
                    return m[e](t);
                };
                q._xhr.send();
            }
        },
        csvLoadComplete: {
            overwriteaction: d6t.w6H,
            value: function(t) {
                if (!this._fileList[t]) {
                    console.warn(d6t.y6B + t);
                    return;
                }
                var k = this._fileList[t],
                    j = k._xhr.responseText;
                k.loaded = d6t.s73;
                this.game.cache.addTilemap(k.key, k.url, j, k.format);
                this.nextFile(t, d6t.s73);
            }
        },
        xmlLoadComplete: {
            overwriteaction: d6t.w6H,
            value: function(k) {
                var j = this._fileList[k];
                if (j._xhr.responseType !== d6t.I6x && j._xhr.responseType !== d6t.M4H) {
                    console.warn(d6t.b88, this._fileList[k]);
                    console.warn(j._xhr);
                }
                var o = j._xhr.responseText,
                    e;
                try {
                    if (window[d6t.P9]) {
                        var q = new DOMParser();
                        e = q.parseFromString(o, d6t.h4H);
                    } else {
                        e = new ActiveXObject(d6t.p78);
                        e.async = d6t.x9f;
                        e.loadXML(o);
                    }
                } catch (t) {
                    e = undefined;
                }
                if (!e || !e.documentElement || e.getElementsByTagName(d6t.K0).length) {
                    throw new Error(d6t.y73);
                }
                var j = this._fileList[k];
                j.loaded = d6t.s73;
                if (j.type === d6t.p43) {
                    this.game.cache.addBitmapFont(j.key, j.url, j.data, e, j.xSpacing, j.ySpacing);
                } else if (j.type === d6t.K9H) {
                    this.game.cache.addTextureAtlas(j.key, j.url, j.data, e, j.format);
                } else if (j.type === d6t.n3x) {
                    this.game.cache.addXML(j.key, j.url, e);
                }
                this.nextFile(k, d6t.s73);
            }
        }
    });
});
require([d6t.Q33, d6t.M2H, d6t.m3f], function(j, o, e) {
    j.Group = (function() {
        var t = j.Group,
            k = function() {
                this.global = new e(this);
                t.apply(this, arguments);
            };
        k.prototype = t.prototype;
        k.prototype.constructor = k;
        return k;
    })();
    o.extend(j.Group.prototype, {
        get scalar() {
            return this.scale.x;
        },
        set scalar(val) {
            this.scale.set(val);
        }
    });
});
define("gt/tweaks/Phaser/Group", function() {});
define('gt/tweaks/Phaser/Easing', ['phaser', 'bottom_line', 'settings'], function(q, m, settings) {
    m.extend(q.Easing.Bounce, {
        InSubtle: function(t) {
            return d6t.A6 - q.Easing.Bounce.Out(d6t.A6 - t);
        },
        InOutSubtle: function(t) {
            if (t < d6t.z48) return q.Easing.Bounce.InSubtle(t * d6t.D6) * d6t.z48;
            return q.Easing.Bounce.OutSubtle(t * d6t.D6 - d6t.A6) * d6t.z48 + d6t.z48;
        }
    });
    m.extend(q.Easing.Sinusoidal, {
        BounceOut: function(t) {
            return Math.sin(t * Math.PI * d6t.M6) * (d6t.A6 - t);
        },
        BounceIn: function(t) {
            return -Math.sin(t * Math.PI * d6t.M6) * (d6t.A6 - t);
        },
        BounceOnceOut: function(t) {
            return Math.sin(Math.PI * t) * (d6t.A6 - t);
        },
        BounceOnceIn: function(t) {
            return -Math.sin(Math.PI * t) * (d6t.A6 - t);
        }
    });
    m.extend(q.Easing.Elastic, {
        ExtraOut: function(t) {
            var k = d6t.B6,
                j, o = d6t.H48,
                e = d6t.Y48;
            if (t === d6t.W6) return d6t.W6;
            if (t === d6t.A6) return d6t.A6;
            if (!o || o < d6t.A6) {
                o = d6t.A6;
                j = e / d6t.M6;
            } else j = e * Math.asin(d6t.A6 / o) / (d6t.D6 * Math.PI);
            return (o * Math.pow(d6t.D6, -(d6t.x7x - k) * t) * Math.sin((t - j) * (d6t.D6 * Math.PI) / e) + d6t.A6);
        }
    });
});
require([d6t.Q33, d6t.M2H], function(j, o) {
    Phaser.Pointer.prototype.start = (function() {
        var k = Phaser.Pointer.prototype.start;
        return function(t) {
            if (t.target.id !== game.canvas.id) return;
            return k.call(this, t);
        };
    })();
    Phaser.Pointer.prototype.stop = (function() {
        var k = Phaser.Pointer.prototype.stop;
        return function(t) {
            if (t.target.id !== game.canvas.id) return;
            return k.call(this, t);
        };
    })();
    Phaser.Pointer.__swipeBound = d6t.I9x;
    Phaser.Pointer.isSwipe = function() {
        var t = game.input.activePointer,
            k = (Phaser.Point.distance(t.position, t.positionDown) > Phaser.Pointer.__swipeBound);
        return k;
    };
});
define("gt/tweaks/Phaser/Pointer", function() {});
define('gt/tweaks/Phaser/ScaleManager', ['bottom_line', 'phaser'], function(z5, P5) {
    z5.extend(P5.ScaleManager.prototype, {
        enumerable: d6t.F18
    }, {
        updateElement: function(t, k, viewportManager, o) {
            var e = k ? k.metaData.scale : d6t.A6,
                q = viewportManager ? viewportManager.scale : d6t.A6,
                m = q / e,
                k5 = d6t.A6,
                C5 = d6t.A6;
            if (o) {
                k5 = (o.width / q) / (t.width / e);
                C5 = (o.height / q) / (t.height / e);
            }
            var H5 = d6t.A6,
                j5 = d6t.A6;
            if (t.hasOwnProperty(d6t.O6H)) {
                var Y5 = k.getFrameByName(t.frameName);
                if (Y5.trimmed) {
                    H5 = Y5.spriteSourceSizeW / Y5.sourceSizeW;
                    j5 = Y5.spriteSourceSizeH / Y5.sourceSizeH;
                }
            }
            t.scale.x = m * k5 * H5;
            t.scale.y = m * C5 * j5;
            t.scaler.scaleX = t.scale.x;
            t.scaler.scaleY = t.scale.y;
        }
    });
});
define('gt/tweaks/Phaser/Canvas', ['phaser'], function(k5) {
    k5.Canvas.getOffset = function(t, k) {
        k = k || new k5.Point();
        var j = t.getBoundingClientRect(),
            o = t.clientTop || document.body.clientTop || d6t.W6,
            e = t.clientLeft || document.body.clientLeft || d6t.W6,
            q = d6t.W6,
            m = d6t.W6;
        if (document.compatMode === d6t.P0x) {
            q = window.pageYOffset || document.documentElement.scrollTop || t.scrollTop || d6t.W6;
            m = window.pageXOffset || document.documentElement.scrollLeft || t.scrollLeft || d6t.W6;
        } else {
            q = window.pageYOffset || document.body.scrollTop || t.scrollTop || d6t.W6;
            m = window.pageXOffset || document.body.scrollLeft || t.scrollLeft || d6t.W6;
        }
        k.x = j.left + m - e;
        k.y = j.top + q - o;
        return k;
    };
});
define('gt/tweaks/Phaser/BitmapText', ['bottom_line', 'phaser'], function(T5, a5) {
    T5.extend(a5.BitmapText.prototype, {
        enumerable: d6t.F18
    }, {
        setAnchor: function(t, k) {
            if (!this._anchor) {
                this._anchor = {};
            }
            this._anchor.x = t || d6t.W6;
            this._anchor.y = k || d6t.W6;
            this.updateAnchor();
        },
        getAnchor: function() {
            return this._anchor;
        },
        updateAnchor: function() {
            if (!this._anchor) {
                return;
            }
            if (!this._originalPositions || this.dirty) {
                this._originalPositions = [];
                for (var t = d6t.W6, k = this.children.length; t < k; t++) {
                    this._originalPositions.push({
                        x: this.children[t].x,
                        y: this.children[t].y
                    });
                }
            }
            for (var t = d6t.W6, k = this.children.length; t < k; t++) {
                this.children[t].x = this._originalPositions[t].x - (this.textWidth * this._anchor.x);
                this.children[t].y = this._originalPositions[t].y - (this.textHeight * this._anchor.y);
            }
        },
        postUpdate: {
            overwriteaction: d6t.w6H,
            value: function() {
                if (this._cache[d6t.v6] === d6t.A6) {
                    this.position.x = (this.game.camera.view.x + this.cameraOffset.x) / this.game.camera.scale.x;
                    this.position.y = (this.game.camera.view.y + this.cameraOffset.y) / this.game.camera.scale.y;
                }
            }
        },
        updateText: {
            overrideaction: d6t.w6H,
            value: function() {
                var t = PIXI.BitmapText.fonts[this.fontName],
                    k = new PIXI.Point(),
                    j = d6t.B3x,
                    o = [],
                    e = d6t.W6,
                    q = [],
                    m = d6t.W6,
                    k5 = this.fontSize / t.size;
                for (var C5 = d6t.W6; C5 < this.text.length; C5++) {
                    var H5 = this.text.charCodeAt(C5);
                    if (/(?:\r\n|\r|\n)/.test(this.text.charAt(C5)) || (this.wordWrapWidth !== -d6t.A6 && (k.x > this.wordWrapWidth && this.text.charAt(C5) === d6t.D0))) {
                        q.push(k.x);
                        e = Math.max(e, k.x);
                        m++;
                        k.x = d6t.W6;
                        k.y += t.lineHeight;
                        j = d6t.B3x;
                        continue;
                    }
                    var j5 = t.chars[H5];
                    if (!j5) continue;
                    if (j && j5[j]) {
                        k.x += j5.kerning[j];
                    }
                    o.push({
                        texture: j5.texture,
                        line: m,
                        charCode: H5,
                        position: new PIXI.Point(k.x + j5.xOffset, k.y + j5.yOffset)
                    });
                    k.x += j5.xAdvance;
                    j = H5;
                }
                q.push(k.x);
                e = Math.max(e, k.x);
                var Y5 = [];
                for (C5 = d6t.W6; C5 <= m; C5++) {
                    var z5 = d6t.W6;
                    if (this.style.align === d6t.w3B) {
                        z5 = e - q[C5];
                    } else if (this.style.align === d6t.G6f) {
                        z5 = (e - q[C5]) / d6t.D6;
                    }
                    Y5.push(z5);
                }
                var P5 = this.children.length,
                    p5 = o.length,
                    w5 = this.tint || (61. <= (86.0E1, 0x33) ? (5, 0xC8) : (0x74, 0x1B9) < (0x151, 1.389E3) ? (49., 0xFFFFFF) : (11, 9));
                for (C5 = d6t.W6; C5 < p5; C5++) {
                    var R5 = C5 < P5 ? this.children[C5] : this._pool.pop();
                    if (R5) {
                        R5.setTexture(o[C5].texture);
                    } else {
                        R5 = new PIXI.Sprite(o[C5].texture);
                    }
                    R5.position.x = (o[C5].position.x + Y5[o[C5].line]) * k5;
                    R5.position.y = o[C5].position.y * k5;
                    R5.scale.x = R5.scale.y = k5;
                    R5.tint = w5;
                    if (!R5.parent) {
                        this.addChild(R5);
                    }
                }
                while (this.children.length > p5) {
                    var r5 = this.getChildAt(this.children.length - d6t.A6);
                    this._pool.push(r5);
                    this.removeChild(r5);
                }
                this.textWidth = e * k5;
                this.textHeight = (k.y + t.lineHeight) * k5;
                this.updateAnchor();
            }
        },
        setText: {
            overrideaction: d6t.w6H,
            value: (function() {
                var k = PIXI.BitmapText.prototype.setText;
                return function(t) {
                    return k.call(this, t._.toString());
                };
            })()
        },
        get wordWrapWidth() {
            return this._wordWrapWidth || -d6t.A6;
        },
        set wordWrapWidth(width) {
            this._wordWrapWidth = width;
            this.updateText();
        },
        get scalar() {
            return this.scale.x;
        },
        set scalar(val) {
            this.scale.set(val);
        }
    });
});
require([d6t.Q33, d6t.M2H], function(k, j) {
    k.Tween.prototype.stop = (function() {
        var t = k.Tween.prototype.stop;
        return function() {
            this.inUse = d6t.F18;
            return t.apply(this, arguments);
        };
    })();
});
define("gt/tweaks/Phaser/Tween", function() {});
define('gt/tweaks/Phaser/Label', ['bottom_line', 'phaser'], function(R5, r5) {
    R5.extend(r5.Text.prototype, {
        enumerable: d6t.F18
    }, {
        updateText: function() {
            var t = (9.09E2 <= (0x7F, 11.75E2) ? (129., 0.035) : 0x1B6 < (0x1B1, 1.11E2) ? "T" : (23., 108.));
            this.texture.baseTexture.resolution = this.resolution;
            this.context.font = this.style.font;
            var k = this.text;
            if (this.style.wordWrap) {
                k = this.runWordWrap(this.text);
            }
            var j = k.split(/(?:\r\n|\r|\n)/),
                o = [],
                e = d6t.W6,
                q = this.determineFontProperties(this.style.font);
            for (var m = d6t.W6; m < j.length; m++) {
                var k5 = this.context.measureText(j[m]).width;
                o[m] = k5;
                e = Math.max(e, k5);
            }
            if (j.length === d6t.A6) {
                var C5 = this.context.measureText(j[d6t.W6]).width,
                    H5 = d6t.W6;
                switch (this.style.align) {
                    case d6t.I7x:
                        H5 = C5 / d6t.D6;
                        break;
                    case d6t.J4f:
                        H5 = -C5 / d6t.D6;
                        break;
                }
                this.x = this.rect.x + H5;
                this.x += (t * this.rect.width);
            }
            var j5 = e + this.style.strokeThickness;
            this.canvas.width = (j5 + this.context.lineWidth) * this.resolution;
            var Y5 = q.fontSize + this.style.strokeThickness + (d6t.X7x * game.viewport.scale),
                z5 = Y5 * j.length;
            this.canvas.height = z5 * this.resolution;
            this.context.scale(this.resolution, this.resolution);
            if (navigator.isCocoonJS) {
                this.context.clearRect(d6t.W6, d6t.W6, this.canvas.width, this.canvas.height);
            }
            this.context.fillStyle = this.style.fill;
            this.context.font = this.style.font;
            this.context.strokeStyle = this.style.stroke;
            this.context.textBaseline = d6t.j1x;
            this.context.shadowOffsetX = this.style.shadowOffsetX;
            this.context.shadowOffsetY = this.style.shadowOffsetY;
            this.context.shadowColor = this.style.shadowColor;
            this.context.shadowBlur = this.style.shadowBlur;
            this.context.lineWidth = this.style.strokeThickness;
            this.context.lineCap = d6t.E7f;
            this.context.lineJoin = d6t.E7f;
            var P5, p5;
            this._charCount = d6t.W6;
            for (m = d6t.W6; m < j.length; m++) {
                P5 = this.style.strokeThickness / d6t.D6;
                p5 = (this.style.strokeThickness + (d6t.o7x * game.viewport.scale) + m * Y5) + q.ascent;
                if (this.style.align === d6t.w3B) {
                    P5 += e - o[m];
                } else if (this.style.align === d6t.G6f) {
                    P5 += (e - o[m]) / d6t.D6;
                }
                p5 += this._lineSpacing;
                if (this.colors.length > d6t.W6) {
                    this.updateLine(j[m], P5, p5);
                } else {
                    if (this.style.stroke && this.style.strokeThickness) {
                        var w5 = device.iOS ? p5 + (d6t.D6 * game.viewport.scale) : p5;
                        this.context.strokeText(j[m], P5, w5);
                    }
                    if (this.style.fill) {
                        this.context.fillText(j[m], P5, p5);
                    }
                }
            }
            this.updateTexture();
        }
    });
});
define('gt/tweaks/Phaser/Cache', ['bottom_line', 'pixi'], function(C5, H5) {
    Phaser.Cache = function(game) {
        this.game = game;
        this._canvases = {};
        this._images = {};
        this._textures = {};
        this._sounds = {};
        this._text = {};
        this._json = {};
        this._xml = {};
        this._spineAnimations = {};
        this._physics = {};
        this._tilemaps = {};
        this._binary = {};
        this._bitmapDatas = {};
        this._bitmapFont = {};
        this._urlMap = {};
        this._urlResolver = new Image();
        this._urlTemp = d6t.B3x;
        this.addDefaultImage();
        this.addMissingImage();
        this.onSoundUnlock = new Phaser.Signal();
        this._cacheMap = [];
        this._cacheMap[Phaser.Cache.CANVAS] = this._canvases;
        this._cacheMap[Phaser.Cache.IMAGE] = this._images;
        this._cacheMap[Phaser.Cache.TEXTURE] = this._textures;
        this._cacheMap[Phaser.Cache.SOUND] = this._sounds;
        this._cacheMap[Phaser.Cache.TEXT] = this._text;
        this._cacheMap[Phaser.Cache.PHYSICS] = this._physics;
        this._cacheMap[Phaser.Cache.TILEMAP] = this._tilemaps;
        this._cacheMap[Phaser.Cache.BINARY] = this._binary;
        this._cacheMap[Phaser.Cache.BITMAPDATA] = this._bitmapDatas;
        this._cacheMap[Phaser.Cache.BITMAPFONT] = this._bitmapFont;
        this._cacheMap[Phaser.Cache.JSON] = this._json;
        this._cacheMap[Phaser.Cache.XML] = this._xml;
        this._cacheMap[Phaser.Cache.SPINEANIM] = this._spineAnimations;
    };
    Phaser.Cache.CANVAS = d6t.A6;
    Phaser.Cache.IMAGE = d6t.D6;
    Phaser.Cache.TEXTURE = d6t.B6;
    Phaser.Cache.SOUND = d6t.M6;
    Phaser.Cache.TEXT = d6t.U6;
    Phaser.Cache.PHYSICS = d6t.J6;
    Phaser.Cache.TILEMAP = d6t.v6;
    Phaser.Cache.BINARY = d6t.d6;
    Phaser.Cache.BITMAPDATA = d6t.S6;
    Phaser.Cache.BITMAPFONT = d6t.x7x;
    Phaser.Cache.JSON = d6t.f7x;
    Phaser.Cache.XML = d6t.W7x;
    Phaser.Cache.SPINEANIM = d6t.o7x;
    Phaser.Cache.prototype = {
        addCanvas: function(t, k, j) {
            this._canvases[t] = {
                canvas: k,
                context: j
            };
        },
        addBinary: function(t, k) {
            this._binary[t] = k;
        },
        addBitmapData: function(t, k, j) {
            k.key = t;
            this._bitmapDatas[t] = {
                data: k,
                frameData: j
            };
            return k;
        },
        addRenderTexture: function(t, k) {
            var j = new Phaser.Frame(d6t.W6, d6t.W6, d6t.W6, k.width, k.height, d6t.I6x, d6t.I6x);
            this._textures[t] = {
                texture: k,
                frame: j
            };
        },
        addSpriteSheet: function(t, k, j, o, e, q, m, k5) {
            this._images[t] = {
                url: k,
                data: j,
                frameWidth: o,
                frameHeight: e,
                margin: m,
                spacing: k5
            };
            PIXI.BaseTextureCache[t] = new PIXI.BaseTexture(j);
            PIXI.TextureCache[t] = new PIXI.Texture(PIXI.BaseTextureCache[t]);
            this._images[t].frameData = Phaser.AnimationParser.spriteSheet(this.game, t, o, e, q, m, k5);
            this._urlMap[this._resolveUrl(k)] = this._images[t];
        },
        addTilemap: function(t, k, j, o) {
            this._tilemaps[t] = {
                url: k,
                data: j,
                format: o
            };
            this._urlMap[this._resolveUrl(k)] = this._tilemaps[t];
        },
        addTextureAtlas: function(t, k, j, o, e) {
            this._images[t] = {
                url: k,
                data: j
            };
            PIXI.BaseTextureCache[t] = new PIXI.BaseTexture(j);
            PIXI.TextureCache[t] = new PIXI.Texture(PIXI.BaseTextureCache[t]);
            if (e == Phaser.Loader.TEXTURE_ATLAS_JSON_ARRAY) {
                this._images[t].frameData = Phaser.AnimationParser.JSONData(this.game, o, t);
            } else if (e == Phaser.Loader.TEXTURE_ATLAS_JSON_HASH) {
                this._images[t].frameData = Phaser.AnimationParser.JSONDataHash(this.game, o, t);
            } else if (e == Phaser.Loader.TEXTURE_ATLAS_XML_STARLING) {
                this._images[t].frameData = Phaser.AnimationParser.XMLData(this.game, o, t);
            }
            this._urlMap[this._resolveUrl(k)] = this._images[t];
        },
        addBitmapFont: function(t, k, j, o, e, q) {
            this._images[t] = {
                url: k,
                data: j
            };
            PIXI.BaseTextureCache[t] = new PIXI.BaseTexture(j);
            PIXI.TextureCache[t] = new PIXI.Texture(PIXI.BaseTextureCache[t]);
            Phaser.LoaderParser.bitmapFont(this.game, o, t, e, q);
            this._bitmapFont[t] = PIXI.BitmapText.fonts[t];
            this._urlMap[this._resolveUrl(k)] = this._bitmapFont[t];
        },
        addPhysicsData: function(t, k, j, o) {
            this._physics[t] = {
                url: k,
                data: j,
                format: o
            };
            this._urlMap[this._resolveUrl(k)] = this._physics[t];
        },
        addDefaultImage: function() {
            var t = new Image();
            t.src = d6t.N5x;
            this._images[d6t.U03] = {
                url: d6t.B3x,
                data: t
            };
            this._images[d6t.U03].frame = new Phaser.Frame(d6t.W6, d6t.W6, d6t.W6, d6t.z9x, d6t.z9x, d6t.I6x, d6t.I6x);
            this._images[d6t.U03].frameData = new Phaser.FrameData();
            this._images[d6t.U03].frameData.addFrame(new Phaser.Frame(d6t.W6, d6t.W6, d6t.W6, d6t.z9x, d6t.z9x, d6t.B3x, this.game.rnd.uuid()));
            PIXI.BaseTextureCache[d6t.U03] = new PIXI.BaseTexture(t);
            PIXI.TextureCache[d6t.U03] = new PIXI.Texture(PIXI.BaseTextureCache[d6t.U03]);
        },
        addMissingImage: function() {
            var t = new Image();
            t.src = d6t.l33;
            this._images[d6t.h3] = {
                url: d6t.B3x,
                data: t
            };
            this._images[d6t.h3].frame = new Phaser.Frame(d6t.W6, d6t.W6, d6t.W6, d6t.z9x, d6t.z9x, d6t.I6x, d6t.I6x);
            this._images[d6t.h3].frameData = new Phaser.FrameData();
            this._images[d6t.h3].frameData.addFrame(new Phaser.Frame(d6t.W6, d6t.W6, d6t.W6, d6t.z9x, d6t.z9x, d6t.B3x, this.game.rnd.uuid()));
            PIXI.BaseTextureCache[d6t.h3] = new PIXI.BaseTexture(t);
            PIXI.TextureCache[d6t.h3] = new PIXI.Texture(PIXI.BaseTextureCache[d6t.h3]);
        },
        addText: function(t, k, j) {
            this._text[t] = {
                url: k,
                data: j
            };
            this._urlMap[this._resolveUrl(k)] = this._text[t];
        },
        addJSON: function(t, k, j) {
            this._json[t] = {
                url: k,
                data: j
            };
            this._urlMap[this._resolveUrl(k)] = this._json[t];
        },
        addXML: function(t, k, j) {
            this._xml[t] = {
                url: k,
                data: j
            };
        },
        addImage: function(t, k, j) {
            this._images[t] = {
                url: k,
                data: j
            };
            this._images[t].frame = new Phaser.Frame(d6t.W6, d6t.W6, d6t.W6, j.width, j.height, t, this.game.rnd.uuid());
            this._images[t].frameData = new Phaser.FrameData();
            this._images[t].frameData.addFrame(new Phaser.Frame(d6t.W6, d6t.W6, d6t.W6, j.width, j.height, k, this.game.rnd.uuid()));
            PIXI.BaseTextureCache[t] = new PIXI.BaseTexture(j);
            PIXI.TextureCache[t] = new PIXI.Texture(PIXI.BaseTextureCache[t]);
            this._urlMap[this._resolveUrl(k)] = this._images[t];
        },
        addSound: function(t, k, j, o, e) {
            o = o || d6t.s73;
            e = e || d6t.F18;
            var q = d6t.F18;
            if (e) {
                q = d6t.s73;
            }
            this._sounds[t] = {
                url: k,
                data: j,
                isDecoding: d6t.F18,
                decoded: q,
                webAudio: o,
                audioTag: e,
                locked: this.game.sound.touchLocked
            };
            this._urlMap[this._resolveUrl(k)] = this._sounds[t];
        },
        reloadSound: function(t) {
            var k = this;
            if (this._sounds[t]) {
                this._sounds[t].data.src = this._sounds[t].url;
                this._sounds[t].data.addEventListener(d6t.q4, function() {
                    return k.reloadSoundComplete(t);
                }, d6t.F18);
                this._sounds[t].data.load();
            }
        },
        reloadSoundComplete: function(t) {
            if (this._sounds[t]) {
                this._sounds[t].locked = d6t.F18;
                this.onSoundUnlock.dispatch(t);
            }
        },
        updateSound: function(t, k, j) {
            if (this._sounds[t]) {
                this._sounds[t][k] = j;
            }
        },
        decodedSound: function(t, k) {
            this._sounds[t].data = k;
            this._sounds[t].decoded = d6t.s73;
            this._sounds[t].isDecoding = d6t.F18;
        },
        getCanvas: function(t) {
            if (this._canvases[t]) {
                return this._canvases[t].canvas;
            } else {
                console.warn(d6t.a23 + t + d6t.l93);
            }
        },
        getBitmapData: function(t) {
            if (this._bitmapDatas[t]) {
                return this._bitmapDatas[t].data;
            } else {
                console.warn(d6t.o58 + t + d6t.l93);
            }
        },
        getBitmapFont: function(t) {
            if (this._bitmapFont[t]) {
                return this._bitmapFont[t];
            } else {
                console.warn(d6t.f6 + t + d6t.l93);
            }
        },
        getPhysicsData: function(t, k, j) {
            if (typeof k === d6t.k43 || k === d6t.B3x) {
                if (this._physics[t]) {
                    return this._physics[t].data;
                } else {
                    console.warn(d6t.T7f + t + d6t.l93);
                }
            } else {
                if (this._physics[t] && this._physics[t].data[k]) {
                    var o = this._physics[t].data[k];
                    if (o && j) {
                        for (var e in o) {
                            e = o[e];
                            if (e.fixtureKey === j) {
                                return e;
                            }
                        }
                        console.warn(d6t.c9 + j + d6t.Y5H + t + d6t.l93);
                    } else {
                        return o;
                    }
                } else {
                    console.warn(d6t.e3 + t + d6t.t83 + k + d6t.l93);
                }
            }
            return d6t.B3x;
        },
        checkKey: function(t, k) {
            if (this._cacheMap[t][k]) {
                return d6t.s73;
            }
            return d6t.F18;
        },
        checkCanvasKey: function(t) {
            return this.checkKey(Phaser.Cache.CANVAS, t);
        },
        checkImageKey: function(t) {
            return this.checkKey(Phaser.Cache.IMAGE, t);
        },
        checkTextureKey: function(t) {
            return this.checkKey(Phaser.Cache.TEXTURE, t);
        },
        checkSoundKey: function(t) {
            return this.checkKey(Phaser.Cache.SOUND, t);
        },
        checkTextKey: function(t) {
            return this.checkKey(Phaser.Cache.TEXT, t);
        },
        checkPhysicsKey: function(t) {
            return this.checkKey(Phaser.Cache.PHYSICS, t);
        },
        checkTilemapKey: function(t) {
            return this.checkKey(Phaser.Cache.TILEMAP, t);
        },
        checkBinaryKey: function(t) {
            return this.checkKey(Phaser.Cache.BINARY, t);
        },
        checkBitmapDataKey: function(t) {
            return this.checkKey(Phaser.Cache.BITMAPDATA, t);
        },
        checkBitmapFontKey: function(t) {
            return this.checkKey(Phaser.Cache.BITMAPFONT, t);
        },
        checkJSONKey: function(t) {
            return this.checkKey(Phaser.Cache.JSON, t);
        },
        checkXMLKey: function(t) {
            return this.checkKey(Phaser.Cache.XML, t);
        },
        checkUrl: function(t) {
            if (this._urlMap[this._resolveUrl(t)]) {
                return d6t.s73;
            }
            return d6t.F18;
        },
        getImage: function(t) {
            if (this._images[t]) {
                return this._images[t].data;
            } else {
                console.warn(d6t.v5x + t + d6t.l93);
                return d6t.B3x;
            }
        },
        getTilemapData: function(t) {
            if (this._tilemaps[t]) {
                return this._tilemaps[t];
            } else {
                console.warn(d6t.r8H + t + d6t.l93);
            }
        },
        getFrameData: function(t, k) {
            if (typeof k === d6t.k43) {
                k = Phaser.Cache.IMAGE;
            }
            if (this._cacheMap[k][t]) {
                return this._cacheMap[k][t].frameData;
            }
            return d6t.B3x;
        },
        updateFrameData: function(t, k) {
            if (this._images[t]) {
                this._images[t].frameData = k;
            }
        },
        getFrameByIndex: function(t, k) {
            if (this._images[t]) {
                return this._images[t].frameData.getFrame(k);
            }
            return d6t.B3x;
        },
        getFrameByName: function(t, k) {
            if (this._images[t]) {
                return this._images[t].frameData.getFrameByName(k);
            }
            return d6t.B3x;
        },
        getFrame: function(t) {
            if (this._images[t]) {
                return this._images[t].frame;
            }
            return d6t.B3x;
        },
        getTextureFrame: function(t) {
            if (this._textures[t]) {
                return this._textures[t].frame;
            }
            return d6t.B3x;
        },
        getTexture: function(t) {
            if (this._textures[t]) {
                return this._textures[t];
            } else {
                console.warn(d6t.d98 + t + d6t.l93);
            }
        },
        getSound: function(t) {
            if (this._sounds[t]) {
                return this._sounds[t];
            } else {
                console.warn(d6t.s33 + t + d6t.l93);
            }
        },
        getSoundData: function(t) {
            if (this._sounds[t]) {
                return this._sounds[t].data;
            } else {
                console.warn(d6t.h1f + t + d6t.l93);
            }
        },
        isSoundDecoded: function(t) {
            if (this._sounds[t]) {
                return this._sounds[t].decoded;
            }
        },
        isSoundReady: function(t) {
            return (this._sounds[t] && this._sounds[t].decoded && this.game.sound.touchLocked === d6t.F18);
        },
        getFrameCount: function(t) {
            if (this._images[t]) {
                return this._images[t].frameData.total;
            }
            return d6t.W6;
        },
        getText: function(t) {
            if (this._text[t]) {
                return this._text[t].data;
            } else {
                console.warn(d6t.A6B + t + d6t.l93);
            }
        },
        getJSON: function(t) {
            if (this._json[t]) {
                return this._json[t].data;
            } else {
                console.warn(d6t.z93 + t + d6t.l93);
            }
        },
        getXML: function(t) {
            if (this._xml[t]) {
                return this._xml[t].data;
            } else {
                console.warn(d6t.c3x + t + d6t.l93);
            }
        },
        getBinary: function(t) {
            if (this._binary[t]) {
                return this._binary[t];
            } else {
                console.warn(d6t.Q68 + t + d6t.l93);
            }
        },
        getUrl: function(t) {
            if (this._urlMap[this._resolveUrl(t)]) {
                return this._urlMap[this._resolveUrl(t)];
            } else {
                console.warn(d6t.w28 + t + d6t.l93);
            }
        },
        addSpineAnimation: function(t, k, j) {
            this._spineAnimations[t] = {
                url: k,
                data: j
            };
            this._urlMap[this._resolveUrl(k)] = this._spineAnimations[t];
        },
        checkSpineAnimation: function(t) {
            return this.checkKey(Phaser.Cache.SPINEANIM, t);
        },
        getSpineAnimation: function(t) {
            var k = 'Phaser.Cache.getSPINEANIM: Invalid key: "';
            if (this._spineAnimations[t]) {
                return this._spineAnimations[t].data;
            } else {
                console.warn(k + t + d6t.l93);
            }
        },
        removeSpineAnimation: function(t) {
            delete this._spineAnimations[t];
        },
        getKeys: function(t) {
            var k = d6t.B3x;
            switch (t) {
                case Phaser.Cache.CANVAS:
                    k = this._canvases;
                    break;
                case Phaser.Cache.IMAGE:
                    k = this._images;
                    break;
                case Phaser.Cache.TEXTURE:
                    k = this._textures;
                    break;
                case Phaser.Cache.SOUND:
                    k = this._sounds;
                    break;
                case Phaser.Cache.TEXT:
                    k = this._text;
                    break;
                case Phaser.Cache.PHYSICS:
                    k = this._physics;
                    break;
                case Phaser.Cache.TILEMAP:
                    k = this._tilemaps;
                    break;
                case Phaser.Cache.BINARY:
                    k = this._binary;
                    break;
                case Phaser.Cache.BITMAPDATA:
                    k = this._bitmapDatas;
                    break;
                case Phaser.Cache.BITMAPFONT:
                    k = this._bitmapFont;
                    break;
                case Phaser.Cache.JSON:
                    k = this._json;
                    break;
                case Phaser.Cache.XML:
                    k = this._xml;
                    break;
                case Phaser.Cache.SPINEANIM:
                    k = this._spineAnimations;
                    break;
            }
            if (!k) {
                return;
            }
            var j = [];
            for (var o in k) {
                if (o !== d6t.U03 && o !== d6t.h3) {
                    j.push(o);
                }
            }
            return j;
        },
        removeCanvas: function(t) {
            delete this._canvases[t];
        },
        removeImage: function(t, k) {
            if (typeof k === d6t.k43) {
                k = d6t.s73;
            }
            delete this._images[t];
            if (k) {
                PIXI.BaseTextureCache[t].destroy();
            }
        },
        removeSound: function(t) {
            delete this._sounds[t];
        },
        removeText: function(t) {
            delete this._text[t];
        },
        removeJSON: function(t) {
            delete this._json[t];
        },
        removeXML: function(t) {
            delete this._xml[t];
        },
        removePhysics: function(t) {
            delete this._physics[t];
        },
        removeTilemap: function(t) {
            delete this._tilemaps[t];
        },
        removeBinary: function(t) {
            delete this._binary[t];
        },
        removeBitmapData: function(t) {
            delete this._bitmapDatas[t];
        },
        removeBitmapFont: function(t) {
            delete this._bitmapFont[t];
        },
        _resolveUrl: function(t) {
            this._urlResolver.src = this.game.load.baseURL + t;
            this._urlTemp = this._urlResolver.src;
            this._urlResolver.src = d6t.I6x;
            return this._urlTemp;
        },
        destroy: function() {
            for (var t in this._canvases) {
                delete this._canvases[t];
            }
            for (var t in this._images) {
                if (t !== d6t.U03 && t !== d6t.h3) {
                    delete this._images[t];
                }
            }
            for (var t in this._sounds) {
                delete this._sounds[t];
            }
            for (var t in this._text) {
                delete this._text[t];
            }
            for (var t in this._json) {
                delete this._json[t];
            }
            for (var t in this._xml) {
                delete this._xml[t];
            }
            for (var t in this._textures) {
                delete this._textures[t];
            }
            for (var t in this._physics) {
                delete this._physics[t];
            }
            for (var t in this._tilemaps) {
                delete this._tilemaps[t];
            }
            for (var t in this._binary) {
                delete this._binary[t];
            }
            for (var t in this._bitmapDatas) {
                delete this._bitmapDatas[t];
            }
            for (var t in this._bitmapFont) {
                delete this._bitmapFont[t];
            }
            for (var t in this._spineAnimations) {
                delete this._spineAnimations[t];
            }
            this._urlMap = d6t.B3x;
            this._urlResolver = d6t.B3x;
            this._urlTemp = d6t.B3x;
        }
    };
    Phaser.Cache.prototype.constructor = Phaser.Cache;
});
define('gt/managers/SpritesheetManager', ['bottom_line'], function(C5) {
    function H5(localizationManager, game, bootInfo) {
        this.sprites = {};
        this._localizationManager = localizationManager;
        this._game = game;
        this._bootInfo = bootInfo;
    }
    C5.extend(H5.prototype, {
        init: function() {
            var q = 'SpritesheetManager.init';
            console.log(q);
            var platform = device.getPlatformString(),
                k5 = this._bootInfo.spritesheets[platform];
            k5._.each(function(o, e) {
                o.files._.each(function(t) {
                    if (t._.has(d6t.M4f)) {
                        return;
                    }
                    var k = t._.before(d6t.b4x),
                        j = (e !== d6t.b43) ? e + d6t.n08 + k : k;
                    if (!k._.has(d6t.C3f) || k._.has(this._localizationManager.language)) {
                        this.add(j);
                    }
                }, this);
            }, this);
            return this;
        },
        add: function(e) {
            var q = 'SpritesheetManager.add (';
            console.log(q + e + d6t.A13);
            e = e._.before(d6t.N23) || e;
            var m = this._game.cache.getFrameData(e);
            this[e] = m;
            m._frames._.each(function(t) {
                var k = '. Image keys should be unique',
                    j = ' in spritesheet: ',
                    o = 'duplicate key: ';
                if (this.sprites[t.name] && this.sprites[t.name].spritesheet !== e) {
                    console.warn(o + t.name + j + e + k);
                } else {
                    this.sprites[t.name] = {
                        spritesheet: e,
                        data: t
                    };
                }
            }, this);
            return this;
        },
        remove: function(k) {
            k = k._.before(d6t.N23);
            var j = this._game.cache.getFrameData(k);
            j._frames._.each(function(t) {
                delete this.sprites[t.name];
            }, this);
            delete this[k];
            this._game.cache.removeImage(k);
        }
    });
    return H5;
});
define('gt/gui/Image', ['bottom_line', 'phaser', 'settings', 'gt/managers/SpritesheetManager', 'gt/tweaks/Phaser/ScaleManager', 'gt/math/ScalePoint', 'gt/math/GlobalPosition'], function(H5, j5, settings, z5, P5, p5, w5) {
    function R5(t, k, j, o, e, q) {
        var m = o,
            k5 = j || game.spritesheets.sprites[m].spritesheet;
            // k5 = j;
        R5._super.constructor.call(this, game, t, k, k5, m);
        this.id = e;
        this.scaler = new p5(this.scale);
        this.global = new w5(this);
        var C5 = d6t.B3x;
        if (game.spritesheets && game.spritesheets[k5]) {
            C5 = game.spritesheets[k5];
        }
        game.scale.updateElement(this, C5, game.viewport, q);
    }
    H5.inherit(R5, j5.Image);
    H5.extend(R5, {
        factoryName: d6t.f7
    });
    H5.extend(R5.prototype, {
        init: function(t, k) {
            this.x = t;
            this.y = k;
        },
        get scalar() {
            return this.scaler.x;
        },
        set scalar(val) {
            this.scaler.set(val);
        },
        revive: function() {
            R5._super.revive.call(this);
            this.init.apply(this, arguments);
            return this;
        }
    });
    console.log("R5 : " + R5);
    return R5;
});
define('gt/gui/Placeholder', ['bottom_line', 'phaser', 'settings', 'gt/math/GlobalPosition'], function(o, e, settings, m) {
    var k5 = 'placeholder';

    function C5(t, k, j) {
        C5._super.constructor.call(this, game, t, k);
        this.x = j.x;
        this.y = j.y;
        this.dimensions = new Phaser.Rectangle(this.x, this.y, j.width, j.height);
        this.id = j.name;
        this.angle = -j.rotation;
        this.visible = j.visible;
        this.anchor = {
            x: j.anchorX,
            y: d6t.A6 - j.anchorY
        };
        this.global = new m(this);
    }
    o.inherit(C5, e.Group);
    o.extend(C5, {
        factoryName: k5
    });
    o.extend(C5.prototype, {
        enumerable: d6t.F18
    }, {
        add: function(t, k) {
            if (k === d6t.s73) {
                this._reset(t);
            }
            C5._super.add.call(this, t);
            return t;
        },
        set: {
            overrideaction: d6t.w6H,
            value: function(t) {
                this.clear();
                return this.add(t);
            }
        },
        project: function(t) {
            t.x = this.x;
            t.y = this.y;
            t.angle = this.angle;
        },
        clear: function() {
            this.removeAll(d6t.F18, d6t.s73);
        },
        _reset: function(t) {
            t.x = d6t.W6;
            t.y = d6t.W6;
            t.angle = d6t.W6;
        }
    });
    return C5;
});
define('gt/gui/ButtonGroup', ['bottom_line', 'phaser', 'settings'], function(o, e, settings) {
    var m = 'buttonGroup';

    function k5(t, k, j) {
        k5._super.constructor.call(this, game, t, k);
        this.x = j.x;
        this.y = j.y;
        this.dimensions = {
            width: j.width,
            height: j.height
        };
        this.id = j.name;
        this.visible = j.visible;
        this.button = d6t.B3x;
        this.label = d6t.B3x;
        this.icon = d6t.B3x;
    }
    o.inherit(k5, e.Group);
    o.extend(k5, {
        factoryName: m
    });
    o.extend(k5.prototype, {
        get scalar() {
            return this.button.scaler.x;
        },
        set scalar(val) {
            this.button.scaler.set(val);
            for (var i = d6t.W6; i < this.children.length; i++) {
                if (this.children[i].scaler) this.children[i].scaler.set(val);
            }
        },
        get callbackFnc() {
            return this.button.callbackFnc;
        },
        get callbackCont() {
            return this.button.callbackCont;
        },
        addButton: function(t) {
            this.add(t);
            this.button = t;
            return this;
        },
        addLabel: function(t) {
            this.add(t);
            this.label = t;
            return this;
        },
        addIcon: function(t) {
            this.add(t);
            this.icon = t;
            return this;
        },
        setVisible: function(t) {
            this.visible = t;
            this.button.setVisible(t);
            for (var k = d6t.W6; k < this.children.length; k++) {
                this.children[k].visible = t;
            }
            return this;
        },
        setActive: function(t) {
            this.button.setActive(t);
            return this;
        },
        setCallback: function(t, k, j) {
            this.button.setCallback(t, k, j);
            return this;
        },
        removeCallback: function() {
            this.button.callback = d6t.B3x;
            this.button.callbackFnc = d6t.B3x;
            this.button.callbackCont = d6t.B3x;
        },
        onInputUpHandler: function(t, k, j) {
            this.button.onInputUpHandler(t, k, j);
        },
        setText: function(t) {
            this.label.setText(t);
            return this;
        },
        setStyle: function(t) {
            this.label.setStyle(t);
            return this;
        }
    });
    return k5;
});
define('gt/gui/ProgressBar', ['bottom_line'], function(q) {
    var m = 'progressbar',
        k5 = 'horizontal';

    function C5(t, k, j, o) {
        var e = 'vertical';
        o = o || {};
        this.start = t;
        this.fill = k;
        this.end = j;
        this.direction = (t.y === j.y) ? k5 : e;
        this.size = (this.direction === k5) ? (this.end.x - this.start.x) : (this.start.y - this.end.y);
        this.init(o.max, o.reverse);
    }
    q.extend(C5, {
        factoryName: m
    });
    q.extend(C5.prototype, {
        enumerable: d6t.F18
    }, {
        init: function(t, k) {
            this.max = t || d6t.a08;
            this.current = k ? this.max : d6t.W6;
            this.reverse = !!k;
            this._updateFill();
        },
        update: function(t) {
            t = t || d6t.A6;
            if (this.reverse) {
                t = -t;
            }
            this.current += t;
            this._updateFill();
        },
        set: function(t) {
            this.current = t;
            this._updateFill();
        },
        _updateFill: function() {
            this.current._.bound(d6t.W6, this.max);
            if (this.direction === k5) {
                this.fill.width = (this.current / this.max) * this.size;
                this.end.x = Math.floor(this.fill.x + this.fill.width);
            } else {
                this.fill.height = (this.current / this.max) * this.size;
                this.end.y = Math.ceil(this.fill.y - this.fill.height);
            }
        }
    });
    return C5;
});
define('factories/GameObjects', ['bottom_line', 'phaser', 'gt/gui/Image', 'gt/gui/Sprite', 'gt/gui/Placeholder', 'gt/gui/ButtonGroup', 'gt/gui/ProgressBar'], function(o, e) {
    var q = function(t, k) {
            var j;
            if (t.pool) {
                j = t.rescue.apply(t, k);
            } else {
                j = Object.create(t.prototype);
                t.apply(j, k);
            }
            return j;
        },
        m = function(t, k) {
            var j = k || t.factoryName || t.className;
            if (!j) {} else {
                e.GameObjectCreator.prototype[j._.decapitalize()] = function() {
                    return q(t, arguments);
                };
            }
        };
    o.extend(e.GameObjectCreator.prototype, {
        add: m
    });
    for (var k5 = d6t.D6; k5 < arguments.length; k5++) {
        m(arguments[k5]);
    }
    return e.GameObjectCreator;
});
define('gt/rendering/filters/BlurX', ['bottom_line', 'phaser', 'settings'], function(H5, j5, settings) {
    function z5(game) {
        var k = "sum += texture2D(uSampler, vec2(vTextureCoord.x + 4.0*blur, vTextureCoord.y)) * 0.05;",
            j = "sum += texture2D(uSampler, vec2(vTextureCoord.x + 3.0*blur, vTextureCoord.y)) * 0.09;",
            o = "sum += texture2D(uSampler, vec2(vTextureCoord.x + 2.0*blur, vTextureCoord.y)) * 0.12;",
            e = "sum += texture2D(uSampler, vec2(vTextureCoord.x + blur, vTextureCoord.y)) * 0.15;",
            q = "sum += texture2D(uSampler, vec2(vTextureCoord.x - blur, vTextureCoord.y)) * 0.15;",
            m = "sum += texture2D(uSampler, vec2(vTextureCoord.x - 2.0*blur, vTextureCoord.y)) * 0.12;",
            k5 = "sum += texture2D(uSampler, vec2(vTextureCoord.x - 3.0*blur, vTextureCoord.y)) * 0.09;",
            C5 = "sum += texture2D(uSampler, vec2(vTextureCoord.x - 4.0*blur, vTextureCoord.y)) * 0.05;";
        j5.Filter.call(this, game);
        this.uniforms.blur = {
            type: d6t.J6B,
            value: d6t.A6 / d6t.U2H
        };
        this.fragmentSrc = [d6t.b5B, d6t.E4f, d6t.k9f, d6t.x1x, d6t.K6B, d6t.Z6x, d6t.f0, C5, k5, m, q, d6t.R98, e, o, j, k, d6t.U3x, d6t.Y4f];
    }
    j5.Filter.BlurX = z5;
    H5.inherit(z5, j5.Filter);
    H5.extend(z5.prototype, {
        enumerable: d6t.F18
    }, {
        get blur() {
            return this.uniforms.blur.value / (d6t.A6 / d6t.w38);
        },
        set blur(value) {
            this.dirty = d6t.s73;
            this.uniforms.blur.value = (d6t.A6 / d6t.w38) * value;
        }
    });
    return z5;
});
define('gt/rendering/filters/BlurY', ['bottom_line', 'phaser', 'settings'], function(H5, j5, settings) {
    function z5(game) {
        var k = "sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 4.0*blur)) * 0.05;",
            j = "sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 3.0*blur)) * 0.09;",
            o = "sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + 2.0*blur)) * 0.12;",
            e = "sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + blur)) * 0.15;",
            q = "sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - blur)) * 0.15;",
            m = "sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 2.0*blur)) * 0.12;",
            k5 = "sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 3.0*blur)) * 0.09;",
            C5 = "sum += texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - 4.0*blur)) * 0.05;";
        j5.Filter.call(this, game);
        this.uniforms.blur = {
            type: d6t.J6B,
            value: d6t.A6 / d6t.U2H
        };
        this.fragmentSrc = [d6t.b5B, d6t.E4f, d6t.k9f, d6t.x1x, d6t.K6B, d6t.Z6x, d6t.f0, C5, k5, m, q, d6t.R98, e, o, j, k, d6t.U3x, d6t.Y4f];
    }
    j5.Filter.BlurY = z5;
    H5.inherit(z5, j5.Filter);
    H5.extend(z5.prototype, {
        enumerable: d6t.F18
    }, {
        get blur() {
            return this.uniforms.blur.value / (d6t.A6 / d6t.w38);
        },
        set blur(value) {
            this.dirty = d6t.s73;
            this.uniforms.blur.value = (d6t.A6 / d6t.w38) * value;
        }
    });
    return z5;
});
define('gt/rendering/filters/Blur', ['bottom_line', 'phaser', 'settings', 'gt/rendering/filters/BlurX', 'gt/rendering/filters/BlurY'], function(t, k, settings, o, e) {
    function Blur() {
        this.blurXFilter = new o();
        this.blurYFilter = new e();
        this.passes = [this.blurXFilter, this.blurYFilter];
    }
    k.Filter.Blur = Blur;
    t.inherit(Blur, k.Filter);
    t.extend(Blur.prototype, {
        enumerable: d6t.F18
    }, {
        get blur() {
            return this.blurXFilter.blur;
        },
        set blur(value) {
            this.blurXFilter.blur = this.blurYFilter.blur = value;
        },
        get blurX() {
            return this.blurXFilter.blur;
        },
        set blurX(value) {
            this.blurXFilter.blur = value;
        },
        get blurY() {
            return this.blurYFilter.blur;
        },
        set blurY(value) {
            this.blurYFilter.blur = value;
        }
    });
    return Blur;
});
define('gt/rendering/filters/Glow', ['bottom_line', 'phaser', 'settings'], function(r5, T5, settings) {
    function x5(game) {
        var k = 'gl_FragColor = sum * glow + texture2D(uSampler, texcoord);',
            j = 'sum += texture2D(uSampler, texcoord + vec2(xx, yy) * 0.002) * factor;',
            o = 'factor = 2.0/abs(float(dist));',
            e = '} else {',
            q = 'factor = 2.0;',
            m = 'if (dist == 0.0) {',
            k5 = 'float factor = 0.0;',
            C5 = 'float dist = sqrt(float(xx*xx) + float(yy*yy));',
            H5 = 'for(int yy = -3; yy <= 3; yy++) {',
            j5 = 'for(int xx = -4; xx <= 4; xx++) {',
            Y5 = 'vec2 texcoord = vTextureCoord;',
            z5 = 'vec4 sum = vec4(0);',
            P5 = 'void main() {',
            p5 = "uniform float     glow;",
            w5 = "precision lowp float;",
            R5 = 0.03;
        T5.Filter.call(this, game);
        this.uniforms.glow = {
            type: d6t.J6B,
            value: R5
        };
        this.fragmentSrc = [w5, d6t.E4f, d6t.k9f, d6t.y93, p5, P5, z5, Y5, j5, H5, C5, k5, m, q, e, o, d6t.S7, j, d6t.S7, d6t.S7, k, d6t.S7];
    }
    T5.Filter.Glow = x5;
    r5.inherit(x5, T5.Filter);
    r5.extend(x5.prototype, {
        enumerable: d6t.F18
    }, {
        get glow() {
            return this.uniforms.glow.value;
        },
        set glow(value) {
            this.uniforms.glow.value = value;
        }
    });
    return x5;
});
(function(P5) {
    'use strict';
    var p5 = '[Error infuse.Injector.getInjectedValue] A matching constructor parameter has been found in the target, you can\'t inject an instance in itself',
        w5 = '[Error infuse.Injector.getInjectedValue] A matching property has been found in the target, you can\'t inject an instance in itself',
        R5 = '[Error infuse.Injector.getInstance] no mapping found',
        r5 = '[Error infuse.Injector.createInstance] invalid parameter, a function is expected',
        T5 = '[Error infuse.Injector.mapClass/mapValue] this mapping already exists, with property: ',
        a5 = '[Error infuse.Injector.mapClass] the third parameter is invalid, a boolean is expected, with property: ',
        x5 = '[Error infuse.Injector.mapClass/mapValue] the second parameter is invalid, a function is expected, with property: ',
        f5 = '[Error infuse.Injector.mapClass/mapValue] the second parameter is invalid, it can\'t null or undefined, with property: ',
        A5 = '[Error infuse.Injector.mapClass/mapValue] the first parameter is invalid, a string is expected',
        u5 = '0.7.0';
    P5.version = u5;
    var B5 = /^function\s*[^\(]*\(\s*([^\)]*)\)/m,
        D5 = /,/,
        o5 = /^\s*(_?)(\S+?)\1\s*$/,
        N5 = /((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg;

    function y5(t, k) {
        var j = t.length;
        while (j--) {
            if (t[j] === k) {
                return d6t.s73;
            }
        }
        return d6t.F18;
    }
    P5.InjectorError = {
        MAPPING_BAD_PROP: A5,
        MAPPING_BAD_VALUE: f5,
        MAPPING_BAD_CLASS: x5,
        MAPPING_BAD_SINGLETON: a5,
        MAPPING_ALREADY_EXISTS: T5,
        CREATE_INSTANCE_INVALID_PARAM: r5,
        NO_MAPPING_FOUND: R5,
        INJECT_INSTANCE_IN_ITSELF_PROPERTY: w5,
        INJECT_INSTANCE_IN_ITSELF_CONSTRUCTOR: p5
    };
    var U5 = function(t, k, j, o) {
            this.prop = t;
            this.value = k;
            this.cl = j;
            this.singleton = o || d6t.F18;
        },
        W5 = function(t) {
            if (typeof t !== d6t.F78) {
                throw new Error(P5.InjectorError.MAPPING_BAD_PROP);
            }
        },
        J5 = function(t, k) {
            if (k === undefined || k === d6t.B3x) {
                throw new Error(P5.InjectorError.MAPPING_BAD_VALUE + t);
            }
        },
        g5 = function(t, k) {
            if (typeof k !== d6t.j5f) {
                throw new Error(P5.InjectorError.MAPPING_BAD_CLASS + t);
            }
        },
        c5 = function(t, k) {
            if (typeof k !== d6t.U3f) {
                throw new Error(P5.InjectorError.MAPPING_BAD_SINGLETON + t);
            }
        },
        Z5 = function(t, k) {
            var j = P5.getConstructorParams(k);
            if (y5(j, t)) {
                throw new Error(P5.InjectorError.INJECT_INSTANCE_IN_ITSELF_CONSTRUCTOR);
            }
        },
        M5 = function(t, k) {
            if (k.hasOwnProperty(t)) {
                throw new Error(P5.InjectorError.INJECT_INSTANCE_IN_ITSELF_PROPERTY);
            }
        };
    P5.Injector = function() {
        this.mappings = {};
        this.parent = d6t.B3x;
    };
    P5.getConstructorParams = function(o) {
        var e = 'inject',
            q = [],
            m;

        function k5(t, k, j) {
            q.push(j);
        }
        if (o.hasOwnProperty(e) && toString.call(o.inject) === d6t.b8f && o.inject.length > d6t.W6) m = o.inject;
        var C5 = o.toString().replace(N5, d6t.I6x),
            H5 = C5.match(B5),
            j5 = H5[d6t.A6].split(D5);
        for (var Y5 = d6t.W6; Y5 < j5.length; Y5++) {
            var z5 = (m && m[Y5]) ? m[Y5] : j5[Y5];
            z5.replace(o5, k5);
        }
        return q;
    };
    P5.Injector.prototype = {
        createChild: function() {
            var injector = new P5.Injector();
            injector.parent = this;
            return injector;
        },
        getMappingVo: function(t) {
            if (!this.mappings) {
                return d6t.B3x;
            }
            if (this.mappings[t]) {
                return this.mappings[t];
            }
            if (this.parent) {
                return this.parent.getMappingVo(t);
            }
            return d6t.B3x;
        },
        mapValue: function(t, k) {
            if (this.mappings[t]) {
                throw new Error(P5.InjectorError.MAPPING_ALREADY_EXISTS + t);
            }
            W5(t);
            J5(t, k);
            this.mappings[t] = new U5(t, k, undefined, undefined);
            return this;
        },
        mapClass: function(t, k, j) {
            if (this.mappings[t]) {
                throw new Error(P5.InjectorError.MAPPING_ALREADY_EXISTS + t);
            }
            W5(t);
            g5(t, k);
            if (j) {
                c5(t, j);
            }
            this.mappings[t] = new U5(t, d6t.B3x, k, j);
            return this;
        },
        removeMapping: function(t) {
            this.mappings[t] = d6t.B3x;
            delete this.mappings[t];
            return this;
        },
        hasMapping: function(t) {
            return !!this.mappings[t];
        },
        hasInheritedMapping: function(t) {
            return !!this.getMappingVo(t);
        },
        getMapping: function(t) {
            for (var k in this.mappings) {
                if (this.mappings.hasOwnProperty(k)) {
                    var j = this.mappings[k];
                    if (j.value === t || j.cl === t) {
                        return j.prop;
                    }
                }
            }
            return undefined;
        },
        getValue: function(t) {
            var k = this.mappings[t];
            if (!k) {
                if (this.parent) {
                    return this.parent.getValue.apply(this.parent, arguments);
                } else {
                    throw new Error(P5.InjectorError.NO_MAPPING_FOUND);
                }
            }
            if (k.cl) {
                var j = Array.prototype.slice.call(arguments);
                j[d6t.W6] = k.cl;
                if (k.singleton) {
                    if (!k.value) {
                        k.value = this.createInstance.apply(this, j);
                    }
                    return k.value;
                } else {
                    return this.createInstance.apply(this, j);
                }
            }
            return k.value;
        },
        getClass: function(t) {
            var k = this.mappings[t];
            if (!k) {
                if (this.parent) {
                    return this.parent.getClass(t);
                } else {
                    return undefined;
                }
            }
            if (k.cl) {
                return k.cl;
            }
            return undefined;
        },
        instantiate: function(t) {
            if (typeof t !== d6t.j5f) {
                throw new Error(P5.InjectorError.CREATE_INSTANCE_INVALID_PARAM);
            }
            var k = [d6t.B3x],
                j = P5.getConstructorParams(t);
            for (var o = d6t.W6; o < j.length; o++) {
                if (arguments[o + d6t.A6] !== undefined && arguments[o + d6t.A6] !== d6t.B3x) {
                    k.push(arguments[o + d6t.A6]);
                } else {
                    var e = j[o],
                        q = this.getMappingVo(e);
                    if (!!q) {
                        var m = this.getInjectedValue(q, e);
                        k.push(m);
                    } else {
                        k.push(undefined);
                    }
                }
            }
            return new(Function.prototype.bind.apply(t, k))();
        },
        inject: function(t, k) {
            if (this.parent) {
                this.parent.inject(t, d6t.s73);
            }
            for (var j in this.mappings) {
                if (this.mappings.hasOwnProperty(j)) {
                    var o = this.getMappingVo(j);
                    if (t.hasOwnProperty(o.prop) || (t.constructor && t.constructor.prototype && t.constructor.prototype.hasOwnProperty(o.prop))) {
                        t[j] = this.getInjectedValue(o, j);
                    }
                }
            }
            if (typeof t.postConstruct === d6t.j5f && !k) {
                t.postConstruct();
            }
            return this;
        },
        getInjectedValue: function(t, k) {
            var j = t.value,
                o;
            if (t.cl) {
                if (t.singleton) {
                    if (!t.value) {
                        Z5(k, t.cl);
                        t.value = this.instantiate(t.cl);
                        o = t.value;
                    }
                    j = t.value;
                } else {
                    Z5(k, t.cl);
                    j = this.instantiate(t.cl);
                    o = j;
                }
            }
            if (o) {
                M5(k, o);
                this.inject(o);
            }
            return j;
        },
        createInstance: function() {
            var instance = this.instantiate.apply(this, arguments);
            this.inject(instance);
            return instance;
        },
        getValueFromClass: function(t) {
            for (var k in this.mappings) {
                if (this.mappings.hasOwnProperty(k)) {
                    var j = this.mappings[k];
                    if (j.cl === t) {
                        if (j.singleton) {
                            if (!j.value) {
                                j.value = this.createInstance.apply(this, arguments);
                            }
                            return j.value;
                        } else {
                            return this.createInstance.apply(this, arguments);
                        }
                    }
                }
            }
            if (this.parent) {
                return this.parent.getValueFromClass.apply(this.parent, arguments);
            } else {
                throw new Error(P5.InjectorError.NO_MAPPING_FOUND);
            }
        },
        dispose: function() {
            this.mappings = {};
        }
    };
    if (!Function.prototype.bind) {
        Function.prototype.bind = function n5(o) {
            var e = this;
            if (typeof e !== d6t.j5f) {
                throw new Error(d6t.X5H);
            }
            var q = Array.prototype.slice.call(arguments, d6t.A6),
                m = function() {
                    if (this instanceof m) {
                        var t = function() {};
                        t.prototype = e.prototype;
                        var k = new t(),
                            j = e.apply(k, q.concat(Array.prototype.slice.call(arguments)));
                        if (Object(j) === j) {
                            return j;
                        }
                        return k;
                    } else {
                        return e.apply(o, q.concat(Array.prototype.slice.call(arguments)));
                    }
                };
            return m;
        };
    }
    if (typeof define === d6t.j5f && typeof define.amd !== d6t.k43) {
        define("infuse", P5);
    }
    if (typeof module !== d6t.k43 && typeof module.exports !== d6t.k43) {
        module.exports = P5;
    }
    if (typeof exports !== d6t.k43) {
        exports = P5;
    }
})(this[d6t.H2x] = this[d6t.H2x] || {});
(function(k5) {
    'use strict';
    var C5 = '0.5.6';
    k5.SINGLETON = d6t.s73;
    k5.events = {};
    k5.events.version = C5;
    if (!Function.prototype.bind) {
        Function.prototype.bind = function H5(o) {
            var e = this;
            if (typeof e !== d6t.j5f) {
                throw new Error(d6t.X5H);
            }
            var q = Array.prototype.slice.call(arguments, d6t.A6),
                m = function() {
                    if (this instanceof m) {
                        var t = function() {};
                        t.prototype = e.prototype;
                        var k = new t(),
                            j = e.apply(k, q.concat(Array.prototype.slice.call(arguments)));
                        if (Object(j) === j) {
                            return j;
                        }
                        return k;
                    } else {
                        return e.apply(o, q.concat(Array.prototype.slice.call(arguments)));
                    }
                };
            return m;
        };
    }
    k5.Event = function(t, k, j, o) {
        var e = k5.Event.createGenericEvent(t, j, o);
        if (k !== d6t.B3x && k !== undefined) {
            e.params = k;
        }
        e.isCloned = d6t.F18;
        e.clone = this.clone.bind(e);
        e.isIE9orIE10 = this.isIE9orIE10;
        e.isDefaultPrevented = this.isDefaultPrevented;
        if (this.isIE9orIE10() || !e.preventDefault || (e.getDefaultPrevented === undefined && e.defaultPrevented === undefined)) {
            e.preventDefault = this.preventDefault.bind(e);
        }
        if (this.isIE9orIE10()) {
            e.IE9or10PreventDefault = d6t.F18;
        }
        return e;
    };
    k5.Event.prototype.clone = function() {
        var t = k5.Event.createGenericEvent(this.type, this.bubbles, this.cancelable);
        t.params = this.params;
        t.isCloned = d6t.s73;
        t.clone = this.clone;
        t.isDefaultPrevented = this.isDefaultPrevented;
        t.isIE9orIE10 = this.isIE9orIE10;
        if (this.isIE9orIE10()) {
            t.IE9or10PreventDefault = this.IE9or10PreventDefault;
        }
        return t;
    };
    k5.Event.prototype.preventDefault = function() {
        if (!this.cancelable) {
            return d6t.F18;
        }
        if (this.isIE9orIE10()) {
            this.IE9or10PreventDefault = d6t.s73;
        } else {
            this.defaultPrevented = d6t.s73;
        }
        return this;
    };
    k5.Event.prototype.isDefaultPrevented = function() {
        if (!this.cancelable) {
            return d6t.F18;
        }
        if (this.isIE9orIE10()) {
            return this.IE9or10PreventDefault;
        }
        if (this.defaultPrevented !== undefined) {
            return this.defaultPrevented;
        } else if (this.getDefaultPrevented !== undefined) {
            return this.getDefaultPrevented();
        }
        return d6t.F18;
    };
    k5.Event.createGenericEvent = function(t, k, j) {
        var o = 'Event',
            e;
        k = k !== undefined ? k : d6t.s73;
        if (typeof document === d6t.T7H && document.createEvent) {
            e = document.createEvent(o);
            e.initEvent(t, !!k, !!j);
        } else if (typeof document === d6t.T7H && document.createEventObject) {
            e = document.createEventObject();
            e.type = t;
            e.bubbles = !!k;
            e.cancelable = !!j;
        } else {
            e = new j5(t, !!k, !!j);
        }
        return e;
    };
    k5.Event.prototype.isIE9orIE10 = function() {
        if (typeof document !== d6t.T7H) {
            return d6t.F18;
        }
        return (document.body.style.scrollbar3dLightColor !== undefined && document.body.style.opacity !== undefined) || document.body.style.msTouchAction !== undefined;
    };
    k5.Event.prototype.toString = function() {
        var t = '[soma.Event]';
        return t;
    };
    var j5 = function(t, k, j) {
        this.type = t;
        this.bubbles = !!k;
        this.cancelable = !!j;
        this.defaultPrevented = d6t.F18;
        this.currentTarget = d6t.B3x;
        this.target = d6t.B3x;
    };
    k5.EventDispatcher = function() {
        this.listeners = [];
    };
    k5.EventDispatcher.prototype.addEventListener = function(t, k, j) {
        if (!this.listeners || !t || !k) {
            return;
        }
        if (isNaN(j)) {
            j = d6t.W6;
        }
        for (var o = d6t.W6; o < this.listeners.length; o++) {
            var e = this.listeners[o];
            if (e.type === t && e.listener === k) {
                return;
            }
        }
        this.listeners.push({
            type: t,
            listener: k,
            priority: j,
            scope: this
        });
    };
    k5.EventDispatcher.prototype.removeEventListener = function(t, k) {
        if (!this.listeners || !t || !k) {
            return;
        }
        var j = this.listeners.length;
        while (j-- > d6t.W6) {
            var o = this.listeners[j];
            if (o.type === t && o.listener === k) {
                this.listeners.splice(j, d6t.A6);
            }
        }
    };
    k5.EventDispatcher.prototype.hasEventListener = function(t) {
        if (!this.listeners || !t) {
            return d6t.F18;
        }
        var k = d6t.W6,
            j = this.listeners.length;
        for (; k < j; ++k) {
            var o = this.listeners[k];
            if (o.type === t) {
                return d6t.s73;
            }
        }
        return d6t.F18;
    };
    k5.EventDispatcher.prototype.dispatchEvent = function(j) {
        var o = 'Error in EventDispatcher (dispatchEvent), one of the parameters is null or undefined.';
        if (!this.listeners || !j) {
            throw new Error(o);
        }
        var e = [],
            q;
        for (q = d6t.W6; q < this.listeners.length; q++) {
            var m = this.listeners[q];
            if (m.type === j.type) {
                e.push(m);
            }
        }
        e.sort(function(t, k) {
            return k.priority - t.priority;
        });
        for (q = d6t.W6; q < e.length; q++) {
            e[q].listener.apply((j.srcElement) ? j.srcElement : j.currentTarget, [j]);
        }
        return !j.isDefaultPrevented();
    };
    k5.EventDispatcher.prototype.dispatch = function(t, k, j, o) {
        var e = 'Error in EventDispatcher (dispatch), one of the parameters is null or undefined.';
        if (!this.listeners || !t || t === d6t.I6x) {
            throw new Error(e);
        }
        var q = new k5.Event(t, k, j, o);
        this.dispatchEvent(q);
        return q;
    };
    k5.EventDispatcher.prototype.dispose = function() {
        this.listeners = d6t.B3x;
    };
    k5.EventDispatcher.prototype.toString = function() {
        var t = '[soma.EventDispatcher]';
        return t;
    };
    if (typeof define === d6t.j5f && typeof define.amd !== d6t.k43) {
        define("soma-events", k5);
    }
    if (typeof module !== d6t.k43 && typeof module.exports !== d6t.k43) {
        module.exports = k5;
    }
    if (typeof exports !== d6t.k43) {
        exports = k5;
    }
})(this[d6t.K4] = this[d6t.K4] || {});
(function(Y5, z5) {
    'use strict';
    var P5 = 'commands',
        p5 = 'mediators',
        w5 = 'dispatcher',
        R5 = 'instance',
        r5 = 'injector',
        T5 = '2.1.1';
    Y5.version = T5;
    Y5.applyProperties = function(t, k, j, o) {
        if (Object.prototype.toString.apply(o) === d6t.b8f) {
            for (var e = d6t.W6, q = o.length; e < q; e++) {
                if (t[o[e]] === undefined || t[o[e]] === d6t.B3x) {
                    if (j && typeof k[o[e]] === d6t.j5f) {
                        t[o[e]] = k[o[e]].bind(k);
                    } else {
                        t[o[e]] = k[o[e]];
                    }
                }
            }
        } else {
            for (var m in k) {
                if (j && typeof k[m] === d6t.j5f) {
                    t[m] = k[m].bind(k);
                } else {
                    t[m] = k[m];
                }
            }
        }
    };
    Y5.augment = function(t, k, j) {
        if (!k.prototype || !t.prototype) {
            return;
        }
        if (Object.prototype.toString.apply(j) === d6t.b8f) {
            for (var o = d6t.W6, e = j.length; o < e; o++) {
                if (!t.prototype[j[o]]) {
                    t.prototype[j[o]] = k.prototype[j[o]];
                }
            }
        } else {
            for (var q in k.prototype) {
                if (!t.prototype[q]) {
                    t.prototype[q] = k.prototype[q];
                }
            }
        }
    };
    Y5.inherit = function(k, j) {
        var o = 'constructor',
            e;
        if (j && j.hasOwnProperty(o)) {
            e = j.constructor;
        } else {
            e = function() {
                return k.apply(this, arguments);
            };
        }
        var q = function() {};
        q.prototype = k.prototype;
        e.prototype = new q();
        if (j) {
            Y5.applyProperties(e.prototype, j);
        }
        e.prototype.constructor = e;
        e.parent = k.prototype;
        e.extend = function(t) {
            return Y5.inherit(e, t);
        };
        return e;
    };
    Y5.extend = function(t) {
        return Y5.inherit(function() {}, t);
    };
    var a5 = [];
    Y5.plugins = Y5.plugins || {};
    Y5.plugins.add = function(t) {
        a5.push(t);
    };
    Y5.plugins.remove = function(t) {
        for (var k = a5.length - d6t.A6, j = d6t.W6; k >= j; k--) {
            if (t === a5[k]) {
                a5.splice(k, d6t.A6);
            }
        }
    };
    Y5.Application = Y5.extend({
        constructor: function() {
            var j = this;

            function o() {
                j.injector = new z5.Injector(j.dispatcher);
                j.dispatcher = new Y5.EventDispatcher();
                j.injector.mapValue(r5, j.injector);
                j.injector.mapValue(R5, j);
                j.injector.mapValue(w5, j.dispatcher);
                j.injector.mapClass(p5, x5, d6t.s73);
                j.mediators = j.injector.getValue(p5);
                j.injector.mapClass(P5, f5, d6t.s73);
                j.commands = j.injector.getValue(P5);
                for (var t = d6t.W6, k = a5.length; t < k; t++) {
                    j.createPlugin(a5[t]);
                }
            }
            o.bind(this)();
            this.init();
            this.start();
        },
        createPlugin: function() {
            var t = 'Error creating a plugin, plugin class is missing.';
            if (arguments.length === d6t.W6 || !arguments[d6t.W6]) {
                throw new Error(t);
            }
            var k = z5.getConstructorParams(arguments[d6t.W6]),
                j = [arguments[d6t.W6]];
            for (var o = d6t.W6, e = k.length; o < e; o++) {
                if (this.injector.hasMapping(k[o]) || this.injector.hasInheritedMapping(k[o])) {
                    j.push(this.injector.getValue(k[o]));
                } else {
                    j.push(undefined);
                }
            }
            for (var q = j.length - d6t.A6, m = j.length; q >= d6t.W6; q--) {
                if (typeof j[q] === d6t.k43) {
                    j.splice(q, d6t.A6);
                } else {
                    break;
                }
            }
            for (var k5 = d6t.A6, C5 = arguments.length; k5 < C5; k5++) {
                j.push(arguments[k5]);
            }
            return this.injector.createInstance.apply(this.injector, j);
        },
        init: function() {},
        start: function() {},
        dispose: function() {
            if (this.injector) {
                this.injector.removeMapping(r5);
                this.injector.removeMapping(w5);
                this.injector.removeMapping(p5);
                this.injector.removeMapping(P5);
                this.injector.removeMapping(R5);
            }
            if (this.injector) {
                this.injector.dispose();
            }
            if (this.dispatcher) {
                this.dispatcher.dispose();
            }
            if (this.mediators) {
                this.mediators.dispose();
            }
            if (this.commands) {
                this.commands.dispose();
            }
            this.injector = undefined;
            this.dispatcher = undefined;
            this.mediators = undefined;
            this.commands = undefined;
            this.instance = undefined;
        }
    });
    var x5 = Y5.extend({
            constructor: function() {
                this.injector = d6t.B3x;
                this.dispatcher = d6t.B3x;
            },
            create: function(t, k) {
                var j = 'target',
                    o = 'Error creating a mediator, the second parameter cannot be undefined or null.',
                    e = 'Error creating a mediator, the first parameter must be a function.';
                if (!t || typeof t !== d6t.j5f) {
                    throw new Error(e);
                }
                if (k === undefined || k === d6t.B3x) {
                    throw new Error(o);
                }
                var q = [],
                    m = [];
                if (k.length > d6t.W6) {
                    q = k;
                } else {
                    q.push(k);
                }
                for (var k5 = d6t.W6, C5 = q.length; k5 < C5; k5++) {
                    var injector = this.injector.createChild();
                    injector.mapValue(j, q[k5]);
                    var j5 = injector.createInstance(t);
                    if (q.length === d6t.A6) {
                        return j5;
                    }
                    m.push(j5);
                }
                return m;
            },
            dispose: function() {
                this.injector = undefined;
                this.dispatcher = undefined;
            }
        }),
        f5 = Y5.extend({
            constructor: function() {
                this.boundHandler = this.handler.bind(this);
                this.dispatcher = d6t.B3x;
                this.injector = d6t.B3x;
                this.list = {};
            },
            has: function(t) {
                return this.list[t] !== d6t.B3x && this.list[t] !== undefined;
            },
            get: function(t) {
                if (this.has(t)) {
                    return this.list[t];
                }
                return undefined;
            },
            getAll: function() {
                var t = {};
                for (var k in this.list) {
                    if (this.list.hasOwnProperty(k)) {
                        t[k] = this.list[k];
                    }
                }
                return t;
            },
            add: function(t, k) {
                var j = '", already registered.',
                    o = 'Error adding a command with the name: "',
                    e = '", the second parameter must be a function, and must contain an "execute" public method.',
                    q = 'Error adding a command with the name "',
                    m = 'Error adding a command, the first parameter must be a string.';
                if (typeof t !== d6t.F78) {
                    throw new Error(m);
                }
                if (typeof k !== d6t.j5f) {
                    throw new Error(q + k + e);
                }
                if (this.has(t)) {
                    throw new Error(o + t + j);
                }
                this.list[t] = k;
                this.addInterceptor(t);
            },
            remove: function(t) {
                if (!this.has(t)) {
                    return;
                }
                this.list[t] = undefined;
                delete this.list[t];
                this.removeInterceptor(t);
            },
            addInterceptor: function(t) {
                this.dispatcher.addEventListener(t, this.boundHandler, -Number.MAX_VALUE);
            },
            removeInterceptor: function(t) {
                this.dispatcher.removeEventListener(t, this.boundHandler);
            },
            handler: function(t) {
                if (t.isDefaultPrevented && !t.isDefaultPrevented()) {
                    this.executeCommand(t);
                }
            },
            executeCommand: function(t) {
                var k = ' must contain an execute public method.',
                    j = ' Command ',
                    o = 'Error in ',
                    e = 'execute',
                    q = t.type;
                if (this.has(q)) {
                    var m = this.injector.createInstance(this.list[q]);
                    if (!m.hasOwnProperty(e) && m[e] === d6t.j5f) {
                        throw new Error(o + this + j + m + k);
                    }
                    m.execute(t);
                }
            },
            dispose: function() {
                for (var t in this.list) {
                    if (this.list.hasOwnProperty(t)) {
                        this.remove(t);
                    }
                }
                this.boundHandler = undefined;
                this.dispatcher = undefined;
                this.injector = undefined;
                this.list = undefined;
            }
        });
    Y5.EventDispatcher.extend = function(t) {
        return Y5.inherit(Y5.EventDispatcher, t);
    };
    Y5.Event.extend = function(t) {
        return Y5.inherit(Y5.Event, t);
    };
    z5.Injector.extend = function(t) {
        return Y5.inherit(z5.Injector, t);
    };
    if (typeof define === d6t.j5f && typeof define.amd !== d6t.k43) {
        define('soma', Y5);
    }
    if (typeof module !== d6t.k43 && typeof module.exports !== d6t.k43) {
        module.exports = Y5;
    } else {
        window.soma = Y5;
    }
})(this[d6t.K4] = this[d6t.K4] || {}, this[d6t.H2x]);
'use strict';
define('gt/utils/orientation', ['bottom_line', 'settings', 'gt/utils/device'], function(t, settings, j) {
    var o = 'both',
        e = {
            desired: d6t.B3x,
            current: window.innerWidth > window.innerHeight ? d6t.G8 : d6t.i5H,
            onchange: t.wrap(function() {
                e.current = window.innerWidth > window.innerHeight ? d6t.G8 : d6t.i5H;
            })
        };
    e.calculateCurrent = function() {
        return window.innerWidth > window.innerHeight ? d6t.G8 : d6t.i5H;
    };
    window.on(d6t.u9x, e.onchange, d6t.F18);
    window.on(d6t.X78, e.onchange, d6t.F18);
    var q = settings.orientations;
    e.desired = j.desktop ? q.desktop : (q.mobile || q.tablet || q.portable);
    e.desired = (e.desired === o) ? e.current : e.desired;
    return e;
});
define('gt/utils/Chainable', [], function() {
    var j = function(t, k) {
        this.func = t || d6t.B3x;
        this.context = k || d6t.B3x;
        this.previous = d6t.B3x;
        this.args = Array.prototype.slice.call(arguments);
        this.args.splice(d6t.W6, d6t.D6);
        this.nextFunc = d6t.B3x;
    };
    j.prototype.then = function(t, k) {
        this.nextFunc = Object.create(j.prototype);
        j.apply(this.nextFunc, arguments);
        this.nextFunc.previous = this;
        return this.nextFunc;
    };
    j.prototype.execute = function() {
        if (this.previous) {
            var t = this.previous;
            this.previous = d6t.B3x;
            t.execute();
            return;
        }
        if (this.func) {
            var k = this.args.slice();
            k.unshift(this.executeNext, this);
            this.func.apply(this.context, k);
        } else {
            this.executeNext();
        }
    };
    j.prototype.executeNext = function() {
        this.nextFunc.execute();
    };
    return j;
});
define('gt/utils/StringUtil', [], function() {
    var H5 = {};
    H5.csvToArray = function(e) {
        var q = "CSVtoArray: Invalid csv text.\n\nSee http://stackoverflow.com/questions/8493195/how-can-i-parse-a-csv-string-with-javascript for help.",
            m = /^\s*(?:"[^"\\]*(?:\\[\S\s][^"\\]*)*"|[^,"\s\\]*(?:\s+[^,"\s\\]+)*)\s*(?:,\s*(?:"[^"\\]*(?:\\[\S\s][^"\\]*)*"|[^,"\s\\]*(?:\s+[^,"\s\\]+)*)\s*)*$/,
            k5 = /(?!\s*$)\s*(?:"([^"\\]*(?:\\[\S\s][^"\\]*)*)"|([^,"\s\\]*(?:\s+[^,"\s\\]+)*))\s*(?:,|$)/g;
        if (!m.test(e)) {
            console.warn(q);
            console.warn(e);
            return d6t.B3x;
        }
        var C5 = [];
        e.replace(k5, function(t, k, j, o) {
            if (k !== undefined && k !== d6t.I6x) {
                C5.push(k.replace(/\\'/g, d6t.V6x));
            } else if (j !== undefined && j !== d6t.I6x) {
                C5.push(j.replace(/\\"/g, d6t.l93));
            } else if (o !== undefined && o !== d6t.I6x) {
                C5.push(o);
            }
            return d6t.I6x;
        });
        if (/,\s*$/.test(e)) {
            C5.push(d6t.I6x);
        }
        return C5;
    };
    H5.format = function() {
        var t = "gm",
            k = "\\}",
            j = "\\{",
            o = arguments[d6t.W6];
        for (var e = d6t.A6; e < arguments.length; e++) {
            var q = new RegExp(j + (e - d6t.A6) + k, t);
            o = o.replace(q, arguments[e]);
        }
        return o;
    };
    H5.toMMSS = function(t) {
        var k = (108 > (14.92E2, 0x2) ? (0xED, ':') : (3E0, 0x43) > (97, 0x1D3) ? (0xDD, 'x') : 86. > (1.355E3, 75.9E1) ? "h" : (35.80E1, 75.9E1)),
            j = Math.floor(t / d6t.V8x) % d6t.V8x,
            o = Math.floor(t) % d6t.V8x;
        return H5.pad(j, d6t.D6) + k + H5.pad(o, d6t.D6);
    };
    H5.pad = function(t, k) {
        var j = t + d6t.g5x;
        while (j.length < k) j = d6t.y3x + j;
        return j;
    };
    return H5;
});
define('gt/localization/LocalizationManager', ['bottom_line', 'settings', 'gt/utils/StringUtil', 'gt/extras/ajax', 'gt/utils/device'], function(w5, settings, r5, T5, a5) {
    var x5 = function() {
        var t = 'en',
            k = 'LocalizationManager.ctor';
        console.log(k);
        this.defaultLanguage = t;
        this.localization = {};
        this.missingStrings = {};
        this.debugMode = d6t.F18;
    };
    x5.prototype.load = function(H5, j5, Y5) {
        var z5 = '.csv',
            P5 = 'assets/loc/',
            p5 = this;
        T5(P5 + H5 + z5).then(function(t) {
            var k = "\n -- ",
                j = "Comment on key: ",
                o = ". Source: ",
                e = ".csv on line ",
                q = "Found dud line in ",
                m = t.split(d6t.t98);
            for (var k5 = d6t.W6; k5 < m.length; k5++) {
                var C5 = r5.csvToArray(m[k5]);
                if (!C5 || !C5[d6t.W6] || !C5[d6t.A6]) {
                    console.warn(q + H5 + e + (k5 + d6t.A6) + o + m[k5]);
                    continue;
                }
                p5.put(C5[d6t.W6], C5[d6t.A6]);
                if (C5[d6t.D6]) {
                    console.log(j + C5[d6t.W6] + k + C5[d6t.D6]);
                }
            }
            p5.language = H5;
            if (j5) {
                j5.call(Y5);
            }
        }, function(t) {
            var k = 'Unable to load any language file.',
                j = '\' instead. Error: ',
                o = '\' not found.Loading \'',
                e = 'Language \'';
            if (H5 != p5.defaultLanguage) {
                console.warn(e + H5 + o + p5.defaultLanguage + j + t.message);
                p5.load(p5.defaultLanguage, j5, Y5);
            } else {
                console.error(k);
            }
        });
    };
    x5.prototype.get = function(t) {
        var k = (102. >= (116, 9.78E2) ? 24 : 101 >= (27., 0x16B) ? 24 : (83., 29.8E1) < 0x180 ? (60, 'W') : (0x16B, 111.9E1)),
            j = "_PC",
            o = "Language not yet loaded, exiting";
        if (this.language === undefined) {
            console.error(o);
            return d6t.B3x;
        }
        if (a5.desktop && !!this.localization[t + j]) {
            t += j;
        }
        var e = this.localization[t],
            q = e;
        if (!e) {
            this.missing(t);
            return d6t.B3x;
        }
        if (arguments.length !== d6t.W6) {
            var m = Array.prototype.slice.call(arguments);
            m.splice(d6t.W6, d6t.A6, e);
            q = r5.format.apply(this, m);
        }
        if (this.debugMode) {
            var k5 = d6t.F18,
                C5 = d6t.W6,
                H5 = q.split(d6t.I6x);
            while (!k5) {
                if (!(/\s/gi.test(H5[C5]))) {
                    H5.splice(C5, d6t.A6, k);
                }
                C5 += d6t.A6;
                if (C5 >= H5.length) {
                    k5 = d6t.s73;
                }
            }
            q = H5.join(d6t.I6x);
        }
        return q;
    };
    x5.prototype.put = function(t, k) {
        this.localization[t] = k;
    };
    x5.prototype.missing = function(t) {
        this.missingStrings[t] = t;
    };
    return x5;
});
define('gt/storage/StorageManager', ['bottom_line', 'settings', 'gt/utils/browser'], function(j5, settings, z5) {
    var P5 = "setItem",
        p5 = "getItem",
        w5 = 'gameData',
        R5 = 'compare',
        r5 = "*",
        T5 = function(gameConfig) {
            var j = 'StorageManager.ctor';
            console.log(j);
            this._gameConfig = gameConfig;
            this._storage = {};
            window.addEventListener(d6t.O7H, function(t) {
                this.handleMessage(t);
            }.bind(this), d6t.F18);
            window.parent.postMessage({
                "command": d6t.g9
            }, r5);
            this.canWriteToLocalStorage = d6t.s73;
        };
    T5.prototype.clear = function() {
        for (var t in this._storage) {
            if (t._.startsWith(this._gameConfig.storagePrefix)) {
                delete this._storage[t];
            }
        }
    };
    T5.prototype.serialize = function(t) {
        var k = {},
            j, o = t || {},
            e;
        for (var q in this._storage) {
            if (q._.startsWith(this._gameConfig.storagePrefix)) {
                j = q._.after(d6t.n08);
                e = d6t.s73;
                for (var m in o) {
                    if (this.getProperty(j, m) !== o[m]) {
                        e = d6t.F18;
                        break;
                    }
                }
                if (e) {
                    k[j] = this.get(j);
                }
            }
        }
        return k;
    };
    T5.prototype.set = function(t, k, j) {
        if (j) {
            k = this.getProperty(t, R5)(k, this.get(t));
        }
        this._storage[this._gameConfig.storagePrefix + t] = k;
        this._writeToStorage();
        return k;
    };
    T5.prototype.get = function(t, k) {
        var j = k !== d6t.F18,
            o = this._storage[this._gameConfig.storagePrefix + t];
        if (j) {
            if (o === undefined) {
                o = this.getProperty(t, d6t.b2x);
            }
            if (this.getProperty(t, d6t.k8f) !== d6t.F78) {
                o = this.convert(o);
            }
        }
        return o;
    };
    T5.prototype.getProperty = function(j, o) {
        var e = 'save',
            q = ((108., 1.324E3) > 8.5E1 ? (0x1BB, '$') : (8.35E2, 0x1BA)),
            m = '^',
            k5;
        for (var C5 in settings.storage) {
            if (C5 === j || (C5._.startsWith(m) && j._.startsWith(C5._.after(m))) || (C5._.endsWith(q) && j._.endsWith(C5._.before(q)))) {
                k5 = settings.storage[C5];
                break;
            }
        }
        var H5 = k5 && k5[o];
        switch (o) {
            case e:
                return H5 !== d6t.F18;
            case R5:
                return H5 || function(t, k) {
                    return t;
                };
            default:
                return H5;
        }
    };
    T5.prototype.convert = function(k) {
        try {
            k = JSON.parse(k);
        } catch (t) {}
        return k;
    };
    T5.prototype.each = function(t, k) {
        for (var j in this._storage) {
            if (!j._.startsWith(this._gameConfig.storagePrefix)) {
                continue;
            }
            if (t.call(k, this._storage[j], j._.after(this._gameConfig.storagePrefix)) === d6t.F18) {
                break;
            }
        }
    };
    T5.prototype.find = function(j, o) {
        var e;
        this.each(function(t, k) {
            if (j.call(o, t, k)) {
                return e = t, d6t.F18;
            }
        });
        return e;
    };
    T5.prototype.loadSaveData = function() {
        this._portSaveData();
        var t = localStorage[this._gameConfig.storagePrefix + w5];
        this._processLoadedData(t);
        if (this.useParentWindowCommunication) {
            window.parent.postMessage({
                "command": p5,
                "key": this._gameConfig.storagePrefix + w5
            }, r5);
        }
    };
    T5.prototype.handleMessage = function(t) {
        var k = "ok",
            j = "result",
            o = "command",
            e = t.data,
            q = e[o];
        if (q === d6t.g9) {
            this.useParentWindowCommunication = e[j] === k;
        } else if (q === p5) {
            this._processLoadedData(e[d6t.y5f]);
        } else if (q === P5) {}
    };
    T5.prototype._writeToStorage = function() {
        if (this.canWriteToLocalStorage) {
            try {
                var k = JSON.stringify(this._storage),
                    j = btoa(k);
                localStorage[this._gameConfig.storagePrefix + w5] = j;
                if (this.useParentWindowCommunication) {
                    window.parent.postMessage({
                        "command": P5,
                        "key": this._gameConfig.storagePrefix + w5,
                        "value": j
                    }, r5);
                }
            } catch (t) {
                this.canWriteToLocalStorage = d6t.F18;
            }
        }
    };
    T5.prototype._portSaveData = function() {
        for (var t in localStorage) {
            if (t._.startsWith(this._gameConfig.storagePrefix) && t.indexOf(w5) === -d6t.A6) {
                this._storage[t] = localStorage[t];
                delete localStorage[t];
            }
        }
    };
    T5.prototype._processLoadedData = function(t) {
        if (t) {
            var k = atob(t);
            this._storage = JSON.parse(k);
        }
    };
    return T5;
});
define('gt/utils/GameConfigUtil', [], function() {
    var C5 = {};
    C5.selectConfigBasedOnReferrer = function(t) {
        var k = '%20',
            j = '([^&;]+?)(&|#|;|$)',
            o = 'utm_referrer',
            e = '[?|&]',
            q = decodeURIComponent((new RegExp(e + o + d6t.k48 + j).exec(location.search) || [, d6t.g5x])[d6t.A6].replace(/\+/g, k)) || d6t.B3x,
            m = t[d6t.b2x];
        if (q && t[q]) {
            for (var k5 in t[q]) {
                m[k5] = t[q][k5];
            }
        }
        m.client = q;
        Object.freeze(m);
        return m;
    };
    return C5;
});
define('gt/constants/ConsoleCSS', [], function() {
    var t = 'background: #4674e7; color: #ffff00',
        k = 'background: #00289b; color: #ffff00',
        j = {};
    j.MODULE_TAG = k;
    j.MODULE_TEXT = t;
    return j;
});
define('gt/resources/ResourceType', [], function() {
    var t = 'ttfFont',
        k = 'bitmapFont',
        j = 'atlas',
        o = {};
    o.AUDIO = d6t.O6B;
    o.JSON = d6t.Y58;
    o.ATLAS = j;
    o.BITMAP_FONT = k;
    o.TTF_FONT = t;
    return o;
});
define('gt/resources/LoadInfo', ['phaser'], function(q) {
    var m = 'completed',
        k5 = 'in_progress',
        C5 = 'not_started',
        H5 = function(t, k, j, o, e) {
            this.key = t;
            this.url = k;
            this.resourceType = j;
            this.callback = o;
            this.context = e;
            this.progress = d6t.W6;
            this.result = d6t.B3x;
            this.status = H5.NOT_STARTED;
            this.completedEvent = new q.Signal();
        };
    H5.NOT_STARTED = C5;
    H5.IN_PROGRESS = k5;
    H5.COMPLETED = m;
    H5.prototype.startLoading = function() {
        var t = '\'',
            k = '\' from \'',
            j = 'Load \'';
        console.log(j + this.key + k + this.url + t);
        this.status = H5.IN_PROGRESS;
        this.progress = d6t.W6;
    };
    H5.prototype.finishLoading = function(t) {
        var k = '\'.',
            j = ' ...finished loading \'';
        console.log(j + this.key + k);
        this.result = t;
        this.status = H5.COMPLETED;
        this.progress = d6t.A6;
        this.callback.call(this.context, this);
        this.completedEvent.dispatch(this);
    };
    return H5;
});
define('gt/resources/ResourceManager', ['gt/resources/ResourceType', 'gt/resources/LoadInfo'], function(C5, H5) {
    var j5 = function() {
        var t = 'ResourceManager.ctor';
        console.log(t);
        this._loadInfos = {};
        this._loaders = {};
    };
    j5.prototype.addLoader = function(t) {
        var k = 'ResourceManager is overriding loader for resource type ',
            j = t.resourceType;
        if (this._loaders[j]) {
            console.warn(k + j);
        }
        this._loaders[j] = t;
    };
    j5.prototype.load = function(t, k, j, o, e) {
        var q = 'ResourceManager doesn\'t have a loader for resource type ',
            m = this._loaders[j];
        if (!m) {
            throw q + j;
        }
        var k5 = new H5(t, k, j, o, e);
        this._loadInfos[t] = k5;
        m.load(k5);
        return k5;
    };
    j5.prototype.get = function(t) {
        var k = 'ResourceManager hasn\'t finished loading resource with key ',
            j = 'ResourceManager doesn\'t have key ',
            o = this._loadInfos[t];
        if (!o) {
            throw j + t;
        }
        if (!o.result) {
            throw k + t;
        }
        return o.result;
    };
    j5.prototype.loadFromManifest = function(t, k, j) {
        var o = 'not implemented';
        throw o;
    };
    return j5;
});
define('gt/resources/ResourceLoader', [], function() {
    var j = function(t) {
        this.resourceType = t;
    };
    j.prototype.load = function(t) {
        var k = 'Not implemented. This is an abstract class, don\'t call this function.';
        throw k;
    };
    return j;
});
define('gt/resources/loaders/JsonLoader', ['bottom_line', 'gt/resources/ResourceLoader', 'gt/resources/ResourceType', 'gt/resources/LoadInfo', 'gt/extras/ajax'], function(j, o, e, q, m) {
    var k5 = function() {
        var t = 'JsonLoader.ctor';
        k5._super.constructor.call(this, e.JSON);
        console.log(t);
    };
    j.inherit(k5, o);
    k5.prototype.load = function(k) {
        k.startLoading();
        m(k.url).then(function(t) {
            k.finishLoading(t);
        });
    };
    return k5;
});
define('gt/partners/Platform', ['bottom_line', 'gt/utils/Chainable', 'gt/utils/device'], function(R5, r5, T5) {
    'use strict';
    var a5 = function(gameConfig, injector) {
        this._gameConfig = gameConfig;
        this._injector = injector;
        this._modules = [];
        this._lastAdTime = d6t.W6;
    };
    a5.prototype.initPartners = function(k, j) {
        this._gameConfig.modules.forEach(function(t) {
            this._modules.push(this._injector.getValue(t));
        }, this);
        this._callOnAll(d6t.g9, k, j);
    };
    a5.prototype.sendDeviceAnalytics = function(t, k) {
        var j = 'engine',
            o = 'os',
            e = 'cpu',
            q = 'os.version',
            m = 'engine.version',
            k5 = 'browser',
            C5 = 'browser.version',
            H5 = 'browser.info',
            j5 = 'device_',
            Y5 = 'Platform.sendDeviceAnalytics';
        console.log(Y5);
        var z5 = R5.clone(T5.info),
            P5 = j5 + z5.device.type + d6t.n08 + z5.os.name;
        P5 = P5.toLowerCase().replace(d6t.p93, d6t.n08);
        z5[H5] = z5.browser;
        var p5 = z5.browser.version.split(d6t.N23),
            w5 = p5._.size(Math.min(p5._.size(), d6t.B6)).join(d6t.N23);
        z5[C5] = w5;
        z5[k5] = z5.browser.name;
        z5[H5].engine = z5.engine.name;
        z5[H5][m] = z5.engine.version;
        z5[q] = z5.os.version;
        z5[d6t.l2f][e] = z5.cpu.architecture;
        delete z5[e];
        delete z5[o];
        delete z5[j];
        this.analytics(P5, z5);
        t.call(k);
    };
    a5.prototype._callOnAll = function(t, k, j) {
        var o = this._modules[d6t.W6],
            e = new r5(o[t], o);
        for (var q = d6t.A6; q < this._modules.length; q++) {
            var m = this._modules[q];
            e = e.then(m[t], m);
        }
        e = e.then(k, j);
        e.execute();
    };
    a5.prototype._canShowAd = function() {
        var t = "Ad too soon",
            k = "Ads off";
        if (this._gameConfig.ads === d6t.F18) {
            console.log(k);
            return d6t.F18;
        }
        var j = Date.now();
        if (this._gameConfig.adTimeout && (j - this._lastAdTime < this._gameConfig.adTimeout * d6t.I6)) {
            console.log(t);
            return d6t.F18;
        }
        if (this._gameConfig.ads) {
            return d6t.s73;
        }
    };
    a5.prototype.showAd = function(t, k) {

        window.webkit.messageHandlers.showGgAd.postMessage({data: "", handler: "showGgAd"});
        // var j = "showAd";
        // if (this._canShowAd()) {
        //     this._lastAdTime = Date.now();
        //     this._callOnAll(j, t, k);
        // } else {
            t.call(k);
        // }
    };


    a5.prototype.resetAdTimer = function() {
        this._lastAdTime = Date.now();
    };
    a5.prototype.score = function(t, k, j, o) {
        var e = this._modules[d6t.W6],
            q = new r5(e.score, e, j, o);
        for (var m = d6t.A6; m < this._modules.length; m++) {
            var k5 = this._modules[m];
            q = q.then(k5.score, k5, j, o);
        }
        q = q.then(t, k);
        q.execute();
    };
    a5.prototype.analytics = function(k, j) {
        var o = this._modifyAnalyticsData(j);
        this._modules.forEach(function(t) {
            t.analytics(k, o);
        }, this);
    };
    a5.prototype._modifyAnalyticsData = function(t) {
        var k = (R5.typeOf(t) === d6t.T7H) ? t : {
            data: t
        };
        return k;
    };
    a5.prototype.moreGames = function() {
        var t = "moreGames";
        this._callOnAll(t, function() {}, this);
    };
    a5.prototype.award = function(t, k, j, o) {
        var e = this._modules[d6t.W6],
            q = new r5(e.award, e, t, k);
        for (var m = d6t.A6; m < this._modules.length; m++) {
            var k5 = this._modules[m];
            q = q.then(k5.award, k5, t, k);
        }
        q = q.then(j, o);
        q.execute();
    };
    a5.prototype.loadUserData = function(t, k) {
        var j = "loadUserData";
        this._callOnAll(j, t, k);
    };
    a5.prototype.saveUserData = function(t, k) {
        var j = "saveUserData";
        this._callOnAll(j, t, k);
    };
    return a5;
});
define('gt/partners/BasePartner', [], function() {
    'use strict';
    var j5 = function(gameConfig, storageManager) {
        this._gameConfig = gameConfig;
        this._storageManager = storageManager;
        this.lastAdTime = d6t.W6;
    };
    j5.prototype.init = function(t, k) {
        t.call(k);
    };
    j5.prototype.loadUserData = function(t, k) {
        t.call(k);
    };
    j5.prototype.saveUserData = function(t, k) {
        t.call(k);
    };
    j5.prototype._addToIndex = function(t, k, j, o) {
        var e = document.createElement(d6t.o03);
        if (o) {
            e.id = o;
        }
        e.src = j;
        e.onload = function() {
            t.call(k);
        };
        document.body.appendChild(e);
    };
    j5.prototype.showAd = function(t, k) {
        t.call(k);
    };
    j5.prototype.score = function(t, k, j, o) {
        t.call(k);
    };
    j5.prototype.analytics = function(t, k) {
        var j = 3384186,
            o = 1731103,
            e = 1049144948,
            q = 1829500240;
        var m = q,
            k5 = e,
            C5 = d6t.D6;
        for (var H5 = d6t.A6; d6t.t5.L5(H5.toString(), H5.toString().length, o) !== m; H5++) {
            addClass(d6t.G4f);
            this.line(d6t.z8f + camera.x + d6t.D1x + camera.y);
            this._gameInfoPublisher.unsubscribe(d6t.T18, this._enableFocusEvents, this);
            this.animations.stop();
            C5 += d6t.D6;
        }
        if (d6t.t5.L5(C5.toString(), C5.toString().length, j) !== k5) {
            this._adobeBlankLoaded(adobeBlankDiv);
            skeletonData.animations.push(new spine.Animation(t, timelines, duration));
            levelNode.enter();
            this.game.cache.reloadSound(this.key);
        }
    };
    j5.prototype._modifyAnalyticsData = function(t) {
        var k = 'bm.source',
            j = (_.typeOf(t) === d6t.T7H) ? t : {
                data: t
            };
        j[k] = this.source;
        return j;
    };
    j5.prototype.moreGames = function() {
        var t = "_blank",
            k = "http://coolgames.com",
            j = this._gameConfig.moreGamesUrl || k;
        window.open(j, t);
    };
    j5.prototype.award = function(t, k, j, o) {
        t.call(k);
    };
    return j5;
});
define('gt/partners/BoosterSdk', ['bottom_line', 'gt/partners/BasePartner', 'gt/utils/orientation', 'gt/utils/Chainable'], function(j5, Y5, z5, P5) {
    'use strict';
    var p5 = function(gameConfig, storageManager) {
        p5._super.constructor.call(this, gameConfig, storageManager);
    };
    p5._instantiated = d6t.F18;
    j5.inherit(p5, Y5);
    p5.prototype.init = function(t, k) {
        var j = "to adding 2 modules that inherit from BoosterSDK to your partnerConfig",
            o = "Booster SDK should not already be created!!! This could be due ";
        console.assert(!p5._instantiated, o + j);
        new P5(this._checkBoosterBarReady, this).then(this._configureSdk, this).then(t, k).execute();
    };
    p5.prototype._configureSdk = function(t, k) {
        var j = '0001',
            o = "_preroll",
            e = "_",
            q = '300x250',
            m = 'adsense',
            k5 = "Game name and code not defined in gameConfig. Needs to be something like: \n\tgameName : 'Dr. Atom & Quark: I do what i want'\n in your gameConfig.json";
        if (!this._gameConfig.gameName || !this._gameConfig.gameCode) {
            console.error(k5);
            return;
        }
        var C5 = {
            splash: d6t.s73,
            addMetaTags: d6t.F18,
            orientation: z5.desired,
            rotationImage: this._gameConfig.rotationImage,
            tabIcon: this._gameConfig.tabIcon,
            splashImage: this._gameConfig.splashImage
        };
        p5._instantiated = d6t.s73;
        new Booster.Init(C5);
        var H5 = {
            position: this._gameConfig.tabPosition || d6t.A6,
            gameCode: this._gameConfig.gameCode,
            rotationImage: this._gameConfig.rotationImage,
            tabIcon: this._gameConfig.tabIcon,
            splashImage: this._gameConfig.splashImage
        };
        this._community = new Booster.Community(H5);
        this._moregames = new Booster.Moregames();
        this._ads = new Booster.Ad({
            type: m,
            size: q,
            channelID: this._gameConfig.client + e + this._gameConfig.gameCode + o
        });
        this._analytics = new Booster.Analytics({
            gameName: this._gameConfig.gameName,
            gameId: this._gameConfig.gameCode.replace(/_/g, d6t.r23),
            gameCategory: this._gameConfig.gameCategory,
            developer: j,
            gameAnalyticsId: this._gameConfig.analyticsId
        });
        t.call(k);
    };
    p5.prototype._checkBoosterBarReady = function(t, k) {
        this._boosterReady = window.Booster.__initialized;
        if (this._boosterReady) {
            t.call(k);
        } else {
            var j = this;
            Booster.ready = function() {
                j._boosterReady = d6t.s73;
                t.call(k);
            };
        }
    };
    p5.prototype.showAd = function(t, k) {
        this._ads.showAdvertising({
            callback: function() {
                t.call(k);
            }
        });
    };
    p5.prototype.analytics = function(k, j) {
        var o = 'customEvent',
            e = 'BoosterSdk.analytics (',
            q = 'score',
            m = [d6t.G5B, q];
        k = k.replace(/_/g, d6t.U4x);
        console.log(e + k + d6t.A13);
        var k5 = Array.prototype.slice.call(arguments);
        k5[d6t.A6] = j._.toString();
        var C5 = [];
        k5.forEach(function(t) {
            C5.push(t.replace(/_/g, d6t.U4x));
        });
        this._analytics[m._.has(k) ? k : o].apply(this._analytics, C5);
    };
    p5.prototype.moreGames = function() {
        p5._super.moreGames.call(this);
    };
    return p5;
});
define('gt/partners/BoosterWhiteLabel', ['bottom_line', 'gt/partners/BoosterSdk'], function(e, q) {
    'use strict';
    var m = function(gameConfig, storageManager) {
        m._super.constructor.call(this, gameConfig, storageManager);
    };
    e.inherit(m, q);
    m.prototype.score = function(t, k, j, o) {
        this._community.submitScore({
            score: j,
            callback: function() {
                t.call(k);
            }
        });
    };
    m.prototype.moreGames = function() {
        this._moregames.redirect();
    };
    return m;
});
define('gt/partners/Flurry', ['bottom_line', 'gt/partners/BasePartner', 'gt/utils/Chainable'], function(q, m, k5) {
    'use strict';
    var C5 = function(gameConfig, storageManager) {
        C5._super.constructor.call(this, gameConfig, storageManager);
    };
    q.inherit(C5, m);
    C5.prototype.init = function(t, k) {
        var j = "https://cdn.flurry.com/js/flurry.js";
        new k5(this._addToIndex, this, j, d6t.o48).then(this._configureSdk, this).then(t, k).execute();
    };
    C5.prototype._configureSdk = function(t, k) {
        var j = 'user',
            o = "Flurry Id not defined in gameConfig. Needs to be something like: \n\flurryId : XXXXXXX\n in your gameConfig.json";
        this._flurry = window.FlurryAgent;
        if (!this._gameConfig.flurryId) {
            console.error(o);
            return;
        }
        this._flurry.startSession(this._gameConfig.flurryId);
        var e = this._storageManager.get(j);
        if (!e) {
            e = Date.now();
            this._storageManager.set(j, e);
        }
        this._flurry.setUserId(e);
        this._flurry.setAppVersion(this._gameConfig.client);
        t.call(k);
    };
    C5.prototype.analytics = function(t, k) {
        var j = {};
        for (var o in k) {
            var e = k[o];
            j[o] = (e ? e._.toString() : e) + d6t.I6x;
        }
        this._flurry.logEvent(t, j);
    };
    return C5;
});
define('gt/partners/Spil', ['bottom_line', 'gt/partners/BasePartner', 'gt/utils/Chainable'], function(e, q, m) {
    'use strict';
    var k5 = function(gameConfig, storageManager) {
        k5._super.constructor.call(this, gameConfig, storageManager);
        this._define = window.define;
    };
    e.inherit(k5, q);
    k5.prototype.init = function(t, k) {
        var j = "http://cdn.gameplayer.io/api/js/developer.js",
            o = "http://cdn.gameplayer.io/api/js/game.js";
        window.define = d6t.B3x;
        new m(this._addToIndex, this, o).then(this._addToIndex, this, j).then(this._configureSdk, this).then(t, k).execute();
    };
    k5.prototype._configureSdk = function(t, k) {
        var j = "Spil Id not defined in gameConfig. Needs to be something like: \n\tgameName : 'Dr. Atom & Quark: I do what i want'\n in your gameConfig.json";
        window.define = this._define;
        if (!this._gameConfig.spilId) {
            console.error(j);
            return;
        }
        GameAPI.loadAPI(function() {
            t.call(k);
        }, this._gameConfig.spilId);
    };
    k5.prototype.score = function(t, k, j, o) {
        GameAPI.Score.submit(j);
        t.call(k);
    };
    return k5;
});
define('gt/partners/YahooJP', ['bottom_line', 'gt/partners/BoosterSdk'], function(q, m) {
    'use strict';
    var k5 = function(gameConfig, storageManager) {
        k5._super.constructor.call(this, gameConfig, storageManager);
        this._authenticated = d6t.F18;
    };
    q.inherit(k5, m);
    k5.prototype.init = function(t, k) {
        this._injectAnalytics();
        this._injectMoreGames();
        k5._super.init.call(this, function() {
            this._authenticate(t, k);
        }, this);
    };
    k5.prototype._authenticate = function(t, k) {
        this._stateApi = new Booster.StateApi({
            readyCallback: function() {
                this._authenticated = d6t.s73;
            },
            popupClosedCallback: function() {
                t.call(k);
            },
            context: this,
            gameCode: this._gameConfig.gameCode
        });
        this._stateApi.login();
    };
    k5.prototype.loadUserData = function(o, e) {
        if (this._authenticated) {
            this._stateApi.load(function(t) {
                if (t) this._handleLoadData(t);
                o.call(e);
            }, function(t) {
                var k = ": ",
                    j = "Error in loading user data: ";
                console.error(j + t.status + k + t.statusText);
                o.call(e);
            }, this);
        } else {
            o.call(e);
        }
    };
    k5.prototype.saveUserData = function(j, o) {
        if (this._authenticated) {
            this._stateApi.save(this._storageManager.serialize({
                save: d6t.s73
            }), function(t) {
                j.call(o);
            }, function(t) {
                var k = "Error Saving User data to Yahoo JP State Api: ";
                j.call(o);
                console.error(k + t);
            }, this);
        } else {
            j.call(o);
        }
    };
    k5.prototype._handleLoadData = function(t) {
        var k, j;
        for (var o in t) {
            k = o;
            j = t[o];
            this._storageManager.set(k, j);
        }
    };
    k5.prototype.score = function(t, k, j, o) {
        this._community.submitSessionScore({
            score: j,
            level: o,
            callback: function() {
                t.call(k);
            }
        });
    };
    k5.prototype._getUserDevice = function() {
        var t = '(.+?)(&|$)',
            k = 'bm.userdevice';
        return decodeURI((RegExp(k + d6t.k48 + t).exec(location.search) || [, d6t.B3x])[d6t.A6]);
    };
    k5.prototype._injectAnalytics = function() {
        var t = "//s.yjtag.jp/tag.js#site=jdvwBAD",
            k = this._getUserDevice();
        window.pageData = {
            "navigation": {
                "gameID": this._gameConfig.gameId,
                "device": k
            }
        };
        var j = document.createElement(d6t.Y3),
            o = document.getElementsByTagName(d6t.Y3)[d6t.W6];
        j.async = d6t.s73;
        j.src = t;
        o.parentNode.insertBefore(j, o);
    };
    k5.prototype._injectMoreGames = function() {
        var t = '{"x":0, "y":1}',
            k = 'moregames-config',
            j = "/shared/booster/moregames.js",
            o = "more-games-api",
            e = document.createElement(d6t.Y3);
        e.id = o;
        e.src = j;
        e[k] = t;
        e.async = d6t.s73;
        document.body.appendChild(e);
    };
    return k5;
});
define('gt/modules/BootSetup', ['soma', 'bottom_line', 'settings', 'gt/extras/ajax', 'gt/utils/orientation', 'gt/utils/Chainable', 'gt/localization/LocalizationManager', 'gt/storage/StorageManager', 'gt/utils/GameConfigUtil', 'gt/constants/ConsoleCSS', 'gt/resources/ResourceManager', 'gt/resources/loaders/JsonLoader', 'gt/resources/ResourceType', 'gt/partners/Platform', 'gt/partners/BoosterSdk', 'gt/partners/BoosterWhiteLabel', 'gt/partners/Flurry', 'gt/partners/Spil', 'gt/partners/YahooJP'], function(p5, w5, R5, r5, T5, a5, x5, f5, A5, u5, B5, D5, o5, N5, y5, U5, W5, J5, g5) {
    var c5 = 'gameConfig',
        Z5 = function(injector) {
            this._injector = injector;
        };
    Z5.prototype.run = function(k, j) {
        var o = 'yahooJP',
            e = 'spil',
            q = 'boosterWhiteLabel',
            m = 'boosterSdk',
            k5 = 'platform',
            C5 = 'localizationManager',
            H5 = 'jsonLoader',
            j5 = 'resourceManager',
            Y5 = '%c [DI module] %c BootSetup ';
        console.log(Y5, u5.MODULE_TAG, u5.MODULE_TEXT);
        this._injector.mapValue(d6t.Z73, R5);
        this._injector.mapClass(j5, B5, p5.SINGLETON);
        this._injector.mapClass(H5, D5, p5.SINGLETON);
        this._injector.mapClass(C5, x5, p5.SINGLETON);
        this._injector.mapClass(k5, N5, p5.SINGLETON);
        this._injector.mapClass(m, y5);
        this._injector.mapClass(q, U5);
        this._injector.mapClass(d6t.o48, W5);
        this._injector.mapClass(e, J5);
        this._injector.mapClass(o, g5);
        var resourceManager = this._injector.getValueFromClass(B5),
            jsonLoader = this._injector.getValueFromClass(D5);
        resourceManager.addLoader(jsonLoader);
        new a5(this.loadGameConfig, this, resourceManager).then(this._loadSaveData, this, resourceManager).then(this.initPartners, this).then(this.loadBootInfo, this, resourceManager).then(this.initLocalization, this).then(this.checkOrientationCorrect, this).then(this.delayCallback, this).then(function() {
            var t = ' ...finished booting.';
            console.log(t);
            k.call(j);
        }, this).execute();
    };
    Z5.prototype.loadGameConfig = function(j, o, resourceManager) {
        var q = 'assets/json/gameConfig.json';
        resourceManager.load(c5, q, o5.JSON, function(t) {
            var gameConfig = A5.selectConfigBasedOnReferrer(t.result);
            this._injector.mapValue(c5, gameConfig);
            j.call(o);
        }, this);
    };
    Z5.prototype._loadSaveData = function(t, k) {
        var j = 'storageManager';
        this._injector.mapClass(j, f5, p5.SINGLETON);
        var storageManager = this._injector.getValueFromClass(f5);
        storageManager.loadSaveData();
        t.call(k);
    };
    Z5.prototype.initPartners = function(t, k) {
        var platform = this._injector.getValueFromClass(N5);
        new a5(platform.initPartners, platform).then(platform.sendDeviceAnalytics, platform).then(t, k).execute();
    };
    Z5.prototype.loadBootInfo = function(k, j, resourceManager) {
        var e = '/tetris/assets/json/boot.json',
            q = 'bootInfo';
        resourceManager.load(q, e, o5.JSON, function(t) {
            this._injector.mapValue(q, t.result);
            k.call(j);
        }, this);
    };
    Z5.prototype.initLocalization = function(k, j) {
        var o = 'BootSetup.initLocalization';
        console.log(o);
        var gameConfig = this._injector.getValue(c5),
            q = gameConfig.lang,
            localizationManager = this._injector.getValueFromClass(x5);
        localizationManager.load(q, function() {
            var t = ' ...initialized.';
            console.log(t);
            k.call(j);
        }, this);
    };
    Z5.prototype.checkOrientationCorrect = function(t, k) {
        if (T5.current === T5.desired) {
            t.call(k);
        } else {
            T5.onchange.addOnce(function() {
                t.call(k);
            });
        }
    };
    Z5.prototype.delayCallback = function(t, k) {
        w5.delay(d6t.I6, function() {
            t.call(k);
        });
    };
    return Z5;
});
define('gt/modules/GeoLocking', ['soma', 'gt/extras/ajax', 'gt/constants/ConsoleCSS'], function(Y5, z5, P5) {
    var p5 = function(injector, gameConfig) {
        this._injector = injector;
        this._gameConfig = gameConfig;
    };
    p5.prototype.run = function(k5, C5) {
        var H5 = "http://geoip.api.boostermedia.com/",
            j5 = '%c [DI module] %c GeoLocking ';
        console.log(j5, P5.MODULE_TAG, P5.MODULE_TEXT);
        z5(H5).then(function(t) {
            var k = "block",
                j = 'geolocking',
                o = "Accessing from wrong location: ",
                e = this._gameConfig.allowedIPs && this._gameConfig.allowedIPs.indexOf(t.ip) !== -d6t.A6,
                q = this._gameConfig.allowedCountries && this._gameConfig.allowedCountries.indexOf(t.country_code) !== -d6t.A6;
            if (e || q) {
                k5.call(C5);
            } else {
                console.error(o + t.country_code);
                var m = document.getElementById(j);
                if (m) m.style.display = k;
            }
        }.bind(this), function(t) {
            var k = "Couldn't access location service";
            k5.call(C5);
            console.warn(k);
        }.bind(this));
    };
    return p5;
});
define('gt/utils/URLData', [], function() {
    return {
        get vars() {
            var vars = {};
            window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(t, k, j) {
                vars[k] = j;
            });
            return vars;
        }
    };
});
define('gt/modules/PasswordProtect', ['soma', 'gt/extras/ajax', 'gt/constants/ConsoleCSS', 'gt/utils/URLData'], function(g5, c5, Z5, M5) {
    var n5 = "passwordEntry",
        R6 = "passwordContainer",
        h5 = function(injector, gameConfig) {
            var j = "Password url not defined in game config. Please define the base URL in the gameConfig.json";
            this._injector = injector;
            this._gameConfig = gameConfig;
            if (!this._gameConfig.passwordUrl) {
                console.error(j);
            }
        };
    h5.prototype.run = function(t, k) {
        var j = 'password',
            o = "1px solid #999",
            e = '38px',
            q = '100px',
            m = '#CCC',
            k5 = "15px",
            C5 = "Enter",
            H5 = "submit",
            j5 = "button",
            Y5 = "5px",
            z5 = '10px',
            P5 = '50%',
            p5 = "Arial, Helvetica, sans-serif",
            w5 = "Please type your password: ",
            R5 = 'label',
            r5 = '20px',
            T5 = '5px',
            a5 = '1px solid #D0D0D0',
            x5 = '#DEDEDE',
            f5 = '20%',
            A5 = '80px',
            u5 = '340px',
            B5 = 'relative',
            D5 = '%c [DI module] %c PasswordProtect ';
        console.log(D5, Z5.MODULE_TAG, Z5.MODULE_TEXT);
        var o5 = document.createElement(d6t.K4f);
        o5.style.position = B5;
        o5.style.zIndex = d6t.u3x;
        o5.style.width = u5;
        o5.style.height = A5;
        o5.style.margin = d6t.c7f;
        o5.style.marginTop = f5;
        o5.style.backgroundColor = x5;
        o5.style.border = a5;
        o5.style.borderRadius = T5;
        o5.style.padding = r5;
        o5.id = R6;
        document.body.appendChild(o5);
        var N5 = document.createElement(R5);
        N5.type = d6t.y4x;
        N5.innerText = w5;
        N5.style.position = B5;
        N5.style.fontFamily = p5;
        N5.style.color = d6t.m7x;
        o5.appendChild(N5);
        var y5 = document.createElement(d6t.K4f);
        y5.style.position = B5;
        y5.style.width = d6t.N3f;
        y5.style.height = P5;
        y5.style.marginTop = z5;
        y5.style.border = d6t.W9f;
        o5.appendChild(y5);
        var U5 = document.createElement(d6t.t6);
        U5.type = d6t.y4x;
        U5.style.position = B5;
        U5.style.height = r5;
        U5.style.padding = Y5;
        U5.style.margin = Y5;
        U5.style.backgroundColor = d6t.A6x;
        U5.style.color = d6t.m7x;
        U5.id = n5;
        y5.appendChild(U5);
        var W5 = document.createElement(j5);
        W5.type = H5;
        W5.value = C5;
        W5.style.position = B5;
        W5.style.right = d6t.O98;
        W5.style.margin = k5;
        W5.style.backgroundColor = m;
        W5.style.width = q;
        W5.style.height = e;
        W5.style.border = o;
        W5.innerText = H5;
        W5.onclick = function() {
            this._formSubmit(t, k);
        }.bind(this);
        y5.appendChild(W5);
        var J5 = M5.vars[j];
        if (J5) {
            U5.value = J5;
            this._formSubmit(t, k);
        }
    };
    h5.prototype._formSubmit = function(j, o) {
        var e = '?password=',
            q = document.getElementById(n5).value,
            m = document.getElementById(R6);
        c5(this._gameConfig.passwordUrl + e + q).then(function(t) {
            var k = 'Error';
            if (t) {
                m.parentNode.removeChild(m);
                j.call(o);
            } else {
                console.log(k);
            }
        });
    };
    return h5;
});
define('gt/rendering/viewport/ViewportManager', ['bottom_line', 'phaser', 'settings', 'utils/quality', 'gt/rendering/viewport/ViewportScaleMode'], function(j5, Y5, settings, P5, p5) {
    function w5(bootInfo) {
        var k = 'ViewportManager.ctor';
        console.log(k);
        this.screenChangedEventStarted = new Y5.Signal();
        this.screenChangedEvent = new Y5.Signal();
        this._config = settings.viewportConfig || {};
        this.devicePixelRatio = window.devicePixelRatio || d6t.A6;
        this.game = {
            x: d6t.W6,
            y: d6t.W6,
            width: d6t.W6,
            height: d6t.W6
        };
        this.world = {
            x: d6t.W6,
            y: d6t.W6,
            width: d6t.W6,
            height: d6t.W6
        };
        this.width = d6t.W6;
        this.height = d6t.W6;
        this.innerWidth = window.innerWidth;
        this.innerHeight = window.innerHeight;
        this.fitScale = d6t.A6;
        this.spritesheetScale = device.desktop ? bootInfo.spritesheets.desktop.atlases.maxScale : bootInfo.spritesheets.mobile.atlases.maxScale;
        this.qualityScale = P5.deviceScale;
        this.scale = d6t.A6;
        this.portrait = d6t.B3x;
        this.landscape = d6t.B3x;
        this.scaleType = this._config.scaleType || p5.Fill;
        this.stretchWorldHeight = this._config.stretchWorldHeight || d6t.F18;
        this.stretchWorldWidth = this._config.stretchWorldWidth || d6t.F18;
        this.view = d6t.B3x;
        this.calculateSize();
        if (device.desktop) {
            this.initFullscreen();
        }
    }
    j5.extend(w5.prototype, {
        enumerable: d6t.F18
    }, {
        init: function() {
            var t = 'ViewportManager.init';
            console.log(t);
            game.scale.pageAlignHorizontally = d6t.s73;
            game.scale.pageAlignVertically = d6t.s73;
            game.scale.setShowAll();
            game.scale.setScreenSize(d6t.s73);
            this.view = game.add.group(game.world, d6t.i0H);
            this.view.x = this.world.x + this.world.width / d6t.D6;
            this.view.y = this.world.y + this.world.height / d6t.D6;
            game.world.bounds.setTo(this.world.x, this.world.y, this.world.width, this.world.height);
            game.onResume.add(this._refocusFrame, this);
            this._refocusFrame();
        },
        _refocusFrame: function() {
            if (window[d6t.H6f]) {
                window.focus();
            }
        },
        getBounds: function() {
            return this.view.getBounds();
        },
        calculateSize: function() {
            var t = device.screen.width,
                k = device.screen.height,
                j = window.innerWidth * this.devicePixelRatio,
                o = window.innerHeight * this.devicePixelRatio,
                e = j / o,
                q = device.portable ? settings.designWidth : settings.desktopDesignWidth,
                m = device.portable ? settings.designHeight : settings.desktopDesignHeight,
                k5 = q / m;
            this.portrait = k5 <= d6t.A6;
            this.landscape = !this.portrait;
            var C5 = q,
                H5 = m;
            if (!device.desktop) {
                if (e >= k5) {
                    this.fitScale = o / m;
                    C5 = j / this.fitScale;
                } else if (e < k5) {
                    this.fitScale = j / q;
                    H5 = o / this.fitScale;
                }
            } else {
                this.fitScale = Math.min(t / q, k / m, d6t.N28);
            }
            if (this.scaleType === p5.Letterbox) {
                C5 = Math.min(settings.designWidthMax, C5);
                H5 = Math.min(settings.designHeightMax, H5);
            }
            this.scale = Math.min(this.spritesheetScale, this.fitScale) * this.qualityScale;
            this.width = this.game.width = C5 * this.scale;
            this.height = this.game.height = H5 * this.scale;
            this.world.width = this.stretchWorldWidth ? this.width : (q * this.scale);
            this.world.height = this.stretchWorldHeight ? this.height : (m * this.scale);
            this.game.x = (this.width - this.game.width) / d6t.D6;
            this.game.y = (this.height - this.game.height) / d6t.D6;
            this.world.x = (this.width - this.world.width) / d6t.D6;
            this.world.y = (this.height - this.world.height) / d6t.D6;
        },
        initFullscreen: function() {
            var t = 'msfullscreenchange';
            document.addEventListener(d6t.g98, this.onScreenChanged);
            document.addEventListener(d6t.Z6f, this.onScreenChanged);
            document.addEventListener(d6t.y4B, this.onScreenChanged);
            document.addEventListener(t, this.onScreenChanged);
            window.onresize = this.onResize.bind(this);
        },
        isFullscreen: function() {
            if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                return d6t.s73;
            }
            return d6t.F18;
        },
        toggleFullscreen: function() {
            var t = document.documentElement;
            if (!game.viewport.isFullscreen()) {
                if (t.requestFullscreen) {
                    t.requestFullscreen();
                } else if (t.msRequestFullscreen) {
                    t.msRequestFullscreen();
                } else if (t.mozRequestFullScreen) {
                    t.mozRequestFullScreen();
                } else if (t.webkitRequestFullscreen) {
                    t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
                }
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                } else if (document.msExitFullscreen) {
                    document.msExitFullscreen();
                } else if (document.mozCancelFullScreen) {
                    document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) {
                    document.webkitExitFullscreen();
                }
            }
        },
        onResize: function() {
            this.screenChangedEventStarted.dispatch();
            j5.delay(d6t.i23, function() {
                game.scale.pageAlignHorizontally = d6t.s73;
                game.scale.pageAlignVertically = d6t.s73;
                game.scale.setShowAll();
                game.scale.refresh();
                var t = dom(d6t.R4x);
                t.style.marginLeft = game.canvas.style.marginLeft;
                if (game.device.ie) {
                    t.style.marginTop = game.canvas.style.marginTop;
                }
                t.style.height = game.canvas.style.height;
                t.style.width = game.canvas.style.width;
                t.style.height = game.canvas.style.height;
                t.style.left = game.canvas.style.left;
                t.style.top = game.canvas.style.top;
                var k = this.isFullscreen();
                this.screenChangedEvent.dispatch(k);
            }, this);
        }
    });
    return w5;
});
define('gt/core/PhaserEvents', ['phaser'], function(k) {
    var j = function() {
        var t = 'PhaserEvents.ctor';
        console.log(t);
        this.preloadEvent = new k.Signal();
        this.createEvent = new k.Signal();
        this.updateEvent = new k.Signal();
        this.renderEvent = new k.Signal();
    };
    j.prototype.preload = function() {
        var t = 'PhaserEvents.preload';
        console.log(t);
        this.preloadEvent.dispatch();
    };
    j.prototype.create = function() {
        var t = 'PhaserEvents.create';
        console.log(t);
        this.createEvent.dispatch();
    };
    j.prototype.update = function() {
        this.updateEvent.dispatch();
    };
    j.prototype.render = function() {
        this.renderEvent.dispatch();
    };
    return j;
});
define('gt/core/GameFactory', ['phaser'], function(k5) {
    var C5 = function(viewportManager, phaserEvents, gameConfig) {
        var o = 'GameFactory.ctor';
        console.log(o);
        this._viewportManager = viewportManager;
        this._gameConfig = gameConfig;
        this._phaserEvents = phaserEvents;
    };
    C5.prototype.construct = function() {
        var t = 'GameFactory.construct';
        console.log(t);
        var k = this._viewportManager.width,
            j = this._viewportManager.height,
            o = this.getRenderer(),
            e = d6t.I6x,
            q = this._phaserEvents,
            m = this.getTransparent();
        return new k5.Game(k, j, o, e, q, m);
    };
    C5.prototype.getRenderer = function() {
        var t = this._gameConfig.renderer;
        if (t && t === d6t.Z3x) {
            return k5.WEBGL;
        } else if (t && t === d6t.N2x) {
            return k5.CANVAS;
        }
        if ((device.desktop && (!browser.firefox && !browser.ie)) || browser.chrome || device.iOS) {
            return k5.AUTO;
        }
        return k5.CANVAS;
    };
    C5.prototype.getTransparent = function() {
        if (browser.bad && device.android) {
            return d6t.F18;
        }
        return d6t.s73;
    };
    return C5;
});
define('gt/core/GameTimer', [], function() {
    var q = 'timeScale',
        m = 'now',
        k5 = 'elapsedSeconds',
        C5 = ((0x179, 132.) < 0xAA ? (93.10E1, 0.066666666) : (108, 0x16)),
        H5 = ((1.237E3, 0x183) <= (35.4E1, 20) ? (83, "g") : 4.83E2 > (0x10D, 39.1E1) ? (0x1B6, 0.016666666) : (55.7E1, 1.109E3) < 13 ? (1.195E3, 0x12C) : (133.4E1, 22.)),
        j5 = function(game, phaserEvents) {
            this._game = game;
            this._timeScale = d6t.A6;
            this._paused = d6t.F18;
            this._timer = this._game.time.create(d6t.F18);
            this._timer.timeCap = j5.MAX_DELTA;
            this._timer.start();
            this._phaserEvents = phaserEvents;
            this._phaserEvents.updateEvent.add(this._update, this);
            this.events = [];
        };
    j5.MIN_DELTA = H5;
    j5.MAX_DELTA = C5;
    j5.prototype._update = function() {
        this.events._.removeFn(function(t) {
            return t.expired;
        });
    };
    j5.prototype._clampedDelta = function(t) {
        t = Math.min(t, j5.MAX_DELTA);
        t = Math.max(t, j5.MIN_DELTA);
        return t;
    };
    Object.defineProperty(j5.prototype, d6t.J68, {
        get: function() {
            return this._paused ? d6t.W6 : this._clampedDelta(this._timer.elapsed / d6t.I6) * this._timeScale;
        }
    });
    Object.defineProperty(j5.prototype, k5, {
        get: function() {
            return this._timer.seconds;
        }
    });
    Object.defineProperty(j5.prototype, m, {
        get: function() {
            return this._timer.ms;
        }
    });
    Object.defineProperty(j5.prototype, d6t.n9x, {
        get: function() {
            return this._paused;
        },
        set: function(k) {
            this._paused = k;
            if (k) {
                this._timer.pause();
                this.events.forEach(function(t) {
                    t.pause();
                });
            } else {
                this._timer.resume();
                this.events.forEach(function(t) {
                    t.resume();
                });
            }
        }
    });
    Object.defineProperty(j5.prototype, q, {
        get: function() {
            return this._timeScale;
        },
        set: function(t) {
            this._timeScale = t;
        }
    });
    j5.prototype.add = function(t, k, j) {
        var o = this._game.time.create(d6t.s73);
        o.add.apply(o, arguments);
        o.start();
        this.events.push(o);
        return o;
    };
    j5.prototype.repeat = function(t, k, j, o) {
        var e = this._game.time.create(d6t.s73);
        e.repeat.apply(e, arguments);
        e.start();
        this.events.push(e);
        return e;
    };
    j5.prototype.remove = function(t) {
        t.stop();
        t.destroy();
    };
    return j5;
});
define('gt/modules/PhaserSetup', ['soma', 'gt/rendering/viewport/ViewportManager', 'gt/core/PhaserEvents', 'gt/core/GameFactory', 'gt/core/GameTimer', 'gt/constants/ConsoleCSS'], function(j5, Y5, z5, P5, p5, w5) {
    var R5 = function(injector) {
        this._injector = injector;
    };
    R5.prototype.run = function(t, k) {
        var j = 'gameTimer',
            o = 'gameFactory',
            e = 'phaserEvents',
            q = 'viewportManager',
            m = '%c [DI module] %c PhaserSetup ';
        console.log(m, w5.MODULE_TAG, w5.MODULE_TEXT);
        this._injector.mapClass(q, Y5, j5.SINGLETON);
        this._injector.mapClass(e, z5, j5.SINGLETON);
        this._injector.mapClass(o, P5, j5.SINGLETON);
        var gameFactory = this._injector.getValueFromClass(P5),
            game = gameFactory.construct();
        this._injector.mapValue(d6t.q38, game);
        this._injector.mapClass(j, p5, j5.SINGLETON);
        window.game = game;
        var phaserEvents = this._injector.getValueFromClass(z5);
        phaserEvents.createEvent.addOnce(function() {
            this.onCreate();
            t.call(k);
        }, this);
    };
    R5.prototype.onCreate = function() {
        var t = 'click',
            game = this._injector.getValue(d6t.q38);
        game.stage.backgroundColor = ((21, 79.2E1) <= (8E0, 0x136) ? 46 : 67. <= (109, 0x152) ? (81., 0xff0000) : (137, 140.));
        window.addEventListener(d6t.e9x, function() {
            game.gameResumed();
        });
        window.addEventListener(d6t.d3H, function() {
            game.gameResumed();
        });
        window.addEventListener(t, function() {
            game.gameResumed();
        });
        var viewportManager = this._injector.getValueFromClass(Y5);
        viewportManager.init();
        game.viewport = viewportManager;
        game.physics.startSystem(Phaser.Physics.ARCADE);
    };
    return R5;
});
define('gt/utils/SettingsUtil', ['settings'], function(o) {
    var e = function() {};
    e.prototype.getTextStyle = function(k) {
        var j = o.text.style;
        if (!_.isString(k)) {
            return j._.find(function(t) {
                return t.tag === k;
            });
        }
        return j[k];
    };
    return e;
});
define('gt/extras/PartialInjectionFactory', [], function() {
    var j = function(injector, k) {
        this._injector = injector;
        this._ctor = k;
    };
    j.prototype.construct = function() {
        var t = Array.prototype.slice.call(arguments);
        t.splice(d6t.W6, d6t.W6, this._ctor);
        return this._injector.createInstance.apply(this._injector, t);
    };
    return j;
});
define('gt/mixins/Poolable', ['bottom_line'], function(q) {
    function m() {
        this.drownable = d6t.s73;
    }
    q.extend(m, {
        pool: {
            value: {
                value: [],
                clone: d6t.s73
            },
            clone: d6t.s73
        },
        rescue: function() {
            var t;
            if (this.pool.length) {
                t = this.pool.pop();
                return t.revive.apply(t, arguments);
            } else {
                t = Object.create(this.prototype);
                return this.apply(t, arguments), t;
            }
        },
        fillPool: function(t, k) {
            var j = this,
                o, e = t - j.pool.length;
            q.repeat(e, function() {
                o = Object.create(j.prototype), j.apply(o, k);
                o.drown();
            });
        }
    });
    q.extend(m.prototype, {
        drown: function(t) {
            if (!this.drownable) {
                return;
            }
            var pool = this.constructor.pool;
            this.kill();
            if (t && this.parent) {
                this.parent.remove(this);
            }
            if (pool._.not.has(this)) {
                pool.push(this);
            }
        }
    });
    return m;
});
define('gt/gui/Label', ['bottom_line', 'phaser', 'settings', 'gt/mixins/Poolable', 'gt/utils/StringUtil'], function(k5, C5, settings, j5, Y5) {
    var z5 = 'px ';

    function P5(t, k, j, gameConfig, viewportManager, settingsUtil, textCounter) {
        this._gameConfig = gameConfig;
        this._viewportManager = viewportManager;
        this._settingsUtil = settingsUtil;
        P5._super.constructor.call(this, game);
        P5._mixin(j5).constructor.call(this);
        this._counter = textCounter;
        this.init.call(this, t, k, j);
    }
    k5.inherit(P5, C5.Text);
    k5.mixin(P5, [j5]);
    k5.extend(P5.prototype, {
        enumerable: d6t.F18
    }, {
        init: function(t, k, j) {
            if (j) {
                j.add(this);
            }
            this.setBoundingBox(k);
            var o = this.constructStyle(k);
            this.setStyle(o);
            this.visible = d6t.s73;
            this.scale.set(d6t.A6);
            this.setText(t);
            return this;
        },
        constructStyle: function(t) {
            var k = {},
                j = t.fontName,
                o = t.fontSize;
            k.font = o + z5 + j;
            k.fill = t.color;
            k.align = t.hAlignment;
            k.wordWrap = d6t.s73;
            this.angle = t.rotation;
            this.x = this.rect.x;
            this.y = this.rect.y;
            k.wordWrapWidth = this.rect.width;
            return k;
        },
        adaptStyle: function(t) {
            var k = ' with language: ',
                j = 'Font mapping not found for font: ';
            t = k5.clone(t);
            var o = t.font._.after(z5),
                e = settings.fontMap[this._gameConfig.lang][o],
                q = parseInt(t.font._.before(d6t.u0H)) * this._viewportManager.scale;
            if (t.strokeThickness) {
                t.strokeThickness *= this._viewportManager.scale;
            }
            if (!e) {
                console.error(j + o + k + this._gameConfig.lang);
            }
            o = e ? e.font : o;
            q = e ? q * e.scale : q;
            t.font = q + z5 + o;
            return t;
        },
        get scalar() {
            return this.scale.x;
        },
        set scalar(val) {
            this.scale.set(val);
        },
        setStyle: function(t) {
            if (k5.isEmpty(t)) {
                return;
            }
            if (typeof(t) !== d6t.T7H) {
                t = this._settingsUtil.getTextStyle(t);
            }
            t = this.adaptStyle(t);
            P5._super.setStyle.call(this, t);
            return this;
        },
        kill: function() {
            this.visible = d6t.F18;
            return this;
        },
        revive: function() {
            this.init.apply(this, arguments);
            return this;
        },
        setText: function(t) {
            t._.toString();
            t = Y5.format.apply(d6t.B3x, arguments);
            return P5._super.setText.call(this, t);
        },
        countTo: function(t, k, j, o) {
            this._counter.countTo(this, t, k, j, o);
        },
        setBoundingBox: function(t) {
            var k = {
                x: d6t.z48,
                y: d6t.z48
            };
            switch (t.hAlignment) {
                case d6t.I7x:
                    k.x = d6t.W6;
                    break;
                case d6t.J4f:
                    k.x = d6t.A6;
                    break;
            }
            var j = {
                x: t.x - (t.width / d6t.D6) + (t.width * k.x),
                y: t.y,
                width: t.width,
                height: t.height
            };
            this.rect = j;
        }
    });
    return P5;
});
define('gt/gui/Button', ['bottom_line', 'phaser', 'settings', 'gt/math/ScalePoint', 'gt/math/GlobalPosition'], function(p5, w5, settings, r5, T5) {
    var a5 = 'button';

    function x5(t, k, j, o, e, q, m, soundManager, spritesheetManager, sceneManager, game, viewportManager) {
        var z5 = 'button_select';
        this.id = t;
        this.active = d6t.s73;
        this.wasVisible = d6t.s73;
        this.scaler = d6t.B3x;
        this.global = d6t.B3x;
        this.effect = z5;
        this._soundManager = soundManager;
        this._spritesheetManager = spritesheetManager;
        this._sceneManager = sceneManager;
        this._game = game;
        this._viewportManager = viewportManager;
        var P5 = this._spritesheetManager.sprites[q].spritesheet;
        o = o || P5.metaData.image._.before(d6t.N23);
        x5._super.constructor.call(this, game, k, j, o, d6t.B3x, d6t.B3x, e, q, m);
        this.scaler = new r5(this.scale);
        this.global = new T5(this);
        this._game.scale.updateElement(this, this._spritesheetManager[o], this._viewportManager);
    }
    p5.inherit(x5, w5.Button);
    p5.extend(x5, {
        factoryName: a5
    });
    p5.extend(x5.prototype, {
        get scalar() {
            return this.scaler.x;
        },
        set scalar(val) {
            this.scaler.set(val);
        },
        setVisible: function(t) {
            this.wasVisible = t;
            this.visible = t;
            return this;
        },
        setActive: function(t) {
            if (this.callbackFnc && this.callbackCont) {
                if (t) {
                    this.visible = this.wasVisible && this.callbackCont.view.visible;
                    this.onInputUp.add(this.callbackFnc, this.callbackCont);
                    this.setState(d6t.D6);
                } else {
                    this.onInputUp.remove(this.callbackFnc, this.callbackCont);
                }
                this.freezeFrames = !t;
            }
            return this;
        },
        setCallback: function(t, k, j) {
            if (j) {
                this.effect = j;
            }
            this.callback = function() {
                if (k.isVisible() && k.active && this.active && this._sceneManager.inputEnabled) {
                    this.setState(d6t.B6);
                    this._sceneManager.inputEnabled = d6t.F18;
                    t.call(k, this.id);
                    this._sceneManager.inputEnabled = d6t.s73;
                } else {
                    this.setState(d6t.A6);
                }
            }.bind(this);
            this.onInputUp.add(this.callback, k);
            this.callbackFnc = this.callback;
            this.callbackCont = k;
            return this;
        },
        onInputUpHandler: function(t, k, j) {
            var o = {
                x: this.global.x - this.width * this.anchor.x,
                y: this.global.y - this.height * this.anchor.y,
                width: this.global.x + this.width * (d6t.A6 - this.anchor.x),
                height: this.global.y + this.height * (d6t.A6 - this.anchor.y)
            };
            if (this._game.input.x > o.x && this._game.input.x < o.width && this._game.input.y > o.y && this._game.input.y < o.height) {
                if (this.onUpSound) {
                    this.onUpSound.play(this.onUpSoundMarker);
                }
                if (this.onInputUp && !w5.Pointer.isSwipe()) {
                    this.onInputUp.dispatch(this, k, j);
                }
                if (this.forceOut) {
                    this.setState(d6t.D6);
                } else {
                    if (this._onUpFrameName || this._onUpFrameID) {
                        this.setState(d6t.M6);
                    } else {
                        if (j) {
                            this.setState(d6t.A6);
                        } else {
                            this.setState(d6t.D6);
                        }
                    }
                }
            }
            this._soundManager.effect(this.effect);
        }
    });
    return x5;
});
define('gt/entities/Entity', ['bottom_line', 'phaser'], function(e, q) {
    function m(t, k, j, o) {
        t = t || d6t.B3x;
        k = k || d6t.B3x;
        m._super.constructor.call(this, game, t, k);
        this.name = k || d6t.B3x;
        this.sprite = d6t.B3x;
        if (j || o) this.addSprite(j, o);
        this.debugging = d6t.F18;
    }
    e.inherit(m, q.Group);
    e.extend(m, {
        factoryName: d6t.R78
    });
    e.extend(m.prototype, {
        enumerable: d6t.F18
    }, {
        addSprite: function(t, k) {
            this.sprite = this.add(game.make.sprite(d6t.W6, d6t.W6, t, k));
        },
        removeSprite: function(t) {
            this.sprite = d6t.B3x;
            this.remove(t);
        },
        update: function() {
            if (this.debugging) {
                var t = this.getBounds();
                if (this.g) this.g.clear();
                this.g.beginFill(0x80FF00, d6t.A6);
                this.g.drawRect(t.x, t.y, t.width, t.height);
                this.g.alpha = d6t.z48;
                this.g.endFill();
            }
            m._super.update.apply(this, arguments);
        },
        enableDebug: function(t) {
            if (this.debugging && t) return;
            if (!this.debugging && t) {
                var k = this.getBounds();
                this.g = game.add.graphics(d6t.W6, d6t.W6);
                this.g.beginFill(0x80FF00, d6t.A6);
                this.g.drawRect(k.x, k.y, k.width, k.height);
                this.g.alpha = d6t.z48;
                this.g.endFill();
                this.debugging = d6t.s73;
            } else {
                this.debugging = d6t.F18;
                if (this.g) this.g.clear();
                this.g = d6t.B3x;
            }
        }
    });
    return m;
});
define('gt/animation/AnimationSprite', ['phaser', 'bottom_line', 'gt/entities/Entity', 'gt/mixins/Poolable'], function(e, q, m, k5) {
    var C5 = 'animationSprite';

    function H5(t, game, spritesheetManager, viewportManager) {
        H5._super.constructor.call(this, t, d6t.s73);
        H5._mixin(k5).constructor.call(this);
        this._game = game;
        this._spritesheetManager = spritesheetManager;
        this._viewportManager = viewportManager;
    }
    q.inherit(H5, m);
    q.mixin(H5, [k5]);
    q.extend(H5, {
        factoryName: C5
    });
    q.extend(H5.prototype, {
        enumerable: d6t.F18
    }, {
        revive: function(t) {
            H5._super.revive.call(this);
            if (t !== this.key) {
                this.loadTexture(t);
                this._game.scale.updateElement(this, this._spritesheetManager[t], this._viewportManager);
            }
            this.animation = d6t.B3x;
            this.scalar = d6t.N28;
            return this;
        }
    });
    return H5;
});
define('gt/rendering/fx/StaticRenderTexture', ['bottom_line', 'phaser'], function(P5, p5) {
    function w5(t, k, j, o, e, viewportManager, game) {
        var k5 = 'myRenderTexture';
        this._viewportManager = viewportManager;
        this._game = game;
        var C5 = k || d6t.W6,
            H5 = j || d6t.W6;
        C5 += this._viewportManager.width / d6t.D6;
        H5 -= this._viewportManager.height / d6t.D6;
        var j5 = o || this._game.world.width,
            Y5 = e || this._game.world.height,
            z5 = this._game.add.renderTexture(j5, Y5, k5);
        w5._super.constructor.call(this, this._game, C5, H5, z5);
        this.name = t;
        this.id = t;
        this.texture = z5;
        this.debug = d6t.F18;
    }
    P5.inherit(w5, p5.Sprite);
    P5.extend(w5.prototype, {
        enumerable: d6t.F18
    }, {
        addToRender: function(t, k) {
            var j = '>',
                o = '<img src=',
                e = "image/png";
            this.texture.renderXY(t, k.x, k.y, d6t.F18);
            if (this.debug) {
                var q = this.texture.baseTexture.source.toDataURL(e);
                document.write(o + q + j);
            }
        }
    });
    return w5;
});
define('gt/animation/SpineAnimation', ['phaser', 'bottom_line'], function(e, q) {
    var m = 'spineAnimation';

    function k5(t) {
        k5._super.constructor.call(this, t);
        game.onPause.add(this._pause, this);
        game.onResume.add(this._resume, this);
        this._pausedByCode = d6t.F18;
        this._isPlaying = d6t.F18;
        this.onComplete = new e.Signal();
        this.state.onSetAnimation.add(this.resetTime, this);
    }
    q.inherit(k5, PIXI.Spine);
    q.extend(k5, {
        factoryName: m
    });
    q.extend(k5.prototype, {
        _pause: function() {
            if (this.state) {
                this.state.pauseAnimation();
            }
        },
        _resume: function() {
            if (!this._pausedByCode) {
                this.state.resumeAnimation();
            }
        },
        get animationSpeed() {
            return this.state.animationSpeed;
        },
        set animationSpeed(value) {
            this.state.animationSpeed = value;
        },
        addAnimation: function(t, k, j) {
            this.state.addAnimationByName(t, k, j);
            this._isPlaying = d6t.s73;
        },
        startAnimation: function(t, k, j, o) {
            this._destroyOnComplete = k || d6t.F18;
            this.state.setAnimationByName(t, j, o);
            this.resumeAnimation();
            this._isPlaying = d6t.s73;
        },
        resetTime: function() {
            this.lastTime = d6t.W6;
        },
        pauseAnimation: function() {
            this._pausedByCode = d6t.s73;
            this._pause();
        },
        resumeAnimation: function() {
            this._pausedByCode = d6t.F18;
            this._resume();
        },
        stopAnimation: function() {
            if (this.state) {
                this.state.clearAnimation();
            }
            this._isPlaying = d6t.F18;
        },
        update: function() {
            k5._super.update.call(this);
            if (this._isPlaying) {
                if (this.state.isComplete()) {
                    this._isPlaying = d6t.F18;
                    this.onComplete.dispatch();
                    if (this._destroyOnComplete) {
                        this.destroy();
                        this._destroyOnComplete = d6t.F18;
                    }
                }
            }
        },
        destroy: function() {
            if (this.parent) {
                this.parent.removeChild(this);
            }
            this.stopAnimation();
            game.onPause.remove(this._pause, this);
            game.onResume.remove(this._resume, this);
            this.state = d6t.B3x;
            this.onComplete.removeAll();
        }
    });
    return k5;
});
define('gt/modules/FactorySetup', ['soma', 'gt/utils/SettingsUtil', 'gt/extras/PartialInjectionFactory', 'gt/gui/Label', 'gt/gui/Button', 'gt/animation/AnimationSprite', 'gt/rendering/fx/StaticRenderTexture', 'gt/constants/ConsoleCSS', 'gt/animation/SpineAnimation'], function(p5, w5, R5, r5, T5, a5, x5, f5, A5) {
    var u5 = function(injector) {
        this._injector = injector;
    };
    u5.prototype.run = function(t, k) {
        var j = 'spineAnimationFactory',
            o = 'staticRenderTextureFactory',
            e = 'animationSpriteFactory',
            q = 'buttonFactory',
            m = 'labelFactory',
            k5 = 'settingsUtil',
            C5 = '%c [DI module] %c FactorySetup ';
        console.log(C5, f5.MODULE_TAG, f5.MODULE_TEXT);
        var labelFactory = new R5(this._injector, r5),
            buttonFactory = new R5(this._injector, T5),
            animationSpriteFactory = new R5(this._injector, a5),
            staticRenderTextureFactory = new R5(this._injector, x5),
            spineAnimationFactory = new R5(this._injector, A5);
        this._injector.mapClass(k5, w5, p5.SINGLETON);
        this._injector.mapValue(m, labelFactory);
        this._injector.mapValue(q, buttonFactory);
        this._injector.mapValue(e, animationSpriteFactory);
        this._injector.mapValue(o, staticRenderTextureFactory);
        this._injector.mapValue(j, spineAnimationFactory);
        t.call(k);
    };
    return u5;
});
define('gt/modules/ShowFPSCounter', ['gt/constants/ConsoleCSS'], function(H5) {
    var j5 = function(settings, game, phaserEvents, labelFactory, viewportManager) {
        this._settings = settings;
        this._game = game;
        this._phaserEvents = phaserEvents;
        this._labelFactory = labelFactory;
        this._viewportManager = viewportManager;
    };
    j5.prototype.run = function(t, k) {
        var j = 'version: ',
            o = 'debug',
            e = 'fps: --',
            q = '%c [DI module] %c ShowFPSCounter ';
        console.log(q, H5.MODULE_TAG, H5.MODULE_TEXT);
        if (this._settings.drawFps) {
            this._game.time.advancedTiming = d6t.s73;
            var m = this._labelFactory.construct(e, o);
            this._fpsCounter = this._game.world.add(m);
            this._fpsCounter.fontSize = d6t.O9x;
            var k5 = j + this._settings.version,
                C5 = this._labelFactory.construct(k5, o);
            this._versionNumber = this._game.world.add(C5);
            this._versionNumber.y = d6t.V8x * this._viewportManager.scale;
            this._phaserEvents.updateEvent.add(this.onUpdate, this);
        }
        t.call(k);
    };
    j5.prototype.onUpdate = function() {
        var t = 'fps: ';
        if (this._settings.drawFps) {
            this._fpsCounter.x = d6t.X7x * this._viewportManager.scale;
            this._fpsCounter.y = d6t.h5B * this._viewportManager.scale;
            this._fpsCounter.text = t + this._game.time.fps;
        }
    };
    return j5;
});
define('gt/patterns/messaging/Publisher', [], function() {
    function H5() {
        this._messages = {};
    }
    H5.prototype.subscribe = function(t, k, j) {
        this._addSubscriber(t, k, j, d6t.F18);
    };
    H5.prototype.subscribeOnce = function(t, k, j) {
        this._addSubscriber(t, k, j, d6t.s73);
    };
    H5.prototype.publish = function(t) {
        var k = 'Expected a message parameter for publish() function.';
        console.assert(t, k);
        var j = this._messages[t];
        if (j && j.length) {
            var o = Array.prototype.slice.call(arguments);
            o = o._.del(d6t.W6);
            for (var e = j.length - d6t.A6; e >= d6t.W6; e--) {
                var q = j[e],
                    m = q.listener,
                    k5 = q.context,
                    C5 = m.apply(k5, o);
                if (q.once) {
                    this.unsubscribe(t, m, k5);
                }
                if (C5 === d6t.F18) {
                    break;
                }
            }
        }
    };
    H5.prototype.unsubscribe = function(t, k, j) {
        this._removeSubscriber(j, k, t);
    };
    H5.prototype.unsubscribeAll = function(t) {
        this._removeSubscriber(t);
    };
    H5.prototype._addSubscriber = function(t, k, j, o) {
        if (!this._messages[t]) {
            this._messages[t] = [];
        }
        var e = this._messages[t],
            q = {
                message: t,
                listener: k,
                context: j,
                once: o
            };
        e.unshift(q);
    };
    H5.prototype._removeSubscriber = function(t, k, j) {
        var o = this._messages[j];
        if (o) {
            this._removeSubscriberFromList(o, t, k);
        } else {
            for (var e in this._messages) {
                if (this._messages.hasOwnProperty(e)) {
                    o = this._messages[e];
                    this._removeSubscriberFromList(o, t, k);
                }
            }
        }
    };
    H5.prototype._removeSubscriberFromList = function(t, k, j) {
        var o = j === undefined;
        for (var e = t.length - d6t.A6; e >= d6t.W6; e--) {
            var q = t[e];
            if (q.context === k && o) {
                t._.del(e);
            } else if (q.context === k && q.listener === j) {
                t._.del(e);
            }
        }
    };
    return H5;
});
define('gt/modules/PublisherSetup', ['soma', 'gt/patterns/messaging/Publisher'], function(o, e) {
    'use strict';
    var q = function(injector) {
        this._injector = injector;
    };
    q.prototype.run = function(t, k) {
        var j = 'gameInfoPublisher';
        this._injector.mapClass(j, e, o.SINGLETON);
        t.call(k);
    };
    return q;
});
define('gt/audio/SoundManager', ['bottom_line', 'phaser', 'settings'], function(r5, T5, settings) {
    var x5 = 'muteAudio',
        f5 = '_json';

    function A5(storageManager) {
        var k = 'SoundManager.ctor';
        console.log(k);
        this.sounds = {};
        this.markers = {};
        this.isPlaying = {};
        this.queued = {};
        this.loopingButMuted = {};
        this._storageManager = storageManager;
    }
    r5.extend(A5.prototype, {
        loadSprite: function(t) {
            var k = '.mp3',
                j = t._.before(d6t.N23);
            game.load.audio(j, j + k);
            game.load.json(j + f5, j + d6t.r6);

            function o() {
                this.sounds[j] = game.add.sound(j);
                this.sounds[j].allowMultiple = game.sound.usingWebAudio;
                this._populateSoundMarkers(j, this.sounds[j]);
            }
            game.load.onLoadComplete.add(o, this);
        },
        _populateSoundMarkers: function(t, k) {
            var j = game.cache.getJSON(t + f5);
            for (var o in j.spritemap) {
                this.markers[o] = t;
                this.isPlaying[o] = d6t.F18;
                var e = j.spritemap[o];
                k.addMarker(o, e.start, e.end - e.start, d6t.A6, e.loop);
            }
        },
        getSoundInstance: function(t) {
            var k = this.markers[t],
                j = game.add.sound(k);
            j.allowMultiple = game.sound.usingWebAudio;
            this._populateSoundMarkers(k, j);
            return j;
        },
        play: function(t, k, j, o, e, q, m) {
            var k5 = 'from marker',
                C5 = 'stopping channel',
                H5 = 'volume is capped for sfx: ',
                j5 = ' not found in audiosprite';
            e = (e === undefined) ? d6t.a08 : e;
            var Y5 = this.markers[t];
            if (!Y5) {
                console.warn(t + j5);
            }
            if (this.mute && j) {
                var z5 = Array.prototype.slice.call(arguments, d6t.W6);
                this.loopingButMuted[t] = z5;
                return;
            }
            if (!Y5 || browser.bad || this.mute) {
                return;
            }
            var P5 = j || d6t.F18,
                p5 = o || d6t.F18,
                w5 = settings.volume;
            if (k !== undefined) {
                if (k * settings.volume > d6t.N28) {
                    console.warn(H5 + t);
                }
                w5 = Math.min(k * settings.volume, d6t.N28);
            }
            var R5 = this.sounds[Y5];
            if (q) {
                console.log(C5, Y5, k5, t);
                this.stopChannel(Y5);
            } else if (e > d6t.W6) {
                this.isPlaying[t] = d6t.s73;
                game.time.events.add(e, function() {
                    this.isPlaying[t] = d6t.F18;
                }, this);
            }
            if (j && e > d6t.W6) {
                R5.onMarkerComplete.add(function() {
                    this.queued[t] = game.time.events.add(e, function() {
                        R5.play(t, d6t.W6, w5, d6t.F18, p5);
                    });
                }, this);
                R5.play(t, d6t.W6, w5, d6t.F18, p5);
            } else {
                R5.play(t, d6t.W6, w5, P5, p5);
            }
            this.isPlaying[t] = d6t.s73;
            R5.isPositionalAudio = m;
            return R5;
        },
        effect: function(t, k, j, o, e, q, m) {
            k = k || settings.volume.effects;
            this.play(t, k, j, o, e, q, m);
        },
        music: function(t, k, j, o) {
            k = k || settings.volume.music;
            this.play(t, k, j, o, d6t.W6, d6t.s73, d6t.F18);
        },
        stop: function(t) {
            if (this.loopingButMuted[t]) {
                delete this.loopingButMuted[t];
            }
            var k = this.markers[t];
            if (!k) {
                return;
            }
            var j = this.sounds[k];
            if (j.isPlaying) {
                j.stop();
            }
            j.onMarkerComplete.removeAll();
            var o = this.queued[t];
            if (o) {
                game.time.events.remove(o);
                delete this.queued[t];
            }
            j.isPositionalAudio = d6t.F18;
            this.isPlaying[t] = d6t.F18;
        },
        stopAll: function() {
            this.loopingButMuted = {};
            this.sounds._.each(function(t) {
                t.stop();
            }, this);
        },
        pauseAll: function() {
            this.sounds._.each(function(t) {
                t.pause();
            }, this);
        },
        resumeAll: function() {
            this.sounds._.each(function(t) {
                t.resume();
            }, this);
        },
        stopChannel: function(j) {
            var o = this.sounds[j];
            o.stop();
            o.markers._.each(function(t, k) {
                this.isPlaying[k] = d6t.F18;
            }, this);
        },
        get mute() {
            return !!this._storageManager.get(x5);
        },
        set mute(value) {
            this._storageManager.set(x5, value ? d6t.A6 : d6t.W6);
            if (value) {
                this.pauseAll();
            } else {
                this.resumeAll();
                for (var key in this.loopingButMuted) {
                    this.play.apply(this, this.loopingButMuted[key]);
                }
            }
        }
    });
    return A5;
});
define('gt/scenes/ViewCreator', ['bottom_line', 'phaser'], function(j5, Y5) {
    var z5 = function(spritesheetManager, localizationManager, soundManager, viewportManager, settingsUtil, labelFactory, buttonFactory, staticRenderTextureFactory) {
        this._spritesheetManager = spritesheetManager;
        this._localizationManager = localizationManager;
        this._soundManager = soundManager;
        this._viewportManager = viewportManager;
        this._settingsUtil = settingsUtil;
        this._labelFactory = labelFactory;
        this._buttonFactory = buttonFactory;
        this._staticRenderTextureFactory = staticRenderTextureFactory;
    };
    z5.addToNode = function(t, k, j) {
        if (!k) {
            return;
        }
        k.id = j.name;
        k.myType = j.type;
        switch (t.myType) {
            case d6t.B7f:
                t.addToRender(k, k.x, k.y);
                t.parent.add(k);
                k.visible = d6t.F18;
                break;
            case d6t.Q4H:
                if (k.myType === d6t.s4x || k.myType === d6t.K8) {
                    t.addLabel(k);
                }
                if (k.myType === d6t.E6x) {
                    t.addIcon(k);
                }
                break;
            default:
                t.add(k);
                k.visible = j.visible;
                break;
        }
        if (k.type === Y5.BITMAPTEXT) {
            k.setAnchor(j.anchorX, d6t.A6 - j.anchorY);
        } else {
            if (k.anchor) {
                k.anchor.set(j.anchorX, d6t.A6 - j.anchorY);
            }
        }
    };
    z5.prototype.addImage = function(t, k) {
        var j = k.image._.afterLast(d6t.X23),
            o;
        o = game.make[k.name._.startsWith(d6t.X58) ? d6t.i13 : d6t.f7](k.x, k.y, undefined, j, k.name, k);
        o.angle = k.rotation;
        z5.addToNode(t, o, k);
        return o;
    };
    z5.prototype.addRenderTexture = function(t, k) {
        var j;
        j = this._staticRenderTextureFactory.construct(k.name, k.x, k.y, k.width, k.width);
        j.angle = k.rotation;
        z5.addToNode(t, j, k);
        return j;
    };
    z5.prototype.addButton = function(t, k, j) {
        var o = j.image._.afterLast(d6t.X23),
            e = j.highlightedState._.afterLast(d6t.X23) || o,
            q = j.pressedState._.afterLast(d6t.X23) || o,
            m = this._spritesheetManager.sprites[o].spritesheet,
            k5 = this._buttonFactory.construct(j.name, d6t.W6, d6t.W6, m, e, o, q);
        k5.width = j.width;
        k5.height = j.height;
        z5.addToNode(t, k5, j);
        k5.setVisible(j.visible);
        return k5;
    };
    z5.prototype.addText = function(t, k, j, o) {
        var e = 'Missing text in csv !',
            q = 'empty text label: ',
            m = k.text.replace(/\\n/g, d6t.C7),
            k5;
        m = m.replace(/^\n+|\n+$/g, d6t.I6x);
        var C5 = /^[0-9/ -%]+$/;
        if (!m) {
            console.warn(q, k.id);
        }
        if (m && this._localizationManager && !C5.test(m)) {
            m = this._localizationManager.get(m) || d6t.I6x;
            if (!m) {
                m = e;
            }
        }
        if (j) {
            var H5 = k.name.split(d6t.n08)[d6t.A6];
            k5 = game.add.bitmapText(k.x, k.y, H5, m, k.fontSize * this._viewportManager.scale);
            k5.angle = k.rotation;
            k5.wordWrapWidth = (!o ? k.areaWidth : k.width);
        } else {
            k5 = this._labelFactory.construct(m, k);
            k5.context.lineJoin = d6t.E7f;
        }
        k5.id = k.name;
        z5.addToNode(t, k5, k);
        return k5;
    };
    z5.prototype.addGroup = function(t, k, j) {
        var o = game.add.group(k, j.name);
        o.x = j.x;
        o.y = j.y;
        o.width = j.width;
        o.height = j.height;
        o.id = j.name;
        o.angle = j.rotation;
        o.visible = j.visible;
        return o;
    };
    z5.prototype.addPlaceholder = function(t, k) {
        return game.make.placeholder(t, k.name, k);
    };
    z5.prototype.addButtonGroup = function(t, k, j) {
        var o = this.addButton(t, k, j),
            e = game.make.buttonGroup(t, j.name, j);
        e.addButton(o);
        z5.addToNode(t, e, j);
        return e;
    };
    return z5;
});
define('gt/scenes/Scene', ['bottom_line'], function(k5) {
    function C5(t, game, sceneManager, platform, sceneInput, q) {
        var m = 'view_';
        this.name = t;
        this._game = game;
        this._sceneManager = sceneManager;
        this._platform = platform;
        this.data = d6t.B3x;
        this.view = this._game.make.group();
        this.view.id = m + t;
        this._sceneManager.add(this);
        this.setVisible(d6t.F18);
        this.placeHolders = {};
        this.components = {};
        this.buttons = {};
        this.images = {};
        this.labels = {};
        this.groups = {
            buttons: {}
        };
        this.events = {};
        this._sceneInput = sceneInput;
        this._inputManager = q;
        this._activateButton = d6t.B3x;
        this._parent = d6t.B3x;
    }
    k5.extend(C5.prototype, {
        get width() {
            return this.view.width;
        },
        get height() {
            return this.view.height;
        },
        get x() {
            return this.view.x;
        },
        set x(val) {
            this.view.x = val;
        },
        get y() {
            return this.view.y;
        },
        set y(val) {
            this.view.y = val;
        },
        init: function() {
            this.setActive(d6t.F18);
        },
        enter: function() {
            var t = 'screenEntered',
                k = 'popupEntered';
            if (this._sceneInput) {
                this._sceneInput.bindAll(this);
                this._inputManager.startCapturing();
            }
            if (this.view.parent && this.view.parent !== this._parent) {
                this._parent = this.view.parent;
            }
            this._parent.add(this.view);
            this.setVisible(d6t.s73);
            this.setActive(d6t.s73);
            if (this.view.id._.endsWith(d6t.m63)) {
                this._platform.analytics(k, this.view.id);
            } else if (!this.view.id._.endsWith(d6t.A0)) {
                this._platform.analytics(t, this.view.id);
            }
        },
        leave: function() {
            if (this._parent) {
                this._parent.remove(this.view);
            }
            if (this._sceneInput) {
                this._inputManager.stopCapturing();
                this._sceneInput.unbindAll();
            }
            this.setVisible(d6t.F18);
            this.setActive(d6t.F18);
            for (var t in this.components) {
                this.components[t].leave();
            }
        },
        update: function() {
            return this;
        },
        setVisible: function(t) {
            this.view.visible = t;
            this.view.exists = t;
        },
        isVisible: function() {
            return this.view.visible;
        },
        setActive: function(t) {
            this.active = t;
            this.view.active = t;
            for (var k in this.components) {
                this.components[k].setActive(t);
            }
            var j = d6t.B3x;
            for (var o in this.buttons) {
                var e = this.buttons[o];
                e.setActive(t);
                if (!j && e.visible) {
                    j = e;
                }
            }
            this._activateButton = j;
        },
        getElementById: function(t) {
            var k = 'cannot find element with id: ',
                j = this._getElementById(t, this.view);
            if (!j) {
                console.warn(k + t);
            }
            return j;
        },
        _getElementById: function(t, k) {
            if (k.id === t || k.name === t) {
                return k;
            }
            var j = k.children,
                o;
            for (var e = d6t.W6; e < j.length; e++) {
                o = this._getElementById(t, j[e]);
                if (o && (o.id === t || o.name === t)) {
                    break;
                }
            }
            return o;
        },
        addComponent: function(t, k, j) {
            var o;
            if (j) {
                o = j;
            } else {
                o = t._.decapitalize();
            }
            this.components[o] = this._sceneManager.createComponent(t, k);
            return this.components[o];
        },
        screenChanged: function() {},
        add: function(t, k, j) {
            var o = 'container',
                e = t;
            if (t instanceof C5) {
                e = t.view;
            }
            var q = this.groups[o] || this.view;
            if (j) {
                q = this.view;
            }
            if (typeof(k) === d6t.F3B) {
                q.addAt(e, k);
            } else {
                q.add(e);
            }
        },
        _selectButton: function(t) {
            var k = 1.1;
            this._activateButton.scalar = d6t.N28;
            this._activateButton = t;
            this._activateButton.scalar = k;
        },
        selectNextButton: function() {
            var t = d6t.F18;
            for (var k in this.buttons) {
                var j = this.buttons[k];
                if (t && j.visible) {
                    this._selectButton(j);
                    break;
                } else if (j === this._activateButton) {
                    t = d6t.s73;
                }
            }
        },
        selectPreviousButton: function() {
            var t = d6t.F18,
                k = this._activateButton;
            for (var j in this.buttons) {
                var o = this.buttons[j];
                if (t) {
                    break;
                } else if (o === k) {
                    t = d6t.s73;
                }
                if (o.visible && !t) {
                    this._selectButton(o);
                }
            }
        },
        activateCurrentButton: function() {
            if (this._activateButton && this._activateButton.callbackFnc && this._activateButton.callbackCont) {
                this._activateButton.callbackFnc.call(this._activateButton.callbackCont);
            }
        },
        close: function() {}
    });
    return C5;
});
define('scenes/Game', ['bottom_line', 'phaser', 'gt/scenes/Scene', 'gt/utils/device'], function(H5, j5, Y5, z5) {
    var P5 = 'Game';

    function p5(game, sceneManager, platform, gameManager, tetrisInput, gameInfoPublisher, soundManager, gameVarManager, storageManager) {
        p5._super.constructor.call(this, p5.staticSceneName, game, sceneManager, platform);
        this._gameManager = gameManager;
        this._soundManager = soundManager;
        this._tetrisInput = tetrisInput;
        this._gameVarManager = gameVarManager;
        this._gameInfoPublisher = gameInfoPublisher;
        this._storageManager = storageManager;
    }
    H5.inherit(p5, Y5);
    p5.staticSceneName = P5;
    p5.prototype.init = function() {
        p5._super.init.call(this);
        if (z5.desktop) {
            this.gameCp = this.addComponent(d6t.b4B, d6t.B3x, d6t.d8f);
        } else {
            this.gameCp = this.addComponent(d6t.D43, d6t.B3x, d6t.d8f);
        }
        this.add(this.gameCp.view);
        this._gameManager.init();
    };
    p5.prototype.enter = function(t) {
        this._addEvents();
        this._enableFocusEvents();
        this.gameCp.enter(t);
        this._gameManager.start(t);
        if (this._storageManager.get(d6t.Z88)) {
            this._soundManager.effect(this._gameVarManager.audioConstants.level_start_sfx);
        }
        p5._super.enter.call(this);
    };
    p5.prototype.leave = function() {
        this._disableFocusEvents();
        p5._super.leave.call(this);
        this._gameManager.cleanUp();
        this._removeEvents();
    };
    p5.prototype._wentOutOfFocus = function() {
        this._sceneManager.showPopup(d6t.M0f);
    };
    p5.prototype._enableFocusEvents = function() {
        this._game.onPause.add(this._wentOutOfFocus, this);
        this._game.onResume.add(this._disableFocusEvents, this);
        if (!z5.desktop) {
            this._game.scale.enterLandscape.add(this._wentOutOfFocus, this);
        }
    };
    p5.prototype._disableFocusEvents = function() {
        this._game.onPause.remove(this._wentOutOfFocus, this);
        this._game.onResume.remove(this._disableFocusEvents, this);
        if (!z5.desktop) {
            this._game.scale.enterLandscape.remove(this._wentOutOfFocus, this);
        }
    };
    p5.prototype._addEvents = function() {
        this._gameInfoPublisher.subscribe(d6t.T83, this._enableFocusEvents, this);
        this._gameInfoPublisher.subscribe(d6t.t43, this._enableFocusEvents, this);
        this._gameInfoPublisher.subscribe(d6t.C3, this._disableFocusEvents, this);
        this._gameInfoPublisher.subscribe(d6t.c8, this._disableFocusEvents, this);
        this._gameInfoPublisher.subscribe(d6t.Y6x, this._disableFocusEvents, this);
        this._gameInfoPublisher.subscribe(d6t.Z63, this._enableFocusEvents, this);
        this._gameInfoPublisher.subscribe(d6t.T18, this._enableFocusEvents, this);
    };
    p5.prototype._removeEvents = function() {
        this._gameInfoPublisher.unsubscribe(d6t.T83, this._enableFocusEvents, this);
        this._gameInfoPublisher.unsubscribe(d6t.C3, this._disableFocusEvents, this);
        this._gameInfoPublisher.unsubscribe(d6t.t43, this._enableFocusEvents, this);
        this._gameInfoPublisher.unsubscribe(d6t.c8, this._disableFocusEvents, this);
        this._gameInfoPublisher.unsubscribe(d6t.Z63, this._enableFocusEvents, this);
        this._gameInfoPublisher.unsubscribe(d6t.T18, this._enableFocusEvents, this);
    };
    return p5;
});
define('scenes/Loader', ['bottom_line', 'phaser', 'settings', 'gt/scenes/Scene', 'gt/utils/device'], function(k5, C5, settings, j5, Y5) {
    function z5(game, sceneManager, platform, gameInfoPublisher, injector) {
        var q = 'Loader.ctor';
        console.log(q);
        z5._super.constructor.call(this, z5.staticSceneName, game, sceneManager, platform);
        this._gameInfoPublisher = gameInfoPublisher;
        this._injector = injector;
        this._loadingBarMinosIndex = d6t.W6;
    }
    k5.inherit(z5, j5);
    k5.extend(z5, {
        staticSceneName: d6t.v7H
    });
    z5.FINISHED_DELAY = d6t.q9;
    k5.extend(z5.prototype, {
        init: function() {
            var k = 'Loader.init';
            console.log(k);
            this._gameInfoPublisher.subscribe(d6t.Z8, this._onLoadProgressed, this);
            this._gameInfoPublisher.subscribeOnce(d6t.j88, this._loadingDone, this);
            z5._super.init.call(this);
            this.groups.tetromino.children.forEach(function(t) {
                t.visible = d6t.F18;
            }, this);
        },
        enter: function() {
            var t = 'Loader.enter';
            console.log(t);
            z5._super.enter.call(this);
            this._platform.analytics(d6t.G5B);
        },
        _getNewLoadingBarMinosIndex: function(t) {
            var k = 0.01,
                j = this.groups.tetromino.children,
                o = j.length * k,
                e = o * t,
                q = Math.floor(e),
                m = q;
            if (q > d6t.W6) {
                m = q - d6t.A6;
            }
            return m;
        },
        _onLoadProgressed: function(t) {
            var k = this._getNewLoadingBarMinosIndex(t),
                j = this.groups.tetromino.children;
            if (k > this._loadingBarMinosIndex) {
                for (var o = this._loadingBarMinosIndex; o <= k; o++) {
                    j[o].visible = d6t.s73;
                }
                this._loadingBarMinosIndex = k;
            }
        },
        _loadingDone: function() {
            var levelManager = this._injector.getValue(d6t.k53);
            levelManager.getLevelData(d6t.t28, d6t.W6, this._showSplashScreen, this);
        },
        _showSplashScreen: function() {
            this._game.time.events.add(z5.FINISHED_DELAY, function() {
                this._sceneManager.show(d6t.Q2);
            }, this);
        }
    });
    return z5;
});
define('gt/scenes/Popup', ['bottom_line', 'gt/scenes/Scene'], function(C5, H5) {
    var j5 = 'popup_in',
        Y5 = 'popup_flash';

    function z5(t, game, sceneManager, platform, soundManager, spineUtil, gameVarManager) {
        var k5 = '02_pop-up';
        z5._super.constructor.call(this, t, game, sceneManager, platform);
        this.bottomGroup = d6t.B3x;
        this.topGroup = d6t.B3x;
        this._gameVarManager = gameVarManager;
        this._spineUtil = spineUtil;
        this.tweenTimes = { in: d6t.I6,
            out: d6t.I6
        };
        this.onTweenInComplete = new Phaser.Signal();
        this.sfxString = k5;
        this.onEnter = new Phaser.Signal();
        this.onLeave = new Phaser.Signal();
        this._soundManager = soundManager;
    }
    C5.inherit(z5, H5);
    z5.ENTER_SOUND = d6t.B3x;
    z5.EXIT_SOUND = d6t.B3x;
    C5.extend(z5.prototype, {
        init: function() {
            var k = ' already has a "top" group! Please rename your "top" group...',
                j = 'top',
                o = ' already has a "bottom" group! Please rename your "bottom" group...',
                e = 'Popup ',
                q = 'bottom',
                m = 'darkLayer';
            z5._super.init.call(this);
            this.darkLayer = this._game.add.graphics(d6t.W6, d6t.W6);
            this.darkLayer.beginFill(d6t.B3x, d6t.z48);
            this.darkLayer.drawRect(this._game.viewport.world.x - this._game.viewport.width, d6t.W6, this._game.width, this._game.height);
            this.darkLayer.endFill();
            this.darkLayer.name = m;
            if (this.groups[q]) {
                console.error(e + this.name + o);
            } else {
                this.bottomGroup = this._game.make.group(q);
                this.bottomGroup.pivot.x = -this._game.viewport.world.width / d6t.D6;
                this.bottomGroup.pivot.y = this._game.viewport.world.height / d6t.D6;
                this.bottomGroup.add(this.darkLayer);
                this.view.add(this.bottomGroup);
            }
            if (this.groups[j]) {
                console.error(e + this.name + k);
            } else {
                this.topGroup = this._game.make.group(j);
                this.view.children.forEach(function(t) {
                    if (!t.name._.has(m)) {
                        this.topGroup.add(t);
                    }
                }, this);
                this.view.add(this.topGroup);
            }
            this._spineAnimation = this._spineUtil.replacePlaceholder(this.topGroup, Y5);
            this._spineAnimation.x = d6t.W6;
            this._spineAnimation.y = d6t.W6;
            z5.ENTER_SOUND = this._gameVarManager.audioConstants.popup_open_sfx;
            z5.EXIT_SOUND = this._gameVarManager.audioConstants.popup_close_sfx;
        },
        enter: function() {
            this._game.input.disabled = d6t.s73;
            z5._super.enter.call(this);
            this._spineAnimation.scale.y = d6t.A6;
            this._spineAnimation.startAnimation(j5, d6t.F18, d6t.F18);
            this._spineAnimation.onComplete.addOnce(this.enterComplete, this);
            this.topGroup.visible = d6t.F18;
            var t = this._game.add.tween(this.bottomGroup);
            t.alpha = d6t.W6;
            t.to({
                alpha: d6t.A6
            }, this.tweenTimes.out);
            t.start();
            if (z5.ENTER_SOUND) {
                this._soundManager.effect(z5.ENTER_SOUND);
            }
        },
        enterComplete: function() {
            this._spineAnimation.startAnimation(Y5, d6t.F18, d6t.F18);
            this.topGroup.visible = d6t.s73;
            this.onTweenInComplete.dispatch();
            this._game.input.disabled = d6t.F18;
            this.onEnter.dispatch();
        },
        closePopup: function() {
            this._game.input.disabled = d6t.s73;
            this._spineAnimation.startAnimation(Y5, d6t.F18, d6t.F18, d6t.s73);
            this._spineAnimation.onComplete.addOnce(this.startExit, this);
        },
        startExit: function() {
            this.topGroup.visible = d6t.F18;
            this._spineAnimation.scale.y = -d6t.A6;
            this._spineAnimation.startAnimation(j5, d6t.F18, d6t.F18, d6t.s73);
            this._spineAnimation.onComplete.addOnce(this.exitComplete, this);
            var t = this._game.add.tween(this.bottomGroup);
            t.to({
                alpha: d6t.W6
            }, this.tweenTimes.out);
            t.start();
            if (z5.EXIT_SOUND) {
                this._soundManager.effect(z5.EXIT_SOUND);
            }
        },
        exitComplete: function() {
            this._sceneManager.leavePopup(this);
            this.onLeave.dispatch();
            this._game.input.disabled = d6t.F18;
        }
    });
    return z5;
});
define('scenes/popups/PausePp', ['bottom_line', 'phaser', 'gt/scenes/Popup', 'gt/utils/device'], function(j5, Y5, z5, P5) {
    var p5 = 'PausePp';

    function w5(game, sceneManager, platform, soundManager, spineUtil, gameConfig, gameManager, gameInfoPublisher, gameVarManager, worldProgress) {
        console.log(d6t.W3x);
        w5._super.constructor.call(this, w5.staticSceneName, game, sceneManager, platform, soundManager, spineUtil, gameVarManager);
        this._gameConfig = gameConfig;
        this._gameManager = gameManager;
        this._gameInfoPublisher = gameInfoPublisher;
        this._worldProgress = worldProgress;
        this._wasControlsPpActive = d6t.F18;
    }
    j5.inherit(w5, z5);
    w5.staticSceneName = p5;
    w5.prototype.init = function() {
        var t = 'Pause.init';
        console.log(t);
        w5._super.init.call(this);
        this.buttons.btnClose.setCallback(this._backToGame, this);
        this.buttons.btnGr.setCallback(this._backToGame, this);
        this.buttons.btnOr.setCallback(this._controls, this);
        this.buttons.soundOn.setCallback(this._switchAudio, this);
        this.buttons.soundOff.setCallback(this._switchAudio, this);
        this.buttons.btnRe.setCallback(this._backToMapPressed, this);
        this.buttons.btnYe.setCallback(this._retry, this);
    };
    w5.prototype.enter = function() {
        this._gameInfoPublisher.publish(d6t.C3);
        w5._super.enter.call(this);
        if (!this._wasControlsPpActive && !browser.ie) {
            this._soundManager.stop(this._gameVarManager.audioConstants.ingame_bgm);
            this._soundManager.music(this._gameVarManager.audioConstants.pause_bgm, d6t.B3x, d6t.s73);
        }
        this._wasControlsPpActive = d6t.F18;
        if (browser.ie) {
            this._disableAudioButtons();
        } else {
            this._toggleAudioButtons();
        }
        this.onLeave.removeAll();
    };
    w5.prototype.leave = function() {
        w5._super.leave.call(this);
    };
    w5.prototype._backToGame = function() {
        this._gameInfoPublisher.publish(d6t.T83);
        this.onLeave.addOnce(function() {
            this._soundManager.stop(this._gameVarManager.audioConstants.pause_bgm);
            this._gameInfoPublisher.publish(d6t.h7x);
        }, this);
        this.closePopup();
    };
    w5.prototype._retry = function() {
        this._gameInfoPublisher.publish(d6t.T83);
        this.onLeave.addOnce(function() {
            this._soundManager.stop(this._gameVarManager.audioConstants.pause_bgm);
            this._gameManager.gameRestartCalled = d6t.F18;
            this._gameManager.restartGame(d6t.F18);
            this._gameInfoPublisher.publish(d6t.z6f);
            this._gameInfoPublisher.publish(d6t.L58, d6t.F18);
        }, this);
        this.closePopup();
    };
    w5.prototype._backToMapPressed = function() {
        this.onLeave.addOnce(function() {
            this._soundManager.stop(this._gameVarManager.audioConstants.pause_bgm);
            this._gameManager.endGame();
            if (this._worldProgress.progress > this._gameVarManager.constants.levelsWithoutAds || this._gameManager.getLevelData().levelId == this._gameVarManager.constants.marathonID) {
                this._platform.showAd(function() {
                    this._returnToMap();
                }, this);
            } else {
                this._returnToMap();
            }
        }, this);
        this.closePopup();
    };
    w5.prototype._returnToMap = function() {
        if (this._gameManager.getLevelData().levelId !== this._gameVarManager.constants.marathonID) {
            this._sceneManager.show(d6t.N03, d6t.s73, d6t.F18);
        } else {
            this._sceneManager.show(d6t.Q2);
        }
    };
    w5.prototype._controls = function() {
        this.onLeave.addOnce(function() {
            if (P5.desktop) {
                this._sceneManager.showPopup(d6t.c0H);
            } else {
                this._sceneManager.showPopup(d6t.T98);
            }
        }, this);
        this._wasControlsPpActive = d6t.s73;
        this.closePopup();
    };
    w5.prototype._switchAudio = function() {
        var t = 'Switch audio pressed!';
        console.log(t);
        this._soundManager.mute = !this._soundManager.mute;
        this._toggleAudioButtons();
    };
    w5.prototype._toggleAudioButtons = function() {
        this.buttons.soundOn.setVisible(!this._soundManager.mute);
        this.buttons.soundOff.setVisible(this._soundManager.mute);
    };
    w5.prototype._disableAudioButtons = function() {
        this.buttons.soundOn.setVisible(d6t.F18);
        this.buttons.soundOff.setVisible(d6t.F18);
    };
    return w5;
});
define('enums/UIPanelType', [], function() {
    function t() {}
    t.TIME = d6t.L3H;
    t.HOURGLASS = d6t.d7H;
    t.GRAVITY = d6t.H73;
    t.JUNKSPAWN = d6t.e53;
    return t;
});
define('scenes/components/GameUIComponent', ['bottom_line', 'phaser', 'gt/scenes/Scene', 'enums/UIPanelType', 'gt/utils/device'], function(z5, P5, p5, w5, R5) {
    var r5 = 'tutorialCp',
        T5 = 'GameUIComponent';

    function a5(t, game, sceneManager, platform, gameUIController, tetrisInput, tetriminoHolderController, timeUIPanel, gravityUIPanel, hourglassUIPanel, gameInfoPublisher, junkspawnUIPanel) {
        a5._super.constructor.call(this, t || a5.staticSceneName, game, sceneManager, platform);
        this._gameUIController = gameUIController;
        this._tetrisInput = tetrisInput;
        this._tetriminoHolderController = tetriminoHolderController;
        this._gameInfoPublisher = gameInfoPublisher;
        this._timeUIPanel = timeUIPanel;
        this._gravityUIPanel = gravityUIPanel;
        this._hourglassUIPanel = hourglassUIPanel;
        this._junkspawnUIPanel = junkspawnUIPanel;
        this._uiPanels = {};
        this._uiPanelNames = [];
        this._panelPlaceHolders = [];
        this.paused = d6t.F18;
        this._tutorialComponent = d6t.B3x;
    }
    z5.inherit(a5, p5);
    a5.staticSceneName = T5;
    a5.DESKTOP_PANEL_CP_NAME = d6t.W0;
    a5.MOBILE_PANEL_CP_NAME = d6t.U78;
    a5.TUTORIAL_CP_NAME = r5;
    a5.TUTORIAL_DESKTOP_CP_NAME = d6t.y9H;
    a5.TUTORIAL_MOBILE_CP_NAME = d6t.I4B;
    a5.prototype.init = function() {
        a5._super.init.call(this);
        this._gameUIController.init(this);
        this._setButtonCallbacks();
        this._setPanelPlaceHolders();
        this._createTutorialComponent();
        this._setPanelNames();
        this.labels.score.text = d6t.W6;
    };
    a5.prototype.enter = function(t) {
        a5._super.enter.call(this);
        this._gameUIController.activate(t);
        this.resumeControl();
        this._addEvents();
    };
    a5.prototype.leave = function() {
        a5._super.leave.call(this);
        this._gameUIController.deActivate();
        this._tetrisInput.pauseSignal.remove(this._pause, this);
        this._removeEvents();
    };
    a5.prototype.showPanels = function(q) {
        var m = d6t.W6;
        this._uiPanelNames.forEach(function(t) {
            var k = this._uiPanels[t],
                j = q.indexOf(t),
                o = j > -d6t.A6;
            if (o) {
                if (!k) {
                    k = this._createPanelComponent(t);
                }
                var e = this._panelPlaceHolders[m++];
                k.visible = d6t.s73;
                this._positionComponentAtPlaceholder(k, e);
                k.enter();
            } else {
                if (k) {
                    k.visible = d6t.F18;
                }
            }
        }, this);
    };
    a5.prototype.pauseControl = function() {
        this.paused = d6t.s73;
    };
    a5.prototype.resumeControl = function() {
        this.paused = d6t.F18;
    };
    a5.prototype._createPanelComponent = function(t) {
        var k = this._getUIPanel(t),
            j = a5.DESKTOP_PANEL_CP_NAME;
        if (R5.portable) {
            j = a5.MOBILE_PANEL_CP_NAME;
        }
        var o = this.addComponent(j, d6t.B3x, t);
        o.setPanel(k);
        this._uiPanels[t] = o;
        this.add(o.view);
        return o;
    };
    a5.prototype._createTutorialComponent = function() {
        if (R5.portable) {
            this._tutorialComponent = this.addComponent(a5.TUTORIAL_MOBILE_CP_NAME, d6t.B3x, a5.TUTORIAL_CP_NAME);
        } else {
            this._tutorialComponent = this.addComponent(a5.TUTORIAL_DESKTOP_CP_NAME, d6t.B3x, a5.TUTORIAL_CP_NAME);
        }
        this.add(this._tutorialComponent);
    };
    a5.prototype._setPanelPlaceHolders = function() {
        this._panelPlaceHolders.push(this.placeHolders.textPanel1);
        this._panelPlaceHolders.push(this.placeHolders.textPanel2);
        this._panelPlaceHolders.push(this.placeHolders.textPanel3);
        this._panelPlaceHolders.push(this.placeHolders.textPanel4);
    };
    a5.prototype._setPanelNames = function() {
        this._uiPanelNames.push(w5.TIME);
        this._uiPanelNames.push(w5.GRAVITY);
        this._uiPanelNames.push(w5.HOURGLASS);
        this._uiPanelNames.push(w5.JUNKSPAWN);
    };
    a5.prototype._positionComponentAtPlaceholder = function(t, k) {
        t.view.pivot.x = k.dimensions.width * d6t.z48;
        t.view.pivot.y = -k.dimensions.height * d6t.z48;
        t.x = k.x;
        t.y = k.y;
    };
    a5.prototype._getUIPanel = function(t) {
        var k = d6t.B3x;
        switch (t) {
            case w5.TIME:
                k = this._timeUIPanel;
                break;
            case w5.GRAVITY:
                k = this._gravityUIPanel;
                break;
            case w5.HOURGLASS:
                k = this._hourglassUIPanel;
                break;
            case w5.JUNKSPAWN:
                k = this._junkspawnUIPanel;
                break;
        }
        return k;
    };
    a5.prototype._holdButtonPressed = function() {
        this._tetriminoHolderController.holdTetrimino();
    };
    a5.prototype._pause = function() {
        if (!this.paused) {
            this._sceneManager.showPopup(d6t.M0f);
        }
    };
    a5.prototype._showHelpPopup = function() {
        this._sceneManager.showPopup(d6t.q5f);
    };
    a5.prototype._activatePauseButton = function() {
        this._tetrisInput.pauseSignal.addOnce(this._pause, this);
    };
    a5.prototype._setButtonCallbacks = function() {
        this.buttons.pause.setCallback(this._pause, this);
        this.buttons.holdTetrimino.setCallback(this._holdButtonPressed, this);
        this.buttons.help.setCallback(this._showHelpPopup, this);
    };
    a5.prototype._addEvents = function() {
        this._gameInfoPublisher.subscribe(d6t.Y6x, this.pauseControl, this);
        this._gameInfoPublisher.subscribe(d6t.z3H, this._activatePauseButton, this);
    };
    a5.prototype._removeEvents = function() {
        this._gameInfoPublisher.unsubscribe(d6t.Y6x, this.pauseControl, this);
        this._gameInfoPublisher.unsubscribe(d6t.z3H, this._activatePauseButton, this);
    };
    return a5;
});
define('scenes/components/GameDesktopCp', ['bottom_line', 'phaser', 'scenes/components/GameUIComponent'], function(z5, P5, p5) {
    function w5(game, sceneManager, platform, gameUIController, tetrisInput, tetriminoHolderController, gameInfoPublisher, timeUIPanel, gravityUIPanel, hourglassUIPanel, fullscreenUtil, junkspawnUIPanel) {
        w5._super.constructor.call(this, w5.staticSceneName, game, sceneManager, platform, gameUIController, tetrisInput, tetriminoHolderController, timeUIPanel, gravityUIPanel, hourglassUIPanel, gameInfoPublisher, junkspawnUIPanel);
        this._fullscreenUtil = fullscreenUtil;
    }
    z5.inherit(w5, p5);
    w5.staticSceneName = d6t.b4B;
    w5.prototype.init = function() {
        w5._super.init.call(this);
        this._fullscreenUtil.setup(this.buttons.fullscreenOn, this.buttons.fullscreenOff, this);
    };
    return w5;
});
define('scenes/components/GameMobileCp', ['bottom_line', 'phaser', 'scenes/components/GameUIComponent', 'settings'], function(Y5, z5, P5) {
    function p5(game, sceneManager, platform, gameUIController, tetrisInput, tetriminoHolderController, timeUIPanel, gravityUIPanel, hourglassUIPanel, gameInfoPublisher, junkspawnUIPanel) {
        p5._super.constructor.call(this, p5.staticSceneName, game, sceneManager, platform, gameUIController, tetrisInput, tetriminoHolderController, timeUIPanel, gravityUIPanel, hourglassUIPanel, gameInfoPublisher, junkspawnUIPanel);
    }
    Y5.inherit(p5, P5);
    p5.staticSceneName = d6t.D43;
    return p5;
});
define('scenes/Map', ['bottom_line', 'phaser', 'settings', 'gt/scenes/Scene'], function(p5, w5, settings, r5) {
    var T5 = 'Map';

    function a5(game, sceneManager, platform, mapController, levelNodesController, cityNodesController, worldProgress, gameInfoPublisher, soundManager, gameVarManager, unlockProgress, mapAnimator, storageManager, viewportManager) {
        a5._super.constructor.call(this, a5.staticSceneName, game, sceneManager, platform);
        this._mapController = mapController;
        this._levelNodesController = levelNodesController;
        this._cityNodesController = cityNodesController;
        this._worldProgress = worldProgress;
        this._gameInfoPublisher = gameInfoPublisher;
        this._soundManager = soundManager;
        this._gameVarManager = gameVarManager;
        this._unlockProgress = unlockProgress;
        this._mapAnimator = mapAnimator;
        this._storageManager = storageManager;
        this._viewportManager = viewportManager;
        this._hudComponent = d6t.B3x;
        this._mapMusic = d6t.B3x;
        this._willShowEndGamePopup = d6t.F18;
    }
    p5.inherit(a5, r5);
    a5.staticSceneName = T5;
    a5.prototype.init = function() {
        a5._super.init.call(this);
        this._mapController.init(this);
        this._levelNodesController.init(this);
        this._cityNodesController.init(this);
        this._hudComponent = this.addComponent(d6t.W3f);
        this._gameInfoPublisher.subscribeOnce(d6t.c48, this._onLastLevelWon, this);
        this._mapAnimator.setupAnimations(this);
    };
    a5.prototype.enter = function(t, k) {
        this._mapController.activate();
        this._mapAnimator.startAnimations();
        this._worldProgress.saveWorldProgress();
        this._unlockProgress.manuallyBackToMap = t;
        a5._super.enter.call(this);
        this._addEvents();
        this._levelNodesController.activate();
        this._cityNodesController.activate();
        if (!this._storageManager.get(d6t.A3f) && this._worldProgress.progress <= d6t.A6) {
            this._cityNodesController.disableInput();
            this._mapController.firstTimeEnterFlow(this._cityNodesController.enableInput, this._cityNodesController);
        } else {
            this._mapController.activate(this._levelNodesController.getNodeInFocus(), k);
        }
        this._hudComponent.enter();
        if (this._willShowEndGamePopup) {
            this._showEndGamePopup();
        }
        this._mapMusic = this._soundManager.getSoundInstance(this._gameVarManager.audioConstants.worldmap_bgm);
        if (!this._soundManager.mute && !browser.ie) {
            this._playMapMusic();
        }
        if (browser.ie) {
            this._disableAudioButtons();
        }
    };
    a5.prototype.update = function() {
        a5._super.update.call(this);
        this._mapController.update();
        this._levelNodesController.update();
    };
    a5.prototype.leave = function() {
        var t = 'Map.leave';
        this._mapController.deActivate();
        this._stopMapMusic();
        console.log(t);
        this._mapController.deActivate();
        this._levelNodesController.deActivate();
        this._mapAnimator.stopAnimations();
        this._removeEvents();
        a5._super.leave.call(this);
    };
    a5.prototype.activateCurrentButton = function() {
        var t = this._worldProgress.progress;
        this._sceneManager.showPopup(d6t.T3f, t);
    };
    a5.prototype.setActive = function(t) {
        this._mapController.toggleInput(t);
        a5._super.setActive.call(this, t);
    };
    a5.prototype._onLastLevelWon = function() {
        this._willShowEndGamePopup = d6t.s73;
    };
    a5.prototype._showEndGamePopup = function() {
        this._willShowEndGamePopup = d6t.F18;
        this._sceneManager.showPopup(d6t.V6f);
    };
    a5.prototype._stopMapMusic = function() {
        this._mapMusic.stop();
    };
    a5.prototype._playMapMusic = function() {
        this._mapMusic.play(this._gameVarManager.audioConstants.worldmap_bgm, d6t.W6, settings.volume.music, d6t.s73);
    };
    a5.prototype._disableAudioButtons = function() {
        this._hudComponent.buttons.soundOn.setVisible(d6t.F18);
        this._hudComponent.buttons.soundOff.setVisible(d6t.F18);
    };
    a5.prototype._addEvents = function() {
        this._gameInfoPublisher.subscribe(d6t.v4B, this._playMapMusic, this);
        this._gameInfoPublisher.subscribe(d6t.P68, this._stopMapMusic, this);
        this._viewportManager.screenChangedEventStarted.add(function() {
            this._hudComponent._activateButtons(d6t.F18);
            this._mapController.toggleInput(d6t.F18);
        }, this);
        this._viewportManager.screenChangedEvent.add(function() {
            this._hudComponent._activateButtons(d6t.s73);
            this._mapController.toggleInput(d6t.s73);
        }, this);
    };
    a5.prototype._removeEvents = function() {
        this._gameInfoPublisher.unsubscribe(d6t.v4B, this._playMapMusic, this);
        this._gameInfoPublisher.unsubscribe(d6t.P68, this._stopMapMusic, this);
        this._viewportManager.screenChangedEventStarted.remove(function() {
            this._hudComponent._activateButtons(d6t.F18);
            this._mapController.toggleInput(d6t.F18);
        }, this);
        this._viewportManager.screenChangedEvent.remove(function() {
            this._hudComponent._activateButtons(d6t.s73);
            this._mapController.toggleInput(d6t.s73);
        }, this);
    };
    return a5;
});
define('enums/LevelNodeType', [], function() {
    var t = 'lvlNode_unavailable',
        k = 'lvlNode_inactive',
        j = 'lvlNode_completed',
        o = 'lvlNode_selected';

    function e() {}
    e.SELECTED = o;
    e.COMPLETED = j;
    e.INACTIVE = k;
    e.UNAVAILABLE = t;
    return e;
});
define('scenes/components/LevelNodeCp', ['bottom_line', 'phaser', 'settings', 'gt/scenes/Scene', 'enums/LevelNodeType'], function(q, m, settings, C5, H5) {
    var j5 = 'LevelNodeCp';

    function Y5(game, sceneManager, levelNodeController, mapController, gameInfoPublisher) {
        Y5._super.constructor.call(this, Y5.staticSceneName, game, sceneManager);
        this._levelNodeController = levelNodeController;
        this._mapController = mapController;
        this._gameInfoPublisher = gameInfoPublisher;
        this._levelNodeType = H5.UNAVAILABLE;
    }
    q.inherit(Y5, C5);
    Y5.staticSceneName = j5;
    Y5.prototype.init = function(t, k, j) {
        Y5._super.init.call(this);
        this._levelNodeType = k;
        this.levelId = j;
        this._levelNodeController.init(this, t, k, j);
    };
    Y5.prototype.enter = function() {
        Y5._super.enter.call(this);
        this._levelNodeController.activate();
        this._addEvents();
    };
    Y5.prototype.leave = function() {
        Y5._super.leave.call(this);
        this._levelNodeController.deActivate();
        this._removeEvents();
    };
    Y5.prototype.openLevel = function() {
        if (this._mapController.levelnodeInputBlocked) {
            return;
        }
        this._sceneManager.showPopup(d6t.T3f, this._levelNodeController.id);
    };
    Y5.prototype.enableInput = function() {
        this._levelNodeController.enableInput();
    };
    Y5.prototype.disableInput = function() {
        this._levelNodeController.disableInput();
    };
    Y5.prototype._addEvents = function() {
        this._gameInfoPublisher.subscribe(d6t.q68, this.enableInput, this);
        this._gameInfoPublisher.subscribe(d6t.o38, this.disableInput, this);
    };
    Y5.prototype._removeEvents = function() {
        this._gameInfoPublisher.unsubscribe(d6t.q68, this.enableInput, this);
        this._gameInfoPublisher.unsubscribe(d6t.o38, this.disableInput, this);
    };
    return Y5;
});
define('scenes/components/CityNodeCp', ['bottom_line', 'phaser', 'settings', 'gt/scenes/Scene'], function(q, m, settings, C5) {
    var H5 = 'CitiesCp';

    function j5(game, sceneManager, cityNodeController, mapController, gameInfoPublisher) {
        j5._super.constructor.call(this, j5.staticSceneName, game, sceneManager);
        this._cityNodeController = cityNodeController;
        this._mapController = mapController;
        this._gameInfoPublisher = gameInfoPublisher;
        this._canOpenPp = d6t.s73;
    }
    q.inherit(j5, C5);
    j5.staticSceneName = H5;
    j5.prototype.init = function(t) {
        j5._super.init.call(this);
        this._cityNodeController.init(this, t);
        this._addEvents();
    };
    j5.prototype.enter = function() {
        j5._super.enter.call(this);
        this._cityNodeController.activate();
    };
    j5.prototype.leave = function() {
        j5._super.leave.call(this);
        this._cityNodeController.deActivate();
    };
    j5.prototype.enableInput = function() {
        this._cityNodeController.enableInput();
    };
    j5.prototype.disableInput = function() {
        this._cityNodeController.disableInput();
    };
    j5.prototype._showLockedPopup = function(t) {
        if (this._canOpenPp) {
            this._canOpenPp = d6t.F18;
            this._mapController.disableInputEvents();
            if (!t) {
                t = d6t.F18;
            }
            this._cityNodeController.checkForUnlock(t);
        }
    };
    j5.prototype._allowPpToOpen = function() {
        this._canOpenPp = d6t.s73;
        this._mapController.enableInputEvents();
    };
    j5.prototype._addEvents = function() {
        var t = 'disableCitynodes',
            k = 'enableCitynodes';
        this._gameInfoPublisher.subscribe(k, this.enableInput, this);
        this._gameInfoPublisher.subscribe(t, this.disableInput, this);
        this._gameInfoPublisher.subscribe(d6t.v4x, this._showLockedPopup, this);
        this._gameInfoPublisher.subscribe(d6t.L5H, this._allowPpToOpen, this);
    };
    return j5;
});
define('scenes/components/MapHudCp', ['bottom_line', 'gt/scenes/Scene'], function(e, q) {
    function m(game, sceneManager, mapHudController, fullscreenUtil) {
        m._super.constructor.call(this, m.staticSceneName, game, sceneManager);
        this._mapHudController = mapHudController;
        this._fullscreenUtil = fullscreenUtil;
    }
    e.inherit(m, q);
    m.staticSceneName = d6t.W3f;
    m.prototype.init = function() {
        m._super.init.call(this);
        this._mapHudController.init(this);
        this._fullscreenUtil.setup(this.buttons.fullscreenOn, this.buttons.fullscreenOff, this, this._repositionAudioButtons);
    };
    m.prototype.enter = function() {
        m._super.enter.call(this);
        this._mapHudController.activate();
    };
    m.prototype.leave = function() {
        m._super.leave.call(this);
    };
    m.prototype._repositionAudioButtons = function() {
        this.buttons.soundOn.x = this.buttons.fullscreenOn.x;
        this.buttons.soundOn.y = this.buttons.fullscreenOn.y;
        this.buttons.soundOff.x = this.buttons.fullscreenOn.x;
        this.buttons.soundOff.y = this.buttons.fullscreenOn.y;
    };
    m.prototype._activateButtons = function(t) {
        for (var k in this.buttons) {
            var j = this.buttons[k];
            j.button.input.enabled = t;
        }
    };
    return m;
});
define('scenes/popups/ControlsDesktopPp', ['bottom_line', 'gt/scenes/Popup'], function(z5, P5) {
    function p5(game, sceneManager, platform, soundManager, spineUtil, gameInfoPublisher, gameVarManager, storageManager, controlScheme, localizationManager, worldProgress, gameConfig) {
        p5._super.constructor.call(this, p5.staticSceneName, game, sceneManager, platform, soundManager, spineUtil, gameVarManager);
        this._gameInfoPublisher = gameInfoPublisher;
        this._storageManager = storageManager;
        this._controlScheme = controlScheme;
        this._localizationManager = localizationManager;
        this._worldProgress = worldProgress;
        this._gameConfig = gameConfig;
    }
    z5.inherit(p5, P5);
    p5.staticSceneName = d6t.c0H;
    p5.prototype.init = function() {
        p5._super.init.call(this);
        this.buttons.back.setCallback(this.closePopup, this);
        this.buttons.continue.setCallback(this._continuePressed, this);
    };
    p5.prototype.enter = function() {
        var t = 'howtoplay_header';
        p5._super.enter.call(this);
        var k = d6t.s73;
        if (this._gameConfig.lang === d6t.u73) {
            k = d6t.F18;
        }
        this.groups.jp.visible = !k;
        this.groups.en.visible = k;
        this._gameInfoPublisher.publish(d6t.C3);
        if (!this._storageManager.get(d6t.Z88)) {
            this._soundManager.music(this._gameVarManager.audioConstants.pause_bgm, d6t.B3x, d6t.s73);
            this.labels.headerfont_header.text = this._localizationManager.get(t);
        }
        this.buttons.back.visible = this._storageManager.get(d6t.Z88);
        this.buttons.continue.visible = !this._storageManager.get(d6t.Z88);
    };
    p5.prototype.leave = function() {
        var t = 'firstTime_closeTut_level_1';
        if (!this._storageManager.get(d6t.Z88)) {
            this._platform.analytics(t);
            this._storageManager.set(d6t.Z88, d6t.s73);
        } else {
            this._sceneManager.showPopup(d6t.M0f);
        }
        p5._super.leave.call(this);
    };
    p5.prototype._continuePressed = function() {
        this.onLeave.addOnce(function() {
            this._soundManager.stop(this._gameVarManager.audioConstants.pause_bgm);
            this._gameInfoPublisher.publish(d6t.h7x, d6t.B3x, d6t.B3x, d6t.s73);
        }, this);
        this.closePopup();
    };
    p5.prototype._backPressed = function() {
        this.closePopup();
    };
    return p5;
});
define('data/ControlScheme', [], function() {
    var j = 'CURRENT_SCHEME_KEY';

    function o(storageManager, gameVarManager) {
        this._storageManager = storageManager;
        this._gameVarManager = gameVarManager;
    }
    o.CURRENT_SCHEME_KEY = j;
    o.SMART = d6t.D6;
    o.SWIPE = d6t.A6;
    o.DESKTOP = d6t.W6;
    Object.defineProperty(o.prototype, o.CURRENT_SCHEME_KEY, {
        get: function() {
            var t = this._gameVarManager.constants.controlSchemeType,
                k = this._storageManager.get(o.CURRENT_SCHEME_KEY);
            if (!k) {
                return t;
            } else {
                return k;
            }
        },
        set: function(t) {
            this._storageManager.set(o.CURRENT_SCHEME_KEY, t);
        }
    });
    return o;
});
define('scenes/popups/ControlsMobilePp', ['bottom_line', 'gt/scenes/Popup', 'data/ControlScheme'], function(Y5, z5, P5) {
    function p5(game, sceneManager, platform, soundManager, spineUtil, gameInfoPublisher, gameVarManager, controlScheme, storageManager, localizationManager, worldProgress) {
        p5._super.constructor.call(this, p5.staticSceneName, game, sceneManager, platform, soundManager, spineUtil, gameVarManager);
        this._gameInfoPublisher = gameInfoPublisher;
        this._controlScheme = controlScheme;
        this._storageManager = storageManager;
        this._localizationManager = localizationManager;
        this._worldProgress = worldProgress;
    }
    Y5.inherit(p5, z5);
    p5.staticSceneName = d6t.T98;
    p5.prototype.init = function() {
        p5._super.init.call(this);
        this._setButtonCallbacks();
    };
    p5.prototype.enter = function() {
        var t = 'Controls';
        p5._super.enter.call(this);
        this._gameInfoPublisher.publish(d6t.C3);
        if (this._storageManager.get(d6t.Z88)) {
            this.labels.headerfont_header.text = this._localizationManager.get(t);
            this.buttons.back.visible = d6t.s73;
            this.buttons.continue.visible = d6t.F18;
        }
        this._showCurrentScheme();
    };
    p5.prototype.leave = function() {
        if (this._storageManager.get(d6t.Z88)) {
            this._sceneManager.showPopup(d6t.M0f);
            this._sendChosenControlsAnalytics(d6t.F18);
        } else {
            this._storageManager.set(d6t.Z88, d6t.s73);
        }
        p5._super.leave.call(this);
    };
    p5.prototype._setButtonCallbacks = function() {
        this.buttons.back.setCallback(this.closePopup, this);
        this.buttons.continue.setCallback(this._continuePressed, this);
        this.buttons.activateSmartControls.setCallback(this._activateSmart, this);
        this.buttons.activateClassicControls.setCallback(this._activateClassic, this);
    };
    p5.prototype._activateSmart = function() {
        if (this.groups.classiccontrols.visible) {
            this._changeControlsTo(P5.SMART);
        }
    };
    p5.prototype._activateClassic = function() {
        if (this.groups.smartcontrols.visible) {
            this._changeControlsTo(P5.SWIPE);
        }
    };
    p5.prototype._changeControlsTo = function(controlScheme) {
        var k = controlScheme === P5.SMART;
        this.groups.smartcontrols.visible = k;
        this.groups.classiccontrols.visible = !k;
        this._gameInfoPublisher.publish(d6t.L4, controlScheme);
    };
    p5.prototype._showCurrentScheme = function() {
        var t = this._controlScheme[P5.CURRENT_SCHEME_KEY],
            k = t === P5.SMART;
        this.groups.smartcontrols.visible = k;
        this.groups.classiccontrols.visible = !k;
    };
    p5.prototype._continuePressed = function() {
        if (!this._storageManager.get(d6t.Z88)) {
            this.onLeave.addOnce(function() {
                this._gameInfoPublisher.publish(d6t.h7x, d6t.B3x, d6t.B3x, d6t.s73);
            }, this);
            this.closePopup();
        }
    };
    p5.prototype._backPressed = function() {
        this.closePopup();
    };
    p5.prototype._sendChosenControlsAnalytics = function(t) {
        var k = 'Swipe',
            j = 'Smart_Mobile',
            o = 'controlsSwitchedTo_',
            e = 'firstTimeChosenControls_',
            q = e;
        if (!t) {
            q = o;
        }
        var m = j;
        if (this._controlScheme[P5.CURRENT_SCHEME_KEY] === P5.SWIPE) {
            m = k;
        }
        this._platform.analytics(q + m);
    };
    return p5;
});
define('scenes/popups/LevelLostPp', ['bottom_line', 'gt/utils/StringUtil', 'gt/scenes/Popup'], function(p5, w5, R5) {
    function r5(game, sceneManager, platform, soundManager, spineUtil, gameVarManager, scoreAdController, gameManager, lineClearCounter, neededLineClearsToWin, scoreManager, gameInfoPublisher, gameConfig, worldProgress) {
        r5._super.constructor.call(this, r5.staticSceneName, game, sceneManager, platform, soundManager, spineUtil, gameVarManager);
        this._scoreAdController = scoreAdController;
        this._gameManager = gameManager;
        this._lineClearCounter = lineClearCounter;
        this._neededLineClearsToWin = neededLineClearsToWin;
        this._scoreManager = scoreManager;
        this._gameInfoPublisher = gameInfoPublisher;
        this._gameConfig = gameConfig;
        this._worldProgress = worldProgress;
        this._levelData = d6t.B3x;
        this._unformattedLineClearText = d6t.B3x;
        this._language = d6t.I6x;
    }
    p5.inherit(r5, R5);
    r5.staticSceneName = d6t.I1;
    r5.prototype.init = function() {
        r5._super.init.call(this);
        this.buttons.btnGr.setCallback(this._retryPressed, this);
        this.buttons.btnOr.setCallback(this._backPressed, this);
        this._language = this._gameConfig.lang;
        if (this._language == d6t.u73) {
            this._unformattedLineClearText = this.labels.lineClearsTextJp.text;
        } else {
            this._unformattedLineClearText = this.labels.lineClearsValueEn.text;
        }
    };
    r5.prototype.enter = function(t, k) {
        r5._super.enter.call(this);
        this._gameInfoPublisher.publish(d6t.c8);
        this._levelData = t;
        this.groups.lvlLoseTime.visible = k;
        this.groups.lvlLose.visible = !k;
        this._hideButtons();
        this._setLineClearText();
        this._setAchievedScoreText(this._showAd, this);
        this._toggleLineClearLabels();
        this.onLeave.removeAll();
    };
    r5.prototype._showAd = function() {
        if (this._worldProgress.progress > this._gameVarManager.constants.levelsWithoutAds) {
            this._scoreAdController.scoreAd(this._showButtons, this);
        } else {
            this._showButtons();
        }
    };
    r5.prototype._hideButtons = function() {
        for (var t in this.buttons) {
            var k = this.buttons[t];
            k.setVisible(d6t.F18);
        }
    };
    r5.prototype._showButtons = function() {
        for (var t in this.buttons) {
            var k = this.buttons[t];
            k.setVisible(d6t.s73);
        }
    };
    r5.prototype._retryPressed = function() {
        this.onLeave.addOnce(function() {
            this._gameManager.restartGame(d6t.s73);
            this._gameInfoPublisher.publish(d6t.z6f);
            this._gameInfoPublisher.publish(d6t.L58, d6t.F18);
        }, this);
        this._exit();
    };
    r5.prototype._backPressed = function() {
        if (this._levelData.levelId === this._gameVarManager.constants.marathonID) {
            this._backToSplash();
        } else {
            this._backToMap();
        }
    };
    r5.prototype._backToMap = function() {
        this.onLeave.addOnce(function() {
            this._sceneManager.show(d6t.N03, d6t.F18, d6t.F18);
        }, this);
        this._exit();
    };
    r5.prototype._backToSplash = function() {
        this.onLeave.addOnce(function() {
            this._sceneManager.show(d6t.Q2);
        }, this);
        this._exit();
    };
    r5.prototype._setLineClearText = function() {
        var t = this._neededLineClearsToWin.getFromLevelData(this._levelData),
            k = this._lineClearCounter.getClearedLinesCount(),
            j = w5.format(this._unformattedLineClearText, k, t);
        if (this._language === d6t.u73) {
            this.labels.lineClearsTextJp.text = j;
        } else {
            this.labels.lineClearsValueEn.text = j;
        }
    };
    r5.prototype._setAchievedScoreText = function(t, k) {
        var j = this._scoreManager.getScore();
        this.labels.score.text = d6t.W6;
        this.labels.score.countTo(j, this._gameVarManager.constants.score_count_timer, t, k);
    };
    r5.prototype._exit = function() {
        this.closePopup();
    };
    r5.prototype._toggleLineClearLabels = function() {
        if (this._language == d6t.u73) {
            this.labels.lineClearsTextEn.visible = d6t.F18;
            this.labels.lineClearsValueEn.visible = d6t.F18;
        } else {
            this.labels.lineClearsTextJp.visible = d6t.F18;
        }
    };
    return r5;
});
define('scenes/popups/LevelStartPp', ['bottom_line', 'gt/scenes/Popup'], function(Y5, z5) {
    function P5(game, sceneManager, platform, soundManager, spineUtil, levelStartController, gameVarManager, gameInfoPublisher, mapController, worldProgress, storageManager) {
        P5._super.constructor.call(this, P5.staticSceneName, game, sceneManager, platform, soundManager, spineUtil, gameVarManager);
        this._controller = levelStartController;
        this._gameInfoPublisher = gameInfoPublisher;
        this._mapController = mapController;
        this._worldProgress = worldProgress;
        this._storageManager = storageManager;
        this._unformattedHeader = d6t.B3x;
        this._levelID = d6t.W6;
    }
    Y5.inherit(P5, z5);
    P5.staticSceneName = d6t.T3f;
    P5.prototype.init = function() {
        P5._super.init.call(this);
        this._controller.init(this);
        this.buttons.btnGr.setCallback(this._startPressed, this);
        this.buttons.btnClose.setCallback(this._exitPressed, this);
    };
    P5.prototype.enter = function(t) {
        var k = 'LevelStartPp.enter(';
        P5._super.enter.call(this);
        console.log(k + t + d6t.A13);
        this._levelID = t;
        this.onLeave.removeAll();
        this._controller.activate(this._levelID);
        this._setCityBackground();
        this._gameInfoPublisher.publish(d6t.M23);
    };
    P5.prototype.leave = function() {
        this._controller.deActivate();
        this._mapController.enableInputEvents();
    };
    P5.prototype._setCityBackground = function() {
        var k = this._controller.getCurrentCityName();
        this._controller.cityList.forEach(function(t) {
            this.groups[t].visible = t == k;
        }, this);
    };
    P5.prototype._startPressed = function() {
        this.onLeave.addOnce(this._startLevel, this);
        this.closePopup();
    };
    P5.prototype._exitPressed = function() {
        this.closePopup();
    };
    P5.prototype._startLevel = function() {
        var t = 'start',
            k = 'firsttime_level';
        if (this._levelID == d6t.A6 || this._levelID == d6t.D6) {
            this._sendAnalytics(k + this._levelID + t);
        }
        this._sceneManager.show(d6t.q38, this._levelID);
    };
    P5.prototype._sendAnalytics = function(t) {
        var k = t + d6t.H63;
        if (!this._storageManager.get(k) && this._worldProgress.progress == this._levelID) {
            this._platform.analytics(t);
            this._storageManager.set(k, d6t.s73);
        }
    };
    return P5;
});
define('scenes/popups/LevelWinPp', ['bottom_line', 'gt/scenes/Popup'], function(Y5, z5) {
    function P5(game, sceneManager, platform, soundManager, spineUtil, gameVarManager, levelWinController, scoreAdController, storageManager, gameInfoPublisher, worldProgress) {
        P5._super.constructor.call(this, P5.staticSceneName, game, sceneManager, platform, soundManager, spineUtil, gameVarManager);
        this._controller = levelWinController;
        this._scoreAdController = scoreAdController;
        this._storageManager = storageManager;
        this._gameInfoPublisher = gameInfoPublisher;
        this._worldProgress = worldProgress;
    }
    Y5.inherit(P5, z5);
    P5.staticSceneName = d6t.c3H;
    P5.prototype.init = function() {
        P5._super.init.call(this);
        this._controller.init(this);
        this.buttons.btnOr.setCallback(this._retryPressed, this);
        this.buttons.btnGr.setCallback(this._continuePressed, this);
    };
    P5.prototype.enter = function() {
        var t = 'firsttime_level2complete',
            k = 'firsttime_level2complete_event',
            j = 'firsttime_level1complete',
            o = 'firsttime_level1complete_event';
        P5._super.enter.call(this);
        this._gameInfoPublisher.publish(d6t.c8);
        this.onLeave.removeAll();
        this._hideButtons();
        this._controller.activate();
        this._showStarAnimation();
        if (!this._storageManager.get(o) && this._controller.levelId == d6t.A6 && this._worldProgress.progress == this._controller.levelId + d6t.A6) {
            this._storageManager.set(o, d6t.s73);
            this._platform.analytics(j);
        }
        if (!this._storageManager.get(k) && this._controller.levelId == d6t.D6 && this._worldProgress.progress == this._controller.levelId + d6t.A6) {
            this._storageManager.set(k, d6t.s73);
            this._platform.analytics(t);
        }
    };
    P5.prototype._showStarAnimation = function() {
        this._controller.enableStarVisuals(d6t.s73);
        this._controller.setStars();
        this._controller.onStarsComplete.addOnce(function() {
            if (this._worldProgress.progress > this._gameVarManager.constants.levelsWithoutAds) {
                this._scoreAdController.scoreAd(this._showButtons, this);
            } else {
                this._showButtons();
            }
        }, this);
    };
    P5.prototype._hideButtons = function() {
        for (var t in this.buttons) {
            var k = this.buttons[t];
            k.setVisible(d6t.F18);
        }
    };
    P5.prototype._showButtons = function() {
        for (var t in this.buttons) {
            var k = this.buttons[t];
            k.setVisible(d6t.s73);
        }
    };
    P5.prototype._retryPressed = function() {
        this.onLeave.addOnce(this._retryLevel, this);
        this._exit();
    };
    P5.prototype._continuePressed = function() {
        this.onLeave.addOnce(this._backToMap, this);
        this._exit();
    };
    P5.prototype._backToMap = function() {
        this._sceneManager.show(d6t.N03, d6t.F18, d6t.F18);
        if (this._controller.levelId === this._gameVarManager.constants.unlockMarathonAt && !this._storageManager.get(d6t.a3f)) {
            this._sceneManager.showPopup(d6t.z1x);
            this._storageManager.set(d6t.a3f, d6t.s73);
        }
    };
    P5.prototype._retryLevel = function() {
        var t = this._controller.levelId;
        this._sceneManager.show(d6t.q38, t);
        this._gameInfoPublisher.publish(d6t.M23);
    };
    P5.prototype._exit = function() {
        this._controller.deActivate();
        this.closePopup();
    };
    return P5;
});
define('scenes/popups/MarathonLockedPp', ['bottom_line', 'gt/scenes/Popup'], function(m, k5) {
    function C5(game, sceneManager, platform, soundManager, spineUtil, gameVarManager) {
        C5._super.constructor.call(this, C5.staticSceneName, game, sceneManager, platform, soundManager, spineUtil, gameVarManager);
    }
    m.inherit(C5, k5);
    C5.staticSceneName = d6t.z2x;
    C5.prototype.init = function() {
        C5._super.init.call(this);
        this.buttons.btnGr.setCallback(this.closePopup, this);
    };
    return C5;
});
define('scenes/popups/MarathonModePp', ['bottom_line', 'gt/utils/StringUtil', 'gt/scenes/Popup'], function(p5, w5, R5) {
    function r5(game, sceneManager, platform, soundManager, spineUtil, gameVarManager, gameManager, gameInfoPublisher, scoreManager, gameStateManager, neededLineClearsToWin, lineClearCounter, marathonProgress, scoreAdController) {
        r5._super.constructor.call(this, r5.staticSceneName, game, sceneManager, platform, soundManager, spineUtil, gameVarManager);
        this._sceneManager = sceneManager;
        this._gameManager = gameManager;
        this._gameInfoPublisher = gameInfoPublisher;
        this._scoreManager = scoreManager;
        this._gameStateManager = gameStateManager;
        this._neededLineClearsToWin = neededLineClearsToWin;
        this._lineClearCounter = lineClearCounter;
        this._marathonProgress = marathonProgress;
        this._platform = platform;
        this._scoreAdController = scoreAdController;
        this._levelData = d6t.B3x;
        this._unformattedStarNumberText = d6t.B3x;
        this._gameInfoPublisher.subscribe(d6t.j6B, this._onGameOver, this);
    }
    p5.inherit(r5, R5);
    r5.staticSceneName = d6t.B6f;
    r5.TOTAL_STAR_NUMBER = d6t.B6;
    r5.prototype.init = function() {
        r5._super.init.call(this);
        this.buttons.btnOr.setCallback(this._exit, this);
        this.buttons.btnGr.setCallback(this._retryPressed, this);
        this._unformattedStarNumberText = this.labels.starNumber.text;
    };
    r5.prototype.enter = function(t) {
        r5._super.enter.call(this);
        this._gameInfoPublisher.publish(d6t.c8);
        this.groups.completed.visible = t;
        this.groups.gameOver.visible = !t;
        this._hideButtons();
        this._setLevelReachedText();
        this._setStarNumberText();
        this._setHighScoreText();
        this._setAchievedScoreText(this._showAd, this);
        this._platform.saveUserData(function() {}, this);
    };
    r5.prototype._showAd = function() {
        this._scoreAdController.scoreAd(this._showButtons, this);
    };
    r5.prototype._hideButtons = function() {
        for (var t in this.buttons) {
            var k = this.buttons[t];
            k.setVisible(d6t.F18);
        }
    };
    r5.prototype._showButtons = function() {
        for (var t in this.buttons) {
            var k = this.buttons[t];
            k.setVisible(d6t.s73);
        }
    };
    r5.prototype._retryPressed = function() {
        this.onLeave.addOnce(this._restartGame, this);
        this._gameInfoPublisher.publish(d6t.z6f);
        this._gameInfoPublisher.publish(d6t.L58, d6t.F18);
        this.closePopup();
    };
    r5.prototype._exit = function() {
        this.onLeave.addOnce(this._backToMap, this);
        this.closePopup();
    };
    r5.prototype._restartGame = function() {
        this._gameManager.gameRestartCalled = d6t.F18;
        this._gameManager.restartGame(d6t.s73);
    };
    r5.prototype._backToMap = function() {
        this._sceneManager.show(d6t.N03, d6t.F18, d6t.s73);
    };
    r5.prototype._setHighScoreText = function() {
        var t = this._scoreManager.isNewHighScore();
        this.labels.highScore.visible = !t;
        this.labels.highScoreNew.visible = t;
        var k = this._scoreManager.getHighScoreForLevel(this._levelData.levelId);
        this.labels.highscoreValue.text = k;
    };
    r5.prototype._setAchievedScoreText = function(t, k) {
        var j = this._scoreManager.getScore();
        this.labels.scoreValue.text = d6t.W6;
        this.labels.scoreValue.countTo(j, this._gameVarManager.constants.score_count_timer, t, k);
    };
    r5.prototype._setLevelReachedText = function() {
        var t = this._marathonProgress.getAchievedLevel(),
            k = this._gameVarManager.constants.marathonMaxLevel;
        if (t > k) {
            t = k;
        }
        this.labels.speedlvlValue.text = t;
    };
    r5.prototype._setStarNumberText = function() {
        var t = this._gameVarManager.constants.total_star_number,
            k = this._scoreManager.getStarsForCurrentLevel(this._levelData),
            j = w5.format(this._unformattedStarNumberText, k, t);
        this.labels.starNumber.text = j;
    };
    r5.prototype._onGameOver = function(t, k) {
        this._levelData = k;
    };
    return r5;
});
define('scenes/popups/MarathonUnlockedPp', ['bottom_line', 'gt/scenes/Popup'], function(C5, H5) {
    function j5(game, sceneManager, platform, soundManager, spineUtil, gameVarManager, gameInfoPublisher, worldProgress) {
        j5._super.constructor.call(this, j5.staticSceneName, game, sceneManager, platform, soundManager, spineUtil, gameVarManager);
        this._gameInfoPublisher = gameInfoPublisher;
        this._worldProgress = worldProgress;
    }
    C5.inherit(j5, H5);
    j5.staticSceneName = d6t.z1x;
    j5.prototype.init = function() {
        j5._super.init.call(this);
        this.buttons.btnOr.setCallback(this._startPressed, this);
        this.buttons.btnGr.setCallback(this._continuePressed, this);
    };
    j5.prototype._continuePressed = function() {
        var t = this._worldProgress.progress;
        this._sceneManager.showPopup(d6t.T3f, t);
        this._exit();
    };
    j5.prototype._startPressed = function() {
        this.onLeave.addOnce(this._startMarathon, this);
        this._exit();
    };
    j5.prototype._startMarathon = function() {
        this._gameInfoPublisher.publish(d6t.M23);
        this._sceneManager.show(d6t.q38, d6t.W6);
    };
    j5.prototype._exit = function() {
        this.closePopup();
    };
    return j5;
});
define('scenes/popups/MoreStarsPp', ['bottom_line', 'gt/scenes/Popup', 'gt/utils/StringUtil'], function(j5, Y5, z5) {
    function P5(game, sceneManager, platform, soundManager, spineUtil, gameVarManager, gameInfoPublisher, unlockProgress, storageManager, localizationManager) {
        P5._super.constructor.call(this, P5.staticSceneName, game, sceneManager, platform, soundManager, spineUtil, gameVarManager);
        this._gameInfoPublisher = gameInfoPublisher;
        this._unlockProgress = unlockProgress;
        this._storageManager = storageManager;
        this._localizationManager = localizationManager;
        this._unformattedCityText = d6t.B3x;
        this._unformattedStarText = d6t.B3x;
    }
    j5.inherit(P5, Y5);
    P5.staticSceneName = d6t.Q0;
    P5.prototype.init = function() {
        P5._super.init.call(this);
        this._unformattedCityText = this.labels.city.text;
        this._unformattedStarText = this.labels.starsValue.text;
        this._setButtonCallbacks();
    };
    P5.prototype.enter = function(t) {
        this._setStarNumberText();
        this._setCityUnlockInfoText(t);
        this._toggleMarathonButtons();
        P5._super.enter.call(this);
    };
    P5.prototype._getLocalizedCity = function(j) {
        var o = d6t.B3x;
        this._gameVarManager.cities.forEach(function(t) {
            var k = t.name;
            if (j.indexOf(k) >= d6t.W6) {
                o = t.locKey;
            }
        }, this);
        return this._localizationManager.get(o);
    };
    P5.prototype._setButtonCallbacks = function() {
        this.buttons.btnOr.setCallback(this._exit, this);
        this.buttons.btnGr.setCallback(this._playMarathonPressed, this);
        this.buttons.btnClose.setCallback(this._exit, this);
    };
    P5.prototype._toggleMarathonButtons = function() {
        var t = this._storageManager.get(d6t.a3f);
        this.buttons.btnGr.setVisible(t);
        this.buttons.btnLocked.setVisible(!t);
    };
    P5.prototype._setStarNumberText = function() {
        var t = this._storageManager.get(this._gameVarManager.constants.totalStars);
        this.labels.starsValue.text = z5.format(this._unformattedStarText, t);
    };
    P5.prototype._setCityUnlockInfoText = function(t) {
        var k = this._unlockProgress.starsToCollect(t),
            j = this._getLocalizedCity(t);
        this.labels.city.text = z5.format(this._unformattedCityText, k, j);
    };
    P5.prototype._watchVideoPressed = function() {
        var t = 'Watching video for stars not implemented yet!';
        console.log(t);
        this._exit();
    };
    P5.prototype._playMarathonPressed = function() {
        this.onLeave.addOnce(this._startMarathon, this);
        this._exit();
    };
    P5.prototype._startMarathon = function() {
        this._gameInfoPublisher.publish(d6t.M23);
        this._sceneManager.show(d6t.q38, d6t.W6);
    };
    P5.prototype._exit = function() {
        this._gameInfoPublisher.publish(d6t.L5H);
        this.closePopup();
    };
    return P5;
});
define('scenes/popups/EndGamePp', ['bottom_line', 'gt/scenes/Popup', 'gt/utils/StringUtil'], function(j5, Y5, z5) {
    function P5(game, sceneManager, platform, soundManager, spineUtil, gameVarManager, scoreManager, worldProgress, gameInfoPublisher, mapController) {
        P5._super.constructor.call(this, P5.staticSceneName, game, sceneManager, platform, soundManager, spineUtil, gameVarManager);
        this._sceneManager = sceneManager;
        this._scoreManager = scoreManager;
        this._worldProgress = worldProgress;
        this._gameInfoPublisher = gameInfoPublisher;
        this._mapController = mapController;
        this._unformattedStarsText = d6t.B3x;
        this._unformattedScoreText = d6t.B3x;
    }
    j5.inherit(P5, Y5);
    P5.staticSceneName = d6t.V6f;
    P5.prototype.init = function() {
        P5._super.init.call(this);
        this._setButtonCallbacks();
        this._initializeUnformattedText();
    };
    P5.prototype.enter = function() {
        P5._super.enter.call(this);
        this._gameInfoPublisher.publish(d6t.b3H);
        this._mapController.disableInputEvents();
        this._showGainedStars();
        this._showGainedScore();
    };
    P5.prototype.leave = function() {
        this._mapController.enableInputEvents();
    };
    P5.prototype._setButtonCallbacks = function() {
        this.buttons.btnGr.setCallback(this._startMarathonModePressed, this);
        this.buttons.btnClose.setCallback(this._backPressed, this);
    };
    P5.prototype._initializeUnformattedText = function() {
        this._unformattedStarsText = this.labels.stars.text;
        this._unformattedScoreText = this.labels.score.text;
    };
    P5.prototype._startMarathonModePressed = function() {
        this.onLeave.addOnce(this._startMarathonMode, this);
        this.closePopup();
    };
    P5.prototype._backPressed = function() {
        this.closePopup();
    };
    P5.prototype._startMarathonMode = function() {
        this._gameInfoPublisher.publish(d6t.M23);
        this._sceneManager.show(d6t.q38, this._gameVarManager.constants.marathonID);
    };
    P5.prototype._showGainedStars = function() {
        var t = this._worldProgress.progress,
            k = t * d6t.B6,
            j = this._scoreManager.getTotalStars(),
            o = z5.format(this._unformattedStarsText, j, k);
        this.labels.stars.text = o;
    };
    P5.prototype._showGainedScore = function() {
        var t = this._scoreManager.totalScore,
            k = z5.format(this._unformattedScoreText, t);
        this.labels.score.text = k;
    };
    return P5;
});
define('scenes/Splash', ['bottom_line', 'gt/scenes/Scene'], function(Y5, z5) {
    var P5 = 'Splash';

    function p5(game, sceneManager, platform, worldProgress, gameVarManager, spineUtil, gameInfoPublisher, storageManager, fullscreenUtil, gameConfig, injector) {
        p5._super.constructor.call(this, p5.staticSceneName, game, sceneManager, platform);
        this._game = game;
        this._worldProgress = worldProgress;
        this._gameVarManager = gameVarManager;
        this._spineUtil = spineUtil;
        this._gameInfoPublisher = gameInfoPublisher;
        this._storageManager = storageManager;
        this._fullscreenUtil = fullscreenUtil;
        this._injector = injector;
        this._gameConfig = gameConfig;
        this._animation = d6t.B3x;
        this._animationLayer = d6t.B3x;
        this._adCallbackCall = d6t.F18;
        this._storageManager.set(d6t.a3f, d6t.s73);
    }
    Y5.inherit(p5, z5);
    p5.staticSceneName = P5;
    p5.BUTTON_TWEEN_TIME = d6t.I6;
    p5.prototype.init = function() {
        p5._super.init.call(this);
        this._gameInfoPublisher.subscribe(d6t.G2x, this._showButtons, this);
        this.buttons.btnCampaign.setCallback(this._showWorldMap, this);
        this.buttons.btnMarathon.setCallback(this._startMarathon, this);
        this.buttons.btnMarathonLocked.setCallback(this._showMarathonLocked, this);
        this._fullscreenUtil.setup(this.buttons.fullscreenOn, this.buttons.fullscreenOff, this);
        this._setupAnimation();
    };
    p5.prototype.enter = function() {
        var t = 'SplashScreen',
            k = 'firsttime_initialize';
        p5._super.enter.call(this);
        this._sendAnalytics(k);
        this._showMarathonButton();
        this._animation.resetTime();
        this._animation.startAnimation(t, d6t.F18, d6t.s73);
        if (!this._storageManager.get(this._gameConfig.updateNumber + d6t.z2f) && this._worldProgress.progress > d6t.A6) {
            this._sceneManager.showPopup(d6t.S93);
            this._hideButtons();
        } else {
            this._animateButtons();
        }
    };
    p5.prototype._logMappings = function() {
        var t = "',",
            k = ";",
            j = d6t.I6x,
            o = d6t.V6x;
        for (var e in this._injector.mappings) {
            o += e;
            o += k;
            j += d6t.V6x;
            j += e;
            j += t;
        }
        o += d6t.V6x;
        console.log(o);
        console.log(j);
    };
    p5.prototype.leave = function() {
        p5._super.leave.call(this);
        this._animation.stopAnimation();
    };
    p5.prototype._animateButtons = function() {
        var t = (28 < (0x1BD, 0xCC) ? (139, 0.7) : (33, 30.)),
            k = 'fullscreenOn';
        for (var j in this.buttons) {
            if (j != k) {
                var o = this.buttons[j];
                o.scale.setTo(t, t);
                var e = this._game.add.tween(o.scale);
                e.to({
                    x: d6t.A6,
                    y: d6t.A6
                }, p5.BUTTON_TWEEN_TIME, Phaser.Easing.Elastic.Out, d6t.s73);
            }
        }
    };
    p5.prototype._showWorldMap = function() {
        var t = 'firsttime_storymodestart';
        this._sendAnalytics(t);
        this._sceneManager.show(d6t.N03, d6t.F18, d6t.s73);
    };
    p5.prototype._startMarathon = function() {
        var t = 'firsttime_marathonstart';
        if (this._buttonPressed) {
            return;
        }
        this._buttonPressed = d6t.s73;
        this._adCallbackCall = d6t.F18;
        this._sendAnalytics(t);
        this._platform.showAd(function() {
            if (this._adCallbackCall) {
                this._adCallbackCall = d6t.F18;
                return;
            }
            this._game.gameResumed();
            this._gameInfoPublisher.publish(d6t.M23);
            this._sceneManager.show(d6t.q38, d6t.W6);
            this._buttonPressed = d6t.F18;
            this._adCallbackCall = d6t.s73;
        }, this);
    };
    p5.prototype._showMarathonLocked = function() {
        this._sceneManager.showPopup(d6t.z2x);
    };
    p5.prototype._showMarathonButton = function() {
        var t = this._storageManager.get(d6t.a3f);
        this.buttons.btnMarathonLocked.setVisible(!t);
        this.buttons.btnMarathon.setVisible(t);
    };
    p5.prototype._setupAnimation = function() {
        var t = 'splashScreenAnimation',
            k = this.placeHolders.splashanimation;
        this._animation = this._spineUtil.createAnimation(t, k);
        this._setupAnimationLayer();
    };
    p5.prototype._setupAnimationLayer = function() {
        var t = 'splashAnimationLayer';
        this._animationLayer = this._game.make.group(t);
        this._animationLayer.add(this.images.bgSplash);
        this._animationLayer.add(this.placeHolders.splashanimation);
        this.view.addAt(this._animationLayer, d6t.W6);
    };
    p5.prototype._hideButtons = function() {
        for (var t in this.buttons) {
            this.buttons[t].visible = d6t.F18;
        }
    };
    p5.prototype._showButtons = function() {
        for (var t in this.buttons) {
            this.buttons[t].visible = d6t.s73;
        }
        this._showMarathonButton();
        this._animateButtons();
    };
    p5.prototype._sendAnalytics = function(t) {
        if (!this._storageManager.get(t + d6t.H63) && this._worldProgress.progress <= d6t.A6) {
            this._storageManager.set(t + d6t.H63, d6t.s73);
            this._platform.analytics(t);
        }
    };
    return p5;
});
define('scenes/components/GamePanelComponent', ['bottom_line', 'phaser', 'gt/scenes/Scene'], function(e, q, m) {
    var k5 = 'GamePanelComponentCp';

    function C5(t, game, sceneManager, platform) {
        C5._super.constructor.call(this, t || C5.staticSceneName, game, sceneManager, platform);
        this._panel = d6t.B3x;
    }
    e.inherit(C5, m);
    C5.staticSceneName = k5;
    C5.prototype.init = function() {
        C5._super.init.call(this);
    };
    C5.prototype.enter = function() {
        C5._super.enter.call(this);
    };
    C5.prototype.leave = function() {
        C5._super.leave.call(this);
    };
    C5.prototype.setPanel = function(t) {
        this._panel = t;
        this._panel.init(this);
    };
    return C5;
});
define('scenes/components/GameDesktopPanel', ['bottom_line', 'phaser', 'scenes/components/GamePanelComponent'], function(e, q, m) {
    function k5(game, sceneManager, platform, gameInfoPublisher) {
        k5._super.constructor.call(this, k5.staticSceneName, game, sceneManager, platform, gameInfoPublisher);
    }
    e.inherit(k5, m);
    k5.staticSceneName = d6t.W0;
    k5.prototype.init = function() {
        k5._super.init.call(this);
    };
    k5.prototype.enter = function() {
        k5._super.enter.call(this);
    };
    k5.prototype.leave = function() {
        k5._super.leave.call(this);
    };
    return k5;
});
define('scenes/components/GameMobilePanel', ['bottom_line', 'phaser', 'scenes/components/GamePanelComponent'], function(e, q, m) {
    function k5(game, sceneManager, platform, gameInfoPublisher) {
        k5._super.constructor.call(this, k5.staticSceneName, game, sceneManager, platform, gameInfoPublisher);
    }
    e.inherit(k5, m);
    k5.staticSceneName = d6t.U78;
    k5.prototype.init = function() {
        k5._super.init.call(this);
    };
    k5.prototype.enter = function() {
        k5._super.enter.call(this);
    };
    k5.prototype.leave = function() {
        k5._super.leave.call(this);
    };
    return k5;
});
define('enums/TutorialType', [], function() {
    var t = 'stars',
        k = 'scorecells',
        j = 'placement2';

    function o() {}
    o.GRAVITY_SWITCH = d6t.e98;
    o.HOLD = d6t.x8H;
    o.HOURGLASS = d6t.d7H;
    o.PLACEMENT_1 = d6t.K2f;
    o.PLACEMENT_2 = j;
    o.SCORECELLS = k;
    o.TIME = d6t.D5f;
    o.STARS = t;
    o.JUNK = d6t.P28;
    o.JUNKSPAWN = d6t.S13;
    return o;
});
define('scenes/components/TutorialComponent', ['bottom_line', 'gt/scenes/Scene', 'enums/TutorialType', 'data/ControlScheme', 'gt/utils/device'], function(Y5, z5, P5, p5) {
    var w5 = 'TutorialComponent';

    function R5(t, game, sceneManager, platform, gameInfoPublisher, controlScheme, worldProgress, storageManager) {
        var C5 = 'tutorialText',
            H5 = 'arrow',
            j5 = 'btnGlow';
        R5._super.constructor.call(this, t || R5.staticSceneName, game, sceneManager, platform);
        this._gameInfoPublisher = gameInfoPublisher;
        this._controlScheme = controlScheme;
        this._storageManager = storageManager;
        this._worldProgress = worldProgress;
        this.DEFAULT_IMAGE_PREFIX_ARRAY = [j5, H5, d6t.l2f];
        this.DEFAULT_TEXT_PREFIX = C5;
        this._elementsToShow = [];
        this._tutorialData = {
            tutorialInputActive: d6t.s73,
            tutorialOn: d6t.F18,
            canDropTetrimino: d6t.F18
        };
        this._cleanUpListener = d6t.F18;
        this._id = d6t.B3x;
        this._arrowInitialPosX = d6t.B3x;
    }
    Y5.inherit(R5, z5);
    R5.staticSceneName = w5;
    R5.prototype.init = function() {
        R5._super.init.call(this);
        this._hideAll();
        this.buttons.continue.visible = d6t.F18;
        this._gameInfoPublisher.subscribe(d6t.P4f, this.enter, this);
    };
    R5.prototype.enter = function(t) {
        R5._super.enter.call(this);
        this._tutorialData.tutorialInputActive = d6t.F18;
        this._tutorialData.tutorialOn = d6t.s73;
        this._gameInfoPublisher.publish(d6t.H1f, t, this._tutorialData);
        if (this._id != t) {
            this._arrowInitialPosX = d6t.B3x;
        }
        this._id = t;
        this._hideAll();
        this._rebuild();
        this._addEvents();
        this._cleanUpListener = d6t.s73;
    };
    R5.prototype.leave = function() {
        R5._super.leave.call(this);
        this._cleanUp();
        this._tutorialData.tutorialInputActive = d6t.s73;
        this._tutorialData.tutorialOn = d6t.F18;
        this._tutorialData.canDropTetrimino = d6t.s73;
        this._gameInfoPublisher.publish(d6t.Z9f, this._id, this._tutorialData);
    };
    R5.prototype._addElementsForTutorial = function(j, o) {
        var e = '_swipe',
            q = '_keyboard',
            m = 'Hold',
            k5 = 'Placement1',
            C5 = this._capitalizeFirstLetter(j);
        this.DEFAULT_IMAGE_PREFIX_ARRAY.forEach(function(t) {
            var k = t + C5;
            if (this._controlScheme.CURRENT_SCHEME_KEY === p5.DESKTOP) {
                if (C5 === k5 || C5 === m) {
                    k += q;
                }
            }
            if (this.images[k]) {
                o.push(this.images[k]);
            }
        }, this);
        if (C5 === k5) {
            if (this._controlScheme.CURRENT_SCHEME_KEY === p5.SWIPE) {
                C5 += e;
            } else if (this._controlScheme.CURRENT_SCHEME_KEY === p5.DESKTOP) {
                C5 += q;
            }
        } else if (C5 === m && this._controlScheme.CURRENT_SCHEME_KEY === p5.DESKTOP) {
            C5 += q;
        }
        var H5 = this.DEFAULT_TEXT_PREFIX + C5;
        if (this.labels[H5]) {
            o.push(this.labels[H5]);
        }
    };
    R5.prototype._capitalizeFirstLetter = function(t) {
        var k = t.charAt(d6t.W6).toUpperCase(),
            j = t.slice(d6t.A6);
        return k + j;
    };
    R5.prototype._showElements = function() {
        this._rebuild();
        this._elementsToShow.forEach(function(t) {
            t.visible = d6t.s73;
        }, this);
    };
    R5.prototype._hideElements = function() {
        this._elementsToShow.forEach(function(t) {
            t.visible = d6t.F18;
        }, this);
    };
    R5.prototype._hideAll = function() {
        var t;
        for (t in this.images) {
            this.images[t].visible = d6t.F18;
        }
        for (t in this.labels) {
            this.labels[t].visible = d6t.F18;
        }
    };
    R5.prototype._rebuild = function() {
        if (this._id == P5.HOLD) {
            this._animateGlow();
            this._animateArrow();
        }
        this._elementsToShow = [];
        this._addElementsForTutorial(this._id, this._elementsToShow);
        this._elementsToShow.forEach(function(t) {
            t.visible = d6t.s73;
        }, this);
    };
    R5.prototype._animateGlow = function() {
        var t = "btnGlow",
            k = d6t.B3x,
            j = d6t.W6,
            o = this._capitalizeFirstLetter(this._id),
            e = t + o;
        if (this.images[e]) {
            k = this.images[e];
        }
        k.alpha = d6t.A6;
        var q = this._game.add.tween(k).to({
            alpha: j
        }, d6t.h7f, Phaser.Easing.Linear.None, d6t.s73, d6t.W6, d6t.I6, d6t.s73);
        q.onComplete.add(function() {
            j = j ? d6t.W6 : d6t.A6;
        });
    };
    R5.prototype._animateArrow = function() {
        var t = "arrow",
            k = d6t.j9x,
            j = d6t.B3x,
            o = this._capitalizeFirstLetter(this._id),
            e = t + o;
        if (this.images[e]) {
            j = this.images[e];
        }
        if (this._arrowInitialPosX === d6t.B3x) {
            this._arrowInitialPosX = j.x;
        } else {
            j.x = this._arrowInitialPosX;
        }
        var q = this._game.add.tween(j).to({
            x: this._arrowInitialPosX + k
        }, d6t.h7f, Phaser.Easing.Linear.None, d6t.s73, d6t.W6, Infinity, d6t.s73);
    };
    R5.prototype._cleanUp = function() {
        this._hideElements();
        this._elementsToShow = [];
        if (this._cleanUpListener) {
            this._removeEvents();
            this._cleanUpListener = d6t.F18;
        }
    };
    R5.prototype._addEvents = function() {
        this._gameInfoPublisher.subscribe(d6t.J8x, this.leave, this);
        this._gameInfoPublisher.subscribe(d6t.C3, this._hideElements, this);
        this._gameInfoPublisher.subscribe(d6t.z6f, this._cleanUp, this);
        this._gameInfoPublisher.subscribe(d6t.v53, this._showElements, this);
        if (this._id === P5.HOLD) {
            this._gameInfoPublisher.subscribe(d6t.o28, this.leave, this);
        }
    };
    R5.prototype._removeEvents = function() {
        this._gameInfoPublisher.unsubscribe(d6t.J8x, this.leave, this);
        this._gameInfoPublisher.unsubscribe(d6t.C3, this._hideElements, this);
        this._gameInfoPublisher.unsubscribe(d6t.v53, this._showElements, this);
        if (this._id === P5.HOLD) {
            this._gameInfoPublisher.unsubscribe(d6t.o28, this.leave, this);
        }
    };
    return R5;
});
define('scenes/components/TutorialDesktopCp', ['bottom_line', 'scenes/components/TutorialComponent'], function(C5, H5) {
    function j5(t, game, sceneManager, platform, gameInfoPublisher, controlScheme, worldProgress, storageManager) {
        j5._super.constructor.call(this, t || j5.staticSceneName, game, sceneManager, platform, gameInfoPublisher, controlScheme, worldProgress, storageManager);
    }
    C5.inherit(j5, H5);
    j5.staticSceneName = d6t.y9H;
    j5.prototype.init = function() {
        j5._super.init.call(this);
    };
    j5.prototype.enter = function(t) {
        j5._super.enter.call(this, t);
    };
    j5.prototype.leave = function() {
        j5._super.leave.call(this);
    };
    return j5;
});
define('scenes/components/TutorialMobileCp', ['bottom_line', 'scenes/components/TutorialComponent'], function(C5, H5) {
    function j5(t, game, sceneManager, platform, gameInfoPublisher, controlScheme, worldProgress, storageManager) {
        j5._super.constructor.call(this, t || j5.staticSceneName, game, sceneManager, platform, gameInfoPublisher, controlScheme, worldProgress, storageManager);
    }
    C5.inherit(j5, H5);
    j5.staticSceneName = d6t.I4B;
    j5.prototype.init = function() {
        j5._super.init.call(this);
    };
    j5.prototype.enter = function(t) {
        j5._super.enter.call(this, t);
    };
    j5.prototype.leave = function() {
        j5._super.leave.call(this);
    };
    return j5;
});
define('scenes/popups/HelpPp', ['bottom_line', 'gt/scenes/Popup', 'gt/utils/StringUtil', 'data/ControlScheme', 'gt/utils/device'], function(z5, P5, p5, w5, R5) {
    var r5 = 'Desktop',
        T5 = 'Mobile',
        a5 = 'tutorialSmartAnimation';

    function x5(game, sceneManager, platform, soundManager, spineUtil, gameVarManager, gameInfoPublisher, matrixAnimator, controlScheme, gameConfig, storageManager, worldProgress) {
        x5._super.constructor.call(this, x5.staticSceneName, game, sceneManager, platform, soundManager, spineUtil, gameVarManager);
        this._sceneManager = sceneManager;
        this._gameInfoPublisher = gameInfoPublisher;
        this._matrixAnimator = matrixAnimator;
        this._controlScheme = controlScheme;
        this._gameConfig = gameConfig;
        this._storageManager = storageManager;
        this._worldProgress = worldProgress;
        this._pageNumber = d6t.A6;
        this._unformattedPageNumberText = d6t.B3x;
        this._activeAnimation = d6t.B3x;
        this._animations = {};
    }
    x5.TOTAL_NUM_OF_PAGES = d6t.x7x;
    z5.inherit(x5, P5);
    x5.staticSceneName = d6t.q5f;
    x5.prototype.init = function() {
        x5._super.init.call(this);
        this._unformattedPageNumberText = this.labels.pageNumber.text;
        this._setButtonCallbacks();
        this._createHelpAnimations();
    };
    x5.prototype.enter = function() {
        var t = 'firstTime_howToPlay_open',
            k = 'firstTime_howToPlay_open_event';
        if (!this._storageManager.get(k)) {
            this._platform.analytics(t);
            this._storageManager.set(k, d6t.s73);
        }
        this._gameInfoPublisher.publish(d6t.C3);
        x5._super.enter.call(this);
        this._soundManager.stop(this._gameVarManager.audioConstants.ingame_bgm);
        this._soundManager.music(this._gameVarManager.audioConstants.pause_bgm, d6t.B3x, d6t.s73);
        this._pageNumber = d6t.A6;
        this._updatePageNumber();
        this._toggleArrowButtons();
    };
    x5.prototype.leave = function() {
        this._soundManager.stop(this._gameVarManager.audioConstants.pause_bgm);
        x5._super.leave.call(this);
    };
    x5.prototype._setButtonCallbacks = function() {
        this.buttons.btnRight.setCallback(this._panRight, this);
        this.buttons.btnLeft.setCallback(this._panLeft, this);
        this.buttons.btnClose.setCallback(this._exitPressed, this);
    };
    x5.prototype._exitPressed = function() {
        this._gameInfoPublisher.publish(d6t.T18);
        this.onLeave.addOnce(function() {
            this._gameInfoPublisher.publish(d6t.h7x);
        }, this);
        this.closePopup();
    };
    x5.prototype._panLeft = function() {
        this._pageNumber--;
        if (this._pageNumber <= d6t.W6) {
            this._pageNumber = x5.TOTAL_NUM_OF_PAGES;
        }
        this._updatePageNumber();
    };
    x5.prototype._panRight = function() {
        this._pageNumber++;
        if (this._pageNumber > x5.TOTAL_NUM_OF_PAGES) {
            this._pageNumber = x5.TOTAL_NUM_OF_PAGES;
            this._exitPressed();
        }
        this._updatePageNumber();
    };
    x5.prototype._updatePageNumber = function() {
        var t = p5.format(this._unformattedPageNumberText, this._pageNumber, x5.TOTAL_NUM_OF_PAGES);
        this.labels.pageNumber.text = t;
        this._showPageContent();
        this._toggleArrowButtons();
    };
    x5.prototype._showCorrectControlAnimation = function() {
        var controlScheme = this._controlScheme[w5.CURRENT_SCHEME_KEY];
        switch (controlScheme) {
            case w5.DESKTOP:
            case w5.SMART:
                if (R5.desktop) {
                    this.groups.desktop.visible = d6t.s73;
                } else {
                    this.groups.smartMobile.visible = d6t.s73;
                    this._playAnimation(a5, d6t.g9f);
                }
                break;
            case w5.SWIPE:
                this.groups.swipe.visible = d6t.s73;
                break;
        }
    };
    x5.prototype._showCorrectLinesImage = function() {
        var t = 'lines',
            k = d6t.B3x,
            j = T5;
        if (R5.desktop) {
            j = r5;
        }
        k = t + j + this._capitalizeFirstLetter(this._gameConfig.lang);
        this.groups[k].visible = d6t.s73;
    };
    x5.prototype._showCorrectHoldTutorialImage = function() {
        var t = R5.desktop ? r5 : T5;
        if (R5.desktop) {
            var k = this._controlScheme[w5.CURRENT_SCHEME_KEY] === w5.SMART;
            this.groups.holdMouse.visible = k;
            this.groups.holdKeyboard.visible = !k;
        }
        var j = d6t.x8H + t;
        this.groups[j].visible = d6t.s73;
    };
    x5.prototype._showCorrectTwistImage = function(t) {
        var k = R5.desktop ? r5 : T5,
            j = t + k;
        this.groups[j].visible = d6t.s73;
    };
    x5.prototype._showPageContent = function() {
        this._hideGroups();
        if (this._activeAnimation != d6t.B3x) {
            this._hideActiveAnimation();
        }
        switch (this._pageNumber) {
            case d6t.A6:
                this._showCorrectControlAnimation();
                break;
            case d6t.D6:
                this._showCorrectLinesImage();
                break;
            case d6t.B6:
                this.groups.page3.visible = d6t.s73;
                break;
            case d6t.M6:
                this._showCorrectHoldTutorialImage();
                break;
            case d6t.U6:
                this.groups.page5.visible = d6t.s73;
                break;
            case d6t.J6:
                this.groups.page6.visible = d6t.s73;
                break;
            case d6t.v6:
                this._showCorrectTwistImage(d6t.S13);
                break;
            case d6t.d6:
                this._showCorrectTwistImage(d6t.d7H);
                break;
            case d6t.S6:
                this._showCorrectTwistImage(d6t.e98);
                break;
            case d6t.x7x:
                this._showCorrectTwistImage(d6t.D5f);
                break;
        }
        var t = d6t.s73;
        if (this._gameConfig.lang === d6t.u73) {
            t = d6t.F18;
        }
        this.groups.jp.visible = !t;
        this.groups.en.visible = t;
    };
    x5.prototype._hideGroups = function() {
        for (var t in this.groups) {
            if (this.groups[t] != this.groups.container) {
                this.groups[t].visible = d6t.F18;
            }
        }
    };
    x5.prototype._createHelpAnimations = function() {
        var t = this.placeHolders.smartAnimation;
        this._animations[a5] = this._spineUtil.createAnimation(a5, t);
    };
    x5.prototype._playAnimation = function(t, k) {
        this._animations[t].startAnimation(k, d6t.F18, d6t.s73);
        this._animations[t].visible = d6t.s73;
        this._activeAnimation = this._animations[t];
    };
    x5.prototype._hideActiveAnimation = function() {
        this._activeAnimation.visible = d6t.F18;
        this._activeAnimation = d6t.B3x;
    };
    x5.prototype._capitalizeFirstLetter = function(t) {
        var k = t.charAt(d6t.W6).toUpperCase(),
            j = t.slice(d6t.A6);
        return k + j;
    };
    x5.prototype._toggleArrowButtons = function() {
        var t = d6t.s73;
        if (this._pageNumber != d6t.A6) {
            t = d6t.F18;
        }
        this.buttons.btnLeft.visible = !t;
    };
    return x5;
});
define('scenes/popups/WhatsNewPp', ['bottom_line', 'gt/scenes/Popup'], function(H5, j5) {
    function Y5(game, sceneManager, platform, soundManager, spineUtil, gameVarManager, gameInfoPublisher, storageManager, gameConfig) {
        Y5._super.constructor.call(this, Y5.staticSceneName, game, sceneManager, platform, soundManager, spineUtil, gameVarManager);
        this._gameInfoPublisher = gameInfoPublisher;
        this._storageManager = storageManager;
        this._gameConfig = gameConfig;
    }
    H5.inherit(Y5, j5);
    Y5.staticSceneName = d6t.S93;
    Y5.prototype.init = function() {
        Y5._super.init.call(this);
        this._setButtonCallbacks();
    };
    Y5.prototype.enter = function() {
        Y5._super.enter.call(this);
    };
    Y5.prototype.leave = function() {
        this._storageManager.set(this._gameConfig.updateNumber + d6t.z2f, d6t.s73);
        this._gameInfoPublisher.publish(d6t.G2x);
        Y5._super.leave.call(this);
    };
    Y5.prototype._setButtonCallbacks = function() {
        this.buttons.btnGr.setCallback(this.closePopup, this);
        this.buttons.btnClose.setCallback(this.closePopup, this);
    };
    return Y5;
});
define('scenes/popups/RewardedAdsPp', ['bottom_line', 'gt/scenes/Popup'], function(w5, R5) {
    function r5(game, sceneManager, platform, soundManager, spineUtil, gameVarManager, gameInfoPublisher, storageManager, gameConfig, gameStateManager, tetriminoController, tetrisInput, adRewardFlow, smartControls, adTech) {
        r5._super.constructor.call(this, r5.staticSceneName, game, sceneManager, platform, soundManager, spineUtil, gameVarManager);
        this._gameInfoPublisher = gameInfoPublisher;
        this._storageManager = storageManager;
        this._gameConfig = gameConfig;
        this._gameStateManager = gameStateManager;
        this._platform = platform;
        this._tetriminoController = tetriminoController;
        this._tetrisInput = tetrisInput;
        this._adRewardFlow = adRewardFlow;
        this._smartControls = smartControls;
        this._adTech = adTech;
        this._levelID = d6t.B3x;
        this._watchedVideo = d6t.F18;
    }
    w5.inherit(r5, R5);
    r5.staticSceneName = d6t.B9;
    r5.prototype.init = function() {
        r5._super.init.call(this);
        this._setButtonCallbacks();
    };
    r5.prototype.enter = function(t, k, j) {
        this._callback = t;
        this._context = k;
        this._levelID = j;
        this._gameInfoPublisher.publish(d6t.c8);
        r5._super.enter.call(this);
    };
    r5.prototype.leave = function() {
        this._gameInfoPublisher.publish(d6t.v53);
        this._gameInfoPublisher.publish(d6t.T7);
        if (this._watchedVideo) {
            this._sendAnalyticsEvents();
            this._resumeGame();
            this._watchedVideo = d6t.F18;
            this._gameInfoPublisher.publish(d6t.V0H, d6t.F18);
        } else {
            this._gameInfoPublisher.publish(d6t.L4B, d6t.F18);
        }
        r5._super.leave.call(this);
    };
    r5.prototype._setButtonCallbacks = function() {
        this.buttons.yes.setCallback(this._showVideoAd, this);
        this.buttons.no.setCallback(this._endGame, this);
        this.buttons.btnClose.setCallback(this._endGame, this);
    };
    r5.prototype._showVideoAd = function() {


        this._adTech.playAdTechVideo(this.closePopup, this);
        this._watchedVideo = d6t.s73;
        window.webkit.messageHandlers.showGgAd.postMessage({data: "", handler: "showGgVideoAd"});
        // this._adTech.completeAdTechVideo(d6t.s73);
    };
    r5.prototype._resumeGame = function() {
        this._tetrisInput.setActive(d6t.F18);
        this._gameInfoPublisher.publish(d6t.L58, d6t.F18);
        this._adRewardFlow.startRewardedAdsFlow(this._callback, this._context);
    };
    r5.prototype._endGame = function() {
        this.closePopup();
    };
    r5.prototype._sendAnalyticsEvents = function() {
        var t = 'reset_level_',
            k = 'reset_marathon';
        if (this._levelID == this._gameVarManager.constants.marathonID) {
            this._platform.analytics(k);
        } else {
            this._platform.analytics(t + this._levelID);
        }
    };
    return r5;
});
define('scenes/popups/TutorialPp', ['bottom_line', 'phaser', 'gt/scenes/Popup', 'gt/utils/device'], function(j5, Y5, z5, P5) {
    function p5(game, sceneManager, platform, soundManager, spineUtil, gameConfig, gameManager, gameInfoPublisher, gameVarManager, storageManager) {
        p5._super.constructor.call(this, p5.staticSceneName, game, sceneManager, platform, soundManager, spineUtil);
        this._gameConfig = gameConfig;
        this._gameManager = gameManager;
        this._gameInfoPublisher = gameInfoPublisher;
        this._gameVarManager = gameVarManager;
        this._storageManager = storageManager;
        this._levelId = d6t.W6;
    }
    p5.GROUP_PREFIX = d6t.Z78;
    j5.inherit(p5, z5);
    p5.staticSceneName = d6t.t8f;
    p5.prototype.init = function() {
        p5._super.init.call(this);
    };
    p5.prototype.enter = function(t) {
        p5._super.enter.call(this);
        this._levelId = t;
        this._setButtonCallbacks();
        this._hideGroups();
        this._showCorrectTutorialPage();
    };
    p5.prototype.leave = function() {
        p5._super.leave.call(this);
    };
    p5.prototype._showCorrectTutorialPage = function() {
        var t = ((109, 5) > (76.10E1, 0x1C7) ? 0x15B : (110, 71.10E1) < (1.175E3, 1.379E3) ? (8.3E1, 71) : (43.5E1, 0x30)),
            k = 51,
            j = ((0xE8, 1.94E2) <= (0x160, 63) ? (0x1F5, 3.29E2) : 98.30E1 > (3.7E2, 1.95E2) ? (71., 31) : (134., 86)),
            o = P5.desktop ? d6t.G4f : d6t.m3x,
            e = p5.GROUP_PREFIX + this._levelId,
            q = d6t.B3x;
        switch (this._levelId) {
            case d6t.D6:
                q = e + d6t.n08 + o + d6t.n08 + this._gameConfig.lang;
                break;
            case d6t.B6:
            case d6t.U6:
            case d6t.f7x:
                q = e;
                break;
            case d6t.E7x:
            case j:
            case k:
            case t:
                q = e + d6t.n08 + o;
                break;
        }
        this.groups[q].visible = d6t.s73;
    };
    p5.prototype._hideGroups = function() {
        for (var t in this.groups) {
            if (this.groups[t] != this.groups.container) {
                this.groups[t].visible = d6t.F18;
            }
        }
    };
    p5.prototype._backToGame = function() {
        var t = 'firstTime_closeTut_level_';
        this._storageManager.set(d6t.V4B + this._levelId + d6t.E18, d6t.s73);
        this.onLeave.addOnce(function() {
            this._soundManager.stop(this._gameVarManager.audioConstants.pause_bgm);
            this._gameInfoPublisher.publish(d6t.h7x, d6t.B3x, d6t.B3x, d6t.s73);
        }, this);
        this._platform.analytics(t + this._levelId);
        this.closePopup();
    };
    p5.prototype._setButtonCallbacks = function() {
        this.buttons.btnClose.setCallback(this._backToGame, this);
        this.buttons.continue.setCallback(this._backToGame, this);
    };
    return p5;
});
define('scenes/SceneList', ['bottom_line', 'scenes/Game', 'scenes/Loader', 'scenes/popups/PausePp', 'scenes/components/GameDesktopCp', 'scenes/components/GameMobileCp', 'scenes/Map', 'scenes/components/LevelNodeCp', 'scenes/components/CityNodeCp', 'scenes/components/MapHudCp', 'scenes/popups/ControlsDesktopPp', 'scenes/popups/ControlsMobilePp', 'scenes/popups/LevelLostPp', 'scenes/popups/LevelStartPp', 'scenes/popups/LevelWinPp', 'scenes/popups/MarathonLockedPp', 'scenes/popups/MarathonModePp', 'scenes/popups/MarathonUnlockedPp', 'scenes/popups/MoreStarsPp', 'scenes/popups/EndGamePp', 'scenes/Splash', 'scenes/components/GameDesktopPanel', 'scenes/components/GameMobilePanel', 'scenes/components/TutorialDesktopCp', 'scenes/components/TutorialMobileCp', 'scenes/popups/HelpPp', 'scenes/popups/WhatsNewPp', 'scenes/popups/RewardedAdsPp', 'scenes/popups/TutorialPp'], function(e) {
    var q = {};
    q.getScene = function(t) {
        var k = ' was not found in SceneList.',
            j = 'Scene with name ',
            o = q[t];
        console.assert(o, j + t + k);
        return o;
    };
    q.addScene = function(t) {
        var k = 'Scene does not have a staticSceneName defined: ',
            j = t.staticSceneName._.decapitalize();
        console.assert(j, k + t);
        q[j] = t;
    };
    for (var m = d6t.A6; m < arguments.length; ++m) {
        q.addScene(arguments[m]);
    }
    return q;
});
define('gt/scenes/SceneFactory', ['scenes/SceneList'], function(e) {
    var q = function(injector) {
        this._injector = injector;
    };
    q.prototype.construct = function(t) {
        var k = [],
            j = e.getScene(t);
        k.push(j);
        if (arguments.length > d6t.A6) {
            for (var o = d6t.A6; o < arguments.length; ++o) {
                k.push(arguments[o]);
            }
        }
        return this._injector.createInstance.apply(this._injector, k);
    };
    return q;
});
define('gt/scenes/SceneLoader', ['bottom_line'], function(a5) {
    var x5 = function(viewCreator, viewportManager, sceneFactory) {
        this._viewCreator = viewCreator;
        this._viewportManager = viewportManager;
        this._sceneFactory = sceneFactory;
    };
    x5.prototype.calculatePosition = function(t) {
        var k = 'World',
            j = 'Viewport',
            o = d6t.W6,
            e = d6t.W6;
        if (t.relativePosition) {
            var q;
            switch (t.relativeTo) {
                case j:
                    q = game.viewport;
                    break;
                case k:
                    q = game.viewport.world;
                    break;
                default:
                    q = game.viewport.world;
            }
            o = q.width * parseFloat(t.positionPercentX) - q.width / d6t.D6;
            e = q.height * (d6t.A6 - parseFloat(t.positionPercentY)) - q.height / d6t.D6;
        }
        o += parseFloat(t.x) * game.viewport.scale;
        e += -parseFloat(t.y) * game.viewport.scale;
        return {
            x: o,
            y: e
        };
    };
    x5.prototype.loadElements = function(t, k, j) {
        var o = 'Btn',
            e = 'Group',
            q = 'bmf_',
            m = 'lbl_',
            k5 = 'btn_',
            C5 = 'ph_',
            H5 = 'PlaceHolder',
            j5 = 'rtex_',
            Y5 = 'Sprite',
            z5 = 'img_',
            P5, p5;
        for (var w5 = d6t.W6, R5 = j.length; w5 < R5; w5++) {
            var r5 = this._viewportManager.scale;
            P5 = d6t.B3x;
            p5 = a5.clone(j[w5]);
            var T5 = this.calculatePosition(p5);
            p5.x = T5.x;
            p5.y = T5.y;
            p5.scaleX *= r5;
            p5.scaleY *= r5;
            p5.width *= p5.scaleX;
            p5.height *= p5.scaleY;
            p5.rotation = -p5.rotation;
            switch (p5.type) {
                case d6t.E6x:
                    P5 = this._viewCreator.addImage(k, p5);
                    t.images[P5.id._.after(z5)] = P5;
                    break;
                case Y5:
                    P5 = this._viewCreator.addImage(k, p5);
                    t.images[P5.id._.after(d6t.X58)] = P5;
                    break;
                case d6t.B7f:
                    P5 = this._viewCreator.addRenderTexture(k, p5);
                    this.loadElements(t, P5, j[w5].children);
                    t.images[P5.id._.after(j5)] = P5;
                    break;
                case H5:
                    P5 = this._viewCreator.addPlaceholder(k, p5);
                    t.placeHolders[p5.name._.after(C5)] = P5;
                    break;
                case d6t.Q4H:
                    P5 = this._viewCreator.addButtonGroup(k, t, p5);
                    this.loadElements(t, P5, p5.children);
                    t.buttons[P5.id._.after(k5)] = P5;
                    break;
                case d6t.s4x:
                    P5 = this._viewCreator.addText(k, p5, d6t.F18);
                    t.labels[P5.id._.after(m)] = P5;
                    break;
                case d6t.K8:
                    P5 = this._viewCreator.addText(k, p5, d6t.s73);
                    t.labels[P5.id._.after(q)] = P5;
                    break;
                case e:
                    P5 = this._viewCreator.addGroup(t, k, p5);
                    this.loadElements(t, P5, j[w5].children);
                    if (P5.id._.has(o)) {
                        t.groups.buttons[P5.id] = P5;
                    } else if (p5.name._.startsWith(C5)) {
                        t.placeHolders[p5.name._.after(C5)] = P5;
                    } else {
                        t.groups[P5.id._.after(d6t.y3B)] = P5;
                    }
                    break;
            }
        }
    };
    x5.prototype.loadScene = function(t, k, j) {
        var o = 'SceneLoader.loadScene (';
        k = k._.decapitalize();
        console.log(o + k + d6t.A13);
        var e = this._sceneFactory.construct(k),
            q = t.children;
        e.data = t;
        this.loadElements(e, e.view, q, e.data);
        e.init.apply(e, j);
        return e;
    };
    x5.prototype.loadAllScenes = function() {
        var e = 'SceneLoader.loadAllScenes';
        console.log(e);
        var q = game.cache.getJSON(d6t.F2H);
        q._.each(function(t, k) {
            var j = 'cp_',
                o = k;
            if (o._.startsWith(j) || o._.endsWith(d6t.A0)) {
                return;
            }
            o = o._.decapitalize();
            if (o !== d6t.M4f) {
                this.loadScene(t, o);
            }
        }, this);
    };
    x5.prototype.createComponent = function(t, k) {
        var j = t._.decapitalize(),
            o = game.cache.getJSON(d6t.F2H);
        if (o[j]) {
            return this.loadScene(o[j], t, k);
        }
    };
    return x5;
});
define('gt/scenes/Background', ['bottom_line', 'phaser', 'settings', 'gt/scenes/BackgroundSize'], function(T5, a5, settings, f5) {
    function A5(game, spritesheetManager, viewportManager) {
        this._game = game;
        this._spritesheetManager = spritesheetManager;
        this._viewportManager = viewportManager;
        this.canvas = dom(d6t.R4x);
        this.ctx = this.canvas.getContext(d6t.J8);
        this.style = this.canvas.style;
        this.size = settings.backgroundSize;
        this.options = d6t.B3x;
        this.backgroundImageName = d6t.I6x;
        this.imageData = d6t.B3x;
        this.scaleX = d6t.A6;
        this.scaleY = d6t.A6;
        this.drawRect = d6t.B3x;
        this.setup();
    }
    T5.extend(A5.prototype, {
        setup: function() {
            switch (this.size) {
                case f5.Viewport:
                    this.drawRect = new a5.Rectangle(d6t.W6, d6t.W6, this._viewportManager.width, this._viewportManager.height);
                    break;
                case f5.World:
                    this.drawRect = new a5.Rectangle(this._viewportManager.world.x, this._viewportManager.world.y, this._viewportManager.world.width, this._viewportManager.world.height);
                    break;
                case f5.Game:
                default:
                    this.drawRect = new a5.Rectangle(this._viewportManager.game.x, this._viewportManager.game.y, this._viewportManager.game.width, this._viewportManager.game.height);
                    break;
            }
            this.init();
        },
        init: function() {
            var t = this._game.canvas.style;
            this.ctx.globalAlpha = d6t.N28;
            this.style.marginLeft = t.marginLeft;
            this.style.marginTop = t.marginTop;
            this.style.width = t.width;
            this.style.height = t.height;
            this.style.display = d6t.f0x;
            this.canvas.width = this._game.canvas.width;
            this.canvas.height = this._game.canvas.height;
        },
        set: function(t, k) {
            this.options = k || {};
            this.backgroundImageName = t;
            this.imageData = d6t.B3x;
            if (this.backgroundImageName) {
                this.drawBackgroundImage(this.backgroundImageName, this.options);
            }
            if (this.options.vignette) {
                this.drawVignette(this.options.vignette);
            }
            if (this.options.borderRects) {
                this.drawBorderRects();
            }
            if (this.options.borderLines) {
                this.drawBorderLines();
            }
            if (this.options.color) {
                dom(d6t.m2f).style.backgroundColor = this.options.color;
            }
        },
        drawBorderLines: function() {
            var t = '#ffffff',
                k = this.ctx;
            k.beginPath();
            k.moveTo(this._viewportManager.world.x, d6t.W6);
            k.lineTo(this._viewportManager.world.x, this._game.world.height);
            k.moveTo(this._viewportManager.world.x + this._viewportManager.world.width, d6t.W6);
            k.lineTo(this._viewportManager.world.x + this._viewportManager.world.width, this._game.world.height);
            k.lineWidth = d6t.A6;
            k.strokeStyle = t;
            k.stroke();
        },
        drawBorderRects: function() {
            var t = "#000000",
                k = this.ctx;
            k.globalAlpha = d6t.j48;
            k.fillStyle = t;
            k.fillRect(d6t.W6, d6t.W6, this._viewportManager.world.x, this._game.height);
            k.fillRect(this._viewportManager.world.x + this._viewportManager.world.width, d6t.W6, this._viewportManager.world.x, this._game.height);
            k.globalAlpha = d6t.A6;
        },
        drawBackgroundImage: function(t, k) {
            var j = this._spritesheetManager.sprites[t],
                o = this._game.cache.getImage(j.spritesheet),
                e = j.data,
                q = this.drawRect.width / this.drawRect.height,
                m = e.width / e.height;
            switch (d6t.s73) {
                case k.repeat:
                    var k5 = e.width * this._viewportManager.scale,
                        C5 = e.height * this._viewportManager.scale,
                        H5 = Math.ceil(this.drawRect.height / C5),
                        j5 = Math.ceil(this.drawRect.width / k5);
                    for (var Y5 = d6t.W6; Y5 < H5; Y5++) {
                        for (var z5 = d6t.W6; z5 < j5; z5++) {
                            this.ctx.drawImage(o, e.x, e.y, e.width, e.height, this.drawRect.x + z5 * k5, this.drawRect.y + Y5 * C5, k5, C5);
                        }
                    }
                    break;
                case k.stretch:
                    this.ctx.drawImage(o, e.x, e.y, e.width, e.height, this.drawRect.x, this.drawRect.y, this.drawRect.width, this.drawRect.height);
                    break;
                default:
                    var P5, p5, w5 = d6t.N28;
                    if (q < m) {
                        w5 = this.drawRect.height / e.height;
                        P5 = this.drawRect.width / w5;
                        p5 = e.height;
                    } else if (q >= m) {
                        w5 = this.drawRect.width / e.width;
                        P5 = e.width;
                        p5 = this.drawRect.height / w5;
                    }
                    var R5 = (e.x + e.width / d6t.D6) - P5 / d6t.D6,
                        r5 = (e.y + e.height / d6t.D6) - p5 / d6t.D6;
                    this.ctx.drawImage(o, R5, r5, P5, p5, this.drawRect.x, this.drawRect.y, this.drawRect.width, this.drawRect.height);
                    break;
            }
        },
        drawVignette: function(t) {
            var k = this._spritesheetManager.sprites[t],
                j = k ? k.spritesheet : t,
                o = this._game.cache.getImage(j),
                e;
            if (k) {
                e = k.data;
            } else {
                e = {
                    x: d6t.W6,
                    y: d6t.W6,
                    width: o.width,
                    height: o.height
                };
            }
            this.ctx.drawImage(o, e.x, e.y, e.width, e.height, this.drawRect.x, this.drawRect.y, this.drawRect.width, this.drawRect.height);
        },
        refresh: function() {
            this.setup();
            this.set(this.backgroundImageName, this.options);
        }
    });
    return A5;
});
define('gt/scenes/Foreground', ['bottom_line', 'phaser'], function(o, e) {
    function q(t) {
        var k = 'foreground_components',
            j = 'foreground_images';
        q._super.constructor.call(this, game, d6t.B3x, t);
        this.groups = {
            images: this.add(game.make.group(j)),
            components: this.add(game.make.group(k))
        };
    }
    o.inherit(q, e.Group);
    return q;
});
define('gt/scenes/SceneManager', ['bottom_line', 'gt/scenes/Background', 'gt/scenes/Foreground'], function(m, k5, C5) {
    var H5 = 'components',
        j5 = 'popups',
        Y5 = function(viewportManager, game, sceneLoader, spritesheetManager, phaserEvents) {
            var q = 'SceneManager.ctor';
            console.log(q);
            this.inputEnabled = d6t.s73;
            this.view = {};
            this.filters = {};
            this._viewportManager = viewportManager;
            this._game = game;
            this._sceneLoader = sceneLoader;
            this._spritesheetManager = spritesheetManager;
            this._phaserEvents = phaserEvents;
            this._scenes = {};
            this._popups = {};
            this._components = {};
            this._current = d6t.B3x;
            this._previous = d6t.B3x;
            this._activePopups = [];
            this._queuedPopups = [];
            this._viewportManager.screenChangedEvent.add(this.onScreenChanged, this);
        };
    Y5.prototype.init = function() {
        var t = 'view_popups',
            k = 'view_foreground',
            j = 'view_components',
            o = 'view_scenes',
            e = 'Blur';
        this.filters.blur = this._game.add.filter(e, d6t.i23, d6t.h7f);
        this.filters.blur.blur = d6t.W6;
        this.view.background = new k5(this._game, this._spritesheetManager, this._viewportManager);
        this.view.scenes = this._viewportManager.view.add(this._game.make.group(o));
        this.view.components = this._viewportManager.view.add(this._game.make.group(j));
        this.view.foreground = this._viewportManager.view.add(new C5(k));
        this.view.popups = this._viewportManager.view.add(this._game.make.group(t));
        this._phaserEvents.updateEvent.add(this.onUpdate, this);
    };
    Y5.prototype.getScene = function(t) {
        var k = 'SceneManager does not contain scene with name ';
        t = t._.decapitalize();
        var j = d6t.F2H;
        if (t._.endsWith(d6t.m63)) {
            j = j5;
        } else if (t._.endsWith(d6t.A0)) {
            j = H5;
        }
        var o;
        switch (j) {
            case d6t.F2H:
                o = this._scenes;
                break;
            case j5:
                o = this._popups;
                break;
            case H5:
                o = this._components;
                break;
        }
        console.assert(o[t], k + t);
        return o[t];
    };
    Y5.prototype.onScreenChanged = function() {
        m.delay(d6t.i23, function() {
            this.view.background.refresh();
        }, this);
        if (this._current) {
            this._current.screenChanged();
        }
    };
    Y5.prototype.add = function(t) {
        var k = ' already exists!',
            j = 'a scene with the name ',
            o = t.name._.decapitalize(),
            e = d6t.F2H;
        if (o._.endsWith(d6t.m63)) {
            e = j5;
        } else if (o._.endsWith(d6t.A0)) {
            e = H5;
        }
        this.view[e].add(t.view);
        var q;
        switch (e) {
            case d6t.F2H:
                q = this._scenes;
                break;
            case j5:
                q = this._popups;
                break;
            case H5:
                q = this._components;
                break;
        }
        if ((e != H5) && q[o]) {
            throw j + o + k;
        }
        q[o] = t;
    };
    Y5.prototype.onUpdate = function() {
        if (this._current) {
            this._current.update();
        }
        var t = this._popups[this._activePopups[d6t.W6]];
        if (t && t.update) {
            t.update();
        }
    };
    Y5.prototype.createLoader = function() {
        var t = this._game.cache.getJSON(d6t.M4f);
        this._current = this._sceneLoader.loadScene(t, d6t.v7H);
    };
    Y5.prototype.createScenes = function() {
        this._sceneLoader.loadAllScenes();
    };
    Y5.prototype.createComponent = function(t, k) {
        return this._sceneLoader.createComponent(t, k);
    };
    Y5.prototype.show = function(k, j) {
        k = k._.decapitalize();
        this._previous = this._current;
        if (this._previous) {
            this._previous.leave();
        }
        if (this._activePopups.length) {
            this._activePopups._.each(function(t) {
                this._popups[t].setVisible(d6t.F18);
                this._popups[t].setActive(d6t.F18);
            }, this);
            this._activePopups.length = d6t.W6;
        }
        this._current = this._scenes[k];
        this._current.enter.apply(this._current, Array.prototype.slice.call(arguments, d6t.A6));
    };
    Y5.prototype.showPopup = function(t) {
        var k = t;
        if (typeof(t) === d6t.F78) {
            t = t._.decapitalize();
            k = this._popups[t];
        }
        this._current.setActive(d6t.F18);
        if (this._activePopups.length > d6t.W6) {
            this._queuedPopups.push(Array.prototype.slice.call(arguments, d6t.W6));
        } else {
            Array.prototype.shift.apply(arguments);
            if (k.isVisible()) {
                k.leave();
            }
            k.enter.apply(k, arguments);
            this._activePopups.push(k.name._.decapitalize());
        }
    };
    Y5.prototype.leavePopup = function(t) {
        if (typeof t === d6t.F78) {
            t = t._.decapitalize();
            t = this._popups[t];
        }
        t.setVisible(d6t.F18);
        t.setActive(d6t.F18);
        t.leave();
        this._activePopups.splice(this._activePopups.indexOf(this._activePopups[t.name._.decapitalize()]));
        if (this._queuedPopups.length === d6t.W6) {
            this._current.setActive(d6t.s73);
        } else {
            var k = this._queuedPopups.shift();
            this.showPopup.apply(this, k);
        }
    };
    return Y5;
});
define('gt/input/KeyboardInput', ['bottom_line', 'phaser'], function(o, e) {
    var q = 'just_pressed',
        m = function(game, k) {
            var j = 'KeyboardInput.ctor';
            console.log(j);
            this._game = game;
            this._inputMapper = k;
            this.currentKeyboardState = {};
            this.previousKeyboardState = {};
            this.keyJustReleasedEvent = new e.Signal();
            this.keyPressedEvent = new e.Signal();
            this.keyJustPressedEvent = new e.Signal();
            this.keyboardStateChangedEvent = new e.Signal();
        };
    m.JUST_RELEASED = d6t.X2x;
    m.PRESS = d6t.B4B;
    m.JUST_PRESSED = q;
    m.cloneKeyboardState = function(t) {
        var k = {};
        for (var j in t) {
            if (t.hasOwnProperty(j)) {
                k[j] = t[j];
            }
        }
        return k;
    };
    m.prototype.mapInputs = function() {
        this._inputMapper.map(m.JUST_RELEASED, this.keyJustReleasedEvent, function(t) {
            return t;
        });
        this._inputMapper.map(m.PRESS, this.keyPressedEvent, function(t) {
            return t;
        });
        this._inputMapper.map(m.JUST_PRESSED, this.keyJustPressedEvent, function(t) {
            return t;
        });
    };
    m.prototype.startCapturing = function() {
        this._game.input.keyboard.callbackContext = this;
        this._game.input.keyboard.onDownCallback = this.onKeyDown;
        this._game.input.keyboard.onUpCallback = this.onKeyUp;
    };
    m.prototype.stopCapturing = function() {
        this._game.input.keyboard.callbackContext = d6t.B3x;
        this._game.input.keyboard.onDownCallback = d6t.B3x;
        this._game.input.keyboard.onUpCallback = d6t.B3x;
    };
    m.prototype.onKeyDown = function(t) {
        this.previousKeyboardState = m.cloneKeyboardState(this.currentKeyboardState);
        var k = t.keyCode;
        this.currentKeyboardState[k] = d6t.s73;
        if (this.currentKeyboardState[k] != this.previousKeyboardState[k]) {
            this.keyJustPressedEvent.dispatch(k);
        }
        this.keyPressedEvent.dispatch(k);
        this.keyboardStateChangedEvent.dispatch(this.currentKeyboardState, this.previousKeyboardState);
    };
    m.prototype.onKeyUp = function(t) {
        this.previousKeyboardState = m.cloneKeyboardState(this.currentKeyboardState);
        var k = t.keyCode;
        this.currentKeyboardState[k] = d6t.F18;
        this.keyJustReleasedEvent.dispatch(k);
        this.keyboardStateChangedEvent.dispatch(this.currentKeyboardState, this.previousKeyboardState);
    };
    return m;
});
define('gt/input/GamepadInput', ['bottom_line', 'phaser'], function(m, k5) {
    var C5 = 'right_stick',
        H5 = 'left_stick',
        j5 = function(game, k) {
            var j = 'GamepadInput.ctor';
            console.log(j);
            this._game = game;
            this._inputMapper = k;
            this.currentGamepadState = {};
            this.previousGamepadState = {};
            this.buttonJustReleasedEvent = new k5.Signal();
            this.buttonPressedEvent = new k5.Signal();
            this.buttonJustPressedEvent = new k5.Signal();
            this.buttonStateChangedEvent = new k5.Signal();
            this.leftStickMovedEvent = new k5.Signal();
            this.rightStickMovedEvent = new k5.Signal();
        };
    j5.JUST_RELEASED = d6t.X2x;
    j5.PRESS = d6t.B4B;
    j5.LEFT_STICK = H5;
    j5.RIGHT_STICK = C5;
    j5.LEFT = d6t.m6H;
    j5.RIGHT = d6t.w3B;
    j5.UP = d6t.f4B;
    j5.DOWN = d6t.x2x;
    j5.A = d6t.W6;
    j5.B = d6t.A6;
    j5.X = d6t.D6;
    j5.Y = d6t.B6;
    j5.DEAD_ZONE = d6t.z48;
    j5.cloneGamepadState = function(t) {
        var k = {};
        for (var j in t) {
            if (t.hasOwnProperty(j)) {
                k[j] = t[j];
            }
        }
        return k;
    };
    j5.prototype.mapInputs = function() {
        this._inputMapper.map(j5.JUST_RELEASED, this.buttonJustReleasedEvent, function(t) {
            return t;
        });
        this._inputMapper.map(j5.PRESS, this.buttonPressedEvent, function(t) {
            return t;
        });
        this._inputMapper.map(j5.JUST_PRESSED, this.buttonJustPressedEvent, function(t) {
            return t;
        });
        this._inputMapper.map(j5.LEFT_STICK, this.leftStickMovedEvent, function(t) {
            return t;
        });
        this._inputMapper.map(j5.RIGHT_STICK, this.rightStickMovedEvent, function(t) {
            return t;
        });
    };
    j5.prototype.startCapturing = function() {
        this._game.input.gamepad.start();
        this._game.input.gamepad.callbackContext = this;
        this._game.input.gamepad.onDownCallback = this.onButtonDown;
        this._game.input.gamepad.onUpCallback = this.onButtonUp;
        this._game.input.gamepad.onAxisCallback = this.onAxisChanged;
    };
    j5.prototype.stopCapturing = function() {
        this._game.input.gamepad.callbackContext = d6t.B3x;
        this._game.input.gamepad.onDownCallback = d6t.B3x;
        this._game.input.gamepad.onUpCallback = d6t.B3x;
        this._game.input.gamepad.onAxisCallback = d6t.B3x;
    };
    j5.prototype.onAxisChanged = function(t, k, j) {
        var o = (k < d6t.D6) ? this.leftStickMovedEvent : this.rightStickMovedEvent,
            e = k % d6t.D6,
            q = d6t.B3x;
        if (e === d6t.W6) {
            if (j < -j5.DEAD_ZONE) {
                q = j5.LEFT;
            } else if (j > j5.DEAD_ZONE) {
                q = j5.RIGHT;
            }
        } else {
            if (j < -j5.DEAD_ZONE) {
                q = j5.UP;
            } else if (j > j5.DEAD_ZONE) {
                q = j5.DOWN;
            }
        }
        if (q !== d6t.B3x) {
            o.dispatch(q);
        }
    };
    j5.prototype.onButtonDown = function(t) {
        this.previousGamepadState = j5.cloneGamepadState(this.currentGamepadState);
        this.currentGamepadState[t] = d6t.s73;
        if (this.currentGamepadState[t] != this.previousGamepadState[t]) {
            this.buttonJustPressedEvent.dispatch(t);
        }
        this.buttonPressedEvent.dispatch(t);
        this.buttonStateChangedEvent.dispatch(this.currentGamepadState, this.previousGamepadState);
    };
    j5.prototype.onButtonUp = function(t) {
        this.previousGamepadState = j5.cloneGamepadState(this.currentGamepadState);
        this.currentGamepadState[t] = d6t.F18;
        this.buttonJustReleasedEvent.dispatch(t);
        this.buttonStateChangedEvent.dispatch(this.currentGamepadState, this.previousGamepadState);
    };
    return j5;
});
define('gt/scenes/SceneInput', ['phaser', 'gt/input/KeyboardInput', 'gt/input/GamepadInput'], function(q, m, k5) {
    var C5 = function(game, k) {
        var j = 'SceneInput.ctor';
        console.log(j);
        this._game = game;
        this._inputMapper = k;
    };
    C5.prototype.bindAll = function(t) {
        var k = t.selectNextButton;
        this._inputMapper.bind(m.JUST_PRESSED, q.Keyboard.DOWN, k, t);
        this._inputMapper.bind(m.JUST_PRESSED, q.Keyboard.RIGHT, k, t);
        this._inputMapper.bind(k5.LEFT_STICK, k5.DOWN, k, t);
        this._inputMapper.bind(k5.LEFT_STICK, k5.RIGHT, k, t);
        var j = t.selectPreviousButton;
        this._inputMapper.bind(m.JUST_PRESSED, q.Keyboard.UP, j, t);
        this._inputMapper.bind(m.JUST_PRESSED, q.Keyboard.LEFT, j, t);
        this._inputMapper.bind(k5.LEFT_STICK, k5.UP, j, t);
        this._inputMapper.bind(k5.LEFT_STICK, k5.LEFT, j, t);
        var o = t.activateCurrentButton;
        this._inputMapper.bind(m.JUST_PRESSED, q.Keyboard.SPACEBAR, o, t);
        this._inputMapper.bind(m.JUST_PRESSED, q.Keyboard.ENTER, o, t);
        this._inputMapper.bind(k5.JUST_PRESSED, k5.A, o, t);
        var e = t.close;
        this._inputMapper.bind(m.JUST_PRESSED, q.Keyboard.ESC, e, t);
        this._inputMapper.bind(k5.JUST_PRESSED, k5.B, e, t);
    };
    C5.prototype.unbindAll = function() {
        this._inputMapper.unbindAll();
    };
    return C5;
});
define('gt/gui/TextCounter', ['bottom_line', 'phaser'], function(m, k5) {
    function C5(phaserEvents, game, gameVarManager, soundManager) {
        this._phaserEvents = phaserEvents;
        this._game = game;
        this._gameVarManager = gameVarManager;
        this._soundManager = soundManager;
        this.onCountComplete = new k5.Signal();
    }
    m.extend(C5, {
        UPWARDS: d6t.A6,
        DOWNWARDS: d6t.D6
    });
    m.extend(C5.prototype, {
        overwrite: d6t.F18,
        override: d6t.F18
    }, {
        countTo: function(t, k, j, o, e) {
            this._label = t;
            var q = Math.round(this._game.time.physicsElapsed * d6t.I6);
            this.countTemp = parseInt(this._label.text) || d6t.W6;
            this.countTarget = k || d6t.x7x;
            this.countTime = j || d6t.I6;
            this.countStep = ((this.countTarget - this.countTemp) / this.countTime) * q;
            this.countDirection = Math.max(this.countTemp, this.countTarget) == this.countTarget ? C5.UPWARDS : C5.DOWNWARDS;
            this.counting = d6t.s73;
            this.countOnComplete = o && o.bind(e);
            if (this.counting) {
                this._phaserEvents.updateEvent.remove(this.updateCounter, this);
            }
            this._phaserEvents.updateEvent.add(this.updateCounter, this);
        },
        updateCounter: function() {
            if (this.counting) {
                this.countTemp += this.countStep;
                if (this.countDirection === C5.UPWARDS && this.countTemp > this.countTarget) this.countTemp = this.countTarget;
                else if (this.countDirection === C5.DOWNWARDS && this.countTemp < this.countTarget) this.countTemp = this.countTarget;
                this._label.setText(Math.round(this.countTemp));
                if (this.countTemp == this.countTarget) {
                    this.counting = d6t.F18;
                    this._phaserEvents.updateEvent.remove(this.updateCounter, this);
                    this.countOnComplete && this.countOnComplete();
                    this.onCountComplete.dispatch();
                }
            }
        }
    });
    return C5;
});
define('gt/modules/SystemsSetup', ['soma', 'gt/audio/SoundManager', 'gt/scenes/ViewCreator', 'gt/scenes/SceneFactory', 'gt/scenes/SceneLoader', 'gt/scenes/SceneManager', 'gt/scenes/SceneInput', 'gt/managers/SpritesheetManager', 'gt/constants/ConsoleCSS', 'gt/gui/TextCounter'], function(P5, p5, w5, R5, r5, T5, a5, x5, f5, A5) {
    var u5 = function(injector) {
        this._injector = injector;
    };
    u5.prototype.run = function(t, k) {
        var j = 'textCounter',
            o = 'sceneInput',
            e = 'sceneManager',
            q = 'sceneLoader',
            m = 'sceneFactory',
            k5 = 'viewCreator',
            C5 = 'spritesheetManager',
            H5 = 'soundManager',
            j5 = '%c [DI module] %c SystemsSetup ';
        console.log(j5, f5.MODULE_TAG, f5.MODULE_TEXT);
        this._injector.mapClass(H5, p5, P5.SINGLETON);
        this._injector.mapClass(C5, x5, P5.SINGLETON);
        this._injector.mapClass(k5, w5, P5.SINGLETON);
        this._injector.mapClass(m, R5, P5.SINGLETON);
        this._injector.mapClass(q, r5, P5.SINGLETON);
        this._injector.mapClass(e, T5, P5.SINGLETON);
        this._injector.mapClass(o, a5, P5.SINGLETON);
        this._injector.mapClass(j, A5);
        var sceneManager = this._injector.getValueFromClass(T5);
        sceneManager.init();
        var spritesheetManager = this._injector.getValueFromClass(x5);
        game.spritesheets = spritesheetManager;
        t.call(k);
    };
    return u5;
});
(function(t, k) {
    if (typeof define === d6t.j5f && define.amd) {
        define('fontloader', [], k);
    } else if (typeof exports === d6t.T7H) {
        module.exports = k();
    } else {
        t.FontLoader = k();
    }
}(window, function() {
    var Y5 = "scroll",
        z5 = "data-ref-font-family-index",
        P5 = "data-font-family",
        p5 = "absolute",
        w5 = "@font-face{ font-family:AdobeBlank; src:url('data:font/opentype;base64,T1RUTwAKAIAAAwAgQ0ZGIM6ZbkwAAEPEAAAZM0RTSUcAAAABAABtAAAAAAhPUy8yAR6vMwAAARAAAABgY21hcDqI98oAACjEAAAa4GhlYWT+BQILAAAArAAAADZoaGVhCCID7wAAAOQAAAAkaG10eAPoAHwAAFz4AAAQBm1heHAIAVAAAAABCAAAAAZuYW1lD/tWxwAAAXAAACdScG9zdP+4ADIAAEOkAAAAIAABAAAAAQj1Snw1O18PPPUAAwPoAAAAAM2C2p8AAAAAzYLanwB8/4gDbANwAAAAAwACAAAAAAAAAAEAAANw/4gAyAPoAHwAfANsAAEAAAAAAAAAAAAAAAAAAAACAABQAAgBAAAABAAAAZAABQAAAooCWAAAAEsCigJYAAABXgAyANwAAAAAAAAAAAAAAAD3/67/+9///w/gAD8AAAAAQURCRQHAAAD//wNw/4gAyANwAHhgLwH/AAAAAAAAAAAAAAAgAAAAAAARANIAAQAAAAAAAQALAAAAAQAAAAAAAgAHAAsAAQAAAAAAAwAbABIAAQAAAAAABAALAAAAAQAAAAAABQA5AC0AAQAAAAAABgAKAGYAAwABBAkAAABuAHAAAwABBAkAAQAWAN4AAwABBAkAAgAOAPQAAwABBAkAAwA2AQIAAwABBAkABAAWAN4AAwABBAkABQByATgAAwABBAkABgAUAaoAAwABBAkACAA0Ab4AAwABBAkACwA0AfIAAwABBAkADSQSAiYAAwABBAkADgBIJjhBZG9iZSBCbGFua1JlZ3VsYXIxLjAzNTtBREJFO0Fkb2JlQmxhbms7QURPQkVWZXJzaW9uIDEuMDM1O1BTIDEuMDAzO2hvdGNvbnYgMS4wLjcwO21ha2VvdGYubGliMi41LjU5MDBBZG9iZUJsYW5rAKkAIAAyADAAMQAzACAAQQBkAG8AYgBlACAAUwB5AHMAdABlAG0AcwAgAEkAbgBjAG8AcgBwAG8AcgBhAHQAZQBkAC4AIABBAGwAbAAgAFIAaQBnAGgAdABzACAAUgBlAHMAZQByAHYAZQBkAC4AQQBkAG8AYgBlACAAQgBsAGEAbgBrAFIAZQBnAHUAbABhAHIAMQAuADAAMwA1ADsAQQBEAEIARQA7AEEAZABvAGIAZQBCAGwAYQBuAGsAOwBBAEQATwBCAEUAVgBlAHIAcwBpAG8AbgAgADEALgAwADMANQA7AFAAUwAgADEALgAwADAAMwA7AGgAbwB0AGMAbwBuAHYAIAAxAC4AMAAuADcAMAA7AG0AYQBrAGUAbwB0AGYALgBsAGkAYgAyAC4ANQAuADUAOQAwADAAQQBkAG8AYgBlAEIAbABhAG4AawBBAGQAbwBiAGUAIABTAHkAcwB0AGUAbQBzACAASQBuAGMAbwByAHAAbwByAGEAdABlAGQAaAB0AHQAcAA6AC8ALwB3AHcAdwAuAGEAZABvAGIAZQAuAGMAbwBtAC8AdAB5AHAAZQAvAEEAZABvAGIAZQAgAEIAbABhAG4AawAgAGkAcwAgAHIAZQBsAGUAYQBzAGUAZAAgAHUAbgBkAGUAcgAgAHQAaABlACAAUwBJAEwAIABPAHAAZQBuACAARgBvAG4AdAAgAEwAaQBjAGUAbgBzAGUAIAAtACAAcABsAGUAYQBzAGUAIAByAGUAYQBkACAAaQB0ACAAYwBhAHIAZQBmAHUAbABsAHkAIABhAG4AZAAgAGQAbwAgAG4AbwB0ACAAZABvAHcAbgBsAG8AYQBkACAAdABoAGUAIABmAG8AbgB0AHMAIAB1AG4AbABlAHMAcwAgAHkAbwB1ACAAYQBnAHIAZQBlACAAdABvACAAdABoAGUAIAB0AGgAZQAgAHQAZQByAG0AcwAgAG8AZgAgAHQAaABlACAAbABpAGMAZQBuAHMAZQA6AA0ACgANAAoAQwBvAHAAeQByAGkAZwBoAHQAIACpACAAMgAwADEAMwAgAEEAZABvAGIAZQAgAFMAeQBzAHQAZQBtAHMAIABJAG4AYwBvAHIAcABvAHIAYQB0AGUAZAAgACgAaAB0AHQAcAA6AC8ALwB3AHcAdwAuAGEAZABvAGIAZQAuAGMAbwBtAC8AKQAsACAAdwBpAHQAaAAgAFIAZQBzAGUAcgB2AGUAZAAgAEYAbwBuAHQAIABOAGEAbQBlACAAQQBkAG8AYgBlACAAQgBsAGEAbgBrAA0ACgANAAoAVABoAGkAcwAgAEYAbwBuAHQAIABTAG8AZgB0AHcAYQByAGUAIABpAHMAIABsAGkAYwBlAG4AcwBlAGQAIAB1AG4AZABlAHIAIAB0AGgAZQAgAFMASQBMACAATwBwAGUAbgAgAEYAbwBuAHQAIABMAGkAYwBlAG4AcwBlACwAIABWAGUAcgBzAGkAbwBuACAAMQAuADEALgANAAoADQAKAFQAaABpAHMAIABsAGkAYwBlAG4AcwBlACAAaQBzACAAYwBvAHAAaQBlAGQAIABiAGUAbABvAHcALAAgAGEAbgBkACAAaQBzACAAYQBsAHMAbwAgAGEAdgBhAGkAbABhAGIAbABlACAAdwBpAHQAaAAgAGEAIABGAEEAUQAgAGEAdAA6ACAAaAB0AHQAcAA6AC8ALwBzAGMAcgBpAHAAdABzAC4AcwBpAGwALgBvAHIAZwAvAE8ARgBMAA0ACgANAAoALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAA0ACgBTAEkATAAgAE8AUABFAE4AIABGAE8ATgBUACAATABJAEMARQBOAFMARQAgAFYAZQByAHMAaQBvAG4AIAAxAC4AMQAgAC0AIAAyADYAIABGAGUAYgByAHUAYQByAHkAIAAyADAAMAA3AA0ACgAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ALQAtAC0ADQAKAA0ACgBQAFIARQBBAE0AQgBMAEUADQAKAFQAaABlACAAZwBvAGEAbABzACAAbwBmACAAdABoAGUAIABPAHAAZQBuACAARgBvAG4AdAAgAEwAaQBjAGUAbgBzAGUAIAAoAE8ARgBMACkAIABhAHIAZQAgAHQAbwAgAHMAdABpAG0AdQBsAGEAdABlACAAdwBvAHIAbABkAHcAaQBkAGUAIABkAGUAdgBlAGwAbwBwAG0AZQBuAHQAIABvAGYAIABjAG8AbABsAGEAYgBvAHIAYQB0AGkAdgBlACAAZgBvAG4AdAAgAHAAcgBvAGoAZQBjAHQAcwAsACAAdABvACAAcwB1AHAAcABvAHIAdAAgAHQAaABlACAAZgBvAG4AdAAgAGMAcgBlAGEAdABpAG8AbgAgAGUAZgBmAG8AcgB0AHMAIABvAGYAIABhAGMAYQBkAGUAbQBpAGMAIABhAG4AZAAgAGwAaQBuAGcAdQBpAHMAdABpAGMAIABjAG8AbQBtAHUAbgBpAHQAaQBlAHMALAAgAGEAbgBkACAAdABvACAAcAByAG8AdgBpAGQAZQAgAGEAIABmAHIAZQBlACAAYQBuAGQAIABvAHAAZQBuACAAZgByAGEAbQBlAHcAbwByAGsAIABpAG4AIAB3AGgAaQBjAGgAIABmAG8AbgB0AHMAIABtAGEAeQAgAGIAZQAgAHMAaABhAHIAZQBkACAAYQBuAGQAIABpAG0AcAByAG8AdgBlAGQAIABpAG4AIABwAGEAcgB0AG4AZQByAHMAaABpAHAAIAB3AGkAdABoACAAbwB0AGgAZQByAHMALgANAAoADQAKAFQAaABlACAATwBGAEwAIABhAGwAbABvAHcAcwAgAHQAaABlACAAbABpAGMAZQBuAHMAZQBkACAAZgBvAG4AdABzACAAdABvACAAYgBlACAAdQBzAGUAZAAsACAAcwB0AHUAZABpAGUAZAAsACAAbQBvAGQAaQBmAGkAZQBkACAAYQBuAGQAIAByAGUAZABpAHMAdAByAGkAYgB1AHQAZQBkACAAZgByAGUAZQBsAHkAIABhAHMAIABsAG8AbgBnACAAYQBzACAAdABoAGUAeQAgAGEAcgBlACAAbgBvAHQAIABzAG8AbABkACAAYgB5ACAAdABoAGUAbQBzAGUAbAB2AGUAcwAuACAAVABoAGUAIABmAG8AbgB0AHMALAAgAGkAbgBjAGwAdQBkAGkAbgBnACAAYQBuAHkAIABkAGUAcgBpAHYAYQB0AGkAdgBlACAAdwBvAHIAawBzACwAIABjAGEAbgAgAGIAZQAgAGIAdQBuAGQAbABlAGQALAAgAGUAbQBiAGUAZABkAGUAZAAsACAAcgBlAGQAaQBzAHQAcgBpAGIAdQB0AGUAZAAgAGEAbgBkAC8AbwByACAAcwBvAGwAZAAgAHcAaQB0AGgAIABhAG4AeQAgAHMAbwBmAHQAdwBhAHIAZQAgAHAAcgBvAHYAaQBkAGUAZAAgAHQAaABhAHQAIABhAG4AeQAgAHIAZQBzAGUAcgB2AGUAZAAgAG4AYQBtAGUAcwAgAGEAcgBlACAAbgBvAHQAIAB1AHMAZQBkACAAYgB5ACAAZABlAHIAaQB2AGEAdABpAHYAZQAgAHcAbwByAGsAcwAuACAAVABoAGUAIABmAG8AbgB0AHMAIABhAG4AZAAgAGQAZQByAGkAdgBhAHQAaQB2AGUAcwAsACAAaABvAHcAZQB2AGUAcgAsACAAYwBhAG4AbgBvAHQAIABiAGUAIAByAGUAbABlAGEAcwBlAGQAIAB1AG4AZABlAHIAIABhAG4AeQAgAG8AdABoAGUAcgAgAHQAeQBwAGUAIABvAGYAIABsAGkAYwBlAG4AcwBlAC4AIABUAGgAZQAgAHIAZQBxAHUAaQByAGUAbQBlAG4AdAAgAGYAbwByACAAZgBvAG4AdABzACAAdABvACAAcgBlAG0AYQBpAG4AIAB1AG4AZABlAHIAIAB0AGgAaQBzACAAbABpAGMAZQBuAHMAZQAgAGQAbwBlAHMAIABuAG8AdAAgAGEAcABwAGwAeQAgAHQAbwAgAGEAbgB5ACAAZABvAGMAdQBtAGUAbgB0ACAAYwByAGUAYQB0AGUAZAAgAHUAcwBpAG4AZwAgAHQAaABlACAAZgBvAG4AdABzACAAbwByACAAdABoAGUAaQByACAAZABlAHIAaQB2AGEAdABpAHYAZQBzAC4ADQAKAA0ACgBEAEUARgBJAE4ASQBUAEkATwBOAFMADQAKACIARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAiACAAcgBlAGYAZQByAHMAIAB0AG8AIAB0AGgAZQAgAHMAZQB0ACAAbwBmACAAZgBpAGwAZQBzACAAcgBlAGwAZQBhAHMAZQBkACAAYgB5ACAAdABoAGUAIABDAG8AcAB5AHIAaQBnAGgAdAAgAEgAbwBsAGQAZQByACgAcwApACAAdQBuAGQAZQByACAAdABoAGkAcwAgAGwAaQBjAGUAbgBzAGUAIABhAG4AZAAgAGMAbABlAGEAcgBsAHkAIABtAGEAcgBrAGUAZAAgAGEAcwAgAHMAdQBjAGgALgAgAFQAaABpAHMAIABtAGEAeQAgAGkAbgBjAGwAdQBkAGUAIABzAG8AdQByAGMAZQAgAGYAaQBsAGUAcwAsACAAYgB1AGkAbABkACAAcwBjAHIAaQBwAHQAcwAgAGEAbgBkACAAZABvAGMAdQBtAGUAbgB0AGEAdABpAG8AbgAuAA0ACgANAAoAIgBSAGUAcwBlAHIAdgBlAGQAIABGAG8AbgB0ACAATgBhAG0AZQAiACAAcgBlAGYAZQByAHMAIAB0AG8AIABhAG4AeQAgAG4AYQBtAGUAcwAgAHMAcABlAGMAaQBmAGkAZQBkACAAYQBzACAAcwB1AGMAaAAgAGEAZgB0AGUAcgAgAHQAaABlACAAYwBvAHAAeQByAGkAZwBoAHQAIABzAHQAYQB0AGUAbQBlAG4AdAAoAHMAKQAuAA0ACgANAAoAIgBPAHIAaQBnAGkAbgBhAGwAIABWAGUAcgBzAGkAbwBuACIAIAByAGUAZgBlAHIAcwAgAHQAbwAgAHQAaABlACAAYwBvAGwAbABlAGMAdABpAG8AbgAgAG8AZgAgAEYAbwBuAHQAIABTAG8AZgB0AHcAYQByAGUAIABjAG8AbQBwAG8AbgBlAG4AdABzACAAYQBzACAAZABpAHMAdAByAGkAYgB1AHQAZQBkACAAYgB5ACAAdABoAGUAIABDAG8AcAB5AHIAaQBnAGgAdAAgAEgAbwBsAGQAZQByACgAcwApAC4ADQAKAA0ACgAiAE0AbwBkAGkAZgBpAGUAZAAgAFYAZQByAHMAaQBvAG4AIgAgAHIAZQBmAGUAcgBzACAAdABvACAAYQBuAHkAIABkAGUAcgBpAHYAYQB0AGkAdgBlACAAbQBhAGQAZQAgAGIAeQAgAGEAZABkAGkAbgBnACAAdABvACwAIABkAGUAbABlAHQAaQBuAGcALAAgAG8AcgAgAHMAdQBiAHMAdABpAHQAdQB0AGkAbgBnACAALQAtACAAaQBuACAAcABhAHIAdAAgAG8AcgAgAGkAbgAgAHcAaABvAGwAZQAgAC0ALQAgAGEAbgB5ACAAbwBmACAAdABoAGUAIABjAG8AbQBwAG8AbgBlAG4AdABzACAAbwBmACAAdABoAGUAIABPAHIAaQBnAGkAbgBhAGwAIABWAGUAcgBzAGkAbwBuACwAIABiAHkAIABjAGgAYQBuAGcAaQBuAGcAIABmAG8AcgBtAGEAdABzACAAbwByACAAYgB5ACAAcABvAHIAdABpAG4AZwAgAHQAaABlACAARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAgAHQAbwAgAGEAIABuAGUAdwAgAGUAbgB2AGkAcgBvAG4AbQBlAG4AdAAuAA0ACgANAAoAIgBBAHUAdABoAG8AcgAiACAAcgBlAGYAZQByAHMAIAB0AG8AIABhAG4AeQAgAGQAZQBzAGkAZwBuAGUAcgAsACAAZQBuAGcAaQBuAGUAZQByACwAIABwAHIAbwBnAHIAYQBtAG0AZQByACwAIAB0AGUAYwBoAG4AaQBjAGEAbAAgAHcAcgBpAHQAZQByACAAbwByACAAbwB0AGgAZQByACAAcABlAHIAcwBvAG4AIAB3AGgAbwAgAGMAbwBuAHQAcgBpAGIAdQB0AGUAZAAgAHQAbwAgAHQAaABlACAARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAuAA0ACgANAAoAUABFAFIATQBJAFMAUwBJAE8ATgAgACYAIABDAE8ATgBEAEkAVABJAE8ATgBTAA0ACgBQAGUAcgBtAGkAcwBzAGkAbwBuACAAaQBzACAAaABlAHIAZQBiAHkAIABnAHIAYQBuAHQAZQBkACwAIABmAHIAZQBlACAAbwBmACAAYwBoAGEAcgBnAGUALAAgAHQAbwAgAGEAbgB5ACAAcABlAHIAcwBvAG4AIABvAGIAdABhAGkAbgBpAG4AZwAgAGEAIABjAG8AcAB5ACAAbwBmACAAdABoAGUAIABGAG8AbgB0ACAAUwBvAGYAdAB3AGEAcgBlACwAIAB0AG8AIAB1AHMAZQAsACAAcwB0AHUAZAB5ACwAIABjAG8AcAB5ACwAIABtAGUAcgBnAGUALAAgAGUAbQBiAGUAZAAsACAAbQBvAGQAaQBmAHkALAAgAHIAZQBkAGkAcwB0AHIAaQBiAHUAdABlACwAIABhAG4AZAAgAHMAZQBsAGwAIABtAG8AZABpAGYAaQBlAGQAIABhAG4AZAAgAHUAbgBtAG8AZABpAGYAaQBlAGQAIABjAG8AcABpAGUAcwAgAG8AZgAgAHQAaABlACAARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAsACAAcwB1AGIAagBlAGMAdAAgAHQAbwAgAHQAaABlACAAZgBvAGwAbABvAHcAaQBuAGcAIABjAG8AbgBkAGkAdABpAG8AbgBzADoADQAKAA0ACgAxACkAIABOAGUAaQB0AGgAZQByACAAdABoAGUAIABGAG8AbgB0ACAAUwBvAGYAdAB3AGEAcgBlACAAbgBvAHIAIABhAG4AeQAgAG8AZgAgAGkAdABzACAAaQBuAGQAaQB2AGkAZAB1AGEAbAAgAGMAbwBtAHAAbwBuAGUAbgB0AHMALAAgAGkAbgAgAE8AcgBpAGcAaQBuAGEAbAAgAG8AcgAgAE0AbwBkAGkAZgBpAGUAZAAgAFYAZQByAHMAaQBvAG4AcwAsACAAbQBhAHkAIABiAGUAIABzAG8AbABkACAAYgB5ACAAaQB0AHMAZQBsAGYALgANAAoADQAKADIAKQAgAE8AcgBpAGcAaQBuAGEAbAAgAG8AcgAgAE0AbwBkAGkAZgBpAGUAZAAgAFYAZQByAHMAaQBvAG4AcwAgAG8AZgAgAHQAaABlACAARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAgAG0AYQB5ACAAYgBlACAAYgB1AG4AZABsAGUAZAAsACAAcgBlAGQAaQBzAHQAcgBpAGIAdQB0AGUAZAAgAGEAbgBkAC8AbwByACAAcwBvAGwAZAAgAHcAaQB0AGgAIABhAG4AeQAgAHMAbwBmAHQAdwBhAHIAZQAsACAAcAByAG8AdgBpAGQAZQBkACAAdABoAGEAdAAgAGUAYQBjAGgAIABjAG8AcAB5ACAAYwBvAG4AdABhAGkAbgBzACAAdABoAGUAIABhAGIAbwB2AGUAIABjAG8AcAB5AHIAaQBnAGgAdAAgAG4AbwB0AGkAYwBlACAAYQBuAGQAIAB0AGgAaQBzACAAbABpAGMAZQBuAHMAZQAuACAAVABoAGUAcwBlACAAYwBhAG4AIABiAGUAIABpAG4AYwBsAHUAZABlAGQAIABlAGkAdABoAGUAcgAgAGEAcwAgAHMAdABhAG4AZAAtAGEAbABvAG4AZQAgAHQAZQB4AHQAIABmAGkAbABlAHMALAAgAGgAdQBtAGEAbgAtAHIAZQBhAGQAYQBiAGwAZQAgAGgAZQBhAGQAZQByAHMAIABvAHIAIABpAG4AIAB0AGgAZQAgAGEAcABwAHIAbwBwAHIAaQBhAHQAZQAgAG0AYQBjAGgAaQBuAGUALQByAGUAYQBkAGEAYgBsAGUAIABtAGUAdABhAGQAYQB0AGEAIABmAGkAZQBsAGQAcwAgAHcAaQB0AGgAaQBuACAAdABlAHgAdAAgAG8AcgAgAGIAaQBuAGEAcgB5ACAAZgBpAGwAZQBzACAAYQBzACAAbABvAG4AZwAgAGEAcwAgAHQAaABvAHMAZQAgAGYAaQBlAGwAZABzACAAYwBhAG4AIABiAGUAIABlAGEAcwBpAGwAeQAgAHYAaQBlAHcAZQBkACAAYgB5ACAAdABoAGUAIAB1AHMAZQByAC4ADQAKAA0ACgAzACkAIABOAG8AIABNAG8AZABpAGYAaQBlAGQAIABWAGUAcgBzAGkAbwBuACAAbwBmACAAdABoAGUAIABGAG8AbgB0ACAAUwBvAGYAdAB3AGEAcgBlACAAbQBhAHkAIAB1AHMAZQAgAHQAaABlACAAUgBlAHMAZQByAHYAZQBkACAARgBvAG4AdAAgAE4AYQBtAGUAKABzACkAIAB1AG4AbABlAHMAcwAgAGUAeABwAGwAaQBjAGkAdAAgAHcAcgBpAHQAdABlAG4AIABwAGUAcgBtAGkAcwBzAGkAbwBuACAAaQBzACAAZwByAGEAbgB0AGUAZAAgAGIAeQAgAHQAaABlACAAYwBvAHIAcgBlAHMAcABvAG4AZABpAG4AZwAgAEMAbwBwAHkAcgBpAGcAaAB0ACAASABvAGwAZABlAHIALgAgAFQAaABpAHMAIAByAGUAcwB0AHIAaQBjAHQAaQBvAG4AIABvAG4AbAB5ACAAYQBwAHAAbABpAGUAcwAgAHQAbwAgAHQAaABlACAAcAByAGkAbQBhAHIAeQAgAGYAbwBuAHQAIABuAGEAbQBlACAAYQBzACAAcAByAGUAcwBlAG4AdABlAGQAIAB0AG8AIAB0AGgAZQAgAHUAcwBlAHIAcwAuAA0ACgANAAoANAApACAAVABoAGUAIABuAGEAbQBlACgAcwApACAAbwBmACAAdABoAGUAIABDAG8AcAB5AHIAaQBnAGgAdAAgAEgAbwBsAGQAZQByACgAcwApACAAbwByACAAdABoAGUAIABBAHUAdABoAG8AcgAoAHMAKQAgAG8AZgAgAHQAaABlACAARgBvAG4AdAAgAFMAbwBmAHQAdwBhAHIAZQAgAHMAaABhAGwAbAAgAG4AbwB0ACAAYgBlACAAdQBzAGUAZAAgAHQAbwAgAHAAcgBvAG0AbwB0AGUALAAgAGUAbgBkAG8AcgBzAGUAIABvAHIAIABhAGQAdgBlAHIAdABpAHMAZQAgAGEAbgB5ACAATQBvAGQAaQBmAGkAZQBkACAAVgBlAHIAcwBpAG8AbgAsACAAZQB4AGMAZQBwAHQAIAB0AG8AIABhAGMAawBuAG8AdwBsAGUAZABnAGUAIAB0AGgAZQAgAGMAbwBuAHQAcgBpAGIAdQB0AGkAbwBuACgAcwApACAAbwBmACAAdABoAGUAIABDAG8AcAB5AHIAaQBnAGgAdAAgAEgAbwBsAGQAZQByACgAcwApACAAYQBuAGQAIAB0AGgAZQAgAEEAdQB0AGgAbwByACgAcwApACAAbwByACAAdwBpAHQAaAAgAHQAaABlAGkAcgAgAGUAeABwAGwAaQBjAGkAdAAgAHcAcgBpAHQAdABlAG4AIABwAGUAcgBtAGkAcwBzAGkAbwBuAC4ADQAKAA0ACgA1ACkAIABUAGgAZQAgAEYAbwBuAHQAIABTAG8AZgB0AHcAYQByAGUALAAgAG0AbwBkAGkAZgBpAGUAZAAgAG8AcgAgAHUAbgBtAG8AZABpAGYAaQBlAGQALAAgAGkAbgAgAHAAYQByAHQAIABvAHIAIABpAG4AIAB3AGgAbwBsAGUALAAgAG0AdQBzAHQAIABiAGUAIABkAGkAcwB0AHIAaQBiAHUAdABlAGQAIABlAG4AdABpAHIAZQBsAHkAIAB1AG4AZABlAHIAIAB0AGgAaQBzACAAbABpAGMAZQBuAHMAZQAsACAAYQBuAGQAIABtAHUAcwB0ACAAbgBvAHQAIABiAGUAIABkAGkAcwB0AHIAaQBiAHUAdABlAGQAIAB1AG4AZABlAHIAIABhAG4AeQAgAG8AdABoAGUAcgAgAGwAaQBjAGUAbgBzAGUALgAgAFQAaABlACAAcgBlAHEAdQBpAHIAZQBtAGUAbgB0ACAAZgBvAHIAIABmAG8AbgB0AHMAIAB0AG8AIAByAGUAbQBhAGkAbgAgAHUAbgBkAGUAcgAgAHQAaABpAHMAIABsAGkAYwBlAG4AcwBlACAAZABvAGUAcwAgAG4AbwB0ACAAYQBwAHAAbAB5ACAAdABvACAAYQBuAHkAIABkAG8AYwB1AG0AZQBuAHQAIABjAHIAZQBhAHQAZQBkACAAdQBzAGkAbgBnACAAdABoAGUAIABGAG8AbgB0ACAAUwBvAGYAdAB3AGEAcgBlAC4ADQAKAA0ACgBUAEUAUgBNAEkATgBBAFQASQBPAE4ADQAKAFQAaABpAHMAIABsAGkAYwBlAG4AcwBlACAAYgBlAGMAbwBtAGUAcwAgAG4AdQBsAGwAIABhAG4AZAAgAHYAbwBpAGQAIABpAGYAIABhAG4AeQAgAG8AZgAgAHQAaABlACAAYQBiAG8AdgBlACAAYwBvAG4AZABpAHQAaQBvAG4AcwAgAGEAcgBlACAAbgBvAHQAIABtAGUAdAAuAA0ACgANAAoARABJAFMAQwBMAEEASQBNAEUAUgANAAoAVABIAEUAIABGAE8ATgBUACAAUwBPAEYAVABXAEEAUgBFACAASQBTACAAUABSAE8AVgBJAEQARQBEACAAIgBBAFMAIABJAFMAIgAsACAAVwBJAFQASABPAFUAVAAgAFcAQQBSAFIAQQBOAFQAWQAgAE8ARgAgAEEATgBZACAASwBJAE4ARAAsACAARQBYAFAAUgBFAFMAUwAgAE8AUgAgAEkATQBQAEwASQBFAEQALAAgAEkATgBDAEwAVQBEAEkATgBHACAAQgBVAFQAIABOAE8AVAAgAEwASQBNAEkAVABFAEQAIABUAE8AIABBAE4AWQAgAFcAQQBSAFIAQQBOAFQASQBFAFMAIABPAEYAIABNAEUAUgBDAEgAQQBOAFQAQQBCAEkATABJAFQAWQAsACAARgBJAFQATgBFAFMAUwAgAEYATwBSACAAQQAgAFAAQQBSAFQASQBDAFUATABBAFIAIABQAFUAUgBQAE8AUwBFACAAQQBOAEQAIABOAE8ATgBJAE4ARgBSAEkATgBHAEUATQBFAE4AVAAgAE8ARgAgAEMATwBQAFkAUgBJAEcASABUACwAIABQAEEAVABFAE4AVAAsACAAVABSAEEARABFAE0AQQBSAEsALAAgAE8AUgAgAE8AVABIAEUAUgAgAFIASQBHAEgAVAAuACAASQBOACAATgBPACAARQBWAEUATgBUACAAUwBIAEEATABMACAAVABIAEUAIABDAE8AUABZAFIASQBHAEgAVAAgAEgATwBMAEQARQBSACAAQgBFACAATABJAEEAQgBMAEUAIABGAE8AUgAgAEEATgBZACAAQwBMAEEASQBNACwAIABEAEEATQBBAEcARQBTACAATwBSACAATwBUAEgARQBSACAATABJAEEAQgBJAEwASQBUAFkALAAgAEkATgBDAEwAVQBEAEkATgBHACAAQQBOAFkAIABHAEUATgBFAFIAQQBMACwAIABTAFAARQBDAEkAQQBMACwAIABJAE4ARABJAFIARQBDAFQALAAgAEkATgBDAEkARABFAE4AVABBAEwALAAgAE8AUgAgAEMATwBOAFMARQBRAFUARQBOAFQASQBBAEwAIABEAEEATQBBAEcARQBTACwAIABXAEgARQBUAEgARQBSACAASQBOACAAQQBOACAAQQBDAFQASQBPAE4AIABPAEYAIABDAE8ATgBUAFIAQQBDAFQALAAgAFQATwBSAFQAIABPAFIAIABPAFQASABFAFIAVwBJAFMARQAsACAAQQBSAEkAUwBJAE4ARwAgAEYAUgBPAE0ALAAgAE8AVQBUACAATwBGACAAVABIAEUAIABVAFMARQAgAE8AUgAgAEkATgBBAEIASQBMAEkAVABZACAAVABPACAAVQBTAEUAIABUAEgARQAgAEYATwBOAFQAIABTAE8ARgBUAFcAQQBSAEUAIABPAFIAIABGAFIATwBNACAATwBUAEgARQBSACAARABFAEEATABJAE4ARwBTACAASQBOACAAVABIAEUAIABGAE8ATgBUACAAUwBPAEYAVABXAEEAUgBFAC4ADQAKAGgAdAB0AHAAOgAvAC8AdwB3AHcALgBhAGQAbwBiAGUALgBjAG8AbQAvAHQAeQBwAGUALwBsAGUAZwBhAGwALgBoAHQAbQBsAAAAAAAFAAAAAwAAADgAAAAEAAABUAABAAAAAAAsAAMAAQAAADgAAwAKAAABUAAGAAwAAAAAAAEAAAAEARgAAABCAEAABQACB/8P/xf/H/8n/y//N/8//0f/T/9X/1//Z/9v/3f/f/+H/4//l/+f/6f/r/+3/7//x//P/9f/5//v//f//c///f//AAAAAAgAEAAYACAAKAAwADgAQABIAFAAWABgAGgAcAB4AIAAiACQAJgAoACoALAAuADAAMgA0ADgAOgA8AD4AP3w//8AAfgB8AHoAeAB2AHQAcgBwAG4AbABqAGgAZgBkAGIAYABeAFwAWgBYAFYAVABSAFAATgBMAEgARgBEAEIAQgBAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAZkAAAAAAAAAIgAAAAAAAAB/8AAAABAAAIAAAAD/8AAAABAAAQAAAAF/8AAAABAAAYAAAAH/8AAAABAAAgAAAAJ/8AAAABAAAoAAAAL/8AAAABAAAwAAAAN/8AAAABAAA4AAAAP/8AAAABAABAAAAAR/8AAAABAABIAAAAT/8AAAABAABQAAAAV/8AAAABAABYAAAAX/8AAAABAABgAAAAZ/8AAAABAABoAAAAb/8AAAABAABwAAAAd/8AAAABAAB4AAAAf/8AAAABAACAAAAAh/8AAAABAACIAAAAj/8AAAABAACQAAAAl/8AAAABAACYAAAAn/8AAAABAACgAAAAp/8AAAABAACoAAAAr/8AAAABAACwAAAAt/8AAAABAAC4AAAAv/8AAAABAADAAAAAx/8AAAABAADIAAAAz/8AAAABAADQAAAA1/8AAAABAADgAAAA5/8AAAABAADoAAAA7/8AAAABAADwAAAA9/8AAAABAAD4AAAA/c8AAAABAAD98AAA//0AAAXxAAEAAAABB/8AAAABAAEIAAABD/8AAAABAAEQAAABF/8AAAABAAEYAAABH/8AAAABAAEgAAABJ/8AAAABAAEoAAABL/8AAAABAAEwAAABN/8AAAABAAE4AAABP/8AAAABAAFAAAABR/8AAAABAAFIAAABT/8AAAABAAFQAAABV/8AAAABAAFYAAABX/8AAAABAAFgAAABZ/8AAAABAAFoAAABb/8AAAABAAFwAAABd/8AAAABAAF4AAABf/8AAAABAAGAAAABh/8AAAABAAGIAAABj/8AAAABAAGQAAABl/8AAAABAAGYAAABn/8AAAABAAGgAAABp/8AAAABAAGoAAABr/8AAAABAAGwAAABt/8AAAABAAG4AAABv/8AAAABAAHAAAABx/8AAAABAAHIAAABz/8AAAABAAHQAAAB1/8AAAABAAHYAAAB3/8AAAABAAHgAAAB5/8AAAABAAHoAAAB7/8AAAABAAHwAAAB9/8AAAABAAH4AAAB//0AAAABAAIAAAACB/8AAAABAAIIAAACD/8AAAABAAIQAAACF/8AAAABAAIYAAACH/8AAAABAAIgAAACJ/8AAAABAAIoAAACL/8AAAABAAIwAAACN/8AAAABAAI4AAACP/8AAAABAAJAAAACR/8AAAABAAJIAAACT/8AAAABAAJQAAACV/8AAAABAAJYAAACX/8AAAABAAJgAAACZ/8AAAABAAJoAAACb/8AAAABAAJwAAACd/8AAAABAAJ4AAACf/8AAAABAAKAAAACh/8AAAABAAKIAAACj/8AAAABAAKQAAACl/8AAAABAAKYAAACn/8AAAABAAKgAAACp/8AAAABAAKoAAACr/8AAAABAAKwAAACt/8AAAABAAK4AAACv/8AAAABAALAAAACx/8AAAABAALIAAACz/8AAAABAALQAAAC1/8AAAABAALYAAAC3/8AAAABAALgAAAC5/8AAAABAALoAAAC7/8AAAABAALwAAAC9/8AAAABAAL4AAAC//0AAAABAAMAAAADB/8AAAABAAMIAAADD/8AAAABAAMQAAADF/8AAAABAAMYAAADH/8AAAABAAMgAAADJ/8AAAABAAMoAAADL/8AAAABAAMwAAADN/8AAAABAAM4AAADP/8AAAABAANAAAADR/8AAAABAANIAAADT/8AAAABAANQAAADV/8AAAABAANYAAADX/8AAAABAANgAAADZ/8AAAABAANoAAADb/8AAAABAANwAAADd/8AAAABAAN4AAADf/8AAAABAAOAAAADh/8AAAABAAOIAAADj/8AAAABAAOQAAADl/8AAAABAAOYAAADn/8AAAABAAOgAAADp/8AAAABAAOoAAADr/8AAAABAAOwAAADt/8AAAABAAO4AAADv/8AAAABAAPAAAADx/8AAAABAAPIAAADz/8AAAABAAPQAAAD1/8AAAABAAPYAAAD3/8AAAABAAPgAAAD5/8AAAABAAPoAAAD7/8AAAABAAPwAAAD9/8AAAABAAP4AAAD//0AAAABAAQAAAAEB/8AAAABAAQIAAAED/8AAAABAAQQAAAEF/8AAAABAAQYAAAEH/8AAAABAAQgAAAEJ/8AAAABAAQoAAAEL/8AAAABAAQwAAAEN/8AAAABAAQ4AAAEP/8AAAABAARAAAAER/8AAAABAARIAAAET/8AAAABAARQAAAEV/8AAAABAARYAAAEX/8AAAABAARgAAAEZ/8AAAABAARoAAAEb/8AAAABAARwAAAEd/8AAAABAAR4AAAEf/8AAAABAASAAAAEh/8AAAABAASIAAAEj/8AAAABAASQAAAEl/8AAAABAASYAAAEn/8AAAABAASgAAAEp/8AAAABAASoAAAEr/8AAAABAASwAAAEt/8AAAABAAS4AAAEv/8AAAABAATAAAAEx/8AAAABAATIAAAEz/8AAAABAATQAAAE1/8AAAABAATYAAAE3/8AAAABAATgAAAE5/8AAAABAAToAAAE7/8AAAABAATwAAAE9/8AAAABAAT4AAAE//0AAAABAAUAAAAFB/8AAAABAAUIAAAFD/8AAAABAAUQAAAFF/8AAAABAAUYAAAFH/8AAAABAAUgAAAFJ/8AAAABAAUoAAAFL/8AAAABAAUwAAAFN/8AAAABAAU4AAAFP/8AAAABAAVAAAAFR/8AAAABAAVIAAAFT/8AAAABAAVQAAAFV/8AAAABAAVYAAAFX/8AAAABAAVgAAAFZ/8AAAABAAVoAAAFb/8AAAABAAVwAAAFd/8AAAABAAV4AAAFf/8AAAABAAWAAAAFh/8AAAABAAWIAAAFj/8AAAABAAWQAAAFl/8AAAABAAWYAAAFn/8AAAABAAWgAAAFp/8AAAABAAWoAAAFr/8AAAABAAWwAAAFt/8AAAABAAW4AAAFv/8AAAABAAXAAAAFx/8AAAABAAXIAAAFz/8AAAABAAXQAAAF1/8AAAABAAXYAAAF3/8AAAABAAXgAAAF5/8AAAABAAXoAAAF7/8AAAABAAXwAAAF9/8AAAABAAX4AAAF//0AAAABAAYAAAAGB/8AAAABAAYIAAAGD/8AAAABAAYQAAAGF/8AAAABAAYYAAAGH/8AAAABAAYgAAAGJ/8AAAABAAYoAAAGL/8AAAABAAYwAAAGN/8AAAABAAY4AAAGP/8AAAABAAZAAAAGR/8AAAABAAZIAAAGT/8AAAABAAZQAAAGV/8AAAABAAZYAAAGX/8AAAABAAZgAAAGZ/8AAAABAAZoAAAGb/8AAAABAAZwAAAGd/8AAAABAAZ4AAAGf/8AAAABAAaAAAAGh/8AAAABAAaIAAAGj/8AAAABAAaQAAAGl/8AAAABAAaYAAAGn/8AAAABAAagAAAGp/8AAAABAAaoAAAGr/8AAAABAAawAAAGt/8AAAABAAa4AAAGv/8AAAABAAbAAAAGx/8AAAABAAbIAAAGz/8AAAABAAbQAAAG1/8AAAABAAbYAAAG3/8AAAABAAbgAAAG5/8AAAABAAboAAAG7/8AAAABAAbwAAAG9/8AAAABAAb4AAAG//0AAAABAAcAAAAHB/8AAAABAAcIAAAHD/8AAAABAAcQAAAHF/8AAAABAAcYAAAHH/8AAAABAAcgAAAHJ/8AAAABAAcoAAAHL/8AAAABAAcwAAAHN/8AAAABAAc4AAAHP/8AAAABAAdAAAAHR/8AAAABAAdIAAAHT/8AAAABAAdQAAAHV/8AAAABAAdYAAAHX/8AAAABAAdgAAAHZ/8AAAABAAdoAAAHb/8AAAABAAdwAAAHd/8AAAABAAd4AAAHf/8AAAABAAeAAAAHh/8AAAABAAeIAAAHj/8AAAABAAeQAAAHl/8AAAABAAeYAAAHn/8AAAABAAegAAAHp/8AAAABAAeoAAAHr/8AAAABAAewAAAHt/8AAAABAAe4AAAHv/8AAAABAAfAAAAHx/8AAAABAAfIAAAHz/8AAAABAAfQAAAH1/8AAAABAAfYAAAH3/8AAAABAAfgAAAH5/8AAAABAAfoAAAH7/8AAAABAAfwAAAH9/8AAAABAAf4AAAH//0AAAABAAgAAAAIB/8AAAABAAgIAAAID/8AAAABAAgQAAAIF/8AAAABAAgYAAAIH/8AAAABAAggAAAIJ/8AAAABAAgoAAAIL/8AAAABAAgwAAAIN/8AAAABAAg4AAAIP/8AAAABAAhAAAAIR/8AAAABAAhIAAAIT/8AAAABAAhQAAAIV/8AAAABAAhYAAAIX/8AAAABAAhgAAAIZ/8AAAABAAhoAAAIb/8AAAABAAhwAAAId/8AAAABAAh4AAAIf/8AAAABAAiAAAAIh/8AAAABAAiIAAAIj/8AAAABAAiQAAAIl/8AAAABAAiYAAAIn/8AAAABAAigAAAIp/8AAAABAAioAAAIr/8AAAABAAiwAAAIt/8AAAABAAi4AAAIv/8AAAABAAjAAAAIx/8AAAABAAjIAAAIz/8AAAABAAjQAAAI1/8AAAABAAjYAAAI3/8AAAABAAjgAAAI5/8AAAABAAjoAAAI7/8AAAABAAjwAAAI9/8AAAABAAj4AAAI//0AAAABAAkAAAAJB/8AAAABAAkIAAAJD/8AAAABAAkQAAAJF/8AAAABAAkYAAAJH/8AAAABAAkgAAAJJ/8AAAABAAkoAAAJL/8AAAABAAkwAAAJN/8AAAABAAk4AAAJP/8AAAABAAlAAAAJR/8AAAABAAlIAAAJT/8AAAABAAlQAAAJV/8AAAABAAlYAAAJX/8AAAABAAlgAAAJZ/8AAAABAAloAAAJb/8AAAABAAlwAAAJd/8AAAABAAl4AAAJf/8AAAABAAmAAAAJh/8AAAABAAmIAAAJj/8AAAABAAmQAAAJl/8AAAABAAmYAAAJn/8AAAABAAmgAAAJp/8AAAABAAmoAAAJr/8AAAABAAmwAAAJt/8AAAABAAm4AAAJv/8AAAABAAnAAAAJx/8AAAABAAnIAAAJz/8AAAABAAnQAAAJ1/8AAAABAAnYAAAJ3/8AAAABAAngAAAJ5/8AAAABAAnoAAAJ7/8AAAABAAnwAAAJ9/8AAAABAAn4AAAJ//0AAAABAAoAAAAKB/8AAAABAAoIAAAKD/8AAAABAAoQAAAKF/8AAAABAAoYAAAKH/8AAAABAAogAAAKJ/8AAAABAAooAAAKL/8AAAABAAowAAAKN/8AAAABAAo4AAAKP/8AAAABAApAAAAKR/8AAAABAApIAAAKT/8AAAABAApQAAAKV/8AAAABAApYAAAKX/8AAAABAApgAAAKZ/8AAAABAApoAAAKb/8AAAABAApwAAAKd/8AAAABAAp4AAAKf/8AAAABAAqAAAAKh/8AAAABAAqIAAAKj/8AAAABAAqQAAAKl/8AAAABAAqYAAAKn/8AAAABAAqgAAAKp/8AAAABAAqoAAAKr/8AAAABAAqwAAAKt/8AAAABAAq4AAAKv/8AAAABAArAAAAKx/8AAAABAArIAAAKz/8AAAABAArQAAAK1/8AAAABAArYAAAK3/8AAAABAArgAAAK5/8AAAABAAroAAAK7/8AAAABAArwAAAK9/8AAAABAAr4AAAK//0AAAABAAsAAAALB/8AAAABAAsIAAALD/8AAAABAAsQAAALF/8AAAABAAsYAAALH/8AAAABAAsgAAALJ/8AAAABAAsoAAALL/8AAAABAAswAAALN/8AAAABAAs4AAALP/8AAAABAAtAAAALR/8AAAABAAtIAAALT/8AAAABAAtQAAALV/8AAAABAAtYAAALX/8AAAABAAtgAAALZ/8AAAABAAtoAAALb/8AAAABAAtwAAALd/8AAAABAAt4AAALf/8AAAABAAuAAAALh/8AAAABAAuIAAALj/8AAAABAAuQAAALl/8AAAABAAuYAAALn/8AAAABAAugAAALp/8AAAABAAuoAAALr/8AAAABAAuwAAALt/8AAAABAAu4AAALv/8AAAABAAvAAAALx/8AAAABAAvIAAALz/8AAAABAAvQAAAL1/8AAAABAAvYAAAL3/8AAAABAAvgAAAL5/8AAAABAAvoAAAL7/8AAAABAAvwAAAL9/8AAAABAAv4AAAL//0AAAABAAwAAAAMB/8AAAABAAwIAAAMD/8AAAABAAwQAAAMF/8AAAABAAwYAAAMH/8AAAABAAwgAAAMJ/8AAAABAAwoAAAML/8AAAABAAwwAAAMN/8AAAABAAw4AAAMP/8AAAABAAxAAAAMR/8AAAABAAxIAAAMT/8AAAABAAxQAAAMV/8AAAABAAxYAAAMX/8AAAABAAxgAAAMZ/8AAAABAAxoAAAMb/8AAAABAAxwAAAMd/8AAAABAAx4AAAMf/8AAAABAAyAAAAMh/8AAAABAAyIAAAMj/8AAAABAAyQAAAMl/8AAAABAAyYAAAMn/8AAAABAAygAAAMp/8AAAABAAyoAAAMr/8AAAABAAywAAAMt/8AAAABAAy4AAAMv/8AAAABAAzAAAAMx/8AAAABAAzIAAAMz/8AAAABAAzQAAAM1/8AAAABAAzYAAAM3/8AAAABAAzgAAAM5/8AAAABAAzoAAAM7/8AAAABAAzwAAAM9/8AAAABAAz4AAAM//0AAAABAA0AAAANB/8AAAABAA0IAAAND/8AAAABAA0QAAANF/8AAAABAA0YAAANH/8AAAABAA0gAAANJ/8AAAABAA0oAAANL/8AAAABAA0wAAANN/8AAAABAA04AAANP/8AAAABAA1AAAANR/8AAAABAA1IAAANT/8AAAABAA1QAAANV/8AAAABAA1YAAANX/8AAAABAA1gAAANZ/8AAAABAA1oAAANb/8AAAABAA1wAAANd/8AAAABAA14AAANf/8AAAABAA2AAAANh/8AAAABAA2IAAANj/8AAAABAA2QAAANl/8AAAABAA2YAAANn/8AAAABAA2gAAANp/8AAAABAA2oAAANr/8AAAABAA2wAAANt/8AAAABAA24AAANv/8AAAABAA3AAAANx/8AAAABAA3IAAANz/8AAAABAA3QAAAN1/8AAAABAA3YAAAN3/8AAAABAA3gAAAN5/8AAAABAA3oAAAN7/8AAAABAA3wAAAN9/8AAAABAA34AAAN//0AAAABAA4AAAAOB/8AAAABAA4IAAAOD/8AAAABAA4QAAAOF/8AAAABAA4YAAAOH/8AAAABAA4gAAAOJ/8AAAABAA4oAAAOL/8AAAABAA4wAAAON/8AAAABAA44AAAOP/8AAAABAA5AAAAOR/8AAAABAA5IAAAOT/8AAAABAA5QAAAOV/8AAAABAA5YAAAOX/8AAAABAA5gAAAOZ/8AAAABAA5oAAAOb/8AAAABAA5wAAAOd/8AAAABAA54AAAOf/8AAAABAA6AAAAOh/8AAAABAA6IAAAOj/8AAAABAA6QAAAOl/8AAAABAA6YAAAOn/8AAAABAA6gAAAOp/8AAAABAA6oAAAOr/8AAAABAA6wAAAOt/8AAAABAA64AAAOv/8AAAABAA7AAAAOx/8AAAABAA7IAAAOz/8AAAABAA7QAAAO1/8AAAABAA7YAAAO3/8AAAABAA7gAAAO5/8AAAABAA7oAAAO7/8AAAABAA7wAAAO9/8AAAABAA74AAAO//0AAAABAA8AAAAPB/8AAAABAA8IAAAPD/8AAAABAA8QAAAPF/8AAAABAA8YAAAPH/8AAAABAA8gAAAPJ/8AAAABAA8oAAAPL/8AAAABAA8wAAAPN/8AAAABAA84AAAPP/8AAAABAA9AAAAPR/8AAAABAA9IAAAPT/8AAAABAA9QAAAPV/8AAAABAA9YAAAPX/8AAAABAA9gAAAPZ/8AAAABAA9oAAAPb/8AAAABAA9wAAAPd/8AAAABAA94AAAPf/8AAAABAA+AAAAPh/8AAAABAA+IAAAPj/8AAAABAA+QAAAPl/8AAAABAA+YAAAPn/8AAAABAA+gAAAPp/8AAAABAA+oAAAPr/8AAAABAA+wAAAPt/8AAAABAA+4AAAPv/8AAAABAA/AAAAPx/8AAAABAA/IAAAPz/8AAAABAA/QAAAP1/8AAAABAA/YAAAP3/8AAAABAA/gAAAP5/8AAAABAA/oAAAP7/8AAAABAA/wAAAP9/8AAAABAA/4AAAP//0AAAABABAAAAAQB/8AAAABABAIAAAQD/8AAAABABAQAAAQF/8AAAABABAYAAAQH/8AAAABABAgAAAQJ/8AAAABABAoAAAQL/8AAAABABAwAAAQN/8AAAABABA4AAAQP/8AAAABABBAAAAQR/8AAAABABBIAAAQT/8AAAABABBQAAAQV/8AAAABABBYAAAQX/8AAAABABBgAAAQZ/8AAAABABBoAAAQb/8AAAABABBwAAAQd/8AAAABABB4AAAQf/8AAAABABCAAAAQh/8AAAABABCIAAAQj/8AAAABABCQAAAQl/8AAAABABCYAAAQn/8AAAABABCgAAAQp/8AAAABABCoAAAQr/8AAAABABCwAAAQt/8AAAABABC4AAAQv/8AAAABABDAAAAQx/8AAAABABDIAAAQz/8AAAABABDQAAAQ1/8AAAABABDYAAAQ3/8AAAABABDgAAAQ5/8AAAABABDoAAAQ7/8AAAABABDwAAAQ9/8AAAABABD4AAAQ//0AAAABAAMAAAAAAAD/tQAyAAAAAAAAAAAAAAAAAAAAAAAAAAABAAQCAAEBAQtBZG9iZUJsYW5rAAEBATD4G/gciwwe+B0B+B4Ci/sM+gD6BAUeGgA/DB8cCAEMIvdMD/dZEfdRDCUcGRYMJAAFAQEGDk1YZ0Fkb2JlSWRlbnRpdHlDb3B5cmlnaHQgMjAxMyBBZG9iZSBTeXN0ZW1zIEluY29ycG9yYXRlZC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5BZG9iZSBCbGFua0Fkb2JlQmxhbmstMjA0OQAAAgABB/8DAAEAAAAIAQgBAgABAEsATABNAE4ATwBQAFEAUgBTAFQAVQBWAFcAWABZAFoAWwBcAF0AXgBfAGAAYQBiAGMAZABlAGYAZwBoAGkAagBrAGwAbQBuAG8AcABxAHIAcwB0AHUAdgB3AHgAeQB6AHsAfAB9AH4AfwCAAIEAggCDAIQAhQCGAIcAiACJAIoAiwCMAI0AjgCPAJAAkQCSAJMAlACVAJYAlwCYAJkAmgCbAJwAnQCeAJ8AoAChAKIAowCkAKUApgCnAKgAqQCqAKsArACtAK4ArwCwALEAsgCzALQAtQC2ALcAuAC5ALoAuwC8AL0AvgC/AMAAwQDCAMMAxADFAMYAxwDIAMkAygDLAMwAzQDOAM8A0ADRANIA0wDUANUA1gDXANgA2QDaANsA3ADdAN4A3wDgAOEA4gDjAOQA5QDmAOcA6ADpAOoA6wDsAO0A7gDvAPAA8QDyAPMA9AD1APYA9wD4APkA+gD7APwA/QD+AP8BAAEBAQIBAwEEAQUBBgEHAQgBCQEKAQsBDAENAQ4BDwEQAREBEgETARQBFQEWARcBGAEZARoBGwEcAR0BHgEfASABIQEiASMBJAElASYBJwEoASkBKgErASwBLQEuAS8BMAExATIBMwE0ATUBNgE3ATgBOQE6ATsBPAE9AT4BPwFAAUEBQgFDAUQBRQFGAUcBSAFJAUoBSwFMAU0BTgFPAVABUQFSAVMBVAFVAVYBVwFYAVkBWgFbAVwBXQFeAV8BYAFhAWIBYwFkAWUBZgFnAWgBaQFqAWsBbAFtAW4BbwFwAXEBcgFzAXQBdQF2AXcBeAF5AXoBewF8AX0BfgF/AYABgQGCAYMBhAGFAYYBhwGIAYkBigGLAYwBjQGOAY8BkAGRAZIBkwGUAZUBlgGXAZgBmQGaAZsBnAGdAZ4BnwGgAaEBogGjAaQBpQGmAacBqAGpAaoBqwGsAa0BrgGvAbABsQGyAbMBtAG1AbYBtwG4AbkBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgHHAcgByQHKAcsBzAHNAc4BzwHQAdEB0gHTAdQB1QHWAdcB2AHZAdoB2wHcAd0B3gHfAeAB4QHiAeMB5AHlAeYB5wHoAekB6gHrAewB7QHuAe8B8AHxAfIB8wH0AfUB9gH3AfgB+QH6AfsB/AH9Af4B/wIAAgECAgIDAgQCBQIGAgcCCAIJAgoCCwIMAg0CDgIPAhACEQISAhMCFAIVAhYCFwIYAhkCGgIbAhwCHQIeAh8CIAIhAiICIwIkAiUCJgInAigCKQIqAisCLAItAi4CLwIwAjECMgIzAjQCNQI2AjcCOAI5AjoCOwI8Aj0CPgI/AkACQQJCAkMCRAJFAkYCRwJIAkkCSgJLAkwCTQJOAk8CUAJRAlICUwJUAlUCVgJXAlgCWQJaAlsCXAJdAl4CXwJgAmECYgJjAmQCZQJmAmcCaAJpAmoCawJsAm0CbgJvAnACcQJyAnMCdAJ1AnYCdwJ4AnkCegJ7AnwCfQJ+An8CgAKBAoICgwKEAoUChgKHAogCiQKKAosCjAKNAo4CjwKQApECkgKTApQClQKWApcCmAKZApoCmwKcAp0CngKfAqACoQKiAqMCpAKlAqYCpwKoAqkCqgKrAqwCrQKuAq8CsAKxArICswK0ArUCtgK3ArgCuQK6ArsCvAK9Ar4CvwLAAsECwgLDAsQCxQLGAscCyALJAsoCywLMAs0CzgLPAtAC0QLSAtMC1ALVAtYC1wLYAtkC2gLbAtwC3QLeAt8C4ALhAuIC4wLkAuUC5gLnAugC6QLqAusC7ALtAu4C7wLwAvEC8gLzAvQC9QL2AvcC+AL5AvoC+wL8Av0C/gL/AwADAQMCAwMDBAMFAwYDBwMIAwkDCgMLAwwDDQMOAw8DEAMRAxIDEwMUAxUDFgMXAxgDGQMaAxsDHAMdAx4DHwMgAyEDIgMjAyQDJQMmAycDKAMpAyoDKwMsAy0DLgMvAzADMQMyAzMDNAM1AzYDNwM4AzkDOgM7AzwDPQM+Az8DQANBA0IDQwNEA0UDRgNHA0gDSQNKA0sDTANNA04DTwNQA1EDUgNTA1QDVQNWA1cDWANZA1oDWwNcA10DXgNfA2ADYQNiA2MDZANlA2YDZwNoA2kDagNrA2wDbQNuA28DcANxA3IDcwN0A3UDdgN3A3gDeQN6A3sDfAN9A34DfwOAA4EDggODA4QDhQOGA4cDiAOJA4oDiwOMA40DjgOPA5ADkQOSA5MDlAOVA5YDlwOYA5kDmgObA5wDnQOeA58DoAOhA6IDowOkA6UDpgOnA6gDqQOqA6sDrAOtA64DrwOwA7EDsgOzA7QDtQO2A7cDuAO5A7oDuwO8A70DvgO/A8ADwQPCA8MDxAPFA8YDxwPIA8kDygPLA8wDzQPOA88D0APRA9ID0wPUA9UD1gPXA9gD2QPaA9sD3APdA94D3wPgA+ED4gPjA+QD5QPmA+cD6APpA+oD6wPsA+0D7gPvA/AD8QPyA/MD9AP1A/YD9wP4A/kD+gP7A/wD/QP+A/8EAAQBBAIEAwQEBAUEBgQHBAgECQQKBAsEDAQNBA4EDwQQBBEEEgQTBBQEFQQWBBcEGAQZBBoEGwQcBB0EHgQfBCAEIQQiBCMEJAQlBCYEJwQoBCkEKgQrBCwELQQuBC8EMAQxBDIEMwQ0BDUENgQ3BDgEOQQ6BDsEPAQ9BD4EPwRABEEEQgRDBEQERQRGBEcESARJBEoESwRMBE0ETgRPBFAEUQRSBFMEVARVBFYEVwRYBFkEWgRbBFwEXQReBF8EYARhBGIEYwRkBGUEZgRnBGgEaQRqBGsEbARtBG4EbwRwBHEEcgRzBHQEdQR2BHcEeAR5BHoEewR8BH0EfgR/BIAEgQSCBIMEhASFBIYEhwSIBIkEigSLBIwEjQSOBI8EkASRBJIEkwSUBJUElgSXBJgEmQSaBJsEnASdBJ4EnwSgBKEEogSjBKQEpQSmBKcEqASpBKoEqwSsBK0ErgSvBLAEsQSyBLMEtAS1BLYEtwS4BLkEugS7BLwEvQS+BL8EwATBBMIEwwTEBMUExgTHBMgEyQTKBMsEzATNBM4EzwTQBNEE0gTTBNQE1QTWBNcE2ATZBNoE2wTcBN0E3gTfBOAE4QTiBOME5ATlBOYE5wToBOkE6gTrBOwE7QTuBO8E8ATxBPIE8wT0BPUE9gT3BPgE+QT6BPsE/AT9BP4E/wUABQEFAgUDBQQFBQUGBQcFCAUJBQoFCwUMBQ0FDgUPBRAFEQUSBRMFFAUVBRYFFwUYBRkFGgUbBRwFHQUeBR8FIAUhBSIFIwUkBSUFJgUnBSgFKQUqBSsFLAUtBS4FLwUwBTEFMgUzBTQFNQU2BTcFOAU5BToFOwU8BT0FPgU/BUAFQQVCBUMFRAVFBUYFRwVIBUkFSgVLBUwFTQVOBU8FUAVRBVIFUwVUBVUFVgVXBVgFWQVaBVsFXAVdBV4FXwVgBWEFYgVjBWQFZQVmBWcFaAVpBWoFawVsBW0FbgVvBXAFcQVyBXMFdAV1BXYFdwV4BXkFegV7BXwFfQV+BX8FgAWBBYIFgwWEBYUFhgWHBYgFiQWKBYsFjAWNBY4FjwWQBZEFkgWTBZQFlQWWBZcFmAWZBZoFmwWcBZ0FngWfBaAFoQWiBaMFpAWlBaYFpwWoBakFqgWrBawFrQWuBa8FsAWxBbIFswW0BbUFtgW3BbgFuQW6BbsFvAW9Bb4FvwXABcEFwgXDBcQFxQXGBccFyAXJBcoFywXMBc0FzgXPBdAF0QXSBdMF1AXVBdYF1wXYBdkF2gXbBdwF3QXeBd8F4AXhBeIF4wXkBeUF5gXnBegF6QXqBesF7AXtBe4F7wXwBfEF8gXzBfQF9QX2BfcF+AX5BfoF+wX8Bf0F/gX/BgAGAQYCBgMGBAYFBgYGBwYIBgkGCgYLBgwGDQYOBg8GEAYRBhIGEwYUBhUGFgYXBhgGGQYaBhsGHAYdBh4GHwYgBiEGIgYjBiQGJQYmBicGKAYpBioGKwYsBi0GLgYvBjAGMQYyBjMGNAY1BjYGNwY4BjkGOgY7BjwGPQY+Bj8GQAZBBkIGQwZEBkUGRgZHBkgGSQZKBksGTAZNBk4GTwZQBlEGUgZTBlQGVQZWBlcGWAZZBloGWwZcBl0GXgZfBmAGYQZiBmMGZAZlBmYGZwZoBmkGagZrBmwGbQZuBm8GcAZxBnIGcwZ0BnUGdgZ3BngGeQZ6BnsGfAZ9Bn4GfwaABoEGggaDBoQGhQaGBocGiAaJBooGiwaMBo0GjgaPBpAGkQaSBpMGlAaVBpYGlwaYBpkGmgabBpwGnQaeBp8GoAahBqIGowakBqUGpganBqgGqQaqBqsGrAatBq4GrwawBrEGsgazBrQGtQa2BrcGuAa5BroGuwa8Br0Gvga/BsAGwQbCBsMGxAbFBsYGxwbIBskGygbLBswGzQbOBs8G0AbRBtIG0wbUBtUG1gbXBtgG2QbaBtsG3AbdBt4G3wbgBuEG4gbjBuQG5QbmBucG6AbpBuoG6wbsBu0G7gbvBvAG8QbyBvMG9Ab1BvYG9wb4BvkG+gb7BvwG/Qb+Bv8HAAcBBwIHAwcEBwUHBgcHBwgHCQcKBwsHDAcNBw4HDwcQBxEHEgcTBxQHFQcWBxcHGAcZBxoHGwccBx0HHgcfByAHIQciByMHJAclByYHJwcoBykHKgcrBywHLQcuBy8HMAcxBzIHMwc0BzUHNgc3BzgHOQc6BzsHPAc9Bz4HPwdAB0EHQgdDB0QHRQdGB0cHSAdJB0oHSwdMB00HTgdPB1AHUQdSB1MHVAdVB1YHVwdYB1kHWgdbB1wHXQdeB18HYAdhB2IHYwdkB2UHZgdnB2gHaQdqB2sHbAdtB24HbwdwB3EHcgdzB3QHdQd2B3cHeAd5B3oHewd8B30Hfgd/B4AHgQeCB4MHhAeFB4YHhweIB4kHigeLB4wHjQeOB48HkAeRB5IHkweUB5UHlgeXB5gHmQeaB5sHnAedB54HnwegB6EHogejB6QHpQemB6cHqAepB6oHqwesB60HrgevB7AHsQeyB7MHtAe1B7YHtwe4B7kHuge7B7wHvQe+B78HwAfBB8IHwwfEB8UHxgfHB8gHyQfKB8sHzAfNB84HzwfQB9EH0gfTB9QH1QfWB9cH2AfZB9oH2wfcB90H3gffB+AH4QfiB+MH5AflB+YH5wfoB+kH6gfrB+wH7QfuB+8H8AfxB/IH8wf0B/UH9gf3B/gH+Qf6B/sH/Af9B/4H/wgACAEIAggDCAQIBQgGCAcICAgJCAoICwgMCA0IDggPCBAIEQgSCBMIFAgVCBYIFwgYCBkIGggbCBwIHQgeCB8IIAghCCIIIwgkCCUIJggnCCgIKQgqCCsILAgtCC4ILwgwCDEIMggzCDQINQg2CDcIOAg5CDoIOwg8CD0IPgg/CEAIQQhCCEMIRAhFCEYIRwhICEkISghLIPsMt/oktwH3ELf5LLcD9xD6BBX+fPmE+nwH/Vj+JxX50gf3xfwzBaawFfvF+DcF+PYGpmIV/dIH+8X4MwVwZhX3xfw3Bfz2Bg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODgABAQEK+B8MJpocGSQS+46LHAVGiwa9Cr0L+ucVAAPoAHwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAA') format('truetype'); }",
        R5 = "cursive",
        r5 = "serif",
        T5 = "AdobeBlank",
        a5 = " !\"\\#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}~",
        x5 = 11.0,
        f5 = "MSIE ([0-9]{1,}[.0-9]{0,})",
        A5 = /MSIE/i.test(navigator.userAgent),
        u5 = d6t.B3x;
    if (A5) {
        var B5, D5;
        B5 = new RegExp(f5);
        D5 = B5.exec(navigator.userAgent);
        if (D5 !== d6t.B3x) {
            u5 = parseFloat(D5[d6t.A6]);
        }
    }

    function o5(t, k, j) {
        this.delegate = k;
        this.timeout = (typeof j !== d6t.k6f) ? j : d6t.n5H;
        this._fontFamiliesArray = t.slice(d6t.W6);
        this._testContainer = d6t.B3x;
        this._adobeBlankSizeWatcher = d6t.B3x;
        this._timeoutId = d6t.B3x;
        this._intervalId = d6t.B3x;
        this._intervalDelay = d6t.I9x;
        this._numberOfLoadedFonts = d6t.W6;
        this._numberOfFontFamilies = this._fontFamiliesArray.length;
        this._fontsMap = {};
        this._finished = d6t.F18;
    }
    o5.testDiv = d6t.B3x;
    o5.useAdobeBlank = !A5 || u5 >= x5;
    o5.useResizeEvent = A5 && u5 < x5 && typeof document.attachEvent !== d6t.k6f;
    o5.useIntervalChecking = window.opera || (A5 && u5 < x5 && !o5.useResizeEvent);
    o5.referenceText = a5;
    o5.referenceFontFamilies = o5.useAdobeBlank ? [T5] : [r5, R5];
    o5.referenceFontFamiliesSizes = [];
    o5.adobeBlankFontFaceRule = w5;
    o5.prototype = {
        constructor: o5,
        loadFonts: function() {
            var t = "position:absolute; left:-10000px; top:-10000px; white-space:nowrap; font-size:20px; line-height:20px; visibility:hidden;",
                k = this;
            if (this._numberOfFontFamilies === d6t.W6) {
                this._finish();
                return;
            }
            if (this.timeout !== d6t.B3x) {
                this._timeoutId = window.setTimeout(function j() {
                    k._finish();
                }, this.timeout);
            }
            this._testContainer = document.createElement(d6t.K4f);
            this._testContainer.style.cssText = t;
            if (o5.testDiv === d6t.B3x) {
                this._runOnce();
            } else {
                this._loadFonts();
            }
        },
        _runOnce: function() {
            var t = "head",
                k = "text/css",
                j = "style",
                o = this,
                e, q, m, k5, C5 = r5;
            o5.testDiv = document.createElement(d6t.K4f);
            o5.testDiv.style.position = p5;
            o5.testDiv.appendChild(document.createTextNode(o5.referenceText));
            if (!o5.useAdobeBlank) {
                e = o5.testDiv.cloneNode(d6t.s73);
                this._testContainer.appendChild(e);
                document.body.appendChild(this._testContainer);
                for (q = d6t.W6; q < o5.referenceFontFamilies.length; q++) {
                    e.style.fontFamily = o5.referenceFontFamilies[q];
                    o5.referenceFontFamiliesSizes.push(new N5(e.offsetWidth, e.offsetHeight));
                }
                this._testContainer.parentNode.removeChild(this._testContainer);
                e.parentNode.removeChild(e);
                this._loadFonts();
            } else {
                m = document.createElement(j);
                m.setAttribute(d6t.p08, k);
                m.appendChild(document.createTextNode(o5.adobeBlankFontFaceRule));
                document.getElementsByTagName(t)[d6t.W6].appendChild(m);
                k5 = o5.testDiv.cloneNode(d6t.s73);
                this._testContainer.appendChild(k5);
                document.body.appendChild(this._testContainer);
                k5.style.fontFamily = C5;
                if (o5.useIntervalChecking) {
                    this._testContainer.appendChild(k5);
                    this._intervalId = window.setInterval(function H5() {
                        o._checkAdobeBlankSize();
                    }, this._intervalDelay);
                    this._checkAdobeBlankSize();
                } else {
                    this._adobeBlankSizeWatcher = new y5(k5, {
                        container: this._testContainer,
                        delegate: this,
                        continuous: d6t.s73,
                        direction: y5.directions.decrease,
                        dimension: y5.dimensions.horizontal
                    });
                    this._adobeBlankSizeWatcher.prepareForWatch();
                    this._adobeBlankSizeWatcher.beginWatching();
                }
                k5.style.fontFamily = o5.referenceFontFamilies[d6t.W6] + d6t.C08 + C5;
            }
        },
        _checkAdobeBlankSize: function() {
            var t = this._testContainer.firstChild;
            this._adobeBlankLoaded(t);
        },
        _adobeBlankLoaded: function(t) {
            if (t.offsetWidth !== d6t.W6) {
                return;
            }
            o5.referenceFontFamiliesSizes.push(new N5(t.offsetWidth, t.offsetHeight));
            if (this._adobeBlankSizeWatcher !== d6t.B3x) {
                this._adobeBlankSizeWatcher.endWatching();
                this._adobeBlankSizeWatcher.removeScrollWatchers();
                this._adobeBlankSizeWatcher = d6t.B3x;
            } else {
                window.clearInterval(this._intervalId);
                t.parentNode.removeChild(t);
            }
            this._testContainer.parentNode.removeChild(this._testContainer);
            this._loadFonts();
        },
        _loadFonts: function() {
            var j = "onresize",
                o = "', ",
                e, q, m, k5, C5 = [],
                H5 = this;
            for (e = d6t.W6; e < this._numberOfFontFamilies; e++) {
                this._fontsMap[this._fontFamiliesArray[e]] = d6t.s73;
                if (o5.useResizeEvent) {
                    for (q = d6t.W6; q < o5.referenceFontFamilies.length; q++) {
                        m = o5.testDiv.cloneNode(d6t.s73);
                        m.setAttribute(P5, this._fontFamiliesArray[e]);
                        m.setAttribute(z5, String(q));
                        m.style.fontFamily = o5.referenceFontFamilies[q];
                        this._testContainer.appendChild(m);
                    }
                } else if (o5.useIntervalChecking) {
                    for (q = d6t.W6; q < o5.referenceFontFamilies.length; q++) {
                        m = o5.testDiv.cloneNode(d6t.s73);
                        m.setAttribute(P5, this._fontFamiliesArray[e]);
                        m.setAttribute(z5, String(q));
                        m.style.fontFamily = d6t.V6x + this._fontFamiliesArray[e] + o + o5.referenceFontFamilies[q];
                        this._testContainer.appendChild(m);
                    }
                } else {
                    for (q = d6t.W6; q < o5.referenceFontFamilies.length; q++) {
                        m = o5.testDiv.cloneNode(d6t.s73);
                        m.setAttribute(P5, this._fontFamiliesArray[e]);
                        m.setAttribute(z5, String(q));
                        m.style.fontFamily = o5.referenceFontFamilies[q];
                        k5 = new y5(m, {
                            container: this._testContainer,
                            delegate: this,
                            size: o5.referenceFontFamiliesSizes[q],
                            direction: y5.directions.increase,
                            dimension: y5.dimensions.horizontal
                        });
                        C5.push(k5);
                    }
                }
            }
            document.body.appendChild(this._testContainer);
            if (o5.useResizeEvent) {
                for (q = d6t.W6; q < this._testContainer.childNodes.length; q++) {
                    m = this._testContainer.childNodes[q];
                    m.attachEvent(j, (function(t, k) {
                        return function() {
                            t._elementSizeChanged(k);
                        };
                    })(this, m));
                }
                window.setTimeout(function() {
                    for (q = d6t.W6; q < H5._testContainer.childNodes.length; q++) {
                        m = H5._testContainer.childNodes[q];
                        m.style.fontFamily = d6t.V6x + m.getAttribute(P5) + o + o5.referenceFontFamilies[m.getAttribute(z5)];
                    }
                }, d6t.W6);
            } else if (o5.useIntervalChecking) {
                this._intervalId = window.setInterval(function j5() {
                    H5._checkSizes();
                }, this._intervalDelay);
                this._checkSizes();
            } else {
                for (e = d6t.W6; e < this._numberOfFontFamilies * o5.referenceFontFamilies.length; e++) {
                    k5 = C5[e];
                    k5.prepareForWatch();
                }
                for (e = d6t.W6; e < this._numberOfFontFamilies * o5.referenceFontFamilies.length; e++) {
                    k5 = C5[e];
                    k5.beginWatching();
                    m = k5.getWatchedElement();
                    m.style.fontFamily = d6t.V6x + m.getAttribute(P5) + o + o5.referenceFontFamilies[m.getAttribute(z5)];
                }
            }
        },
        _checkSizes: function() {
            var t, k, j, o;
            for (t = this._testContainer.childNodes.length - d6t.A6; t >= d6t.W6; t--) {
                k = this._testContainer.childNodes[t];
                j = new N5(k.offsetWidth, k.offsetHeight);
                o = o5.referenceFontFamiliesSizes[k.getAttribute(z5)];
                if (!o.isEqual(j)) {
                    k.parentNode.removeChild(k);
                    this._elementSizeChanged(k);
                }
            }
        },
        _elementSizeChanged: function(t) {
            var k = t.getAttribute(P5);
            if (this._finished) {
                return;
            }
            if (typeof this._fontsMap[k] === d6t.k6f) {
                return;
            }
            this._numberOfLoadedFonts++;
            delete this._fontsMap[k];
            if (this.delegate && typeof this.delegate.fontLoaded === d6t.H5x) {
                this.delegate.fontLoaded(k);
            }
            if (this._numberOfLoadedFonts === this._numberOfFontFamilies) {
                this._finish();
            }
        },
        _finish: function() {
            var t = "Not all fonts were loaded",
                k, j, o = [];
            if (this._finished) {
                return;
            }
            this._finished = d6t.s73;
            if (this._adobeBlankSizeWatcher !== d6t.B3x) {
                this._adobeBlankSizeWatcher = d6t.B3x;
            }
            if (this._testContainer !== d6t.B3x) {
                this._testContainer.parentNode.removeChild(this._testContainer);
            }
            if (this._timeoutId !== d6t.B3x) {
                window.clearTimeout(this._timeoutId);
            }
            if (this._intervalId !== d6t.B3x) {
                window.clearInterval(this._intervalId);
            }
            if (this._numberOfLoadedFonts < this._numberOfFontFamilies) {
                for (j in this._fontsMap) {
                    if (this._fontsMap.hasOwnProperty(j)) {
                        o.push(j);
                    }
                }
                k = {
                    message: t,
                    notLoadedFontFamilies: o
                };
            } else {
                k = d6t.B3x;
            }
            if (this.delegate && typeof this.delegate.fontsLoaded === d6t.H5x) {
                this.delegate.fontsLoaded(k);
            }
        },
        sizeWatcherChangedSize: function(t) {
            var k = t.getWatchedElement();
            if (t === this._adobeBlankSizeWatcher) {
                this._adobeBlankLoaded(k);
            } else {
                this._elementSizeChanged(k);
            }
        }
    };

    function N5(t, k) {
        this.width = t;
        this.height = k;
    }
    N5.prototype.isEqual = function(t) {
        return (this.width === t.width && this.height === t.height);
    };

    function y5(t, k) {
        this._element = t;
        this._delegate = k.delegate;
        this._size = d6t.B3x;
        this._continuous = !!k.continuous;
        this._direction = k.direction ? k.direction : y5.directions.both;
        this._dimension = k.dimension ? k.dimension : y5.dimensions.both;
        this._sizeIncreaseWatcherContentElm = d6t.B3x;
        this._sizeDecreaseWatcherElm = d6t.B3x;
        this._sizeIncreaseWatcherElm = d6t.B3x;
        this._state = y5.states.initialized;
        this._scrollAmount = d6t.D6;
        this._generateScrollWatchers(k.size);
        this._appendScrollWatchersToElement(k.container);
    }
    y5.states = {
        initialized: d6t.W6,
        generatedScrollWatchers: d6t.A6,
        appendedScrollWatchers: d6t.D6,
        preparedScrollWatchers: d6t.B6,
        watchingForSizeChange: d6t.M6
    };
    y5.directions = {
        decrease: d6t.A6,
        increase: d6t.D6,
        both: d6t.B6
    };
    y5.dimensions = {
        horizontal: d6t.A6,
        vertical: d6t.D6,
        both: d6t.B6
    };
    y5.prototype = {
        constructor: y5,
        getWatchedElement: function() {
            return this._element;
        },
        setSize: function(t) {
            var k = "position:absolute; left: 0px; top: 0px; overflow: hidden; width: ",
                j = "px;",
                o = "px; height: ",
                e = "width: ";
            this._size = t;
            if (this._direction & y5.directions.increase) {
                this._sizeIncreaseWatcherContentElm.style.cssText = e + (t.width + this._scrollAmount) + o + (t.height + this._scrollAmount) + j;
            }
            if (this._direction & y5.directions.decrease) {
                this._sizeDecreaseWatcherElm.style.cssText = k + (t.width - this._scrollAmount) + o + (t.height - this._scrollAmount) + j;
            }
        },
        _generateScrollWatchers: function(t) {
            var k = "position: absolute; left: 0; top: 0; width: 100%; height: 100%; overflow: hidden;";
            this._element.style.position = p5;
            if (this._direction & y5.directions.increase) {
                this._sizeIncreaseWatcherContentElm = document.createElement(d6t.K4f);
                this._sizeIncreaseWatcherElm = document.createElement(d6t.K4f);
                this._sizeIncreaseWatcherElm.style.cssText = k;
                this._sizeIncreaseWatcherElm.appendChild(this._sizeIncreaseWatcherContentElm);
                this._element.appendChild(this._sizeIncreaseWatcherElm);
            }
            if (this._direction & y5.directions.decrease) {
                this._sizeDecreaseWatcherElm = document.createElement(d6t.K4f);
                this._sizeDecreaseWatcherElm.appendChild(this._element);
            }
            if (t) {
                this.setSize(t);
            }
            this._state = y5.states.generatedScrollWatchers;
        },
        _appendScrollWatchersToElement: function(t) {
            var k = "SizeWatcher._appendScrollWatchersToElement() was invoked before SizeWatcher._generateScrollWatchers()";
            if (this._state !== y5.states.generatedScrollWatchers) {
                throw new Error(k);
            }
            if (this._direction & y5.directions.decrease) {
                t.appendChild(this._sizeDecreaseWatcherElm);
            } else {
                t.appendChild(this._element);
            }
            this._state = y5.states.appendedScrollWatchers;
        },
        removeScrollWatchers: function() {
            if (this._direction & y5.directions.decrease) {
                if (this._sizeDecreaseWatcherElm.parentNode) {
                    this._sizeDecreaseWatcherElm.parentNode.removeChild(this._sizeDecreaseWatcherElm);
                }
            } else if (this._element.parentNode) {
                this._element.parentNode.removeChild(this._element);
            }
        },
        prepareForWatch: function() {
            var t = "SizeWatcher can't set scroll position of scroll watchers.",
                k = "Can't set scroll position of scroll watchers. SizeWatcher is not in the DOM tree.",
                j = "SizeWatcher.prepareForWatch() invoked before SizeWatcher._appendScrollWatchersToElement()",
                o, e = d6t.s73,
                q = d6t.s73;
            if (this._state !== y5.states.appendedScrollWatchers) {
                throw new Error(j);
            }
            if (this._size === d6t.B3x) {
                this.setSize(new N5(this._element.offsetWidth, this._element.offsetHeight));
            }
            if (this._direction & y5.directions.decrease) {
                e = this._scrollElementToBottomRight(this._sizeDecreaseWatcherElm);
            }
            if (this._direction & y5.directions.increase) {
                q = this._scrollElementToBottomRight(this._sizeIncreaseWatcherElm);
            }
            if (!e || !q) {
                o = this._element.parentNode;
                while (o !== window.document && o !== d6t.B3x) {
                    o = o.parentNode;
                }
                if (o === d6t.B3x) {
                    throw new Error(k);
                } else if (console && typeof console.warn === d6t.H5x) {
                    console.warn(t);
                }
            }
            this._state = y5.states.preparedScrollWatchers;
        },
        _scrollElementToBottomRight: function(t) {
            var k = d6t.s73;
            if (this._dimension & y5.dimensions.vertical) {
                t.scrollTop = this._scrollAmount;
                k = k && t.scrollTop > d6t.W6;
            }
            if (this._dimension & y5.dimensions.horizontal) {
                t.scrollLeft = this._scrollAmount;
                k = k && t.scrollLeft > d6t.W6;
            }
            return k;
        },
        beginWatching: function() {
            var t = "SizeWatcher.beginWatching() invoked before SizeWatcher.prepareForWatch()";
            if (this._state !== y5.states.preparedScrollWatchers) {
                throw new Error(t);
            }
            if (this._direction & y5.directions.decrease) {
                this._sizeDecreaseWatcherElm.addEventListener(Y5, this, d6t.F18);
            }
            if (this._direction & y5.directions.increase) {
                this._sizeIncreaseWatcherElm.addEventListener(Y5, this, d6t.F18);
            }
            this._state = y5.states.watchingForSizeChange;
        },
        endWatching: function() {
            var t = "SizeWatcher.endWatching() invoked before SizeWatcher.beginWatching()";
            if (this._state !== y5.states.watchingForSizeChange) {
                throw new Error(t);
            }
            if (this._direction & y5.directions.decrease) {
                this._sizeDecreaseWatcherElm.removeEventListener(Y5, this, d6t.F18);
            }
            if (this._direction & y5.directions.increase) {
                this._sizeIncreaseWatcherElm.removeEventListener(Y5, this, d6t.F18);
            }
            this._state = y5.states.appendedScrollWatchers;
        },
        handleEvent: function(t) {
            var k, j;
            if (this._state !== y5.states.watchingForSizeChange) {
                return;
            }
            k = new N5(this._element.offsetWidth, this._element.offsetHeight);
            j = this._size;
            if (j.isEqual(k)) {
                return;
            }
            if (this._delegate && typeof this._delegate.sizeWatcherChangedSize === d6t.H5x) {
                this._delegate.sizeWatcherChangedSize(this);
                if (this._state !== y5.states.watchingForSizeChange) {
                    return;
                }
            }
            if (!this._continuous) {
                this.endWatching();
            } else {
                this.setSize(k);
                this._state = y5.states.appendedScrollWatchers;
                this.prepareForWatch();
                this._state = y5.states.watchingForSizeChange;
            }
        }
    };
    return o5;
}));
define('gt/utils/FontLoadingUtil', ['bottom_line', 'fontloader'], function(R5, r5) {
    var T5 = function(gameConfig, bootInfo, settings, game) {
        var e = 'FontLoadingUtil.ctor';
        console.log(e);
        this._gameConfig = gameConfig;
        this._bootInfo = bootInfo;
        this._settings = settings;
        this._game = game;
    };
    T5.prototype.loadAllFonts = function(k, j) {
        var o = 'FontLoadingUtil.loadAllFonts';
        console.log(o);
        var e = d6t.F18,
            q = d6t.F18;

        function m() {
            var t = ' ...all fonts were loaded.';
            if (e && q) {
                console.log(t);
                k.call(j);
            }
        }
        this.loadRegularFonts(function() {
            e = d6t.s73;
            m();
        }, this);
        this.loadBitmapFonts(function() {
            q = d6t.s73;
            m();
        }, this);
    };
    T5.prototype.loadRegularFonts = function(j, o) {
        var e = 'head',
            q = 'stylesheet',
            m = 'text/css',
            k5 = '.css',
            C5 = 'css/fonts_',
            H5 = 'link',
            j5 = 'FontLoadingUtil.loadRegularFonts';
        console.log(j5);
        var Y5 = this._gameConfig.lang,
            z5 = document.createElement(H5);
        z5.href = C5 + Y5 + k5;
        z5.type = m;
        z5.rel = q;
        document.getElementsByTagName(e)[d6t.W6].appendChild(z5);
        var P5 = this._bootInfo.fonts[Y5].list;
        P5._.modify(function(t) {
            return this._settings.fontMap[Y5][t].font;
        }, this);
        var p5 = {};
        p5.fontsLoaded = function(t) {
            var k = ' ...all regular fonts were loaded.';
            if (t) {
                console.log(t.message);
                console.log(t.notLoadedFontFamilies);
            } else {
                console.log(k);
            }
            j.call(o);
        };
        var w5 = new r5(P5, p5, d6t.n5H);
        w5.loadFonts();
    };
    T5.prototype.loadBitmapFonts = function(e, q) {
        var m = 'FontLoadingUtil.loadBitmapFonts';
        console.log(m);
        var k5 = [],
            C5 = this._gameConfig.lang,
            H5 = this._bootInfo.bitmapfonts[C5].list,
            j5 = this._bootInfo.bitmapfonts[C5].src + d6t.X23;
        H5._.each(function(t) {
            var k = '.xml',
                j = '.png',
                o = j5 + t;
            this._game.load.bitmapFont(t, o + j, o + k);
            k5.push(t);
        }, this);
        var Y5 = function(t, k) {
            var j = ' ...all bitmap fonts were loaded.',
                o = k5.indexOf(k);
            if (o > -d6t.A6) {
                k5.splice(o, d6t.A6);
                if (k5.length == d6t.W6) {
                    this._game.load.onFileComplete.remove(Y5, this);
                    console.log(j);
                    e.call(q);
                }
            }
        };
        this._game.load.onFileComplete.add(Y5, this);
        this._game.load.start();
    };
    return T5;
});
define('gt/modules/StartLoader', ['soma', 'gt/utils/Chainable', 'gt/utils/device', 'gt/utils/FontLoadingUtil', 'gt/constants/ConsoleCSS'], function(R5, r5, T5, a5, x5) {
    var f5 = 'loader_no_alpha',
        A5 = function(injector, game, spritesheetManager, sceneManager) {
            this._injector = injector;
            this._game = game;
            this._spritesheetManager = spritesheetManager;
            this._sceneManager = sceneManager;
        };
    A5.prototype.run = function(t, k) {
        var j = 'fontLoadingUtil',
            o = '%c [DI module] %c StartLoader ';
        console.log(o, x5.MODULE_TAG, x5.MODULE_TEXT);
        this._injector.mapClass(j, a5, R5.SINGLETON);
        new r5(this.loadLoaderAssets, this).then(this.createLoaderScene, this).then(t, k).execute();
    };
    A5.prototype.loadLoaderAssets = function(k, j) {
        var o = 'loader_no_alpha_0.json',
            e = 'loader_no_alpha_0.jpg',
            q = 'loader_0.json',
            m = 'loader_0.png',
            k5 = '/atlases/',
            C5 = 'assets/json/loader.json',
            H5 = 'StartLoader.loadLoaderAssets';
        console.log(H5);
        var j5 = d6t.F18,
            Y5 = d6t.F18;

        function z5() {
            var t = ' ...all loader assets were loaded.';
            if (j5 && Y5) {
                console.log(t);
                k.call(j);
            }
        }
        this._game.load.json(d6t.M4f, C5);
        var platform = T5.getPlatformString(),
            p5 = d6t.k7 + platform + k5;
        this._game.load.atlas(d6t.M4f, p5 + m, p5 + q);
        this._game.load.atlas(f5, p5 + e, p5 + o);
        var fontLoadingUtil = this._injector.getValueFromClass(a5);
        fontLoadingUtil.loadAllFonts(function() {
            Y5 = d6t.s73;
            z5();
        }, this);
        this._game.load.onLoadComplete.addOnce(function() {
            j5 = d6t.s73;
            z5();
        }, this);
        this._game.load.start();
    };
    A5.prototype.createLoaderScene = function(t, k) {
        var j = 'bg.jpg',
            o = '#000000',
            e = 'StartLoader.createLoaderScene';
        console.log(e);
        this._spritesheetManager.add(d6t.M4f);
        this._spritesheetManager.add(f5);
        this._sceneManager.createLoader();
        var q = this._sceneManager.getScene(d6t.v7H);
        q.enter();
        var m = {
            color: o
        };
        this._sceneManager.view.background.set(j, m);
        t.call(k);
    };
    return A5;
});
define('gt/managers/GameVarManager', ['bottom_line', 'phaser'], function(H5, j5) {
    function Y5() {
        this.varsLoadedEvent = new j5.Signal();
        this._file = d6t.B3x;
        game.input.keyboard.onUpCallback = function(t) {
            var k = (4.4E1 <= (1.61E2, 12.76E2) ? (0x48, 82) : (0x114, 91));
            if (t.keyCode === k) {
                this.reload();
            }
        }.bind(this);
    }
    H5.extend(Y5.prototype, {
        load: function(q) {
            var m = 'gameVars';
            this._file = q;
            if (game.cache.checkJSONKey(m)) {
                var k5 = game.cache.getJSON(m);
                for (var C5 in k5) {
                    delete this[C5];
                }
            }
            game.load.onLoadComplete.addOnce(function() {
                var t = ' built-in variable.',
                    k = ' can\'t be used in gameVars.json, because it is already in use by a',
                    j = 'The key ',
                    o = game.cache.getJSON(m);
                for (var e in o) {
                    if (this[e] !== undefined) {
                        console.error(j + e + k + t);
                    } else {
                        this[e] = o[e];
                    }
                }
                this.varsLoadedEvent.dispatch();
            }, this);
            game.load.json(m, this._file, d6t.s73);
            game.load.start();
        },
        reload: function() {
            var t = 'Can\'t reload if load hasn\'t been called first';
            if (!this._file) {
                console.error(t);
            }
            this.load(this._file);
        }
    });
    return Y5;
});
define('gt/modules/LoadGameAssets', ['soma', 'gt/utils/Chainable', 'gt/utils/device', 'gt/managers/GameVarManager', 'gt/constants/ConsoleCSS'], function(H5, j5, Y5, z5, P5) {
    var p5 = function(injector, game, platform, bootInfo, gameConfig, soundManager, spritesheetManager, gameInfoPublisher, localizationManager) {
        this._injector = injector;
        this._game = game;
        this._bootInfo = bootInfo;
        this._platform = platform;
        this._gameConfig = gameConfig;
        this._localizationManager = localizationManager;
        this._soundManager = soundManager;
        this._spritesheetManager = spritesheetManager;
        this._gameInfoPublisher = gameInfoPublisher;
    };
    p5.prototype.run = function(t, k) {
        var j = 'gameVarManager',
            o = '%c [DI module] %c LoadGameAssets ';
        console.log(o, P5.MODULE_TAG, P5.MODULE_TEXT);
        this._injector.mapClass(j, z5, H5.SINGLETON);
        new j5(this.loadAllGameAssets, this).then(this.loadGameVars, this).then(this.loadUserData, this).then(t, k).execute();
    };
    p5.prototype.loadAllGameAssets = function(k, j) {
        var o = 'LoadGameAssets.loadAllGameAssets';
        console.log(o);
        this.loadFreemiumData();
        this.loadScenes();
        this.loadAudio();
        this.loadSpritesheets();
        this.loadSpineAnimations();
        this._game.load.onFileComplete.add(this._fileLoaded, this);
        this._game.load.onLoadComplete.addOnce(function() {
            var t = ' ...loaded all game assets.';
            console.log(t);
            this._spritesheetManager.init();
            this._game.load.onFileComplete.remove(this._fileLoaded, this);
            k.call(j);
        }, this);
        this._game.load.start();
    };
    p5.prototype._fileLoaded = function(t) {
        var k = 0.9;
        this._gameInfoPublisher.publish(d6t.Z8, t * k);
    };
    p5.prototype.loadFreemiumData = function() {
        var t = 'assets/json/freemium.json',
            k = 'freemium',
            j = 'LoadGameAssets.loadFreemiumData';
        console.log(j);
        if (this._gameConfig.freemium) {
            this._game.load.json(k, t);
        }
    };
    p5.prototype.loadScenes = function() {
        var t = 'assets/json/scenes.json',
            k = 'LoadGameAssets.loadScenes';
        console.log(k);
        this._game.load.json(d6t.F2H, t);
    };
    p5.prototype.loadAudio = function() {
        var t = 'assets/audio/effects.mp3',
            k = 'assets/audio/music.mp3',
            j = 'LoadGameAssets.loadAudio';
        console.log(j);
        this._soundManager.loadSprite(k);
        this._soundManager.loadSprite(t);
    };
    p5.prototype.loadSpritesheets = function() {
        var m = 'LoadGameAssets.loadSpritesheets';
        console.log(m);
        var platform = Y5.getPlatformString(),
            C5 = this._bootInfo.spritesheets[platform];
        C5._.each(function(o, e) {
            var q = d6t.k7 + platform + d6t.X23 + e + d6t.X23;
            o.files._.each(function(t) {
                if (t._.has(d6t.M4f)) {
                    return;
                }
                var k = t._.before(d6t.b4x),
                    j = k;
                if (e !== d6t.b43) {
                    j = e + d6t.n08 + k;
                }
                if (!k._.has(d6t.C3f) || k._.has(this._localizationManager.language)) {
                    this._game.load.atlas(j, q + t, q + k + d6t.r6);
                }
            }, this);
        }, this);
    };
    p5.prototype.loadSpineAnimations = function() {
        var j = this._bootInfo.spineAnimations.src,
            o = this._bootInfo.spineAnimations.files;
        o.forEach(function(t) {
            var k = t._.before(d6t.r6);
            this._game.load.json(k, j + t);
        }, this);
    };
    p5.prototype.loadGameVars = function(k, j) {
        var o = 'assets/json/gameVars.json',
            e = 'LoadGameAssets.loadGameVars';
        console.log(e);
        var gameVarManager = this._injector.getValueFromClass(z5);
        gameVarManager.varsLoadedEvent.addOnce(function() {
            var t = ' ...loaded game vars.';
            console.log(t);
            k.call(j);
        }, this);
        gameVarManager.load(o);
    };
    p5.prototype.loadUserData = function(k, j) {
        var o = 'LoadGameAssets.loadUserData';
        console.log(o);
        this._platform.loadUserData(function() {
            var t = ' ...loaded user data.';
            console.log(t);
            k.call(j);
        }, this);
    };
    return p5;
});
define('gt/modules/LoaderReady', ['gt/constants/ConsoleCSS'], function(e) {
    var q = function(gameInfoPublisher) {
        this._gameInfoPublisher = gameInfoPublisher;
    };
    q.prototype.run = function(t, k) {
        var j = 'loadFinished',
            o = '%c [DI module] %c LoaderReady ';
        console.log(o, e.MODULE_TAG, e.MODULE_TEXT);
        this._gameInfoPublisher.publish(j);
        t.call(k);
    };
    return q;
});
define('configs/MatrixConfig', ['gt/utils/device'], function(C5) {
    function H5(viewportManager) {
        var k = ((128, 79.) >= 0x16F ? (141.0E1, "c") : 0x1D8 < (0xDA, 82.7E1) ? (0x5C, 0.39) : 80.80E1 < (75.2E1, 116.) ? (58.0E1, 105) : (0x5E, 0x6)),
            j = ((0x41, 74.) < 36 ? (0x9F, 63.1E1) : 93. > (55, 0x42) ? (108, 76) : (0x7F, 1.640E2)),
            o = (83.2E1 >= (5.020E2, 0x15) ? (30., 0.99) : (60, 10)),
            e = 0.92,
            q = e,
            m = o,
            k5 = j;
        this.SCALE = C5.portable ? q : m;
        this.TILE_WIDTH = Math.floor(k5 * viewportManager.scale);
        this.TILE_HEIGHT = Math.floor(k5 * viewportManager.scale);
        this.HALF_TILE_WIDTH = this.TILE_WIDTH * d6t.z48;
        this.HALF_TILE_HEIGHT = this.TILE_HEIGHT * d6t.z48;
        this.ROWS = d6t.B9x;
        this.COLS = d6t.x7x;
        this.HALF_ROWS = this.ROWS * d6t.z48;
        this.HALF_COLS = this.COLS * d6t.z48;
        this.SKYLINE_ROWS_COUNT = d6t.E7x;
        this.PLAYABLE_ROWS_COUNT = d6t.X7x;
        this.STARTING_ROW_INDEX = d6t.J7x;
        this.SPAWNING_ROW_INDEX = d6t.N7x;
        this.SPAWNING_COL = this.HALF_COLS - d6t.A6;
        this.MATRIX_WIDTH = this.TILE_WIDTH * this.COLS;
        this.MATRIX_HALF_WIDTH = (this.MATRIX_WIDTH / d6t.D6);
        this.MATRIX_HEIGHT = this.TILE_HEIGHT * this.PLAYABLE_ROWS_COUNT;
        this.MATRIX_HALF_HEIGHT = (this.MATRIX_HEIGHT / d6t.D6);
        this.SKYLINE_HEIGHT = k * this.TILE_HEIGHT;
        this.BLOCKOUT_ROW = d6t.E7x;
    }
    return H5;
});
define('enums/TetriminoType', [], function() {
    function t() {}
    t.I = d6t.D6;
    t.J = d6t.B6;
    t.L = d6t.M6;
    t.O = d6t.U6;
    t.S = d6t.J6;
    t.T = d6t.v6;
    t.Z = d6t.d6;
    t.NONE = d6t.W6;
    t.USABLE_TYPES = [t.O, t.S, t.Z, t.I, t.J, t.L, t.T];
    return t;
});
define('enums/ShapeMinoType', [], function() {
    function t() {}
    t.NORMAL = d6t.A6;
    t.CENTER = d6t.D6;
    return t;
});
define('enums/Rotation', [], function() {
    function j() {}
    j.Clockwise = d6t.A6;
    j.CounterClockwise = d6t.D6;
    j.invert = function(t) {
        var k = d6t.B3x;
        if (t === j.Clockwise) {
            k = j.CounterClockwise;
        } else {
            k = j.Clockwise;
        }
        return k;
    };
    return j;
});
define('enums/Orientation', ['enums/Rotation'], function(j) {
    function o() {}
    o.NORTH = d6t.A6;
    o.EAST = d6t.D6;
    o.SOUTH = d6t.B6;
    o.WEST = d6t.M6;
    o.rotateOrientation = function(t, k) {
        if (k === j.Clockwise) {
            return this.rotateClockwise(t);
        } else {
            return this.rotateCounterClockwise(t);
        }
    };
    o.rotateClockwise = function(t) {
        var k = d6t.B3x;
        switch (t) {
            case o.NORTH:
                k = o.EAST;
                break;
            case o.EAST:
                k = o.SOUTH;
                break;
            case o.SOUTH:
                k = o.WEST;
                break;
            case o.WEST:
                k = o.NORTH;
                break;
        }
        return k;
    };
    o.rotateCounterClockwise = function(t) {
        var k = d6t.B3x;
        switch (t) {
            case o.NORTH:
                k = o.WEST;
                break;
            case o.EAST:
                k = o.NORTH;
                break;
            case o.SOUTH:
                k = o.EAST;
                break;
            case o.WEST:
                k = o.SOUTH;
                break;
        }
        return k;
    };
    return o;
});
define('configs/TetriminosConfig', ['enums/TetriminoType', 'enums/ShapeMinoType', 'enums/Orientation'], function(q, m, k5) {
    function C5() {
        this._configs = {};
        this.setupConfigs();
    }
    C5.prototype.setupConfigs = function() {
        this.createConfig_O();
        this.createConfig_I();
        this.createConfig_T();
        this.createConfig_L();
        this.createConfig_J();
        this.createConfig_S();
        this.createConfig_Z();
    };
    C5.prototype.getConfigForType = function(t) {
        return this._configs[t];
    };
    C5.prototype.createConfigObject = function(t, k, j, o) {
        var e = {};
        e.type = t;
        e.sprite = k;
        e.shape = j;
        e.rotations = o;
        return e;
    };
    C5.prototype.createConfig_O = function() {
        var t = 'type_o.png',
            k = {},
            j = [
                [d6t.A6, d6t.A6],
                [d6t.A6, d6t.A6]
            ],
            o = [{
                row: d6t.A6,
                col: d6t.W6
            }, {
                row: d6t.A6,
                col: d6t.W6
            }, {
                row: d6t.A6,
                col: d6t.W6
            }, {
                row: d6t.A6,
                col: d6t.W6
            }, {
                row: d6t.A6,
                col: d6t.W6
            }];
        k[k5.NORTH] = o;
        k[k5.EAST] = o;
        k[k5.SOUTH] = o;
        k[k5.WEST] = o;
        this._configs[q.O] = this.createConfigObject(q.O, t, j, k);
    };
    C5.prototype.createConfig_I = function() {
        var t = 'type_i.png',
            k = {},
            j = [
                [d6t.W6, d6t.W6, d6t.W6, d6t.W6],
                [d6t.A6, d6t.A6, d6t.A6, d6t.A6],
                [d6t.W6, d6t.W6, d6t.W6, d6t.W6],
                [d6t.W6, d6t.W6, d6t.W6, d6t.W6]
            ];
        k[k5.NORTH] = [{
            row: d6t.D6,
            col: d6t.A6
        }, {
            row: d6t.D6,
            col: d6t.W6
        }, {
            row: d6t.D6,
            col: d6t.B6
        }, {
            row: d6t.D6,
            col: d6t.W6
        }, {
            row: d6t.D6,
            col: d6t.B6
        }];
        k[k5.EAST] = [{
            row: d6t.D6,
            col: d6t.A6
        }, {
            row: d6t.D6,
            col: d6t.D6
        }, {
            row: d6t.D6,
            col: d6t.D6
        }, {
            row: d6t.B6,
            col: d6t.D6
        }, {
            row: d6t.W6,
            col: d6t.D6
        }];
        k[k5.SOUTH] = [{
            row: d6t.D6,
            col: d6t.A6
        }, {
            row: d6t.D6,
            col: d6t.B6
        }, {
            row: d6t.D6,
            col: d6t.W6
        }, {
            row: d6t.A6,
            col: d6t.B6
        }, {
            row: d6t.A6,
            col: d6t.W6
        }];
        k[k5.WEST] = [{
            row: d6t.D6,
            col: d6t.A6
        }, {
            row: d6t.D6,
            col: d6t.A6
        }, {
            row: d6t.D6,
            col: d6t.A6
        }, {
            row: d6t.W6,
            col: d6t.A6
        }, {
            row: d6t.B6,
            col: d6t.A6
        }];
        this._configs[q.I] = this.createConfigObject(q.I, t, j, k);
    };
    C5.prototype.createConfig_T = function() {
        var t = 'type_t.png',
            k = {},
            j = [
                [d6t.W6, d6t.A6, d6t.W6],
                [d6t.A6, d6t.A6, d6t.A6],
                [d6t.W6, d6t.W6, d6t.W6]
            ];
        k[k5.NORTH] = k[k5.SOUTH] = [{
            row: d6t.A6,
            col: d6t.A6
        }, {
            row: d6t.A6,
            col: d6t.A6
        }, {
            row: d6t.A6,
            col: d6t.A6
        }, {
            row: d6t.A6,
            col: d6t.A6
        }, {
            row: d6t.A6,
            col: d6t.A6
        }];
        k[k5.EAST] = [{
            row: d6t.A6,
            col: d6t.A6
        }, {
            row: d6t.A6,
            col: d6t.D6
        }, {
            row: d6t.W6,
            col: d6t.D6
        }, {
            row: d6t.B6,
            col: d6t.A6
        }, {
            row: d6t.B6,
            col: d6t.D6
        }];
        k[k5.WEST] = [{
            row: d6t.A6,
            col: d6t.A6
        }, {
            row: d6t.A6,
            col: d6t.W6
        }, {
            row: d6t.W6,
            col: d6t.W6
        }, {
            row: d6t.B6,
            col: d6t.A6
        }, {
            row: d6t.B6,
            col: d6t.W6
        }];
        this._configs[q.T] = this.createConfigObject(q.T, t, j, k);
    };
    C5.prototype.createConfig_L = function() {
        var t = this.getConfigForType(q.T).rotations,
            k = [
                [d6t.W6, d6t.W6, d6t.A6],
                [d6t.A6, d6t.A6, d6t.A6],
                [d6t.W6, d6t.W6, d6t.W6]
            ];
        this._configs[q.L] = this.createConfigObject(q.L, d6t.c4H, k, t);
    };
    C5.prototype.createConfig_J = function() {
        var t = this.getConfigForType(q.T).rotations,
            k = [
                [d6t.A6, d6t.W6, d6t.W6],
                [d6t.A6, d6t.A6, d6t.A6],
                [d6t.W6, d6t.W6, d6t.W6]
            ];
        this._configs[q.J] = this.createConfigObject(q.J, d6t.R3x, k, t);
    };
    C5.prototype.createConfig_S = function() {
        var t = this.getConfigForType(q.T).rotations,
            k = [
                [d6t.W6, d6t.A6, d6t.A6],
                [d6t.A6, d6t.A6, d6t.W6],
                [d6t.W6, d6t.W6, d6t.W6]
            ];
        this._configs[q.S] = this.createConfigObject(q.S, d6t.t68, k, t);
    };
    C5.prototype.createConfig_Z = function() {
        var t = this.getConfigForType(q.T).rotations,
            k = [
                [d6t.A6, d6t.A6, d6t.W6],
                [d6t.W6, d6t.A6, d6t.A6],
                [d6t.W6, d6t.W6, d6t.W6]
            ];
        this._configs[q.Z] = this.createConfigObject(q.Z, d6t.Z38, k, t);
    };
    return C5;
});
define('factories/PhaserGroupFactory', [], function() {
    function e(game, injector) {
        this._phaserGame = game;
        this._injector = injector;
    }
    e.prototype.construct = function(t, k) {
        var j = t,
            o = k;
        if (j === undefined) j = d6t.B3x;
        if (o === undefined) o = d6t.B3x;
        return this._phaserGame.make.group(j, o);
    };
    return e;
});
define('factories/PhaserSpriteFactory', [], function() {
    function m(game) {
        this._phaserGame = game;
    }
    m.prototype.construct = function(t, k, j, o, e) {
        var q = this._phaserGame.make.sprite(t, k, j, o);
        if (e != undefined) {
            e.addChild(q);
        }
        return q;
    };
    return m;
});
define('factories/MatrixFactory', [], function() {
    function k5(injector, matrixCellFactory, matrixConfig) {
        this._injector = injector;
        this._matrixCellFactory = matrixCellFactory;
        this._matrixConfig = matrixConfig;
    }
    k5.prototype.construct = function(t, k) {
        t = t || this._matrixConfig.COLS;
        k = k || this._matrixConfig.ROWS;
        var j = [];
        for (var o = d6t.W6, e = k; o < e; o++) {
            for (var q = d6t.W6, m = t; q < m; q++) {
                if (!j[o]) {
                    j[o] = [];
                }
                j[o][q] = this._matrixCellFactory.construct(j, o, q);
            }
        }
        return j;
    };
    return k5;
});
define('enums/Enum', [], function() {
    function o() {}
    o.getValues = function(t) {
        var k = [];
        for (var j in t) {
            if (t.hasOwnProperty(j)) {
                k.push(t[j]);
            }
        }
        return k;
    };
    o.getRandomValue = function(t) {
        return o.getValues(t)._.random();
    };
    return o;
});
define('utils/Array2DUtil', [], function() {
    var C5 = {};
    C5.rotateClockwise = function(t) {
        var k = t.length,
            j = t[d6t.W6].length,
            o = [k, j]._.dimit();
        for (var e = d6t.W6; e < k; e++) {
            for (var q = d6t.W6; q < j; q++) {
                o[q][k - d6t.A6 - e] = t[e][q];
            }
        }
        return o;
    };
    C5.rotateCounterClockwise = function(t) {
        var k = t.length,
            j = t[d6t.W6].length,
            o = [k, j]._.dimit();
        for (var e = d6t.W6; e < k; e++) {
            for (var q = d6t.W6; q < j; q++) {
                o[j - d6t.A6 - q][e] = t[e][q];
            }
        }
        return o;
    };
    C5.forEach = function(t, k, j) {
        var o = t.length,
            e = t[d6t.W6].length;
        for (var q = d6t.W6; q < o; q++) {
            for (var m = d6t.W6; m < e; m++) {
                var k5 = k.call(j, t[q][m], q, m);
                if (k5 === d6t.F18) {
                    return;
                }
            }
        }
    };
    C5.getRowAndColForElement = function(t, k) {
        var j = {
                row: d6t.W6,
                col: d6t.W6
            },
            o = t.length,
            e = t[d6t.W6].length;
        for (var q = d6t.W6; q < o; q++) {
            for (var m = d6t.W6; m < e; m++) {
                if (t[q][m] === k) {
                    j.row = q;
                    j.col = m;
                    return j;
                }
            }
        }
        return j;
    };
    return C5;
});
define('enums/SpecialMinoType', [], function() {
    function t() {}
    t.JUNK = d6t.A6;
    t.SHAPE = d6t.D6;
    t.SCORECELL = d6t.B6;
    t.SPARKLE = d6t.M6;
    t.MOVEGHOST = d6t.U6;
    t.GHOST = d6t.J6;
    t.SHADOW = d6t.v6;
    t.NONE = d6t.W6;
    return t;
});
define('entities/Tetrimino', ['bottom_line', 'enums/Orientation', 'enums/Rotation', 'utils/Array2DUtil', 'data/ControlScheme', 'enums/SpecialMinoType', 'gt/utils/device'], function(C5, H5, j5, Y5, z5, P5, p5) {
    function w5(tetriminoConfig, k, minoFactory, matrixConfig, soundManager, gameVarManager, controlScheme, gameInfoPublisher) {
        this._minoFactory = minoFactory;
        this._minos = d6t.B3x;
        this.config = tetriminoConfig;
        this.tetriminoType = this.config.type;
        this._visibility = d6t.s73;
        this.orientation = H5.NORTH;
        this.shapeMatrix = this.config.shape;
        this.justRotated = d6t.F18;
        this.row = d6t.W6;
        this.col = d6t.W6;
        this._matrixConfig = matrixConfig;
        this._soundManager = soundManager;
        this._gameVarManager = gameVarManager;
        this._controlScheme = controlScheme;
        this._gameInfoPublisher = gameInfoPublisher;
        this.createMinos(k);
    }
    w5.prototype.createMinos = function(q) {
        var m = [],
            k5 = d6t.B3x;
        Y5.forEach(this.shapeMatrix, function(t, k, j) {
            if (t === d6t.A6) {
                var o = q ? P5.GHOST : P5.NONE,
                    e = this._minoFactory.get(this.tetriminoType, o);
                this.shapeMatrix[k][j] = e;
                if (k5) {
                    k5.linkedMino = e;
                    k5 = e;
                } else {
                    k5 = e;
                }
                e.tetrimino = this;
                m.push(e);
            }
        }, this);
        this._minos = m;
        if (q) {
            this.updateGhostShape();
        }
    };
    w5.prototype.getMinos = function() {
        return this._minos;
    };
    w5.prototype.rotate = function(t) {
        if (t === j5.Clockwise) {
            this.shapeMatrix = Y5.rotateClockwise(this.shapeMatrix);
            this.orientation = H5.rotateClockwise(this.orientation);
        } else {
            this.shapeMatrix = Y5.rotateCounterClockwise(this.shapeMatrix);
            this.orientation = H5.rotateCounterClockwise(this.orientation);
        }
    };
    w5.prototype.orient = function(t) {
        while (this.orientation != t) {
            this.rotate(j5.Clockwise);
            this.justRotated = d6t.s73;
        }
        if (p5.desktop) {
            this._gameInfoPublisher.publish(d6t.I3f, d6t.s73);
        }
    };
    w5.prototype.resetRotation = function() {
        while (this.orientation != H5.NORTH) {
            this.rotate(j5.Clockwise);
        }
    };
    w5.prototype.getCurrentRotationPoints = function() {
        return this.config.rotations[this.orientation];
    };
    w5.prototype.move = function(t) {
        this.row += t.row;
        this.col += t.col;
        if (t.col) {
            this._soundManager.effect(this._gameVarManager.audioConstants.tetrimino_move_sfx);
        }
        if (p5.desktop) {
            this._gameInfoPublisher.publish(d6t.I3f, d6t.s73);
        }
    };
    w5.prototype.moveTo = function(t) {
        this.row = t.row;
        this.col = t.col;
    };
    w5.prototype.getBottomRow = function() {
        var t = this.getMinos(),
            k = this._matrixConfig.ROWS;
        for (var j = d6t.W6; j < t.length; j++) {
            if (t[j].row < k) {
                k = t[j].row;
            }
        }
        return k;
    };
    w5.prototype.getTopRow = function() {
        var t = this.getMinos(),
            k = d6t.W6;
        for (var j = d6t.W6; j < t.length; j++) {
            if (t[j].row > k) {
                k = t[j].row;
            }
        }
        return k;
    };
    w5.prototype.getFirstCol = function() {
        var t = this.getMinos(),
            k = this._matrixConfig.COLS;
        for (var j = d6t.W6; j < t.length; j++) {
            if (t[j].col < k) {
                k = t[j].col;
            }
        }
        return k;
    };
    w5.prototype.getWidth = function() {
        var t = this.getMinos(),
            k = this._matrixConfig.COLS,
            j = d6t.W6;
        for (var o = d6t.W6; o < t.length; o++) {
            if (t[o].col < k) {
                k = t[o].col;
            }
            if (t[o].col > j) {
                j = t[o].col;
            }
        }
        return j - k + d6t.A6;
    };
    w5.prototype.destroyMinos = function() {
        var t = this.getMinos();
        for (var k = d6t.W6; k < t.length; k++) {
            t[k].linkedMino = d6t.B3x;
            t[k].tetrimino = d6t.B3x;
            this._minoFactory.return(t[k]);
        }
        this._minos = [];
    };
    w5.prototype.addMino = function(t) {
        var k = d6t.B3x;
        if (this._minos.length > d6t.W6) {
            k = this._minos[this._minos.length - d6t.A6];
        }
        t.linkedMino = k;
        t.tetrimino = this;
        this._minos.push(t);
    };
    w5.prototype.removeMino = function(t) {
        t.tetrimino = d6t.B3x;
        var k = this._minos.indexOf(t);
        if (k > -d6t.A6) {
            this._minos.splice(k, d6t.A6);
        }
    };
    w5.prototype.updateGhostShape = function() {
        this._minos.forEach(function(t) {
            t.updateGhostShape();
        }, this);
    };
    w5.prototype.setVisible = function(k) {
        var j = this.getMinos();
        j.forEach(function(t) {
            t.visible = k;
        }, this);
        this._visibility = k;
    };
    w5.prototype.getVisible = function() {
        return this._visibility;
    };
    return w5;
});
define('factories/TetriminoFactory', ['bottom_line', 'enums/Enum', 'enums/TetriminoType', 'gt/extras/PartialInjectionFactory', 'entities/Tetrimino'], function(e, q, m, k5, C5) {
    function H5(game, injector, tetriminoConfig) {
        this._tetriminoConfig = tetriminoConfig;
        this._partialInjectionFactory = new k5(injector, C5);
    }
    H5.prototype.construct = function(t, k) {
        var t = t || m.NONE;
        if (t === undefined) {
            t = m.USABLE_TYPES._.random();
        }
        var tetriminoConfig = this._tetriminoConfig.getConfigForType(t),
            o = e.cloneDeep(tetriminoConfig);
        return this._partialInjectionFactory.construct(o, k);
    };
    return H5;
});
define('entities/Mino', ['bottom_line', 'gt/gui/Sprite', 'enums/TetriminoType', 'enums/SpecialMinoType'], function(R5, r5, T5, a5) {
    var x5 = 'minoGlow';

    function f5(t, k, j, matrixModel, game, spineAnimationFactory, spineUtil, matrixConfig) {
        f5._super.constructor.call(this, d6t.W6, d6t.W6, d6t.B3x, t);
        this.row = d6t.W6;
        this.col = d6t.W6;
        this.tetrimino = d6t.B3x;
        this.sticky = d6t.s73;
        this._isActive = d6t.F18;
        this.tetriminoType = k || T5.NONE;
        this.specialMinoType = j || a5.NONE;
        this.linkedMino = d6t.B3x;
        this.matrixCell = d6t.B3x;
        this._matrixModel = matrixModel;
        this._matrixConfig = matrixConfig;
        this._game = game;
        this._spineUtil = spineUtil;
        this._minoGlow = spineAnimationFactory.construct(x5);
        this._moveGhostAnimation = d6t.B3x;
        this._originalImageName = d6t.B3x;
        this.didSpriteChangeInGravity = d6t.F18;
    }
    R5.inherit(f5, r5);
    f5.FADE_IN_TIME = d6t.I9x;
    f5.prototype.showMoveGhostAnimation = function() {
        var t = 't',
            k = 's',
            j = (0x1FF < (0x2A, 119.60E1) ? (78, 'l') : (35, 0x236)),
            o = 'j',
            e = '_flash',
            q = 'i',
            m = 'type_',
            k5 = 'tutorialblocks';
        if (this.specialMinoType !== a5.MOVEGHOST) {
            return;
        }
        this.visible = d6t.F18;
        this._moveGhostAnimation = this._spineUtil.createAnimation(k5, this.parent);
        var C5 = m,
            H5 = q,
            j5 = e;
        switch (this.tetriminoType) {
            case T5.I:
                H5 = q;
                break;
            case T5.J:
                H5 = o;
                break;
            case T5.L:
                H5 = j;
                break;
            case T5.O:
                H5 = d6t.M3B;
                break;
            case T5.S:
                H5 = k;
                break;
            case T5.T:
                H5 = t;
                break;
            case T5.Z:
                H5 = d6t.s7;
                break;
        }
        var Y5 = C5 + H5 + j5;
        this._moveGhostAnimation.startAnimation(Y5, d6t.F18, d6t.s73);
    };
    f5.prototype.animateIn = function(t) {
        t = t || f5.FADE_IN_TIME;
        this.alpha = d6t.W6;
        var k = this._game.add.tween(this);
        k.to({
            alpha: d6t.A6
        }, t);
        k.start();
    };
    f5.prototype.animateTo = function(t, k, j, o) {
        o = o || d6t.A6;
        var e = d6t.p9x;
        j = j || d6t.a08;
        var q = this._game.add.tween(this);
        q.to({
            x: t,
            y: k
        }, j, Phaser.Easing.Quadratic.Out, d6t.s73, o * e);
        return q;
    };
    f5.prototype.animateGlow = function(t, k) {
        if (!this.parent) {
            console.trace();
            return;
        }
        this.parent.add(this._minoGlow);
        this._minoGlow.x = this.x;
        this._minoGlow.y = this.y;
        this._minoGlow.onComplete.addOnce(function() {
            this.parent.remove(this._minoGlow);
            if (t && k) {
                t.call(k);
            }
        }, this);
        this._minoGlow.startAnimation(x5);
    };
    f5.prototype.getLinkedMinos = function() {
        var t = 'There are no linked minos, check if this could should even be run in that case',
            k = [];
        if (this.tetrimino) {
            k = this.tetrimino.getLinkedMinos();
        } else {
            console.log(t);
        }
        return k;
    };
    f5.prototype.updateGhostShape = function() {
        var t = 'ghost_part_05.png',
            k = 'ghost_part_04.png',
            j = 'ghost_part_02.png',
            o = 'ghost_part_03.png',
            e = 'ghost_part_01.png',
            q = {
                up: d6t.F18,
                down: d6t.F18,
                right: d6t.F18,
                left: d6t.F18
            },
            m = this.tetrimino.shapeMatrix,
            k5 = {};
        for (var C5 = d6t.W6; C5 < m.length; C5++) {
            for (var H5 = d6t.W6; H5 < m[C5].length; H5++) {
                if (m[C5][H5] == this) {
                    k5 = {
                        x: C5,
                        y: H5
                    };
                    break;
                }
            }
        }
        var j5 = {
                center: {
                    x: k5.x,
                    y: k5.y
                },
                left: k5.x - d6t.A6,
                right: k5.x + d6t.A6,
                up: k5.y + d6t.A6,
                down: k5.y - d6t.A6
            },
            Y5 = d6t.W6;
        if (m[j5.right] && m[j5.right][j5.center.y]) {
            if (this._matrixModel.isFlipped) {
                q.down = d6t.s73;
            } else {
                q.up = d6t.s73;
            }
            Y5++;
        }
        if (m[j5.left] && m[j5.left][k5.y]) {
            if (this._matrixModel.isFlipped) {
                q.up = d6t.s73;
            } else {
                q.down = d6t.s73;
            }
            Y5++;
        }
        if (m[j5.center.x][j5.up]) {
            q.right = d6t.s73;
            Y5++;
        }
        if (m[j5.center.x][j5.down]) {
            q.left = d6t.s73;
            Y5++;
        }
        if (Y5 === d6t.A6) {
            this.setImage(e);
            if (q.right) {
                this.rotation = Math.PI * d6t.g28;
            }
            if (q.left) {
                this.rotation = Math.PI * d6t.z48;
            }
            if (q.down) {
                this.rotation = Math.PI;
            }
            if (q.up) {
                this.rotation = d6t.W6;
            }
        } else if (Y5 === d6t.B6) {
            this.setImage(o);
            if (q.right && q.left) {
                var z5 = Math.PI,
                    P5 = d6t.W6;
                this.rotation = q.down ? P5 : z5;
            } else if (q.down && q.up) {
                var p5 = Math.PI * d6t.g28,
                    w5 = Math.PI * d6t.z48;
                this.rotation = q.left ? p5 : w5;
            }
        } else {
            if (q.down && q.up) {
                this.setImage(j);
                this.rotation = Math.PI / d6t.D6;
            } else if (q.right && q.left) {
                this.setImage(j);
                this.rotation = d6t.W6;
            } else {
                if (this.tetriminoType == T5.O) {
                    this.setImage(k);
                } else {
                    this.setImage(t);
                }
                if (q.right) {
                    this.rotation = q.down ? d6t.W6 : Math.PI * d6t.z48;
                } else if (q.left) {
                    this.rotation = q.down ? Math.PI * d6t.g28 : Math.PI;
                }
            }
        }
    };
    f5.prototype.setActive = function(t) {
        this._isActive = t;
    };
    f5.prototype.getActive = function() {
        return this._isActive;
    };
    f5.prototype.getPosition = function() {
        return {
            x: this.row,
            y: this.col
        };
    };
    f5.prototype.resetPosition = function() {
        this.x = d6t.W6;
        this.y = d6t.W6;
    };
    f5.prototype.destroyTutorialAnimation = function() {
        if (this._moveGhostAnimation) {
            this._moveGhostAnimation.destroy();
            this._moveGhostAnimation = d6t.B3x;
        }
    };
    f5.prototype.setOriginalImageName = function(t) {
        this._originalImageName = t;
    };
    f5.prototype.getOriginalImageName = function() {
        return this._originalImageName;
    };
    return f5;
});
define('gt/pooling/Pool', [], function() {
    var q = function() {
        var t = 'Pool.ctor';
        console.log(t);
        this.capacity = d6t.B3x;
        this._factory = d6t.B3x;
        this._constructArguments = d6t.B3x;
        this._postConstruct = d6t.B3x;
        this._postConstructContext = d6t.B3x;
        this._objectsIn = [];
    };
    q.prototype.initialize = function(t, k, j, o, e) {
        this.capacity = t || d6t.A6;
        this._factory = k;
        this._constructArguments = j;
        this._postConstruct = o;
        this._postConstructContext = e;
        this._objectsIn = [];
        this.fill();
    };
    q.prototype.getSize = function() {
        return this._objectsIn.length;
    };
    q.prototype.fill = function() {
        for (var t = d6t.W6; t < this.capacity; ++t) {
            var k = this.constructNewObject();
            this._objectsIn.push(k);
        }
    };
    q.prototype.take = function() {
        var t = '], this will probably result in visual bugs',
            k = 'Creating new [',
            j;
        if (this._objectsIn.length > d6t.W6) {
            j = this._objectsIn.pop();
        } else {
            j = this.constructNewObject();
            ++this.capacity;
            console.warn(k + j.type + t);
        }
        return j;
    };
    q.prototype.give = function(t) {
        var k = 'You are giving back more objects than this pool has capacity for, something may have gone wrong.';
        if (this._objectsIn.indexOf(t) > -d6t.A6) {
            return;
        }
        if (this._objectsIn.length == this.capacity) {
            console.warn(k);
            ++this.capacity;
        }
        this._objectsIn.push(t);
    };
    q.prototype.constructNewObject = function() {
        var t = this._factory.construct.apply(this._factory, this._constructArguments);
        if (this._postConstruct) {
            this._postConstruct.call(this._postConstructContext, t);
        }
        return t;
    };
    q.prototype.getObjectsIn = function() {
        return this._objectsIn;
    };
    q.prototype.destroy = function() {
        this._objectsIn.forEach(function(t) {
            t.destroy();
        }.bind(this));
        this._objectsIn = d6t.B3x;
    };
    return q;
});
define('factories/MinoFactory', ['bottom_line', 'enums/Enum', 'enums/SpecialMinoType', 'enums/TetriminoType', 'gt/extras/PartialInjectionFactory', 'entities/Mino', 'gt/pooling/Pool'], function(j5, Y5, z5, P5, p5, w5, R5) {
    function r5(injector, tetriminoConfig, gameInfoPublisher) {
        this._tetriminoConfig = tetriminoConfig;
        this._partialInjectionFactory = new p5(injector, w5);
        this._gameInfoPublisher = gameInfoPublisher;
        this._gameInfoPublisher.subscribe(d6t.U98, this.return, this);
        this._pools = {};
        P5.USABLE_TYPES.forEach(function(t) {
            this._initPool(t, d6t.B3x, r5.NORMAL_POOL_SIZE);
            this._initPool(t, z5.GHOST, d6t.M6);
            this._initPool(t, z5.MOVEGHOST, d6t.M6);
        }, this);
        this._initPool(d6t.B3x, z5.SPARKLE);
        this._initPool(d6t.B3x, z5.SCORECELL, r5.SMALL_POOL_SIZE);
        this._initPool(d6t.B3x, z5.JUNK, r5.SMALL_POOL_SIZE);
        this._initPool(d6t.B3x, z5.SHADOW, r5.BIG_POOL_SIZE);
    }
    r5.BIG_POOL_SIZE = d6t.h7;
    r5.NORMAL_POOL_SIZE = d6t.a08;
    r5.SMALL_POOL_SIZE = d6t.I9x;
    r5.TYPE_ID_OFFSET = d6t.a08;
    r5.prototype._initPool = function(t, k, j) {
        var o = "Creating Pool ";
        j = j || r5.BIG_POOL_SIZE;
        var e = this._getId(t, k);
        console.log(o + e);
        this._pools[e] = new R5();
        this._pools[e].initialize(j, this, [t, k]);
    };
    r5.prototype._getId = function(t, k) {
        var j = r5.TYPE_ID_OFFSET,
            o = t || P5.NONE,
            e = k || z5.NONE;
        e = e * j;
        var q = o + e;
        return q;
    };
    r5.prototype.get = function(t, k) {
        var j = this._getId(t, k);
        return this._pools[j].take();
    };
    r5.prototype.return = function(t) {
        var k = this._getId(t.tetriminoType, t.specialMinoType);
        if (t.didSpriteChangeInGravity) {
            t.setImage(t.getOriginalImageName());
            t.didSpriteChangeInGravity = d6t.F18;
        }
        this._pools[k].give(t);
    };
    r5.prototype.construct = function(t, k) {
        var j = 'minoShadow.png',
            o = 'typeLastHurrah.png',
            e = 'junk.png',
            q = t,
            m = k,
            k5 = d6t.B3x;
        if (m === z5.JUNK) {
            k5 = e;
        } else if (m === z5.SPARKLE) {
            k5 = o;
        } else if (m === z5.SCORECELL) {
            k5 = d6t.D83;
        } else if (m === z5.SHADOW) {
            k5 = j;
        } else {
            if (q === undefined) {
                q = P5.USABLE_TYPES._.random();
            }
            var tetriminoConfig = this._tetriminoConfig.getConfigForType(q),
                H5 = j5.cloneDeep(tetriminoConfig);
            k5 = H5.sprite;
            if (m != undefined) {
                k5 = this._getSpecialMinoImageName(k5, k);
            }
        }
        return this._partialInjectionFactory.construct(k5, q, m);
    };
    r5.prototype._getSpecialMinoImageName = function(t, k) {
        var j = '_shape',
            o = t.split(d6t.N23),
            e = o[d6t.W6];
        switch (k) {
            case z5.SHAPE:
                e += j;
                break;
        }
        return e + d6t.N23 + o[d6t.A6];
    };
    return r5;
});
define('enums/ConditionType', [], function() {
    function t() {}
    t.CLEAR_LINES = d6t.I73;
    t.CLEAR_JUNK = d6t.e53;
    t.CLEAR_SIDE_JUNK = d6t.D5H;
    t.CLEAR_STARTING_JUNK = d6t.i8f;
    t.MATCH_SHAPES = d6t.G28;
    t.LOCK_OUT = d6t.a2x;
    t.TOP_OUT = d6t.O18;
    t.BLOCK_OUT = d6t.r9H;
    t.TIME_LIMIT = d6t.L3H;
    t.MARATHON = d6t.t28;
    return t;
});
define('gameplay/conditions/Condition', ['bottom_line', 'phaser'], function(k, j) {
    function o(t) {
        this.conditionValue = parseInt(t);
        this.currentValue = d6t.W6;
        this._reached = d6t.F18;
    }
    o.prototype.isReached = function() {
        return this._reached;
    };
    o.prototype.conditionReached = function() {
        this._reached = d6t.s73;
    };
    o.prototype.cleanUp = function() {};
    o.prototype.reset = function() {
        this._reached = d6t.F18;
    };
    return o;
});
define('gameplay/conditions/ClearLines', ['bottom_line', 'gameplay/conditions/Condition'], function(o, e) {
    function q(t, matrixRowMatcher, gameInfoPublisher) {
        e.call(this, t);
        this._matrixRowMatcher = matrixRowMatcher;
        this._matrixRowMatcher.rowsMatchedSignal.add(this.rowsMatched, this);
        this._gameInfoPublisher = gameInfoPublisher;
        this._gameInfoPublisher.subscribe(d6t.j6B, this._gameOver, this);
    }
    o.inherit(q, e);
    q.prototype.rowsMatched = function(t) {
        var k = "We cleared lines ! Progress: ";
        if (this.currentValue < this.conditionValue) {
            this.currentValue += t.length;
            console.log(k + this.currentValue + d6t.j3x + this.conditionValue);
            if (this.currentValue >= this.conditionValue) {
                this.conditionReached();
            }
        }
    };
    q.prototype._gameOver = function() {
        this._matrixRowMatcher.rowsMatchedSignal.remove(this.rowsMatched, this);
    };
    return q;
});
define('gameplay/conditions/ClearJunk', ['bottom_line', 'gameplay/conditions/Condition'], function(j, o) {
    function e(t, junkMode) {
        o.call(this, t);
        this._junkMode = junkMode;
    }
    j.inherit(e, o);
    e.prototype.isReached = function() {
        var t = "Total junk cleared: ";
        if (isNaN(this.conditionValue) || this.conditionValue > this._junkMode.getAmountOfJunkToClearLevel()) {
            console.log(t + this._junkMode.totalJunkClearedInLevel() + d6t.j3x + this._junkMode.getAmountOfJunkToClearLevel());
            return this._junkMode.getAmountOfJunkToClearLevel() === this._junkMode.totalJunkClearedInLevel();
        } else {
            console.log(t + this._junkMode.totalJunkClearedInLevel() + d6t.j3x + this.conditionValue);
            return this._junkMode.totalJunkClearedInLevel() >= this.conditionValue;
        }
    };
    return e;
});
define('gameplay/conditions/MatchShapes', ['bottom_line', 'gameplay/conditions/Condition'], function(j, o) {
    function e(t, matchShapeMode) {
        o.call(this, t);
        this._matchShapeMode = matchShapeMode;
    }
    j.inherit(e, o);
    e.prototype.isReached = function() {
        return this._matchShapeMode.shapesClearedFromMatrix();
    };
    return e;
});
define('gameplay/conditions/LockOut', ['bottom_line', 'gameplay/conditions/Condition'], function(q, m) {
    function k5(t, matrixConfig, tetriminoController, o, gameInfoPublisher) {
        this._matrixConfig = matrixConfig;
        this._tetriminoController = tetriminoController;
        this._currentTetrimino = o;
        this._gameInfoPublisher = gameInfoPublisher;
        this._tetriminoController.lockedDownSignal.add(this.triggerGameOverCondition, this, d6t.A6);
        m.call(this, t);
    }
    q.inherit(k5, m);
    k5.prototype.triggerGameOverCondition = function() {
        var t = 'LOCK OUT LOSE CONDITION TRIGGERED',
            k = [],
            j = this._matrixConfig.STARTING_ROW_INDEX,
            o = this._tetriminoController.getCurrentTetrimino(),
            e = o.getBottomRow();
        if (e > j) {
            console.log(t);
            this.conditionReached();
        }
    };
    k5.prototype.cleanUp = function() {
        this._tetriminoController.lockedDownSignal.removeAll(this);
    };
    return k5;
});
define('gameplay/conditions/TopOut', ['bottom_line', 'gameplay/conditions/Condition'], function(o, e) {
    function q(t, junkMode, gameInfoPublisher) {
        e.call(this, t);
        this._junkMode = junkMode;
        this._gameInfoPublisher = gameInfoPublisher;
        this._junkMode.topOutSignal.add(this.conditionReached, this, d6t.A6);
    }
    o.inherit(q, e);
    q.prototype.cleanUp = function() {
        this._junkMode.topOutSignal.removeAll(this);
    };
    return q;
});
define('gameplay/conditions/BlockOut', ['bottom_line', 'gameplay/conditions/Condition'], function(o, e) {
    function q(t, tetriminoController, gameInfoPublisher) {
        this._tetriminoController = tetriminoController;
        this._tetriminoController.blockOutSignal.add(this.triggerGameOverCondition, this, d6t.A6);
        this._gameInfoPublisher = gameInfoPublisher;
        e.call(this, t);
    }
    o.inherit(q, e);
    q.prototype.triggerGameOverCondition = function() {
        var t = 'BLOCK OUT LOSE CONDITION TRIGGERED';
        console.log(t);
        this.conditionReached();
    };
    q.prototype.cleanUp = function() {
        this._tetriminoController.blockOutSignal.removeAll(this);
    };
    return q;
});
define('gameplay/conditions/TimeLimit', ['bottom_line', 'gameplay/conditions/Condition'], function(k5, C5) {
    function H5(t, game, gameInfoPublisher, phaserEvents, soundManager, gameVarManager, gameStateManager) {
        C5.call(this, t);
        this._game = game;
        this._gameInfoPublisher = gameInfoPublisher;
        this._phaserEvents = phaserEvents;
        this._soundManager = soundManager;
        this._gameVarManager = gameVarManager;
        this._gameStateManager = gameStateManager;
        this._phaserEvents.updateEvent.add(this.update, this);
        this._startTime = d6t.W6;
        this._elapsedSeconds = d6t.W6;
        this._elapsedMilliseconds = d6t.W6;
        this._lastUpdate = d6t.W6;
        this._paused = d6t.s73;
        this._outOfFocus = d6t.F18;
        this._tutorialActive = d6t.F18;
        this.conditionValueInMilliseconds = this.conditionValue * d6t.I6;
        this._addEvents();
        this._game.onPause.add(this._wentOutOfFocus, this);
        this._game.onResume.add(this._regainedFocus, this);
        this._timeLeftInSeconds = d6t.W6;
        this._gameInfoPublisher.publish(d6t.N3H, this.conditionValue);
    }
    k5.inherit(H5, C5);
    H5.prototype.update = function() {
        var t = "loseCondition: Out of time";
        if (this._tutorialActive) {
            return;
        }
        if (this._paused || this._outOfFocus) {
            return;
        }
        if (!this._lastUpdate) {
            this._lastUpdate = Date.now();
        }
        var k = Date.now(),
            j = k - this._lastUpdate;
        this._elapsedMilliseconds += j;
        this._elapsedSeconds = this._elapsedMilliseconds / d6t.I6;
        this._lastUpdate = k;
        if (this.isOutOfTime()) {
            this._gameInfoPublisher.publish(d6t.K8x);
            console.log(t);
            this._gameInfoPublisher.publish(d6t.p33);
            this.conditionReached();
            this._gameStateManager.endCurrentState();
            this._paused = d6t.s73;
        } else {
            this._calculateSecondsLeft();
        }
    };
    H5.prototype.isOutOfTime = function() {
        return this._elapsedMilliseconds >= this.conditionValueInMilliseconds;
    };
    H5.prototype.getTimeLeftInSeconds = function() {
        return Math.floor(this.conditionValue - this._elapsedSeconds);
    };
    H5.prototype.cleanUp = function() {
        this._elapsedMilliseconds = d6t.W6;
        this._elapsedSeconds = d6t.W6;
        this._phaserEvents.updateEvent.remove(this.update, this);
        this._removeEvents();
    };
    H5.prototype._startTimesupEffects = function() {
        if (this.getTimeLeftInSeconds() <= this._gameVarManager.constants.TIME_LEFT) {
            this._gameInfoPublisher.publish(d6t.h9f);
            this._soundManager.effect(this._gameVarManager.audioConstants.timesup_sfx);
        }
    };
    H5.prototype._calculateSecondsLeft = function() {
        var t = this.getTimeLeftInSeconds();
        if (t != this._timeLeftInSeconds) {
            this._timeLeftInSeconds = t;
            this._gameInfoPublisher.publish(d6t.N3H, this._timeLeftInSeconds);
        }
    };
    H5.prototype._pauseTimer = function() {
        this._paused = d6t.s73;
    };
    H5.prototype._resumeTimer = function() {
        this._paused = d6t.F18;
        this._lastUpdate = Date.now();
    };
    H5.prototype._wentOutOfFocus = function() {
        this._outOfFocus = d6t.s73;
    };
    H5.prototype._regainedFocus = function() {
        this._outOfFocus = d6t.F18;
        this._lastUpdate = Date.now();
    };
    H5.prototype._setTutorialActive = function(t, k) {
        this._tutorialActive = k.tutorialOn;
        if (!k.tutorialOn) {
            this._lastUpdate = Date.now();
        }
    };
    H5.prototype._addEvents = function() {
        this._gameInfoPublisher.subscribe(d6t.C3, this._pauseTimer, this);
        this._gameInfoPublisher.subscribe(d6t.v53, this._resumeTimer, this);
        this._gameInfoPublisher.subscribe(d6t.T7, this._pauseTimer, this);
        this._gameInfoPublisher.subscribe(d6t.Z7x, this._resumeTimer, this);
        this._gameInfoPublisher.subscribe(d6t.P4f, this._pauseTimer, this);
        this._gameInfoPublisher.subscribe(d6t.Z9f, this._resumeTimer, this);
        this._gameInfoPublisher.subscribe(d6t.N3H, this._startTimesupEffects, this);
        this._gameInfoPublisher.subscribe(d6t.H1f, this._setTutorialActive, this);
        this._gameInfoPublisher.subscribe(d6t.Z9f, this._setTutorialActive, this);
    };
    H5.prototype._removeEvents = function() {
        this._gameInfoPublisher.unsubscribe(d6t.C3, this._pauseTimer, this);
        this._gameInfoPublisher.unsubscribe(d6t.v53, this._resumeTimer, this);
        this._gameInfoPublisher.unsubscribe(d6t.T7, this._pauseTimer, this);
        this._gameInfoPublisher.unsubscribe(d6t.Z7x, this._resumeTimer, this);
        this._gameInfoPublisher.unsubscribe(d6t.P4f, this._pauseTimer, this);
        this._gameInfoPublisher.unsubscribe(d6t.Z9f, this._resumeTimer, this);
        this._gameInfoPublisher.unsubscribe(d6t.N3H, this._startTimesupEffects, this);
        this._gameInfoPublisher.unsubscribe(d6t.H1f, this._setTutorialActive, this);
        this._gameInfoPublisher.unsubscribe(d6t.Z9f, this._setTutorialActive, this);
    };
    return H5;
});
define('gameplay/conditions/Marathon', ['bottom_line', 'gameplay/conditions/Condition'], function(e, q) {
    function m(t, matrixRowMatcher, gameInfoPublisher, gameCheats) {
        q.call(this, t);
        this._gameCheats = gameCheats;
        this._matrixRowMatcher = matrixRowMatcher;
        this._gameInfoPublisher = gameInfoPublisher;
        this._gameInfoPublisher = gameInfoPublisher;
        this.init();
    }
    e.inherit(m, q);
    m.LINES_PER_LEVEL = d6t.x7x;
    m.NOTIFICATIONS_THRESHOLD = d6t.x7x;
    m.prototype.init = function() {
        var t = 'marathonlevel';
        this._matrixRowMatcher.rowsMatchedSignal.add(this.rowsMatched, this);
        this.currentLevel = d6t.A6;
        this.currentLevel = this._gameCheats.getCheat(t, this.currentLevel);
        this.currentLines = (this.currentLevel - d6t.A6) * m.LINES_PER_LEVEL;
        this._gameInfoPublisher.publish(d6t.H6, this.currentLines);
        this._gameInfoPublisher.publish(d6t.h8f, this.currentLevel);
        this._gameInfoPublisher.publish(d6t.t0f, d6t.W6);
        this._gameInfoPublisher.publish(d6t.S5H, d6t.s73);
        this._addEvents();
    };
    m.prototype.rowsMatched = function(t) {
        var k = 'MARATHON LEVEL CHANGED, NOW ON LEVEL: ',
            j = 'Total cleared lines: ';
        this.currentLines += t.length;
        this._gameInfoPublisher.publish(d6t.H6, this.currentLines);
        console.log(j + this.currentLines);
        this._gameInfoPublisher.publish(d6t.t0f, (this.currentLines / m.LINES_PER_LEVEL));
        if (this.currentLines >= this.currentLevel * m.LINES_PER_LEVEL) {
            this.currentLevel = Math.floor(this.currentLines / m.LINES_PER_LEVEL) + d6t.A6;
            if (this.currentLevel > this.conditionValue) {
                this.conditionReached();
            } else {
                this._gameInfoPublisher.publish(d6t.h8f, this.currentLevel);
                if (this.currentLevel == m.NOTIFICATIONS_THRESHOLD) {
                    this._gameInfoPublisher.publish(d6t.S5H, d6t.F18);
                }
                console.log(k + this.currentLevel);
            }
        }
    };
    m.prototype._gameOver = function() {
        this._matrixRowMatcher.rowsMatchedSignal.remove(this.rowsMatched, this);
        this._removeEvents();
    };
    m.prototype._addEvents = function() {
        this._gameInfoPublisher.subscribe(d6t.j6B, this._gameOver, this);
    };
    m.prototype._removeEvents = function() {
        this._gameInfoPublisher.unsubscribe(d6t.j6B, this._gameOver, this);
    };
    return m;
});
define('factories/ConditionFactory', ['enums/ConditionType', 'gameplay/conditions/ClearLines', 'gameplay/conditions/ClearJunk', 'gameplay/conditions/MatchShapes', 'gameplay/conditions/LockOut', 'gameplay/conditions/TopOut', 'gameplay/conditions/BlockOut', 'gameplay/conditions/TimeLimit', 'gameplay/conditions/Marathon'], function(o, e, q, m, k5, C5, H5, j5, Y5) {
    function z5(injector) {
        this._injector = injector;
    }
    z5.prototype.construct = function(t, k) {
        return this._injector.createInstance.apply(this._injector, [this.getConstructorForType(t), k]);
    };
    z5.prototype.getConstructorForType = function(t) {
        var k = "no condition with this type exists",
            j = d6t.B3x;
        switch (t) {
            case o.CLEAR_LINES:
                j = e;
                break;
            case o.CLEAR_JUNK:
            case o.CLEAR_STARTING_JUNK:
            case o.CLEAR_SIDE_JUNK:
                j = q;
                break;
            case o.MATCH_SHAPES:
                j = m;
                break;
            case o.LOCK_OUT:
                j = k5;
                break;
            case o.TOP_OUT:
                j = C5;
                break;
            case o.BLOCK_OUT:
                j = H5;
                break;
            case o.TIME_LIMIT:
                j = j5;
                break;
            case o.MARATHON:
                j = Y5;
                break;
            default:
                console.log(k);
                break;
        }
        return j;
    };
    return z5;
});
define('enums/GameModeType', [], function() {
    var t = 'invisible',
        k = 'chaos';

    function j() {}
    j.CLEAR_LINES = d6t.I73;
    j.CLEAR_JUNK = d6t.e53;
    j.CLEAR_SIDE_JUNK = d6t.D5H;
    j.CLEAR_STARTING_JUNK = d6t.i8f;
    j.MATCH_SHAPES = d6t.G28;
    j.GRAVITY_SWITCH = d6t.H73;
    j.HOURGLASS = d6t.d7H;
    j.CHAOS = k;
    j.INVISIBLE = t;
    return j;
});
define('gameplay/game_modes/GameMode', [], function() {
    function j() {}
    j.prototype.start = function(t, k) {};
    j.prototype.startNewState = function(t, k) {
        if (t) {
            t.call(k);
        }
    };
    j.prototype.lockedDownInMatrix = function(t, k) {
        if (t) {
            t.call(k);
        }
    };
    j.prototype.matrixMatched = function(t, k) {
        if (t) {
            t.call(k);
        }
    };
    j.prototype.endCurrentState = function(t, k) {
        if (t) {
            t.call(k);
        }
    };
    j.prototype.cleanUp = function() {};
    return j;
});
define('gameplay/game_modes/JunkMode', ['bottom_line', 'gameplay/game_modes/GameMode', 'enums/Enum', 'enums/SpecialMinoType', 'enums/ConditionType', 'enums/GameModeType', 'utils/Array2DUtil', 'enums/TutorialType'], function(j5, Y5, z5, P5, p5, w5, R5, r5) {
    var T5 = 'junkspawnGlowStart';

    function a5(game, matrixGravity, matrixRowMatcher, matrixController, matrixModel, matrixConfig, minoFactory, soundManager, gameVarManager, gameInfoPublisher) {
        a5._super.constructor.call(this);
        this._game = game;
        this._matrixGravity = matrixGravity;
        this._matrixRowMatcher = matrixRowMatcher;
        this._matrixController = matrixController;
        this._matrixModel = matrixModel;
        this._matrixConfig = matrixConfig;
        this._minoFactory = minoFactory;
        this._soundManager = soundManager;
        this._gameVarManager = gameVarManager;
        this._gameInfoPublisher = gameInfoPublisher;
        this._junkWavesSpawned = d6t.W6;
        this._startingJunk = d6t.W6;
        this._totalJunkCleared = d6t.W6;
        this._junkInBuffer = d6t.W6;
        this._movesMade = d6t.W6;
        this._tutorialMoveCount = d6t.W6;
        this._totalMovesUntilJunkspawn = d6t.W6;
        this._didAllWavesSpawn = d6t.F18;
        this._junkLevelType = d6t.B3x;
        this._currentLevelData = d6t.B3x;
        this.pushJunkSignal = new Phaser.Signal();
        this.topOutSignal = new Phaser.Signal();
    }
    j5.inherit(a5, Y5);
    a5.prototype.start = function(k, j) {
        this._addEvents();
        this._currentLevelData = k;
        this._gameModeIndex = j;
        this._totalMovesUntilJunkspawn = this._currentLevelData.movesBetweenJunkWave;
        if ((this._currentLevelData.isJunkLevel) || (this._currentLevelData.isSideJunkLevel) || (this._currentLevelData.isStartingJunkLevel)) {
            this._junkLevelType = k.gameModes[this._gameModeIndex];
            this._startingJunk = this.getAmountOfJunkInMatrix();
            this._matrixRowMatcher.rowsMatchedSignal.add(this.rowsMatched, this, d6t.A6);
            if (this._junkLevelType === w5.CLEAR_SIDE_JUNK) {
                this._matrixModel.bufferMino._.each(function(t) {
                    this._junkInBuffer += t.length;
                }, this);
            }
        }
        this._gameInfoPublisher.publish(d6t.G7f, this._getMoveCount());
        a5._super.start.apply(this, arguments);
    };
    a5.prototype.startNewState = function(t, k) {
        if (!this._didAllWavesSpawn) {
            if (this._getMovesLeft() <= this._gameVarManager.constants.junkspawnGlowStartAt) {
                this._gameInfoPublisher.publish(T5);
            }
            if (this._movesMade >= this._getMoveCount()) {
                this._movesMade = d6t.W6;
                this._gameInfoPublisher.publish(d6t.B0x);
                this.addJunkToMatrix();
            }
        }
        a5._super.startNewState.apply(this, arguments);
    };
    a5.prototype.endCurrentState = function(t, k) {
        this._movesMade++;
        if (!this._didAllWavesSpawn) {
            this._gameInfoPublisher.publish(d6t.G7f, this._getMovesLeft());
            if (this._getMovesLeft() <= this._gameVarManager.constants.junkspawnGlowStartAt) {
                this._gameInfoPublisher.publish(T5);
            }
        }
        a5._super.endCurrentState.apply(this, arguments);
    };
    a5.prototype.addJunkToMatrix = function() {
        this._junkWavesSpawned++;
        if (this._junkWavesSpawned == this._currentLevelData.junkWaves) {
            this._didAllWavesSpawn = d6t.s73;
        }
        if (!this._didAllWavesSpawn) {
            this._gameInfoPublisher.publish(d6t.G7f, this._getMovesLeft());
        } else {}
        var o = this._currentLevelData.junkPerWave;
        for (var e = d6t.W6; e < this._currentLevelData.junkRowsPerWave; e++) {
            var q = this.getJunkInRow(d6t.W6);
            if (this._matrixGravity.moveMatrixOneRowUp()) {
                this.pushJunkSignal.dispatch();
                var m = d6t.W6;
                if (e === this._currentLevelData.junkRowsPerWave - d6t.A6) {
                    m = o;
                } else {
                    m = Math.min(this._matrixConfig.COLS - d6t.A6, Math.floor(this._currentLevelData.junkPerWave / this._currentLevelData.junkRowsPerWave));
                    o -= m;
                }
                var k5 = this.generateJunkRow(m, q);
                k5.forEach(function(t, k) {
                    if (t) {
                        var j = this._minoFactory.get(d6t.B3x, P5.JUNK);
                        this._matrixController.addMinoToMatrix(j, d6t.W6, k);
                    }
                }, this);
            } else {
                this.topOutSignal.dispatch();
                this._gameInfoPublisher.publish(d6t.p33);
                return;
            }
        }
        this._soundManager.effect(this._gameVarManager.audioConstants.junkspawn_sfx);
    };
    a5.prototype.generateJunkRow = function(t) {
        var k = [],
            j = [];
        for (var o = d6t.W6; o < this._matrixConfig.COLS; o++) {
            j.push(o);
        }
        for (var e = d6t.W6; e < t; e++) {
            var q = this._game.rnd.integerInRange(d6t.W6, j.length - d6t.A6),
                m = j.splice(q, d6t.A6);
            k[m] = d6t.A6;
        }
        return k;
    };
    a5.prototype.getAmountOfJunkToClearLevel = function() {
        var t = d6t.W6;
        t += this._startingJunk;
        if (this._junkLevelType === w5.CLEAR_JUNK) {
            t += (this._currentLevelData.junkPerWave * this._currentLevelData.junkWaves);
        } else if (this._junkLevelType === w5.CLEAR_SIDE_JUNK) {
            t += this._junkInBuffer;
        } else {
            return t;
        }
        return t;
    };
    a5.prototype.rowsMatched = function(k) {
        R5.forEach(k, function(t) {
            if (t.specialMinoType === P5.JUNK) {
                this._totalJunkCleared++;
            }
        }, this);
    };
    a5.prototype.getAmountOfJunkInMatrix = function() {
        var j = d6t.W6;
        this._matrixController.forEachCellInMatrix(function(t) {
            var k = t.getPrisoner();
            if (k && k.specialMinoType === P5.JUNK) {
                j++;
            }
        }, this);
        return j;
    };
    a5.prototype.getJunkInRow = function(t) {
        var k = [];
        for (var j = d6t.W6; j < this._matrixConfig.COLS; j++) {
            var o = this._matrixController.getMatrixCell(t, j),
                e = o.getPrisoner();
            if (e && e.specialMinoType === P5.JUNK) {
                k.push(e);
            }
        }
        return k;
    };
    a5.prototype.totalJunkClearedInLevel = function() {
        return this._totalJunkCleared;
    };
    a5.prototype.cleanUp = function() {
        this._junkWavesSpawned = d6t.W6;
        this._totalJunkCleared = d6t.W6;
        this._movesMade = d6t.W6;
        this._gameInfoPublisher.publish(d6t.G7f, this._getMovesLeft());
        this._currentLevelData = d6t.B3x;
        this._didAllWavesSpawn = d6t.F18;
        this._matrixRowMatcher.rowsMatchedSignal.remove(this.rowsMatched, this);
        this._removeEvents();
    };
    a5.prototype._getMoveCount = function() {
        if (this._tutorialMoveCount > d6t.W6) {
            return this._tutorialMoveCount;
        } else {
            return this._totalMovesUntilJunkspawn;
        }
    };
    a5.prototype._getMovesLeft = function() {
        return this._getMoveCount() - this._movesMade;
    };
    a5.prototype._activateTutorial = function(t) {
        if (t === r5.JUNKSPAWN) {
            this._tutorialMoveCount = this._gameVarManager.constants.junkspawnTutorialMoves;
            this._gameInfoPublisher.publish(d6t.G7f, this._getMoveCount());
            this._gameInfoPublisher.publish(T5);
        }
    };
    a5.prototype._deactivateTutorial = function() {
        this._tutorialMoveCount = d6t.W6;
        this._gameInfoPublisher.publish(d6t.G7f, this._getMoveCount());
    };
    a5.prototype._addEvents = function() {
        this._gameInfoPublisher.subscribe(d6t.X1x, this._activateTutorial, this);
        this._gameInfoPublisher.subscribe(d6t.Z9f, this._deactivateTutorial, this);
    };
    a5.prototype._removeEvents = function() {
        this._gameInfoPublisher.unsubscribe(d6t.X1x, this._activateTutorial, this);
        this._gameInfoPublisher.unsubscribe(d6t.Z9f, this._deactivateTutorial, this);
    };
    return a5;
});
define('gameplay/game_modes/MatchShapeMode', ['bottom_line', 'gameplay/game_modes/GameMode', 'enums/SpecialMinoType'], function(H5, j5, Y5) {
    function z5(matrixView, minoFactory, matrixController, tetriminoController) {
        var e = 'shapes';
        z5._super.constructor.call(this);
        this._matrixView = matrixView;
        this._shapeParent = this._matrixView.getLayer(e);
        this._minoFactory = minoFactory;
        this._matrixController = matrixController;
        this._tetriminoController = tetriminoController;
        this._shapeMinos = [];
    }
    H5.inherit(z5, j5);
    z5.prototype.start = function(o, e) {
        o.otherMinos.forEach(function(t) {
            if (t.specialMinoType === Y5.SHAPE) {
                var k = this._minoFactory.get(t.tetriminoType, t.specialMinoType);
                k.row = t.row;
                k.col = t.col;
                var j = this._matrixController.getMatrixCell(t.row, t.col);
                k.x = j.x;
                k.y = j.y;
                this._shapeParent.add(k);
                this._shapeMinos.push(k);
            }
        }, this);
        this._gameModeIndex = e;
        z5._super.start.apply(this, arguments);
    };
    z5.prototype.lockedDownInMatrix = function() {
        var j = "Shape tetriminos left: ",
            o = "% of a shape Tetrimino !",
            e = 25,
            q = "We matched ";
        z5._super.lockedDownInMatrix.apply(this, arguments);
        var m = this._tetriminoController.getCurrentTetrimino(),
            k5 = m.getMinos(),
            C5 = [];
        k5._.each(function(t) {
            var k = this.getShapeMinoWithTypeAt(t.tetriminoType, t.row, t.col);
            if (k) {
                C5.push(k);
            }
        }, this);
        if (C5.length) {
            console.log(q + C5.length * e + o);
            console.log(j + (this._shapeMinos.length - d6t.M6) / d6t.M6);
            if (C5.length != d6t.M6) {
                C5 = this.gatherRemainingShapeMinos(C5);
            }
            C5._.each(function(t, k) {
                this._shapeParent.remove(t);
                this._shapeMinos._.del(k);
            }, this);
        }
    };
    z5.prototype.getShapeMinoWithTypeAt = function(k, j, o) {
        var e = d6t.B3x;
        this._shapeMinos._.each(function(t) {
            if (t.row === j && t.col === o && t.tetriminoType === k) {
                e = t;
                return d6t.F18;
            }
        }, this);
        return e;
    };
    z5.prototype.gatherRemainingShapeMinos = function(t) {
        for (var k = d6t.W6; k < t.length; k++) {
            var j = t[k],
                o = this.getShapeMinoWithTypeAt(j.tetriminoType, j.row + d6t.A6, j.col);
            if (o && !t._.has(o)) {
                t.push(o);
            }
            o = this.getShapeMinoWithTypeAt(j.tetriminoType, j.row - d6t.A6, j.col);
            if (o && !t._.has(o)) {
                t.push(o);
            }
            o = this.getShapeMinoWithTypeAt(j.tetriminoType, j.row, j.col + d6t.A6);
            if (o && !t._.has(o)) {
                t.push(o);
            }
            o = this.getShapeMinoWithTypeAt(j.tetriminoType, j.row, j.col - d6t.A6);
            if (o && !t._.has(o)) {
                t.push(o);
            }
        }
        return t;
    };
    z5.prototype.shapesClearedFromMatrix = function() {
        return !this._shapeMinos.length;
    };
    z5.prototype.cleanUp = function() {};
    return z5;
});
define('enums/Direction', [], function() {
    function j() {}
    j.UP = d6t.A6;
    j.RIGHT = d6t.D6;
    j.DOWN = d6t.B6;
    j.LEFT = d6t.M6;
    j.invert = function(t) {
        var k;
        switch (t) {
            case j.UP:
                k = j.DOWN;
                break;
            case j.RIGHT:
                k = j.LEFT;
                break;
            case j.DOWN:
                k = j.UP;
                break;
            case j.LEFT:
                k = j.RIGHT;
                break;
        }
        return k;
    };
    j.toVector = function(t) {
        switch (t) {
            case j.UP:
                return {
                    x: d6t.W6,
                    y: d6t.A6
                };
            case j.RIGHT:
                return {
                    x: d6t.A6,
                    y: d6t.W6
                };
            case j.DOWN:
                return {
                    x: d6t.W6,
                    y: -d6t.A6
                };
            case j.LEFT:
                return {
                    x: -d6t.A6,
                    y: d6t.W6
                };
        }
    };
    return j;
});
define('enums/Messages', [], function() {
    var t = 'entity_destroyed',
        k = 'tetrimino_destroyed',
        j = 'empty_matrix_cell',
        o = 'reset_tetrimino',
        e = 'rotate';

    function q() {}
    q.ROTATE = e;
    q.RESET_TETRIMINO = o;
    q.EMPTY_MATRIX_CELL = j;
    q.TETRIMINO_DESTROYED = k;
    q.ENTITY_DESTROYED = t;
    return q;
});
define('gameplay/game_modes/GravitySwitchMode', ['bottom_line', 'enums/Direction', 'enums/Messages', 'enums/Rotation', 'enums/TetriminoType', 'gameplay/game_modes/GameMode', 'enums/TutorialType', 'data/ControlScheme'], function(j5, Y5, z5, P5, p5, w5, R5, r5) {
    var T5 = 'gravitySwitchGlowStart';

    function a5(tetriminoController, matrixGravity, matrixView, matrixController, matrixConfig, matrixRowMatcher, matrixModel, gameInfoPublisher, gameVarManager, controlScheme) {
        a5._super.constructor.call(this);
        this._tetriminoController = tetriminoController;
        this._matrixGravity = matrixGravity;
        this._matrixController = matrixController;
        this._matrixView = matrixView;
        this._matrixConfig = matrixConfig;
        this._matrixRowMatcher = matrixRowMatcher;
        this._matrixModel = matrixModel;
        this._gameInfoPublisher = gameInfoPublisher;
        this._gameVarManager = gameVarManager;
        this._controlScheme = controlScheme;
        this._currentMovesDone = d6t.W6;
        this._gravitySwitchCount = d6t.W6;
        this._callback = d6t.B3x;
        this._context = d6t.B3x;
    }
    j5.inherit(a5, w5);
    a5.prototype.start = function(t, k) {
        this._addEvents();
        this._gravitySwitchCount = t.gravitySwitchCount;
        this._gameModeIndex = k;
        this._gameInfoPublisher.publish(d6t.F0H, this._getMoveCount());
    };
    a5.prototype.startNewState = function(t, k) {
        if (this._currentMoves >= this._getMoveCount()) {
            this._currentMoves = d6t.W6;
            this._gameInfoPublisher.publish(d6t.u2x);
            if (this._controlScheme[r5.CURRENT_SCHEME_KEY] === r5.SWIPE) {
                this._gameInfoPublisher.publish(d6t.m0x);
            }
            var j = !this._matrixModel.isFlipped ? Y5.DOWN : Y5.UP;
            this._callback = t;
            this._context = k;
            this._matrixController.toggleShadows(d6t.F18);
            this._gameInfoPublisher.publish(d6t.P93, d6t.s73);
            this._matrixView.gravitySwitch(j, this.switchGravityInMatrixGravity, this);
        } else {
            if (t) {
                t.call(k);
            }
        }
    };
    a5.prototype.endCurrentState = function(t, k) {
        this._currentMoves++;
        if (this._getMovesLeft() <= this._gameVarManager.constants.gravityGlowStartsAt) {
            this._gameInfoPublisher.publish(T5);
        }
        a5._super.endCurrentState.apply(this, arguments);
    };
    a5.prototype.switchGravityInMatrixGravity = function() {
        this._matrixGravity.switchGravity(Y5.UP, this.completeGravitySwitch, this);
    };
    a5.prototype.completeGravitySwitch = function() {
        this._matrixController.flipGrid();
        var t = function() {
            this._matrixGravity.applyGravity(this._callback, this._context);
        };
        this._matrixRowMatcher.checkMatrix(t, this);
    };
    a5.prototype.cleanUp = function() {
        if (this._matrixModel.isFlipped) {
            this._matrixController.flipGrid();
        }
        this._currentMoves = d6t.W6;
        this._gravitySwitchCount = d6t.W6;
        this._matrixView.resetMatrixPosition();
        this._removeEvents();
    };
    a5.prototype._activateTutorial = function(t) {
        if (t === R5.GRAVITY_SWITCH) {
            this._tutorialMoveCount = this._gameVarManager.constants.gravityTutorialMoves;
            this._gameInfoPublisher.publish(d6t.F0H, this._getMoveCount());
            this._gameInfoPublisher.publish(T5);
        }
    };
    a5.prototype._deActivateTutorial = function() {
        this._tutorialMoveCount = d6t.W6;
        this._gameInfoPublisher.publish(d6t.F0H, this._getMoveCount());
    };
    a5.prototype._getMoveCount = function() {
        if (this._tutorialMoveCount > d6t.W6) {
            return this._tutorialMoveCount;
        } else {
            return this._gravitySwitchCount;
        }
    };
    a5.prototype._getMovesLeft = function() {
        return this._getMoveCount() - this._currentMoves;
    };
    a5.prototype._addEvents = function() {
        this._gameInfoPublisher.subscribe(d6t.X1x, this._activateTutorial, this);
        this._gameInfoPublisher.subscribe(d6t.Z9f, this._deActivateTutorial, this);
    };
    a5.prototype._removeEvents = function() {
        this._gameInfoPublisher.unsubscribe(d6t.X1x, this._activateTutorial, this);
        this._gameInfoPublisher.unsubscribe(d6t.Z9f, this._deActivateTutorial, this);
    };
    Object.defineProperty(a5.prototype, d6t.x38, {
        get: function() {
            return this._currentMovesDone;
        },
        set: function(t) {
            this._currentMovesDone = t;
            this._gameInfoPublisher.publish(d6t.F0H, this._getMovesLeft());
        }
    });
    return a5;
});
define('gameplay/game_modes/HourglassMode', ['bottom_line', 'enums/Direction', 'enums/Messages', 'enums/Rotation', 'enums/TetriminoType', 'gameplay/game_modes/GameMode', 'enums/TutorialType', 'data/ControlScheme'], function(H5, j5, Y5, z5, P5, p5, w5, R5) {
    var r5 = 'hourglassGlowStart';

    function T5(tetriminoController, matrixGravity, matrixView, matrixController, matrixConfig, matrixRowMatcher, gameInfoPublisher, gameVarManager, controlScheme) {
        T5._super.constructor.call(this);
        this._tetriminoController = tetriminoController;
        this._matrixGravity = matrixGravity;
        this._matrixController = matrixController;
        this._matrixView = matrixView;
        this._matrixConfig = matrixConfig;
        this._matrixRowMatcher = matrixRowMatcher;
        this._gameInfoPublisher = gameInfoPublisher;
        this._gameVarManager = gameVarManager;
        this._controlScheme = controlScheme;
        this._currentMovesDone = d6t.W6;
        this._hourglassMoveCount = d6t.W6;
        this._tutorialMoveCount = d6t.W6;
        this._callback = d6t.B3x;
        this._context = d6t.B3x;
    }
    H5.inherit(T5, p5);
    T5.prototype.start = function(t, k) {
        this._addEvents();
        this._hourglassMoveCount = t.hourglassMoveCount;
        this._gameModeIndex = k;
        this._gameInfoPublisher.publish(d6t.K6x, this._getMoveCount());
    };
    T5.prototype.startNewState = function(t, k) {
        var j = this._getMoveCount();
        if (this._currentMoves >= j) {
            this._currentMoves = d6t.W6;
            this._callback = t;
            this._context = k;
            this._gameInfoPublisher.publish(d6t.B8);
            if (this._controlScheme[R5.CURRENT_SCHEME_KEY] === R5.SWIPE) {
                this._gameInfoPublisher.publish(d6t.m0x);
            }
            this._matrixController.toggleShadows(d6t.F18);
            this._gameInfoPublisher.publish(d6t.P93, d6t.s73);
            this._matrixController.hourglassMatrixFlip(this.matrixSwitchDone, this);
        } else {
            if (t) {
                t.call(k);
            }
        }
    };
    T5.prototype.matrixSwitchDone = function() {
        this._matrixGravity.switchGravity(j5.DOWN, this._applyGravity, this);
    };
    T5.prototype.endCurrentState = function(t, k) {
        this._currentMoves++;
        if (this._getMovesLeft() <= this._gameVarManager.constants.hourglassGlowStartsAt) {
            this._gameInfoPublisher.publish(r5);
        }
        T5._super.endCurrentState.apply(this, arguments);
    };
    T5.prototype._applyGravity = function() {
        var t = function() {
            this._matrixGravity.applyGravity(this._callback, this._context);
        };
        this._matrixRowMatcher.checkMatrix(t, this);
    };
    T5.prototype.cleanUp = function() {
        this._removeEvents();
        this._currentMoves = d6t.W6;
        this._hourglassMoveCount = d6t.W6;
    };
    T5.prototype._activateTutorial = function(t) {
        if (t === w5.HOURGLASS) {
            this._tutorialMoveCount = this._gameVarManager.constants.hourglassTutorialMoves;
            this._gameInfoPublisher.publish(d6t.K6x, this._getMoveCount());
            this._gameInfoPublisher.publish(r5);
        }
    };
    T5.prototype._deActivateTutorial = function() {
        this._tutorialMoveCount = d6t.W6;
    };
    T5.prototype._getMoveCount = function() {
        if (this._tutorialMoveCount > d6t.W6) {
            return this._tutorialMoveCount;
        } else {
            return this._hourglassMoveCount;
        }
    };
    T5.prototype._getMovesLeft = function() {
        return this._getMoveCount() - this._currentMoves;
    };
    T5.prototype._addEvents = function() {
        this._gameInfoPublisher.subscribe(d6t.X1x, this._activateTutorial, this);
        this._gameInfoPublisher.subscribe(d6t.Z9f, this._deActivateTutorial, this);
    };
    T5.prototype._removeEvents = function() {
        this._gameInfoPublisher.unsubscribe(d6t.X1x, this._activateTutorial, this);
        this._gameInfoPublisher.unsubscribe(d6t.Z9f, this._deActivateTutorial, this);
    };
    Object.defineProperty(T5.prototype, d6t.x38, {
        get: function() {
            return this._currentMovesDone;
        },
        set: function(t) {
            this._currentMovesDone = t;
            var k = this._hourglassMoveCount - this._currentMoves;
            this._gameInfoPublisher.publish(d6t.K6x, k);
        }
    });
    return T5;
});
define('gameplay/game_modes/InvisibleMode', ['bottom_line', 'gameplay/game_modes/GameMode', 'utils/Array2DUtil'], function(j, o, e) {
    var q = function(tetriminoController, game) {
        q._super.constructor.call(this, d6t.t6B);
        this._tetriminoController = tetriminoController;
        this._tetriminoController.lockedDownSignal.add(this._lockedDown, this);
        this._game = game;
    };
    j.inherit(q, o);
    q.prototype.start = function(t, k) {
        this._fadeTime = t.invisibleFadeTime || d6t.W6;
        this._fadeDelay = t.invisibleFadeDelay || d6t.W6;
        this._gameModeIndex = k;
    };
    q.prototype._lockedDown = function(t) {
        this._game.time.events.add(this._fadeDelay, this.fadeTetrimino, this, t);
    };
    q.prototype.fadeTetrimino = function(k) {
        e.forEach(k.shapeMatrix, function(t) {
            if (t) {
                this._game.add.tween(t).to({
                    alpha: d6t.W6
                }, this._fadeTime, Phaser.Easing.Exponential.In, d6t.s73);
            }
        }, this);
    };
    return q;
});
define('factories/GameModeFactory', ['enums/GameModeType', 'gameplay/game_modes/GameMode', 'gameplay/game_modes/JunkMode', 'gameplay/game_modes/MatchShapeMode', 'gameplay/game_modes/GravitySwitchMode', 'gameplay/game_modes/HourglassMode', 'gameplay/game_modes/InvisibleMode'], function(o, e, q, m, k5, C5, H5) {
    function j5(injector) {
        this._injector = injector;
    }
    j5.prototype.construct = function(gameMode) {
        var k = gameMode,
            j = d6t.B3x;
        switch (k) {
            case o.CLEAR_JUNK:
            case o.CLEAR_STARTING_JUNK:
            case o.CLEAR_SIDE_JUNK:
                j = q;
                break;
            case o.MATCH_SHAPES:
                j = m;
                break;
            case o.GRAVITY_SWITCH:
                j = k5;
                break;
            case o.HOURGLASS:
                j = C5;
                break;
            case o.INVISIBLE:
                j = H5;
                break;
            default:
                j = e;
                break;
        }
        return this._injector.getValueFromClass(j);
    };
    return j5;
});
define('core/LevelManager', [], function() {
    var H5 = function(game, levelParser, gameCheats) {
        var o = 'LevelManager.ctor';
        console.log(o);
        this._game = game;
        this._gameCheats = gameCheats;
        this._levelParser = levelParser;
        this._levelJsons = d6t.B3x;
        this._levelDatas = d6t.B3x;
    };
    H5.prototype.checkForCachedLevelJson = function() {
        var t = 'levels',
            k = 'LevelManager.checkForCachedLevelJson';
        console.log(k);
        this._levelJsons = this._game.cache.getJSON(t) || {};
        this._levelDatas = {};
    };
    H5.prototype.getLevelData = function(o, e, q, m) {
        var k5 = 'LevelManager.getLevelData (';
        console.log(k5 + o + d6t.A13);
        var C5 = this._levelDatas[o];
        if (C5) {
            q.call(m, C5);
        } else {
            this.loadLevelJson(o, function(t) {
                var k = 'fallspeed',
                    j = this._levelParser.parse(o, t);
                j.fallSpeedLevel = this._gameCheats.getCheat(k, j.fallSpeedLevel);
                j.levelId = e;
                this._levelDatas[o] = j;
                q.call(m, j);
            }, this);
        }
    };
    H5.prototype.loadLevelJson = function(j, o, e) {
        var q = 'assets/levels/',
            m = 'LevelManager.loadLevelJson (';
        console.log(m + j + d6t.A13);
        var k5 = this._levelJsons[j];
        if (k5) {
            o.call(e, k5);
        } else {
            var C5 = q + j + d6t.r6;
            this._game.load.json(j, C5);
            this._game.load.onLoadComplete.addOnce(function() {
                var t = ' ...loaded.',
                    k = this._game.cache.getJSON(j);
                this._levelJsons[j] = k;
                console.log(t);
                o.call(e, k);
            }, this);
            this._game.load.start();
        }
    };
    return H5;
});
define('data/LevelData', ['enums/GameModeType', 'enums/TetriminoType'], function(m, k5) {
    function C5(t) {
        this.name = t;
        this.gameModes = [];
        this.fallSpeedLevel = d6t.A6;
        this.winConditions = [];
        this.loseConditions = [];
        this.startMinos = [];
        this.otherMinos = [];
        this.scoreCells = [];
        this.isJunkLevel = d6t.F18;
        this.isSideJunkLevel = d6t.F18;
        this.isStartingJunkLevel = d6t.F18;
        this.junkWaves = d6t.W6;
        this.junkRowsPerWave = d6t.W6;
        this.junkPerWave = d6t.W6;
        this.movesBetweenJunkWave = d6t.W6;
        this.minimalJunkRow = d6t.W6;
        this.levelTime = d6t.W6;
        this.gravitySwitchCount = d6t.W6;
        this.hourglassMoveCount = d6t.W6;
        this.starScores = [];
        this.customTetriminoList = [];
        this.tutorialIdArray = d6t.B3x;
    }
    C5.prototype.setFallSpeedLevel = function(t) {
        this.fallSpeedLevel = parseInt(t);
    };
    C5.prototype.addWinCondition = function(t, k) {
        var j = {
            type: t,
            value: k
        };
        this.winConditions.push(j);
    };
    C5.prototype.addGameMode = function(gameMode) {
        this.gameModes.push(gameMode);
    };
    C5.prototype.addLoseCondition = function(t, k) {
        var j = {
            type: t,
            value: k
        };
        this.loseConditions.push(j);
    };
    C5.prototype.addMinoData = function(t, k, j, o, e) {
        var q = {
            tetriminoType: t,
            specialMinoType: k,
            row: j,
            col: o
        };
        if (e) {
            this.startMinos.push(q);
        } else {
            this.otherMinos.push(q);
        }
    };
    C5.prototype.addScoreCell = function(t, k) {
        var j = {
            row: t,
            col: k
        };
        this.scoreCells.push(j);
    };
    C5.prototype.addStarScore = function(t) {
        t = parseInt(t);
        this.starScores.push(t);
    };
    C5.prototype.addCustomTetrimino = function(t) {
        var k = k5[t];
        this.customTetriminoList.push(k);
    };
    return C5;
});
define('utils/TSpinUtil', ['enums/Orientation', 'enums/TetriminoType'], function(z5, P5) {
    var p5 = 'miniTSpin',
        w5 = 'tSpin',
        R5 = {};
    R5.T_SPIN = w5;
    R5.MINI_T_SPIN = p5;
    R5.COLS = d6t.x7x;
    R5.checkTSpinPositions = function(t, k) {
        if (t.tetriminoType != P5.T) {
            return d6t.B3x;
        }
        var j, o, e, q, m, k5, C5, H5, j5 = t.shapeMatrix[d6t.A6][d6t.A6].row,
            Y5 = t.shapeMatrix[d6t.A6][d6t.A6].col;
        switch (t.orientation) {
            case z5.NORTH:
                j = j5 + d6t.A6;
                o = Y5 - d6t.A6;
                e = j5 + d6t.A6;
                q = Y5 + d6t.A6;
                m = j5 - d6t.A6;
                k5 = Y5 - d6t.A6;
                C5 = j5 - d6t.A6;
                H5 = Y5 + d6t.A6;
                break;
            case z5.EAST:
                m = j5 + d6t.A6;
                k5 = Y5 - d6t.A6;
                j = j5 + d6t.A6;
                o = Y5 + d6t.A6;
                C5 = j5 - d6t.A6;
                H5 = Y5 - d6t.A6;
                e = j5 - d6t.A6;
                q = Y5 + d6t.A6;
                break;
            case z5.SOUTH:
                C5 = j5 + d6t.A6;
                H5 = Y5 - d6t.A6;
                m = j5 + d6t.A6;
                k5 = Y5 + d6t.A6;
                e = j5 - d6t.A6;
                q = Y5 - d6t.A6;
                j = j5 - d6t.A6;
                o = Y5 + d6t.A6;
                break;
            case z5.WEST:
                e = j5 + d6t.A6;
                q = Y5 - d6t.A6;
                C5 = j5 + d6t.A6;
                H5 = Y5 + d6t.A6;
                j = j5 - d6t.A6;
                o = Y5 - d6t.A6;
                m = j5 - d6t.A6;
                k5 = Y5 + d6t.A6;
                break;
        }
        if (k[j][o].getPrisoner() && k[e][q].getPrisoner()) {
            if ((m < d6t.W6 || k5 < d6t.W6) || k5 >= R5.COLS || (k[m][k5].getPrisoner() || k[C5][H5].getPrisoner())) {
                return R5.T_SPIN;
            }
        } else if (k[j][o].getPrisoner() || k[e][q].getPrisoner()) {
            if ((m < d6t.W6 || k5 < d6t.W6) || k5 >= R5.COLS || (k[m][k5].getPrisoner() && k[C5][H5].getPrisoner())) {
                return R5.MINI_T_SPIN;
            }
        } else {
            return d6t.B3x;
        }
    };
    return R5;
});
define('gameplay/game/ScoreManager', ['enums/TetriminoType', 'enums/Orientation', 'utils/Array2DUtil', 'enums/SpecialMinoType', 'utils/TSpinUtil'], function(T5, a5, x5, f5, A5) {
    var u5 = 'totalScore',
        B5 = '_highScore',
        D5 = '_star_',
        o5 = 3200,
        N5 = (11.33E2 >= (66.0E1, 0xBA) ? (0x11C, 1800) : (0x122, 137.) <= 112 ? (0x179, 78.) : (126.80E1, 119.)),
        y5 = 1600,
        U5 = 400,
        W5 = function(matrixRowMatcher, gameStateManager, tetriminoController, matrixModel, gameInfoPublisher, storageManager, matrixConfig, soundManager, matrixAnimator, gameVarManager, marathonProgress) {
            var Y5 = 'ScoreManager.ctor';
            console.log(Y5);
            this._matrixRowMatcher = matrixRowMatcher;
            this._gameStateManager = gameStateManager;
            this._tetriminoController = tetriminoController;
            this._gameInfoPublisher = gameInfoPublisher;
            this._storageManager = storageManager;
            this._matrixConfig = matrixConfig;
            this._matrixModel = matrixModel;
            this._matrixAnimator = matrixAnimator;
            this._gameVarManager = gameVarManager;
            this._soundManager = soundManager;
            this._marathonProgress = marathonProgress;
            this._matrix = matrixModel.matrix;
            this._scoreCellMatrix = matrixModel.scoreCellMatrix;
            this._firstScoreForLevel = d6t.F18;
            this._addEvents();
            this._addSignals();
            this._reset();
        };
    W5.SINGLE_SCORE = d6t.a08;
    W5.DOUBLE_SCORE = d6t.C3x;
    W5.TRIPLE_SCORE = d6t.T2H;
    W5.TETRIS_SCORE = d6t.i23;
    W5.TETRIS_PLUS_BASE_SCORE = d6t.I9x;
    W5.MINI_TSPIN_SCORE = d6t.a08;
    W5.MINI_TSPIN_CLEAR_SCORE = d6t.g7;
    W5.TSPIN_SCORE = U5;
    W5.TSPIN_SINGLE_SCORE = d6t.i23;
    W5.TSPIN_DOUBLE_SCORE = d6t.E2x;
    W5.TSPIN_TRIPLE_SCORE = y5;
    W5.BACK_TO_BACK_MODIFIER = d6t.g28;
    W5.SOFT_DROP = d6t.A6;
    W5.HARD_DROP = d6t.D6;
    W5.SINGLE_ALL_CLEAR = d6t.i23;
    W5.DOUBLE_ALL_CLEAR = d6t.E2x;
    W5.TRIPLE_ALL_CLEAR = N5;
    W5.TETRIS_ALL_CLEAR = d6t.P43;
    W5.TETRIS_B2B_ALL_CLEAR = o5;
    W5.SCORE_CELL_DEFAULT_SCORE = d6t.q9;
    W5.SPARKLING_MINO_DEFAULT_SCORE = d6t.A6;
    W5.TETRIS_CLEAR_LINE_COUNT = d6t.M6;
    W5.FIRST_MARATHON_LEVEL = d6t.A6;
    W5.prototype.addStarsForLevel = function(t, k) {
        for (var j = d6t.W6; j < k; j++) {
            var o = t + D5 + j;
            if (!this._storageManager.get(o)) {
                this._storageManager.set(o, d6t.s73);
                var e = this._storageManager.get(this._gameVarManager.constants.totalStars);
                this._storageManager.set(d6t.V0f, e + d6t.A6);
            }
        }
    };
    W5.prototype.getStarsForCurrentLevel = function(t) {
        var k = t.starScores,
            j = t.levelId;
        if (j == this._gameVarManager.constants.marathonID) {
            var o = this._marathonProgress.getAchievedLevel();
            if (o >= this._gameVarManager.constants.marathon_3_star) {
                return d6t.B6;
            } else if (o >= this._gameVarManager.constants.marathon_2_star) {
                return d6t.D6;
            } else if (o >= this._gameVarManager.constants.marathon_1_star) {
                return d6t.A6;
            } else return d6t.W6;
        } else {
            if (this._score >= k[d6t.D6]) {
                return d6t.B6;
            } else if (this._score >= k[d6t.A6]) {
                return d6t.D6;
            } else if (this._score >= k[d6t.W6]) {
                return d6t.A6;
            }
        }
    };
    W5.prototype.getTotalStars = function() {
        var t = d6t.V0f;
        return this._storageManager.get(t) || d6t.W6;
    };
    W5.prototype.isFirstScoreForLevel = function() {
        return this._firstScoreForLevel;
    };
    W5.prototype.isMarathon = function(k) {
        var j = d6t.F18;
        k.winConditions.forEach(function(t) {
            if (t.type == this._gameVarManager.constants.marathonModeName) {
                j = d6t.s73;
            }
        }, this);
        return j;
    };
    W5.prototype.isStarCollected = function(t, k) {
        var j = t + D5 + k;
        return this._storageManager.get(j);
    };
    W5.prototype.smartControlDrop = function(t, k) {
        var j = W5.HARD_DROP * t + W5.SOFT_DROP * k;
        this._addScore(j);
    };
    W5.prototype.isNewHighScore = function() {
        return this._isHighScore;
    };
    W5.prototype.getHighScoreForLevel = function(t) {
        var k = t + B5,
            j = this._storageManager.get(k) || d6t.W6;
        return j;
    };
    W5.prototype.getScore = function() {
        return this._score;
    };
    W5.prototype.cleanUp = function() {};
    W5.prototype._sendNotifications = function(t, k) {
        var j = 'TetrisTM',
            o = 'txtMiniTSpinSingle',
            e = 'txtMiniTSpin',
            q = 'txtTSpin',
            m = 'TSpinTriple',
            k5 = 'TSpinDouble',
            C5 = 'TSpinSingle',
            H5 = 'BacktoBack',
            j5 = 'PerfectClear',
            Y5 = 'txt',
            z5 = d6t.F18,
            P5 = Y5;
        if (k) {
            P5 += j5;
            this._soundManager.play(this._gameVarManager.audioConstants.allclear_sfx);
        } else {
            P5 += this._backToBackActive ? H5 : d6t.I6x;
            if (this._tSpin) {
                switch (t) {
                    case W5.TSPIN_SINGLE_SCORE:
                        P5 += C5;
                        break;
                    case W5.TSPIN_DOUBLE_SCORE:
                        P5 += k5;
                        break;
                    case W5.TSPIN_TRIPLE_SCORE:
                        P5 += m;
                        break;
                    case W5.TSPIN_SCORE:
                        P5 = q;
                        break;
                    default:
                        z5 = d6t.s73;
                }
            } else if (this._miniTSpin && (t === W5.MINI_TSPIN_SCORE)) {
                P5 = e;
            } else if (this._miniTSpin && (t === W5.MINI_TSPIN_CLEAR_SCORE)) {
                P5 = o;
            } else if (t === W5.TETRIS_SCORE) {
                P5 += j;
            } else {
                z5 = d6t.s73;
            }
        }
        if (!z5) {
            this._matrixAnimator.playNotificationAnimation(P5);
        }
    };
    W5.prototype._lineClear = function(k) {
        var j = '^^ with back to back bonus ^^',
            o = 'Mini T-Spin single clear',
            e = 'T-SPIN TRIPLE CLEAR!!!',
            q = 'T-Spin double clear!!',
            m = 'T-Spin single clear!',
            k5 = ' Clear!!',
            C5 = 'Tetris PLUS ',
            H5 = 'TETRIS CLEAR!!!',
            j5 = 'Triple clear!!',
            Y5 = 'Double clear!',
            z5 = 'Single clear',
            P5 = k.length;
        this._linesCleared += P5;
        var p5 = d6t.W6;
        if (!this._tSpin && !this._miniTSpin) {
            switch (P5) {
                case d6t.A6:
                    p5 = W5.SINGLE_SCORE;
                    this._backToBackActive = d6t.F18;
                    console.log(z5);
                    break;
                case d6t.D6:
                    p5 = W5.DOUBLE_SCORE;
                    this._backToBackActive = d6t.F18;
                    console.log(Y5);
                    break;
                case d6t.B6:
                    p5 = W5.TRIPLE_SCORE;
                    this._backToBackActive = d6t.F18;
                    console.log(j5);
                    break;
                case d6t.M6:
                    p5 = W5.TETRIS_SCORE;
                    console.log(H5);
                    break;
                default:
                    p5 = W5.TETRIS_PLUS_BASE_SCORE * P5 * P5;
                    console.log(C5 + P5 + k5);
                    break;
            }
        } else if (this._tSpin) {
            switch (P5) {
                case d6t.A6:
                    p5 = W5.TSPIN_SINGLE_SCORE;
                    console.log(m);
                    break;
                case d6t.D6:
                    p5 = W5.TSPIN_DOUBLE_SCORE;
                    console.log(q);
                    break;
                case d6t.B6:
                    p5 = W5.TSPIN_TRIPLE_SCORE;
                    console.log(e);
                    break;
            }
            this._soundManager.play(this._gameVarManager.audioConstants.t_spin_sfx);
        } else if (this._miniTSpin) {
            p5 = W5.MINI_TSPIN_CLEAR_SCORE;
            console.log(o);
            this._soundManager.play(this._gameVarManager.audioConstants.t_spin_sfx);
        }
        var w5 = p5;
        if (this._backToBackActive) {
            w5 *= W5.BACK_TO_BACK_MODIFIER;
            console.log(j);
            this._soundManager.play(this._gameVarManager.audioConstants.back2back_sfx);
        }
        w5 *= this._marathonLevel;
        var R5 = this._allClearBonus(k);
        w5 += R5;
        w5 += this._scoreCellsScore(k);
        var r5 = d6t.W6;
        k.forEach(function(t) {
            r5 += t[d6t.W6].row;
        }, this);
        r5 /= k.length;
        this._matrixAnimator.showScorePopup(this._matrixConfig.HALF_COLS - d6t.z48, r5, w5);
        this._sendNotifications(p5, R5);
        if (P5 == d6t.M6 || this._miniTSpin || this._tSpin) {
            this._backToBackActive = d6t.s73;
        }
        this._miniTSpin = d6t.F18;
        this._tSpin = d6t.F18;
        this._addScore(w5);
        this._playLineclearAudio(P5);
    };
    W5.prototype._playLineclearAudio = function(t) {
        switch (t) {
            case d6t.A6:
                this._soundManager.effect(this._gameVarManager.audioConstants.lineclear_single_sfx);
                break;
            case d6t.D6:
                this._soundManager.effect(this._gameVarManager.audioConstants.lineclear_double_sfx);
                break;
            case d6t.B6:
                this._soundManager.effect(this._gameVarManager.audioConstants.lineclear_triple_sfx);
                break;
            case d6t.M6:
                this._soundManager.effect(this._gameVarManager.audioConstants.lineclear_tetris_sfx);
                break;
        }
    };
    W5.prototype._noLineClear = function() {
        var t = 'Mini T-Spin',
            k = 'T-Spin!',
            j = d6t.W6;
        if (this._tSpin) {
            console.log(k);
            j = W5.TSPIN_SCORE;
        } else if (this._miniTSpin) {
            console.log(t);
            j = W5.MINI_TSPIN_SCORE;
        }
        this._sendNotifications(j);
        j *= this._marathonLevel;
        this._miniTSpin = d6t.F18;
        this._tSpin = d6t.F18;
        this._addScore(j);
    };
    W5.prototype._lockedDown = function(t) {
        if (t.tetriminoType === T5.T && t.justRotated) {
            var k = A5.checkTSpinPositions(t, this._matrix);
            if (k == A5.T_SPIN) {
                this._tSpin = d6t.s73;
            } else if (k == A5.MINI_T_SPIN) {
                this._miniTSpin = d6t.s73;
            }
        }
    };
    W5.prototype._addSparkleScore = function(k) {
        var j = d6t.W6,
            o = W5.SPARKLING_MINO_DEFAULT_SCORE;
        x5.forEach(k, function(t) {
            if (t.specialMinoType === f5.SPARKLE) {
                j += o;
            }
        }, this);
        this._addScore(j);
    };
    W5.prototype._scoreCellsScore = function(e) {
        var q = d6t.W6,
            m = this._gameStateManager.getCurrentLevelData(),
            k5 = m.scoreCellScore || W5.SCORE_CELL_DEFAULT_SCORE;
        x5.forEach(e, function(t) {
            var k = this._matrixModel.isFlipped ? this._matrixConfig.STARTING_ROW_INDEX - t.row : t.row,
                j = this._scoreCellMatrix[k][t.col],
                o = j.getPrisoner();
            if (o && t.specialMinoType != f5.JUNK) {
                q += k5;
                j.destroyContents();
            }
        }, this);
        return q;
    };
    W5.prototype._hardDropMove = function() {
        this._addScore(W5.HARD_DROP);
    };
    W5.prototype._softDropMove = function() {
        if (this._tetriminoController.canMoveDown()) {
            this._addScore(W5.SOFT_DROP);
            this._soundManager.play(this._gameVarManager.audioConstants.soft_drop_sfx);
        }
    };
    W5.prototype._allClearBonus = function(t) {
        var k = 'ALL CLEAR BONUS';
        for (var j = d6t.W6; j < this._matrix.length; j++) {
            for (var o = d6t.W6; o < this._matrix[j].length; o++) {
                if (this._matrix[j][o].getPrisoner() != d6t.B3x) {
                    return d6t.W6;
                }
            }
        }
        console.log(k);
        var e = t.length;
        switch (e) {
            case d6t.A6:
                return W5.SINGLE_ALL_CLEAR;
            case d6t.D6:
                return W5.DOUBLE_ALL_CLEAR;
            case d6t.B6:
                return W5.TRIPLE_ALL_CLEAR;
            case d6t.M6:
                break;
        }
        if (this._backToBackActive) {
            return W5.TETRIS_B2B_ALL_CLEAR * this._marathonLevel;
        } else {
            return W5.TETRIS_ALL_CLEAR;
        }
    };
    W5.prototype._addScore = function(t) {
        this._score += t;
        this._gameInfoPublisher.publish(d6t.M1H, this._score);
    };
    W5.prototype._marathonLevelChanged = function(t) {
        var k = 'txtLevelUp';
        this._marathonLevel = t;
        if (t > W5.FIRST_MARATHON_LEVEL) {
            this._matrixAnimator.playNotificationAnimation(k);
        }
    };
    W5.prototype._gameOver = function(t, k) {
        var j = 'Missing star scores in the level properties.',
            o = k.starScores,
            e = k.levelId;
        if (!o[d6t.A6] || !o[d6t.D6]) {
            console.warn(j);
            return;
        }
        var q = this.isMarathon(k);
        if (t && !q) {
            this.addStarsForLevel(e, this.getStarsForCurrentLevel(k));
        } else if (q) {
            var m = this._storageManager.get(this._gameVarManager.constants.totalStars);
            if (t) {
                this._storageManager.set(d6t.V0f, m + d6t.B6);
            } else if (this._linesCleared >= (o[d6t.D6] - d6t.A6) * d6t.x7x) {
                this._storageManager.set(d6t.V0f, m + d6t.D6);
            } else if (this._linesCleared >= (o[d6t.A6] - d6t.A6) * d6t.x7x) {
                this._storageManager.set(d6t.V0f, m + d6t.A6);
            }
        }
        var k5 = e + B5,
            C5 = this._storageManager.get(k5);
        if (!C5) {
            this._firstScoreForLevel = d6t.s73;
        }
        this._isHighScore = !C5 || C5 < this._score;
        if (this._isHighScore) {
            this._storageManager.set(k5, this._score);
        }
    };
    W5.prototype._reset = function() {
        this._score = d6t.W6;
        this._linesCleared = d6t.W6;
        this._backToBackActive = d6t.F18;
        this._marathonLevel = d6t.A6;
        this._firstScoreForLevel = d6t.F18;
        this._isHighScore = d6t.F18;
    };
    W5.prototype._addEvents = function() {
        this._gameInfoPublisher.subscribe(d6t.h8f, this._marathonLevelChanged, this);
        this._gameInfoPublisher.subscribe(d6t.Z13, this.smartControlDrop, this);
        this._gameInfoPublisher.subscribe(d6t.j6B, this._gameOver, this);
        this._gameInfoPublisher.subscribe(d6t.z6f, this._reset, this);
    };
    W5.prototype._addSignals = function() {
        this._matrixRowMatcher.rowsMatchedScoreSignal.add(this._lineClear, this);
        this._matrixRowMatcher.lastHurrahScoreSignal.add(this._addSparkleScore, this);
        this._matrixRowMatcher.rowsNotMatchedSignal.add(this._noLineClear, this);
        this._gameStateManager.gameStartSignal.add(this._reset, this);
        this._tetriminoController.lockedDownSignal.add(this._lockedDown, this);
        this._tetriminoController.hardDropMoveSignal.add(this._hardDropMove, this);
        this._tetriminoController.softDropMoveSignal.add(this._softDropMove, this);
    };
    Object.defineProperty(W5.prototype, u5, {
        get: function() {
            var j = d6t.W6;
            this._storageManager.each(function(t, k) {
                if (k.indexOf(B5) !== -d6t.A6) {
                    j += parseInt(t) || d6t.W6;
                }
            }, this);
            return j;
        }
    });
    return W5;
});
define('core/LevelParser', ['data/LevelData', 'enums/SpecialMinoType', 'enums/TetriminoType', 'enums/GameModeType', 'gameplay/game/ScoreManager'], function(H5, j5, Y5, z5, P5) {
    var p5 = 'winCondition',
        w5 = 'properties';

    function R5(matrixConfig, matrixView, neededLineClearsToWin) {
        this._matrixConfig = matrixConfig;
        this._matrixView = matrixView;
        this._neededLineClearsToWin = neededLineClearsToWin;
    }
    R5.prototype.parse = function(t, k) {
        var j = 'scoreCellScore',
            o = k[w5],
            e = new H5(t);
        this.setupGameModes(o, e);
        this.setupFallSpeed(o, e);
        this.setupWinConditions(o, e);
        this.setupLoseConditions(o, e);
        this.parseTiledLayers(e, k);
        this.parseGamemodeSpecificProperties(e, k);
        this.parseStarScores(o, e);
        if (o[j]) {
            e.scoreCellScore = parseInt(o[j]);
        }
        this.createCustomTetriminoList(k, e);
        this.parseTutorialId(o, e);
        return e;
    };
    R5.prototype.setupGameModes = function(t, k) {
        var j = 'gameMode_';
        if (t[d6t.q3f]) {
            k.addGameMode(t[d6t.q3f]);
            var o = d6t.A6;
            while (t[j + o]) {
                k.addGameMode(t[j + o]);
                o++;
            }
        } else {
            k.addGameMode(t[p5]);
        }
    };
    R5.prototype.setupFallSpeed = function(t, k) {
        var j = 'fallSpeed',
            o = t[j];
        if (o != undefined) {
            k.setFallSpeedLevel(o);
        }
    };
    R5.prototype.setupWinConditions = function(t, k) {
        var j = 'winValue_',
            o = 'winCondition_',
            e = 'winValue';
        k.addWinCondition(t[p5], t[e]);
        var q = d6t.A6;
        while (t[o + q]) {
            k.addWinCondition(t[o + q], t[j + q]);
            q++;
        }
    };
    R5.prototype.setupLoseConditions = function(t, k) {
        var j = 'loseValue_',
            o = 'loseCondition_';
        k.addLoseCondition(d6t.a2x, d6t.B3x);
        k.addLoseCondition(d6t.O18, d6t.B3x);
        k.addLoseCondition(d6t.r9H, d6t.B3x);
        var e = d6t.A6;
        while (t[o + e]) {
            k.addLoseCondition(t[o + e], t[j + e]);
            e++;
        }
    };
    R5.prototype.parseTiledLayers = function(t, k) {
        this.parseJunkLayer(t, k);
        this.parseScoreCellLayer(t, k);
        this.parseMinosLayer(t, k);
        this.parseMoveGhostLayer(t, k);
    };
    R5.prototype.parseGamemodeSpecificProperties = function(t, k) {
        for (var j = d6t.W6; j <= t.gameModes.length; j++) {
            switch (t.gameModes[j]) {
                case z5.CLEAR_JUNK:
                case z5.CLEAR_STARTING_JUNK:
                case z5.CLEAR_SIDE_JUNK:
                    this.parseJunkLevelProperties(t, k);
                    break;
                case z5.GRAVITY_SWITCH:
                    this.parseGravitySwitchProperties(t, k);
                    break;
                case z5.HOURGLASS:
                    this.parseHourglassProperties(t, k);
                    break;
                case z5.INVISIBLE:
                    this.parseInvisibleProperties(t, k);
                    break;
            }
        }
    };
    R5.prototype.parseStarScores = function(t, k) {
        var j = 'star3Score',
            o = 'star2Score',
            e = this._neededLineClearsToWin.getFromLevelData(k),
            q = P5.SINGLE_SCORE * e;
        k.addStarScore(q);
        k.addStarScore(t[o]);
        k.addStarScore(t[j]);
    };
    R5.prototype.parseJunkLevelProperties = function(t, k) {
        var j = 'movesBetweenJunkWave',
            o = 'minJunkRow',
            e = 'junkRowsPerWave',
            q = 'junkPerWave',
            m = 'junkWaves',
            k5 = k[w5];
        for (var C5 = d6t.W6; C5 <= t.gameModes.length; C5++) {
            if (t.gameModes[C5] === z5.CLEAR_JUNK) {
                t.isJunkLevel = d6t.s73;
                t.junkWaves = parseInt(k5[m]);
                t.junkPerWave = parseInt(k5[q]);
                t.junkRowsPerWave = parseInt(k5[e]);
                t.minimalJunkRow = parseInt(k5[o]);
                t.movesBetweenJunkWave = parseInt(k5[j]);
            } else if (t.gameModes[C5] === z5.CLEAR_SIDE_JUNK) {
                t.isSideJunkLevel = d6t.s73;
            } else if (t.gameModes[C5] === z5.CLEAR_STARTING_JUNK) {
                t.isStartingJunkLevel = d6t.s73;
            }
        }
    };
    R5.prototype.parseJunkLayer = function(e, q) {
        var m = this.getLayerData(q, d6t.P28);
        if (m) {
            m.data.forEach(function(t, k) {
                if (t > d6t.W6) {
                    var j = this.getRowAndColFromIndex(k, q),
                        o = d6t.s73;
                    e.addMinoData(Y5.NONE, j5.JUNK, j.row, j.col, o);
                }
            }, this);
        }
    };
    R5.prototype.parseScoreCellLayer = function(o, e) {
        var q = 'scoreCells',
            m = this.getLayerData(e, q);
        if (!m) {
            return;
        }
        m.data.forEach(function(t, k) {
            if (t) {
                var j = this.getRowAndColFromIndex(k, e);
                o.addScoreCell(j.row, j.col);
            }
        }, this);
    };
    R5.prototype.parseMinosLayer = function(t, k) {
        var j = 'minos',
            o = this.getLayerData(k, j);
        for (var e = d6t.W6; e < o.data.length; e++) {
            var q = o.data[e];
            if (q > d6t.W6) {
                var m = this.getRowAndColFromIndex(e, k),
                    k5 = this.tiledDataToTetriminoType(q),
                    C5 = d6t.s73;
                t.addMinoData(k5, j5.NONE, m.row, m.col, C5);
            }
        }
    };
    R5.prototype.parseMoveGhostLayer = function(t, k) {
        var j = 'moveGhostMinos',
            o = this.getLayerData(k, j);
        if (!o) {
            return;
        }
        for (var e = d6t.W6; e < o.data.length; e++) {
            var q = o.data[e];
            if (q > d6t.W6) {
                var m = this.getRowAndColFromIndex(e, k),
                    k5 = this.tiledDataToTetriminoType(q),
                    C5 = d6t.s73;
                t.addMinoData(k5, j5.MOVEGHOST, m.row, m.col, C5);
            }
        }
    };
    R5.prototype.tiledDataToTetriminoType = function(t) {
        switch (t) {
            case d6t.D6:
                return Y5.I;
            case d6t.B6:
                return Y5.J;
            case d6t.M6:
                return Y5.L;
            case d6t.U6:
                return Y5.O;
            case d6t.J6:
                return Y5.S;
            case d6t.v6:
                return Y5.T;
            case d6t.d6:
                return Y5.Z;
            default:
                return Y5.NONE;
        }
    };
    R5.prototype.parseGravitySwitchProperties = function(t, k) {
        var j = 'gravitySwitchCount',
            o = k[w5];
        t.gravitySwitchCount = parseInt(o[j]);
    };
    R5.prototype.parseHourglassProperties = function(t, k) {
        var j = 'hourglassMoveCount',
            o = k[w5];
        t.hourglassMoveCount = parseInt(o[j]);
    };
    R5.prototype.parseInvisibleProperties = function(t, k) {
        var j = k[w5];
        t.invisibleFadeDelay = parseInt(j.invisibleFadeDelay);
        t.invisibleFadeTime = parseInt(j.invisibleFadeTime);
    };
    R5.prototype.getRowAndColFromIndex = function(t, k) {
        var j = {
            row: d6t.W6,
            col: d6t.W6
        };
        while (t > d6t.W6 && t >= this._matrixConfig.COLS) {
            t -= this._matrixConfig.COLS;
            j.row++;
        }
        j.col = t;
        j.row = k.height - j.row - d6t.A6;
        return j;
    };
    R5.prototype.getLayerData = function(t, k) {
        var j = d6t.B3x;
        for (var o = d6t.W6, e = t.layers.length; o < e; o++) {
            var q = t.layers[o];
            if (q.name === k) {
                j = q;
            }
        }
        return j;
    };
    R5.prototype.createCustomTetriminoList = function(t, k) {
        if (!t.properties.tetriminolist) {
            return;
        }
        var j = t.properties.tetriminolist.split(d6t.H23);
        for (var o = d6t.W6; o < j.length; o++) {
            var e = j[o];
            k.addCustomTetrimino(e);
        }
    };
    R5.prototype.parseTutorialId = function(t, k) {
        if (t.tutorialid) {
            var j = t.tutorialid.split(d6t.H23);
            k.tutorialIdArray = j;
        } else {
            k.tutorialIdArray = [];
        }
    };
    return R5;
});
define('gameplay/game/GameManager', [], function() {
    function r5(levelManager, gameStateManager, matrixController, tetrisInput, tetriminoHolderController, tetriminoQueueController, gameCheats, gameVarManager, gameInfoPublisher, platform, scoreManager, smartControls, soundManager, tutorialController, storageManager, game, worldProgress) {
        this._levelManager = levelManager;
        this._gameStateManager = gameStateManager;
        this._matrixController = matrixController;
        this._tetrisInput = tetrisInput;
        this._tetriminoHolderController = tetriminoHolderController;
        this._tetriminoQueueController = tetriminoQueueController;
        this._gameCheats = gameCheats;
        this._gameVarManager = gameVarManager;
        this._gameInfoPublisher = gameInfoPublisher;
        this._platform = platform;
        this._scoreManager = scoreManager;
        this._smartControls = smartControls;
        this._soundManager = soundManager;
        this._tutorialController = tutorialController;
        this._storageManager = storageManager;
        this._game = game;
        this._worldProgress = worldProgress;
        this.gameRestartCalled = d6t.F18;
        this._levelId = d6t.W6;
        this._levelName = d6t.I6x;
        this._levelData = d6t.B3x;
    }
    r5.DEFAULT_LEVEL = d6t.p03;
    r5.prototype.init = function() {
        this._levelManager.checkForCachedLevelJson();
        this._gameInfoPublisher.publish(d6t.q6H);
        this._gameInfoPublisher.subscribe(d6t.j6B, this._endGame, this);
        this._gameInfoPublisher.subscribe(d6t.p33, this._gameOver, this);
    };
    r5.prototype.start = function(t) {
        var k = 'level';
        this.gameRestartCalled = d6t.F18;
        this._levelId = t;
        var j = this._gameVarManager.levelMap[t];
        j = this._gameCheats.getCheat(k, j);
        this._levelName = j;
        this._levelManager.getLevelData(j, t, this.startGame, this);
    };
    r5.prototype.startGame = function(t) {
        var k = '_start';
        this._tetrisInput.setup();
        this._tetrisInput.start();
        this._matrixController.start(t);
        this._tetriminoHolderController.start();
        this._tetriminoQueueController.start(t);
        this._gameStateManager.start(t);
        this._tutorialController.setup(t);
        this._levelData = t;
        this._platform.analytics(this._getAnalyticsLevelName() + k);
        this._gameInfoPublisher.publish(d6t.w8x);
        this._storageManager.set(d6t.c5B, this._levelId);
    };
    r5.prototype.endGame = function() {
        this._gameStateManager.endGame(d6t.F18);
    };
    r5.prototype.restartGame = function(t) {
        var k = '_restart';
        this.endGame();
        this._gameStateManager.gameRestarted();
        this.start(this._levelId);
        this._gameStateManager.pause();
        this._platform.analytics(this._getAnalyticsLevelName() + k);
        this._gameInfoPublisher.publish(d6t.M23);
        if (this._worldProgress.progress <= this._gameVarManager.constants.levelsWithoutAds && this._levelId != this._gameVarManager.constants.marathonID) {
            t = d6t.s73;
        }
        if (t) {
            this._adSlotFinished();
        } else {
            this._gameInfoPublisher.publish(d6t.c8);
            this._platform.showAd(this._adSlotFinished, this);
        }
    };
    r5.prototype._adSlotFinished = function() {
        if (this.gameRestartCalled) {
            return;
        }
        this.gameRestartCalled = d6t.s73;
        this._game.gameResumed();
        this._gameStateManager.resume(d6t.B3x, d6t.B3x, d6t.s73);
        this._gameInfoPublisher.publish(d6t.t43);
    };
    r5.prototype.getLevelData = function() {
        return this._levelData;
    };
    r5.prototype.cleanUp = function() {
        this._gameStateManager.cleanUp();
        this._tetriminoHolderController.cleanUp();
        this._tetriminoQueueController.cleanUp();
        this._matrixController.cleanUp();
        this._tetrisInput.stop();
        this._tutorialController.cleanUp();
        this._tetrisInput.removeSignals();
    };
    r5.prototype._getAnalyticsLevelName = function() {
        var t = this._scoreManager.isMarathon(this._levelData);
        return t ? d6t.t28 : d6t.Z78 + this._levelId;
    };
    r5.prototype._endGame = function(t) {
        var k = '_lost',
            j = '_won_',
            o = '_completeonce',
            e = this._getAnalyticsLevelName();
        if (t) {
            if (this._scoreManager.isFirstScoreForLevel()) {
                this._platform.analytics(e + o);
            }
            var q = this._scoreManager.getStarsForCurrentLevel(this._levelData);
            this._platform.analytics(e + j + q);
        } else {
            this._platform.analytics(e + k);
        }
        this._gameInfoPublisher.publish(d6t.s43, d6t.F18);
        var m = {
            playerWon: t,
            levelId: this._levelId,
            levelName: this._levelName
        };
        this._gameInfoPublisher.publish(d6t.I1H, m);
        this.cleanUp();
    };
    r5.prototype._gameOver = function() {
        this._soundManager.effect(this._gameVarManager.audioConstants.game_over_sfx);
    };
    return r5;
});
define('gameplay/game/GameStateManager', ['gt/utils/device'], function(w5) {
    function R5(conditionManager, tetriminoController, matrixRowMatcher, matrixGravity, gameModeFactory, gameInfoPublisher, lastHurrah, sceneManager, matrixAnimator, soundManager, gameVarManager, smartControls, tetrisInput, storageManager, worldProgress) {
        this._conditionManager = conditionManager;
        this._tetriminoController = tetriminoController;
        this._matrixRowMatcher = matrixRowMatcher;
        this._matrixGravity = matrixGravity;
        this._gameModeFactory = gameModeFactory;
        this._gameInfoPublisher = gameInfoPublisher;
        this._lastHurrah = lastHurrah;
        this._sceneManager = sceneManager;
        this._matrixAnimator = matrixAnimator;
        this._soundManager = soundManager;
        this._gameVarManager = gameVarManager;
        this._smartControls = smartControls;
        this._tetrisInput = tetrisInput;
        this._storageManager = storageManager;
        this._worldProgress = worldProgress;
        this._currentLevelData = d6t.B3x;
        this._gameModes = [];
        this.lastHurrahTriggered = d6t.F18;
        this._levelStartCountdown = d6t.F18;
        this._restartedGame = d6t.F18;
        this._lostByTimeOut = d6t.F18;
        this._loseCount = d6t.W6;
        this.gameStartSignal = new Phaser.Signal();
    }
    R5.prototype.start = function(t) {
        var k = 'Tutorial';
        this._addEvents();
        this._matrixAnimator.addEvents();
        this._tetriminoController.lockedDownSignal.add(this.lockedDown, this);
        this._tetriminoController.blockOutSignal.add(this.checkForGameOverAfterEndCurrentState, this);
        this._currentLevelData = t;
        this._lostByTimeOut = d6t.F18;
        for (var j = d6t.W6; j < t.gameModes.length; j++) {
            var o = t.gameModes[j],
                e = this._gameModeFactory.construct(o);
            e.start(t, j);
            this._gameModes.push(e);
        }
        this._conditionManager.parseConditions(t);
        this._tetriminoController.start(t);
        this.gameStartSignal.dispatch(t);
        this._levelStartCountdown = d6t.s73;
        if (!this._restartedGame) {
            this._gameInfoPublisher.publish(d6t.C3);
            if (!this._storageManager.get(d6t.Z88)) {
                if (w5.desktop) {
                    this._sceneManager.showPopup(d6t.c0H);
                } else {
                    this._sceneManager.showPopup(d6t.T98);
                }
            } else {
                if (t.name.indexOf(k) !== -d6t.A6 && t.levelId != d6t.A6 && !this._storageManager.get(d6t.V4B + t.levelId + d6t.E18) && this._worldProgress.progress <= t.levelId) {
                    this._sceneManager.showPopup(d6t.t8f, t.levelId);
                } else {
                    this._gameInfoPublisher.publish(d6t.E2, this._matrixAnimator.playCountDownAnimation, this._matrixAnimator);
                }
            }
        } else {
            this._restartedGame = !this._restartedGame;
        }
        this._gameInfoPublisher.publish(d6t.L58, d6t.F18);
    };
    R5.prototype.startNewState = function() {
        var t = d6t.W6;
        this.lastHurrahTriggered = d6t.F18;
        var k = function() {
            if (typeof this._gameModes[t] !== d6t.k6f) {
                this._gameModes[t++].startNewState(k, this);
            } else {
                this.checkForGameOverAfterStartNewState();
            }
        };
        k.call(this);
    };
    R5.prototype.checkForGameOverAfterStartNewState = function() {
        if (this.isGameOver()) {
            this._loseCount++;
            if (this._conditionManager.hasPlayerWon || this._loseCount > d6t.A6 || this._lostByTimeOut) {
                this._startEndLevelFlow(this._conditionManager.hasPlayerWon);
            } else {
                this._gameInfoPublisher.publish(d6t.T7);
                this._tetriminoController.ghostPieceVisibilityChanged(d6t.F18);
                this._gameInfoPublisher.publish(d6t.s43, d6t.F18);
                this._sceneManager.showPopup(d6t.B9, function() {
                    this._gameInfoPublisher.publish(d6t.Z63);
                    this.continueGame();
                }, this, this._currentLevelData.levelId);
                this._smartControls.pause();
            }
        } else {
            this.nextTetrimino();
        }
    };
    R5.prototype.nextTetrimino = function() {
        this._gameInfoPublisher.publish(d6t.Z7x);
        this._tetriminoController.nextTetrimino();
    };
    R5.prototype.lockedDown = function() {
        var t = d6t.W6;
        this._gameInfoPublisher.publish(d6t.T7);
        var k = function() {
            if (typeof this._gameModes[t] !== d6t.k6f) {
                this._gameModes[t++].lockedDownInMatrix(k, this);
            } else {
                this.checkMatrix();
            }
        };
        k.call(this);
    };
    R5.prototype.checkMatrix = function() {
        this._matrixRowMatcher.checkMatrix(this.matrixRowsMatched, this);
    };
    R5.prototype.matrixRowsMatched = function(t) {
        var k = d6t.W6,
            j = function() {
                if (typeof this._gameModes[k] !== d6t.k6f) {
                    this._gameModes[k++].matrixMatched(j, this);
                } else {
                    this.moveMatrix(t);
                    if (t) {
                        if (this._smartControls.isInputOn(this._smartControls.getCurrentPointer())) {
                            this._tetriminoController.ghostPieceVisibilityChanged(d6t.s73);
                        }
                    }
                }
            };
        j.call(this);
    };
    R5.prototype.moveMatrix = function(t) {
        if (t) {
            this._matrixGravity.applyGravity(this.endCurrentState, this, d6t.s73);
        } else {
            this.endCurrentState();
        }
    };
    R5.prototype.endCurrentState = function() {
        var t = d6t.W6,
            k = function() {
                if (this.lastHurrahTriggered) {
                    return;
                }
                if (typeof this._gameModes[t] !== d6t.k6f) {
                    this._gameModes[t++].endCurrentState(k, this);
                } else {
                    this.checkForGameOverAfterEndCurrentState();
                }
            };
        k.call(this);
    };
    R5.prototype.checkForGameOverAfterEndCurrentState = function() {
        if (this.isGameOver()) {
            this._loseCount++;
            if (this._conditionManager.hasPlayerWon || this._loseCount > d6t.A6 || this._lostByTimeOut) {
                this._startEndLevelFlow(this._conditionManager.hasPlayerWon);
            } else {
                this._gameInfoPublisher.publish(d6t.T7);
                this._tetriminoController.ghostPieceVisibilityChanged(d6t.F18);
                this._gameInfoPublisher.publish(d6t.s43, d6t.F18);
                this._sceneManager.showPopup(d6t.B9, function() {
                    this._gameInfoPublisher.publish(d6t.Z63);
                    this.continueGame();
                }, this, this._currentLevelData.levelId);
                this._smartControls.pause();
            }
        } else {
            this.startNewState();
        }
    };
    R5.prototype._endGameFlow = function(t) {
        this.endGame(t);
        this.showEndPopup(t);
        if (!t) {
            this._soundManager.effect(this._gameVarManager.audioConstants.game_over_sfx);
        }
    };
    R5.prototype.endGame = function(t) {
        this._loseCount = d6t.W6;
        this._tetriminoController.stopTimers();
        this._gameInfoPublisher.publish(d6t.j6B, t, this._currentLevelData);
    };
    R5.prototype.pause = function() {
        this._tetriminoController.pause();
    };
    R5.prototype.resume = function(t, k, j) {
        if (j) {
            this._gameInfoPublisher.publish(d6t.E2, this._matrixAnimator.playCountDownAnimation, this._matrixAnimator);
        } else {
            this._matrixAnimator.playCountDownAnimation(t, k);
        }
    };
    R5.prototype.continueGame = function() {
        this._tetriminoController.stopTimers();
        this._gameInfoPublisher.publish(d6t.V0H, d6t.s73);
        this._levelStartCountdown = d6t.s73;
        this._conditionManager.resetConditionState();
        this.resume();
    };
    R5.prototype.countdownFinished = function() {
        if (this._levelStartCountdown) {
            this.startNewState();
            this._levelStartCountdown = d6t.F18;
        }
        this._gameInfoPublisher.publish(d6t.v53);
        this._tetriminoController.resume();
    };
    R5.prototype.gameRestarted = function() {
        this._restartedGame = d6t.s73;
    };
    R5.prototype.showEndPopup = function(t) {
        var k = d6t.B3x;
        if (this._currentLevelData.levelId == this._gameVarManager.constants.marathonID) {
            k = d6t.B6f;
            this._sceneManager.showPopup(k, t);
        } else {
            k = t ? d6t.c3H : d6t.I1;
            this._sceneManager.showPopup(k, this._currentLevelData, this._lostByTimeOut);
        }
    };
    R5.prototype.cleanUp = function() {
        this._removeEvents();
        this._matrixAnimator.removeEvents();
        this._conditionManager.cleanUp();
        this._tetriminoController.cleanUp();
        this._tetriminoController.lockedDownSignal.remove(this.lockedDown, this);
        this._tetriminoController.blockOutSignal.remove(this.checkForGameOverAfterEndCurrentState, this);
        this._matrixGravity.cleanUp();
        for (var t = d6t.W6; t < this._gameModes.length; t++) {
            this._gameModes[t].cleanUp();
        }
        this._gameModes = [];
    };
    R5.prototype.getCurrentLevelData = function() {
        return this._currentLevelData;
    };
    R5.prototype.isGameOver = function() {
        return this._conditionManager.isGameOver() && (this.lastHurrahTriggered === d6t.F18);
    };
    R5.prototype._startEndLevelFlow = function(t) {
        var k = "lost",
            j = "won",
            o = "Game has ended. The player has ";
        console.log(o + (t ? j : k));
        if (t) {
            this._tetriminoController.stopTimers();
            this._tetrisInput.setActive(d6t.F18);
            this.lastHurrahTriggered = d6t.s73;
            this._gameInfoPublisher.publish(d6t.Y6x);
            if (this._currentLevelData.levelId != this._gameVarManager.constants.marathonID) {
                this._lastHurrah.lastHurrahFlow(function() {
                    this._endGameFlow(t);
                }, this);
            } else {
                this._endGameFlow(t);
            }
            this._soundManager.effect(this._gameVarManager.audioConstants.lasthurrah_textappear_sfx);
        } else {
            this._endGameFlow(t);
        }
        this._soundManager.stop(this._gameVarManager.audioConstants.ingame_bgm);
    };
    R5.prototype._timeOutGameOver = function() {
        this._lostByTimeOut = d6t.s73;
    };
    R5.prototype._addEvents = function() {
        this._gameInfoPublisher.subscribe(d6t.C3, this.pause, this);
        this._gameInfoPublisher.subscribe(d6t.h7x, this.resume, this);
        this._gameInfoPublisher.subscribe(d6t.z3H, this.countdownFinished, this);
        this._gameInfoPublisher.subscribe(d6t.K8x, this._timeOutGameOver, this);
        this._gameInfoPublisher.subscribe(d6t.L4B, this._startEndLevelFlow, this);
    };
    R5.prototype._removeEvents = function() {
        this._gameInfoPublisher.unsubscribe(d6t.C3, this.pause, this);
        this._gameInfoPublisher.unsubscribe(d6t.h7x, this.resume, this);
        this._gameInfoPublisher.unsubscribe(d6t.z3H, this.countdownFinished, this);
        this._gameInfoPublisher.unsubscribe(d6t.K8x, this._timeOutGameOver, this);
        this._gameInfoPublisher.unsubscribe(d6t.L4B, this._startEndLevelFlow, this);
    };
    return R5;
});
define('gameplay/game/GameCheats', ['bottom_line', 'phaser', 'gt/utils/URLData'], function(o, e, q) {
    function m() {
        var t = 'GameCheats.ctor';
        console.log(t);
    }
    m.prototype.getCheat = function(t, k) {
        var j = k || d6t.B3x;
        return j;
    };
    return m;
});
define('gameplay/game/LastHurrah', ['phaser', 'enums/SpecialMinoType'], function(p5, w5) {
    function R5(game, minoFactory, matrixController, matrixModel, matrixGravity, matrixView, matrixRowMatcher, matrixConfig, matrixAnimator, phaserEvents, screenShaker, soundManager, gameVarManager, gameInfoPublisher) {
        this._game = game;
        this._minoFactory = minoFactory;
        this._matrixController = matrixController;
        this._matrixModel = matrixModel;
        this._matrixGravity = matrixGravity;
        this._matrixRowMatcher = matrixRowMatcher;
        this._matrixConfig = matrixConfig;
        this._matrixView = matrixView;
        this._matrixAnimator = matrixAnimator;
        this._screenShaker = screenShaker;
        this._soundManager = soundManager;
        this._gameVarManager = gameVarManager;
        this._gameInfoPublisher = gameInfoPublisher;
        this._minoFillingSpeed = R5.FILL_BASE_SPEED;
        this._currentLastHurrahSpeed = R5.LINE_CLEAR_BASE_SPEED;
        phaserEvents.updateEvent.add(this.update, this);
        this._state = d6t.B3x;
        this._randomTimerToReplacePhaserTimer = d6t.W6;
    }
    R5.STATES = {
        REMOVE_COINS: d6t.W6,
        REMOVE_SCORE_CELLS: d6t.A6,
        FILLING: d6t.D6,
        FILLING_LAST: d6t.B6,
        START_CLEARING: d6t.M6,
        CLEARING: d6t.U6,
        WAITING_TO_FILL: d6t.J6,
        WAITING_TO_CLEAR: d6t.v6,
        DONE: -d6t.A6
    };
    R5.FILL_BASE_SPEED = d6t.j9x;
    R5.FILL_SPEED_INCREASE = d6t.B6;
    R5.LINE_CLEAR_BASE_SPEED = d6t.a7;
    R5.LINE_CLEAR_SPEED_INCREASE = d6t.N28;
    R5.GRAVITY_BASE_TIME = d6t.h5B;
    R5.FILL_START_DELAY = d6t.T2H;
    R5.prototype.lastHurrahFlow = function(t, k) {
        this._state = R5.STATES.WAITING_TO_FILL;
        this._callback = t;
        this._context = k;
        this._screenShaker.activate();
        this._minoFillingSpeed = R5.FILL_BASE_SPEED;
        this._currentLastHurrahSpeed = R5.LINE_CLEAR_BASE_SPEED;
        this.removeScoreCells();
        this._randomTimerToReplacePhaserTimer = d6t.W6;
        this._matrixAnimator.playLastHurrahAnimation();
        this._gameInfoPublisher.publish(d6t.u2x);
        this._gameInfoPublisher.publish(d6t.B8);
        this._gameInfoPublisher.publish(d6t.B0x);
    };
    R5.prototype.removeScoreCells = function() {
        this._matrixController.forEachScoreCellInMatrix(function(t) {
            if (!t.isEmpty() && w5.SCORECELL) {
                t.destroyContents();
            }
        }, this);
    };
    R5.prototype.removeCoinMinos = function(j, o) {
        this.callback = j;
        this.context = o;
        this._matrixController.forEachCellInVisibleMatrix(function(t) {
            if (!t.isEmpty() && w5.COIN) {
                var k = this._minoFactory.get(d6t.B3x, w5.NONE);
                t.setPrisoner(k);
            }
        }, this);
    };
    R5.prototype.stopTimer = function(t) {
        if (t) {
            t.timer.remove(t);
        }
    };
    R5.prototype.stopFillingSparklingMinos = function() {
        if (this._matrixModel.isFlipped) {
            this._matrixController.flipGrid();
            this._matrixView.resetMatrixPosition();
        }
        this._state = R5.STATES.START_CLEARING;
    };
    R5.prototype.getEmptyCells = function() {
        var k = [];
        this._matrixController.forEachCellInVisibleMatrixIncludingSkyline(function(t) {
            if (t.isEmpty()) {
                k.push(t);
            }
        }, this);
        return k;
    };
    R5.prototype.fillSparklingSingleMino = function() {
        var t = this.getEmptyCells(),
            k = this._pickRandomLowerArrayElement(t),
            j = this._minoFactory.get(d6t.B3x, w5.SPARKLE);
        k.setPrisoner(j);
        j.animateIn();
        if (t.length == d6t.A6) {
            this._state = R5.STATES.FILLING_LAST;
            j.animateGlow(function() {
                this.stopFillingSparklingMinos();
            }, this);
        } else {
            j.animateGlow();
            this._soundManager.effect(d6t.L7 + (Math.floor(Math.random() * d6t.U6) + d6t.A6), d6t.Y48);
        }
    };
    R5.prototype.clearLastHurrahLine = function() {
        if (!this._matrixController.isVisibleMatrixEmpty()) {
            this._matrixRowMatcher.onDone.addOnce(function() {
                this._matrixGravity.applyGravity();
                this._state = R5.STATES.WAITING_TO_CLEAR;
            }, this);
            this._screenShaker.activate(d6t.j48 * this._game.viewport.scale);
            this._matrixRowMatcher.clearBottomRow(d6t.s73, this._currentLastHurrahSpeed);
            this._currentLastHurrahSpeed += R5.LINE_CLEAR_SPEED_INCREASE;
        } else {
            this.endLastHurrahFlow();
        }
        this._soundManager.effect(this._gameVarManager.audioConstants.lasthurrah_lineclear_sfx, d6t.Y48);
    };
    R5.prototype.endLastHurrahFlow = function() {
        this._state = R5.STATES.DONE;
        this._callback.call(this._context);
    };
    R5.prototype.cleanUp = function() {};
    R5.prototype.updateFilling = function(t) {
        var k = Math.ceil(t * this._minoFillingSpeed),
            j = this.getEmptyCells().length;
        for (var o = d6t.W6; o < Math.min(k, j); o++) {
            this.fillSparklingSingleMino();
        }
        this._minoFillingSpeed += R5.FILL_SPEED_INCREASE;
    };
    R5.prototype.update = function() {
        var t = this._game.time.elapsed,
            k = t / d6t.I6;
        this._randomTimerToReplacePhaserTimer += t;
        switch (this._state) {
            case R5.STATES.WAITING_TO_FILL:
                if (this._randomTimerToReplacePhaserTimer >= R5.FILL_START_DELAY) {
                    this._state = R5.STATES.FILLING;
                }
                break;
            case R5.STATES.FILLING:
                this.updateFilling(k);
                break;
            case R5.STATES.START_CLEARING:
                this._randomTimerToReplacePhaserTimer = d6t.W6;
                this.clearLastHurrahLine();
                this._state = R5.STATES.CLEARING;
                break;
            case R5.STATES.WAITING_TO_CLEAR:
                var j = R5.GRAVITY_BASE_TIME / this._currentLastHurrahSpeed;
                if (this._randomTimerToReplacePhaserTimer >= j) {
                    this._state = R5.STATES.START_CLEARING;
                }
                break;
        }
    };
    R5.prototype._pickRandomLowerArrayElement = function(t) {
        var k = Math.random();
        return t[Math.floor(k * k * k * k * k * t.length)];
    };
    return R5;
});
define('gameplay/conditions/ConditionManager', [], function() {
    function q(conditionFactory) {
        this._conditionFactory = conditionFactory;
        this.winConditions = [];
        this.loseConditions = [];
        this.hasPlayerWon = d6t.F18;
    }
    q.prototype.parseConditions = function(e) {
        e.winConditions.forEach(function(t) {
            var k = t.type,
                j = t.value,
                o = this._conditionFactory.construct(k, j);
            this.winConditions.push(o);
        }, this);
        e.loseConditions.forEach(function(t) {
            var k = t.type,
                j = t.value,
                o = this._conditionFactory.construct(k, j);
            this.loseConditions.push(o);
        }, this);
    };
    q.prototype.isGameOver = function() {
        var k = d6t.s73,
            j = d6t.F18;
        this.winConditions.forEach(function(t) {
            k = k && t.isReached();
        }, this);
        if (k) {
            this.hasPlayerWon = d6t.s73;
            return d6t.s73;
        }
        this.loseConditions.forEach(function(t) {
            j = j || t.isReached();
        }, this);
        if (j) {
            this.hasPlayerWon = d6t.F18;
            return d6t.s73;
        }
        return d6t.F18;
    };
    q.prototype.resetConditionState = function() {
        this.winConditions.forEach(function(t) {
            t.reset();
        }, this);
        this.loseConditions.forEach(function(t) {
            t.reset();
        }, this);
    };
    q.prototype.cleanUp = function() {
        this.winConditions.forEach(function(t) {
            t.cleanUp();
        }, this);
        this.loseConditions.forEach(function(t) {
            t.cleanUp();
        }, this);
        this.winConditions = [];
        this.loseConditions = [];
    };
    return q;
});
define('gt/input/TouchInput', ['phaser'], function(o) {
    var e = 'swipe',
        q = 'tap',
        m = function(game, k) {
            var j = 'TouchInput.ctor';
            console.log(j);
            this._game = game;
            this._inputMapper = k;
            this.previousTouch = {};
            this.currentTouch = {};
            this.tapEvent = new o.Signal();
            this.swipeEvent = new o.Signal();
        };
    m.MAX_TAP_LENGTH = d6t.U6;
    m.MIN_SWIPE_LENGTH = d6t.B9x;
    m.UP = d6t.f4B;
    m.DOWN = d6t.x2x;
    m.LEFT = d6t.m6H;
    m.RIGHT = d6t.w3B;
    m.TAP = q;
    m.SWIPE = e;
    m.getDirectionFromVector = function(t) {
        if (Math.abs(t.x) > Math.abs(t.y)) {
            if (t.x < d6t.W6) {
                return m.LEFT;
            } else if (t.x > d6t.W6) {
                return m.RIGHT;
            }
        } else if (Math.abs(t.y) > Math.abs(t.x)) {
            if (t.y < d6t.W6) {
                return m.UP;
            } else if (t.y > d6t.W6) {
                return m.DOWN;
            }
        }
        return d6t.B3x;
    };
    m.prototype.mapInputs = function() {
        this._inputMapper.map(m.TAP, this.tapEvent, function() {
            return d6t.s73;
        });
        this._inputMapper.map(m.SWIPE, this.swipeEvent, function(t) {
            return t.direction;
        });
    };
    m.prototype.startCapturing = function() {
        this._game.input.onDown.add(this.startTouch, this);
        this._game.input.onUp.add(this.completeTouch, this);
    };
    m.prototype.stopCapturing = function() {
        this._game.input.onDown.remove(this.startTouch, this);
        this._game.input.onUp.remove(this.completeTouch, this);
    };
    m.prototype.startTouch = function(t) {
        this.currentTouch.startPoint = new o.Point(t.x, t.y);
    };
    m.prototype.completeTouch = function(t) {
        if (!this.currentTouch.startPoint) {
            return;
        }
        this.currentTouch.endPoint = new o.Point(t.x, t.y);
        var k = o.Point.subtract(this.currentTouch.endPoint, this.currentTouch.startPoint);
        this.currentTouch.length = k.getMagnitude();
        this.currentTouch.direction = m.getDirectionFromVector(k);
        if (this.currentTouch.length <= m.MAX_TAP_LENGTH) {
            this.tapEvent.dispatch(this.currentTouch);
        }
        if (this.currentTouch.length >= m.MIN_SWIPE_LENGTH) {
            this.swipeEvent.dispatch(this.currentTouch);
        }
        this.previousTouch = this.currentTouch;
        this.currentTouch = {};
    };
    return m;
});
define('gameplay/input/TetrisInput', ['phaser', 'gt/utils/device', 'enums/Direction', 'enums/Messages', 'enums/Rotation', 'gt/input/TouchInput', 'data/ControlScheme'], function(m, k5, C5, H5, j5, Y5, z5) {
    var P5 = 'onDown',
        p5 = 'onUp';

    function w5(game, storageManager, smartControls, gameVarManager, gameInfoPublisher, controlScheme) {
        this._game = game;
        this._storageManager = storageManager;
        this._smartControls = smartControls;
        this._gameVarManager = gameVarManager;
        this._gameInfoPublisher = gameInfoPublisher;
        this._controlScheme = controlScheme;
        this._gameInfoPublisher.subscribe(d6t.q6H, this.init, this);
        this._flaggedSignals = [];
    }
    w5.prototype.init = function() {
        this._gameInfoPublisher.subscribe(d6t.L4, this._changeControlScheme, this);
    };
    w5.prototype.setup = function() {
        this._createSignals();
        this._game.input.maxPointers = d6t.A6;
        this.setActive(d6t.F18);
    };
    w5.prototype.start = function() {
        this._addEvents();
        if (k5.desktop) {
            this.enableSmartControlsInput();
            this._setupDesktopInput();
            this._controlScheme[z5.CURRENT_SCHEME_KEY] = z5.SMART;
        } else {
            this.enableSmartControlsInput();
            if (this._controlScheme[z5.CURRENT_SCHEME_KEY] === z5.SWIPE) {
                this._smartControls.activateSwipe();
            } else {
                this._controlScheme[z5.CURRENT_SCHEME_KEY] = z5.SMART;
                this._smartControls.activateSmart();
            }
        }
        this.inputStartedSignal.dispatch();
    };
    w5.prototype.stop = function() {
        this._removeEvents();
        if (k5.desktop) {
            this._disableSmartControlsInput();
            this._disableDesktopInput();
        } else {
            this._disableSmartControlsInput();
        }
    };
    w5.prototype.setActive = function(t) {
        var k = !t;
        if (k) {
            this._endSignals();
        }
        for (var j = d6t.W6; j < this._signals.length; j++) {
            this._signals[j].active = t;
        }
        this.moveStartSignal.remove(this._rememberMoveStartSignal, this);
        this.startSoftDropSignal.remove(this._rememberStartSoftDropSignal, this);
        this._dispatchFlaggedSignals();
    };
    w5.prototype.setKeyDownSignalsInactive = function() {
        for (var t = d6t.W6; t < this._keyDownSignals.length; t++) {
            this._keyDownSignals[t].active = d6t.F18;
        }
        this.moveStartSignal.add(this._rememberMoveStartSignal, this, Infinity);
        this.startSoftDropSignal.add(this._rememberStartSoftDropSignal, this, Infinity);
        this.moveStopSignal.add(this._forgetMoveStartSignal, this, Infinity);
        this.endSoftDropSignal.add(this._forgetStartSoftDropSignal, this, Infinity);
    };
    w5.prototype._rememberMoveStartSignal = function() {
        this._flaggedSignals.push({
            signal: this.moveStartSignal,
            argument: arguments
        });
        this.moveStartSignal.remove(this._rememberMoveStartSignal, this);
        this.moveStartSignal.halt();
    };
    w5.prototype._rememberStartSoftDropSignal = function() {
        this._flaggedSignals.push({
            signal: this.startSoftDropSignal,
            argument: arguments
        });
        this.startSoftDropSignal.remove(this._rememberStartSoftDropSignal, this);
        this.startSoftDropSignal.halt();
    };
    w5.prototype._forgetMoveStartSignal = function() {
        this.moveStopSignal.remove(this._forgetMoveStartSignal, this);
        for (var t = d6t.W6; t < this._flaggedSignals.length; t++) {
            if (this._flaggedSignals[t].signal === this.moveStartSignal) {
                this._flaggedSignals.splice(t, d6t.A6);
                break;
            }
        }
    };
    w5.prototype._forgetStartSoftDropSignal = function() {
        this.endSoftDropSignal.remove(this._forgetStartSoftDropSignal, this);
        for (var t = d6t.W6; t < this._flaggedSignals.length; t++) {
            if (this._flaggedSignals[t].signal === this.startSoftDropSignal) {
                this._flaggedSignals.splice(t, d6t.A6);
                break;
            }
        }
    };
    w5.prototype._dispatchFlaggedSignals = function() {
        for (var t = this._flaggedSignals.length - d6t.A6; t >= d6t.W6; t--) {
            var k = this._flaggedSignals.splice(t, d6t.A6)[d6t.W6];
            k.signal.dispatch.apply(this, k.argument);
        }
    };
    w5.prototype.associateRotateSignal = function(t, k) {
        this.rotateSignal.dispatch(t, k);
    };
    w5.prototype.associateHardDropSignal = function() {
        this.hardDropSignal.dispatch();
    };
    w5.prototype.associateStartSoftDropSignal = function() {
        this.startSoftDropSignal.dispatch();
    };
    w5.prototype.associateEndSoftDropSignal = function() {
        this.endSoftDropSignal.dispatch();
    };
    w5.prototype.associatePauseSignal = function() {
        this.pauseSignal.dispatch();
    };
    w5.prototype.associateHoldSignal = function() {
        this.holdSignal.dispatch();
    };
    w5.prototype.associateMoveStartSignal = function(t) {
        this.moveStartSignal.dispatch(t);
    };
    w5.prototype.associateMoveStopSignal = function(t) {
        this.moveStopSignal.dispatch(t);
    };
    w5.prototype.enableSmartControlsInput = function() {
        this._smartControls.start();
        if (k5.desktop) {
            this._game.input.onDown.add(this._mouseDownCallback, this);
        } else {
            this._game.input.onDown.add(this._smartControls.pointerDown, this._smartControls);
        }
        this._game.input.onUp.add(this._smartControls.pointerUp, this._smartControls);
        this._game.input.addMoveCallback(this._smartControls.pointerMoved, this._smartControls);
    };
    w5.prototype.registerSignalToKey = function(t, k, j, o) {
        this.key = this._game.input.keyboard.addKey(t);
        var e = p5;
        if (j === d6t.s73) {
            e = P5;
        }
        if (o !== undefined) {
            this.key[e].add(function() {
                k.dispatch(o);
            }, this);
        } else {
            this.key[e].add(k.dispatch, k);
        }
        this.key.onDown.add(this._smartControls.startedUsingKeyboard, this._smartControls);
    };
    w5.prototype.removeSignals = function() {
        this._smartControls.startSoftDropSignal.remove(this.associateStartSoftDropSignal, this);
        this._smartControls.endSoftDropSignal.remove(this.associateEndSoftDropSignal, this);
        this._smartControls.holdSignal.remove(this.associateHoldSignal, this);
    };
    w5.prototype._unbindSignalFromKey = function(t, k, j) {
        this.key = this._game.input.keyboard.addKey(t);
        var o = p5;
        if (j === d6t.s73) {
            o = P5;
        }
        this.key[o].removeAll();
        this.key.onDown.remove(this._smartControls.startedUsingKeyboard, this._smartControls);
    };
    w5.prototype._mouseDownCallback = function(t) {
        if (t.button == d6t.W6) {
            this._smartControls.pointerDown(this._game.input.mousePointer);
        }
        if (t.button == d6t.D6) {
            this.holdSignal.dispatch();
        }
    };
    w5.prototype._endSignals = function() {
        if (game.input.keyboard.isDown(m.Keyboard.DOWN)) {
            this.endSoftDropSignal.dispatch();
        }
    };
    w5.prototype._disableSmartControlsInput = function() {
        this._smartControls.pointerCancelled();
        this._smartControls.stop();
        this._game.input.onDown.remove(this._smartControls.pointerDown, this._smartControls);
        this._game.input.onDown.remove(this._mouseDownCallback, this);
        this._game.input.onUp.remove(this._smartControls.pointerUp, this._smartControls);
        this._game.input.deleteMoveCallback(this._smartControls.pointerMoved, this._smartControls);
    };
    w5.prototype._setupDesktopInput = function() {
        this.registerSignalToKey(m.Keyboard.UP, this.rotateSignal, d6t.s73, j5.Clockwise);
        this.registerSignalToKey(m.Keyboard.X, this.rotateSignal, d6t.s73, j5.Clockwise);
        this.registerSignalToKey(m.Keyboard.CONTROL, this.rotateSignal, d6t.s73, j5.CounterClockwise);
        this.registerSignalToKey(m.Keyboard.Z, this.rotateSignal, d6t.s73, j5.CounterClockwise);
        this.registerSignalToKey(m.Keyboard.RIGHT, this.moveStartSignal, d6t.s73, C5.RIGHT);
        this.registerSignalToKey(m.Keyboard.RIGHT, this.moveStopSignal, d6t.F18, C5.RIGHT);
        this.registerSignalToKey(m.Keyboard.LEFT, this.moveStartSignal, d6t.s73, C5.LEFT);
        this.registerSignalToKey(m.Keyboard.LEFT, this.moveStopSignal, d6t.F18, C5.LEFT);
        this.registerSignalToKey(m.Keyboard.DOWN, this.startSoftDropSignal, d6t.s73);
        this.registerSignalToKey(m.Keyboard.DOWN, this.endSoftDropSignal);
        this.registerSignalToKey(m.Keyboard.SPACEBAR, this.hardDropSignal, d6t.s73);
        this.registerSignalToKey(m.Keyboard.ESC, this.pauseSignal, d6t.F18);
        this.registerSignalToKey(m.Keyboard.F1, this.pauseSignal, d6t.F18);
        this.registerSignalToKey(m.Keyboard.SHIFT, this.holdSignal, d6t.s73);
        this.registerSignalToKey(m.Keyboard.C, this.holdSignal, d6t.s73);
    };
    w5.prototype._disableDesktopInput = function() {
        this._unbindSignalFromKey(m.Keyboard.UP, this.rotateSignal, d6t.s73, j5.Clockwise);
        this._unbindSignalFromKey(m.Keyboard.X, this.rotateSignal, d6t.s73, j5.Clockwise);
        this._unbindSignalFromKey(m.Keyboard.CONTROL, this.rotateSignal, d6t.s73, j5.CounterClockwise);
        this._unbindSignalFromKey(m.Keyboard.Z, this.rotateSignal, d6t.s73, j5.CounterClockwise);
        this._unbindSignalFromKey(m.Keyboard.RIGHT, this.moveStartSignal, d6t.s73, C5.RIGHT);
        this._unbindSignalFromKey(m.Keyboard.RIGHT, this.moveStopSignal, d6t.F18, C5.RIGHT);
        this._unbindSignalFromKey(m.Keyboard.LEFT, this.moveStartSignal, d6t.s73, C5.LEFT);
        this._unbindSignalFromKey(m.Keyboard.LEFT, this.moveStopSignal, d6t.F18, C5.LEFT);
        this._unbindSignalFromKey(m.Keyboard.DOWN, this.startSoftDropSignal, d6t.s73);
        this._unbindSignalFromKey(m.Keyboard.DOWN, this.endSoftDropSignal);
        this._unbindSignalFromKey(m.Keyboard.SPACEBAR, this.hardDropSignal, d6t.s73);
        this._unbindSignalFromKey(m.Keyboard.ESC, this.pauseSignal, d6t.F18);
        this._unbindSignalFromKey(m.Keyboard.F1, this.pauseSignal, d6t.F18);
        this._unbindSignalFromKey(m.Keyboard.SHIFT, this.holdSignal, d6t.s73);
        this._unbindSignalFromKey(m.Keyboard.C, this.holdSignal, d6t.s73);
    };
    w5.prototype._changeControlScheme = function(t) {
        this.stop();
        this._controlScheme[z5.CURRENT_SCHEME_KEY] = t;
        this.start();
    };
    w5.prototype._gamePaused = function() {
        this.setActive(d6t.F18);
    };
    w5.prototype._gameResumed = function() {
        this.setActive(d6t.s73);
    };
    w5.prototype._createSignals = function() {
        this.rotateSignal = new m.Signal();
        this.hardDropSignal = new m.Signal();
        this.startSoftDropSignal = new m.Signal();
        this.endSoftDropSignal = new m.Signal();
        this.pauseSignal = new m.Signal();
        this.holdSignal = new m.Signal();
        this.moveStartSignal = new m.Signal();
        this.moveStopSignal = new m.Signal();
        this.inputStartedSignal = new m.Signal();
        this._signals = [this.rotateSignal, this.hardDropSignal, this.startSoftDropSignal, this.endSoftDropSignal, this.pauseSignal, this.holdSignal, this.moveStartSignal, this.moveStopSignal, this.inputStartedSignal];
        this._keyDownSignals = [this.rotateSignal, this.hardDropSignal, this.pauseSignal, this.holdSignal, this.inputStartedSignal];
        this._addSignals();
    };
    w5.prototype._addSignals = function() {
        this._smartControls.startSoftDropSignal.add(this.associateStartSoftDropSignal, this);
        this._smartControls.endSoftDropSignal.add(this.associateEndSoftDropSignal, this);
        this._smartControls.holdSignal.add(this.associateHoldSignal, this);
    };
    w5.prototype._addEvents = function() {
        this._gameInfoPublisher.subscribe(d6t.C3, this._gamePaused, this);
        this._gameInfoPublisher.subscribe(d6t.v53, this._gameResumed, this);
        this._gameInfoPublisher.subscribe(d6t.s43, this.setActive, this);
        this._gameInfoPublisher.subscribe(d6t.z6f, this._gamePaused, this);
    };
    w5.prototype._removeEvents = function() {
        this._gameInfoPublisher.unsubscribe(d6t.C3, this._gamePaused, this);
        this._gameInfoPublisher.unsubscribe(d6t.v53, this._gameResumed, this);
        this._gameInfoPublisher.unsubscribe(d6t.s43, this.setActive, this);
        this._gameInfoPublisher.unsubscribe(d6t.z6f, this._gamePaused, this);
    };
    return w5;
});
define('gameplay/RotationController', ['bottom_line', 'utils/Array2DUtil', 'enums/Messages', 'enums/Rotation', 'enums/Orientation'], function(p5, w5, R5, r5, T5) {
    function a5(tetrisInput, smartControls, matrixController, tetriminoConfig, matrixModel, soundManager, gameVarManager) {
        this._currentRotation = d6t.W6;
        this._maxRotations = d6t.U6;
        this._tetrisInput = tetrisInput;
        this._smartControls = smartControls;
        this._matrixController = matrixController;
        this._tetriminoConfig = tetriminoConfig;
        this._matrixModel = matrixModel;
        this._soundManager = soundManager;
        this._gameVarManager = gameVarManager;
        this.currentTetrimino = d6t.B3x;
        this.rotatedSignal = new Phaser.Signal();
    }
    a5.prototype.start = function() {
        this._tetrisInput.rotateSignal.add(this.rotate, this);
    };
    a5.prototype.stop = function() {
        this._tetrisInput.rotateSignal.remove(this.rotate, this);
        this.currentTetrimino = d6t.B3x;
    };
    a5.prototype.orient = function(t, k) {
        var j = "No rotation point could be found that was a valid rotation",
            k = k || this.currentTetrimino,
            o = k.orientation,
            e = k.config.rotations,
            q = k.getMinos(),
            m = p5.clone(k.shapeMatrix);
        k.orient(t);
        var k5 = p5.clone(k.shapeMatrix),
            C5 = this.getRotationModifiers(q, m, k5);
        this._currentRotation = d6t.W6;
        if (!this.tryRotation(q, C5, e[o], e[t])) {
            k.orient(o);
            k.justRotated = d6t.F18;
            this._soundManager.effect(this._gameVarManager.audioConstants.rotation_failure_sfx);
            console.log(j);
        }
    };
    a5.prototype.rotate = function(t) {
        this._soundManager.effect(this._gameVarManager.audioConstants.tetrimino_rotation_sfx);
        var k = this.currentTetrimino.orientation;
        if (this._matrixModel.isFlipped) {
            t = r5.invert(t);
        }
        var j = T5.rotateOrientation(k, t);
        this.orient(j);
    };
    a5.prototype.tryRotation = function(t, k, j, o) {
        var e = j[this._currentRotation].row,
            q = j[this._currentRotation].col,
            m = o[this._currentRotation].row,
            k5 = o[this._currentRotation].col,
            C5 = e - m,
            H5 = q - k5,
            j5 = p5.cloneDeep(k);
        for (var Y5 = d6t.W6, z5 = j5.length; Y5 < z5; Y5++) {
            var P5 = j5[Y5];
            P5.row += C5;
            P5.col += H5;
        }
        if (this._matrixController.checkIfMoveIsValid(t, j5)) {
            this._matrixController.moveMinosInMatrix(t, j5);
            if (t[d6t.W6].tetrimino) {
                t[d6t.W6].tetrimino.row += C5;
                t[d6t.W6].tetrimino.col += H5;
            }
            this.rotatedSignal.dispatch();
            return d6t.s73;
        } else {
            this._currentRotation++;
            if (this._currentRotation === this._maxRotations) {
                return d6t.F18;
            } else {
                return this.tryRotation(t, k, j, o);
            }
        }
    };
    a5.prototype.getRotationModifiers = function(t, k, j) {
        var o = [];
        for (var e = d6t.W6, q = t.length; e < q; e++) {
            var m = t[e],
                k5 = w5.getRowAndColForElement(k, m),
                C5 = w5.getRowAndColForElement(j, m),
                H5 = {
                    row: k5.row - C5.row,
                    col: C5.col - k5.col
                };
            o.push(H5);
        }
        return o;
    };
    return a5;
});
define('utils/TetrisFormulas', ['phaser'], function(o) {
    var e = {};
    e.getFallSpeed = function(t) {
        var k = (3.54E2 <= (0x151, 0x114) ? (0x190, 0x6E) : (0x8A, 0x197) > (3.96E2, 0x1B9) ? (13.68E2, "w") : (9.66E2, 0x135) >= 57 ? (0xF, 0.007) : (42, 0x161));
        t = t - d6t.A6;
        if (t < d6t.A6) {
            return o.Timer.SECOND;
        }
        var j = d6t.R48 - ((t) * k);
        return Math.pow(j, t) * o.Timer.SECOND;
    };
    e.getSoftDropSpeed = function(t) {
        var k = 0.05;
        return this.getFallSpeed(t) * k;
    };
    return e;
});
define('gameplay/TetriminoController', ['bottom_line', 'phaser', 'enums/Direction', 'enums/Messages', 'utils/TetrisFormulas', 'enums/Orientation', 'enums/TetriminoType', 'enums/TutorialType', 'data/ControlScheme'], function(r5, T5, a5, x5, f5, A5, u5, B5, D5) {
    var o5 = 'ghostTetrimino',
        N5 = 'ghostPieceTransformChanged';

    function y5(game, matrixController, tetrisInput, smartControls, tetriminoQueueController, matrixConfig, gameInfoPublisher, rotationController, matrixModel, matrixAnimator, soundManager, gameVarManager, forcedMove, controlScheme, tetriminoFactory, gravityModeMinoHandler) {
        var R5 = (1.413E3 >= (1.2E3, 32) ? (0x21, 130) : (0xFD, 25));
        this._game = game;
        this._matrixController = matrixController;
        this._tetrisInput = tetrisInput;
        this._smartControls = smartControls;
        this._tetriminoQueueController = tetriminoQueueController;
        this._matrixConfig = matrixConfig;
        this._rotationController = rotationController;
        this._matrixModel = matrixModel;
        this._matrixAnimator = matrixAnimator;
        this._gameInfoPublisher = gameInfoPublisher;
        this._soundManager = soundManager;
        this._gameVarManager = gameVarManager;
        this._forcedMove = forcedMove;
        this._gameInfoPublisher = gameInfoPublisher;
        this._controlScheme = controlScheme;
        this._tetriminoFactory = tetriminoFactory;
        this._gravityModeMinoHandler = gravityModeMinoHandler;
        this._currentTetrimino = d6t.B3x;
        this._previousTetrimino = d6t.B3x;
        this._ghostTetrimino = d6t.B3x;
        this._fallSpeed = d6t.W6;
        this._fallTimer = d6t.B3x;
        this._softDropSpeed = d6t.W6;
        this._softDropTimer = d6t.B3x;
        this._moveDelay = R5;
        this._autoRepeatDelay = d6t.O9x;
        this._tmpMoveTimer = d6t.B3x;
        this._moveTimer = d6t.B3x;
        this._moveDirection = d6t.B3x;
        this._lockDownTimer = d6t.B3x;
        this._isLockingDown = d6t.F18;
        this._lockdownStarted = d6t.F18;
        this._lockedDown = d6t.F18;
        this._matrixFlipAnimInProgress = d6t.F18;
        this._canAudioPlay = d6t.s73;
        this._tutorialActive = d6t.F18;
        this._inputAllowed = d6t.s73;
        this._currentMovesCounter = d6t.W6;
        this._lastTouchDownPosition = -d6t.A6;
        this._lowestRowReached = this._matrixConfig.PLAYABLE_ROWS_COUNT;
        this._matrixController.onScoreCellActivate.add(this._scoreCellActivated, this);
        this._createSignals();
    }
    y5.MOVEMENT_Y = d6t.A6;
    y5.MOVEMENT_X = d6t.A6;
    y5.LOCKDOWN_DELAY = d6t.T2H;
    y5.MAX_MOVES_AFTER_TOUCHDOWN = d6t.B7x;
    y5.FIRST_TUTORIAL_ID = d6t.K2f;
    y5.prototype.start = function(t) {
        var k = t.fallSpeedLevel;
        this._enableEvents();
        this._setSpeeds(k);
        this._rotationController.start();
        this._smartControls.setTetriminoController(this);
        this._canFallThisLevel = t.tutorialIdArray[d6t.W6] != y5.FIRST_TUTORIAL_ID;
    };
    y5.prototype.reset = function() {
        this.stopTimers();
    };
    y5.prototype.pause = function() {
        this._manuallyPaused = d6t.s73;
        this._pauseTimer(this._tmpMoveTimer);
        this._pauseTimer(this._moveTimer);
        this._pauseTimer(this._fallTimer);
        this._pauseTimer(this._softDropTimer);
        this._pauseTimer(this._lockDownTimer);
    };
    y5.prototype.resume = function() {
        game.input.keyboard.reset(d6t.F18);
        this._manuallyPaused = d6t.F18;
        this._resumeTimer(this._tmpMoveTimer);
        this._resumeTimer(this._moveTimer);
        this._resumeTimer(this._fallTimer);
        this._resumeTimer(this._softDropTimer);
        this._resumeTimer(this._lockDownTimer);
    };
    y5.prototype.onResume = function() {
        if (this._manuallyPaused) {
            this.pause();
        }
    };
    y5.prototype.cleanUp = function() {
        this._disableEvents();
        this._currentTetrimino = d6t.B3x;
        this._ghostTetrimino = d6t.B3x;
        this._rotationController.stop();
        this._tetriminoQueueController.cleanUp();
        this._forcedMove.cleanUp();
        this._tetrisInput.holdSignal.remove(this.cancelLockdown, this);
        game.input.keyboard.reset(d6t.F18);
    };
    y5.prototype.startFallTimer = function() {
        this._stopTimer(this._fallTimer);
        if (!this._forcedMove.moveGhostMinosCleared || !this._canFallThisLevel) {
            return;
        }
        this._fallTimer = this._startTimer(this._fallTimer, this._fallSpeed, this.moveDown, this);
    };
    y5.prototype.stopTimers = function() {
        this._stopTimer(this._tmpMoveTimer);
        this._stopTimer(this._moveTimer);
        this._stopTimer(this._softDropTimer);
        this.stopFallingTimers();
    };
    y5.prototype.stopFallingTimers = function() {
        this._stopTimer(this._fallTimer);
        this._stopTimer(this._lockDownTimer);
    };
    y5.prototype.nextTetrimino = function(t) {
        var k = "tetriminoSpawnComplete";
        this._lockedDown = d6t.F18;
        this._resumeTimer(this._moveTimer);
        this._currentMovesCounter = d6t.W6;
        this._lastTouchDownPosition = -d6t.A6;
        this._lowestRowReached = this._matrixConfig.PLAYABLE_ROWS_COUNT;
        this._gameInfoPublisher.publish(d6t.L58, d6t.s73);
        if (t) {
            this._currentTetrimino = t;
        } else {
            this._currentTetrimino = this._tetriminoQueueController.getNext();
            if (this._matrixModel.isFlipped) {
                this._currentTetrimino = this._gravityModeMinoHandler.reconstructTetrimino(this._currentTetrimino, d6t.F18);
            }
        }
        this._currentTetrimino.row = this._matrixConfig.SPAWNING_ROW_INDEX;
        this._currentTetrimino.col = this._matrixConfig.SPAWNING_COL;
        this._rotationController.currentTetrimino = this._currentTetrimino;
        var j = d6t.F18;
        while (!j && this._currentTetrimino.row < this._matrixConfig.BLOCKOUT_ROW) {
            j = this._matrixController.isValidTetriminoLocation(this._currentTetrimino, this._currentTetrimino.row, this._currentTetrimino.col);
            if (!j) {
                this._currentTetrimino.row++;
            }
        }
        if (this._currentTetrimino.row >= this._matrixConfig.BLOCKOUT_ROW) {
            this.blockOutSignal.dispatch();
            return;
        }
        if (j) {
            this._matrixController.addTetriminoToMatrix(this._currentTetrimino, this._currentTetrimino.row, this._currentTetrimino.col);
            this._gameInfoPublisher.publish(d6t.L3, this._currentTetrimino, this._currentTetrimino.row, this._currentTetrimino.col);
        }
        this.startFallTimer();
        if (this._currentTetrimino) {
            this.updateGhostToCurrentPosition();
            this._gameInfoPublisher.publish(k);
            this._gameInfoPublisher.publish(d6t.s43, d6t.s73);
        }
    };
    y5.prototype.transform = function(k, j, o, e, q) {
        var m = 'orientation: ',
            k5 = "Attempted to transform tetrimino to outside of the matrix - ";
        if (!this._inputAllowed) {
            return;
        }
        if (j >= this._matrixConfig.ROWS) {
            console.error(k5, d6t.q88, k, d6t.n9f, j, m, o);
            console.trace();
            return;
        }
        var e = e || this._currentTetrimino,
            C5 = e.getMinos(),
            H5 = [],
            j5 = {
                row: j - e.row,
                col: k - e.col
            },
            Y5 = r5.clone(e.shapeMatrix),
            z5 = e.orientation;
        e.orient(o);
        if (this._controlScheme[D5.CURRENT_SCHEME_KEY] !== D5.SMART && this._currentTetrimino.orientation != o) {
            this._soundManager.effect(this._gameVarManager.audioConstants.tetrimino_rotation_sfx);
        }
        var P5 = r5.clone(e.shapeMatrix),
            p5 = this._rotationController.getRotationModifiers(C5, Y5, P5);
        H5 = H5.concat(p5);
        H5.forEach(function(t) {
            t.row += j5.row;
            t.col += j5.col;
        });
        if (this._matrixController.checkIfMoveIsValid(C5, H5, d6t.F18, this._currentTetrimino)) {
            this._matrixController.moveMinosInMatrix(C5, H5, q);
            e.move(j5);
        } else {
            e.orient(z5);
            e.justRotated = d6t.F18;
            this.transform(k, j + d6t.A6, o, e, q);
        }
    };
    y5.prototype.smartControlsTransform = function(t, k, j, o, e) {
        if (this._controlScheme[D5.CURRENT_SCHEME_KEY] === D5.DESKTOP || !this._inputAllowed) {
            return;
        }
        this.transform(t, k, j, o, e);
        this._stopTimer(this._moveTimer);
        this._stopTimer(this._tmpMoveTimer);
        this.checkLockdown();
    };
    y5.prototype.moveTetrimino = function(t) {
        if (!this._inputAllowed || this._currentTetrimino == this._previousTetrimino) {
            return;
        }
        var k = {
            row: d6t.W6,
            col: d6t.W6
        };
        switch (t) {
            case a5.UP:
                k.row = y5.MOVEMENT_Y;
                break;
            case a5.RIGHT:
                k.col = y5.MOVEMENT_X;
                break;
            case a5.DOWN:
                k.row = -y5.MOVEMENT_Y;
                break;
            case a5.LEFT:
                k.col = -y5.MOVEMENT_X;
                break;
        }
        return this.moveTetriminoBy(k);
    };
    y5.prototype.moveTetriminoBy = function(t) {
        var k = "tetriminoFell";
        if (!this._currentTetrimino || this._currentTetrimino == this._previousTetrimino) {
            return d6t.F18;
        }
        var j = this._currentTetrimino.getMinos();
        if (this._matrixController.checkIfMoveIsValid(j, t)) {
            this._currentTetrimino.move(t);
            this._matrixController.moveMinosInMatrix(j, t);
            this._gameInfoPublisher.publish(k);
            this.checkLockdown();
            this._canAudioPlay = !!t.col;
            return d6t.s73;
        } else {
            if (!this.canMoveDown()) {
                this.startLockdown();
            }
            if (this._canAudioPlay && !this._lockdownStarted) {
                this._soundManager.effect(this._gameVarManager.audioConstants.movement_failure_sfx);
                this._canAudioPlay = d6t.F18;
            }
            return d6t.F18;
        }
    };
    y5.prototype.startMoveTetrimino = function(t) {
        if (this._currentTetrimino == this._previousTetrimino) {
            return;
        }
        this._moveDirection = t;
        this.moveTetrimino(this._moveDirection);
        if (this._currentTetrimino) {
            this._stopTimer(this._tmpMoveTimer);
            this._stopTimer(this._moveTimer);
            this._tmpMoveTimer = this._startTimer(this._tmpMoveTimer, this._moveDelay, this._startMoveTimer, this);
            this.updateGhostToCurrentPosition();
            this._currentTetrimino.justRotated = d6t.F18;
        }
    };
    y5.prototype.stopMoveTetrimino = function(t) {
        if (this._moveDirection === t) {
            this._stopTimer(this._tmpMoveTimer);
            this._stopTimer(this._moveTimer);
            var k = d6t.B3x;
            if (this._moveDirection === a5.RIGHT) {
                k = game.input.keyboard.addKey(T5.Keyboard.LEFT);
            } else {
                k = game.input.keyboard.addKey(T5.Keyboard.RIGHT);
            }
            if (k.isDown) {
                this.startMoveTetrimino(a5.invert(t));
            }
        }
    };
    y5.prototype.startLockdown = function() {
        var t = "tetriminoTouchDown";
        if (this._lockdownStarted || this._matrixFlipAnimInProgress || this._currentTetrimino == this._previousTetrimino) {
            return;
        }
        this._gameInfoPublisher.publish(t);
        this._stopTimer(this._fallTimer);
        this._lastTouchDownPosition = this._lowestRowReached;
        this._lockdownStarted = d6t.s73;
        if (this._currentMovesCounter >= y5.MAX_MOVES_AFTER_TOUCHDOWN) {
            this.lockDown();
            return;
        }
        if (this._isLockingDown) {
            return;
        }
        this._lockDownTimer = this._startTimer(this._lockDownTimer, y5.LOCKDOWN_DELAY, this.lockDown, this);
        this._isLockingDown = d6t.s73;
    };
    y5.prototype.lockDown = function(k) {
        if (!this._ghostTetrimino) {
            return;
        }
        if (!this._forcedMove.isMoveLegal(this.ghostTetrimino)) {
            return;
        }
        this._previousTetrimino = this._currentTetrimino;
        this._lockedDown = d6t.s73;
        this._isLockingDown = d6t.F18;
        this._tetrisInput.setKeyDownSignalsInactive();
        this._gameInfoPublisher.publish(d6t.L58, d6t.F18);
        this.stopFallingTimers();
        this._pauseTimer(this._moveTimer);
        this.transform(this._ghostTetrimino.col, this._ghostTetrimino.row, this._ghostTetrimino.orientation);
        if (k || this._smartControls.isSmartControlActive()) {
            this._smartControls.tetriminoLockedDown();
            this._currentTetrimino.justRotated = this._smartControls.smartControlsEndedWithRotation();
        }
        this._gameInfoPublisher.publish(d6t.w68);
        this.ghostPieceVisibilityChanged(d6t.F18);
        this._ghostTetrimino.destroyMinos();
        this._ghostTetrimino = d6t.B3x;
        this._currentTetrimino.getMinos().forEach(function(t) {
            t.animateGlow();
        });
        this.lockedDownSignal.dispatch(this._currentTetrimino);
        this._soundManager.effect(this._gameVarManager.audioConstants.tetrimino_lockdown_sfx);
        this._lockdownStarted = d6t.F18;
        this._gameInfoPublisher.publish(d6t.J8x);
    };
    y5.prototype.checkLockdown = function() {
        var t = this._currentTetrimino.row;
        this._lowestRowReached = Math.min(this._lowestRowReached, t);
        if (this._lastTouchDownPosition !== -d6t.A6) {
            if (t >= this._lastTouchDownPosition) {
                this._currentMovesCounter++;
            } else {
                this._currentMovesCounter = d6t.W6;
                this._lastTouchDownPosition = -d6t.A6;
            }
        }
        if (this._isLockingDown) {
            this.startFallTimer();
            this.cancelLockdown();
        }
        if (!this.canMoveDown()) {
            this.startLockdown();
        }
    };
    y5.prototype.cancelLockdown = function() {
        this._stopTimer(this._lockDownTimer);
        this._isLockingDown = d6t.F18;
        this._lockdownStarted = d6t.F18;
    };
    y5.prototype.moveDown = function() {
        var t = this.moveTetrimino(a5.DOWN);
        if (t && this._currentTetrimino) {
            this._currentTetrimino.justRotated = d6t.F18;
        }
    };
    y5.prototype.canMoveDown = function() {
        var t = {
                row: -d6t.A6,
                col: d6t.W6
            },
            k = this._currentTetrimino.getMinos();
        return this._matrixController.checkIfMoveIsValid(k, t);
    };
    y5.prototype.softDropMoveDown = function() {
        this.softDropMoveSignal.dispatch();
        this.moveDown();
    };
    y5.prototype.getCurrentTetrimino = function() {
        return this._currentTetrimino;
    };
    y5.prototype.hardDrop = function() {
        if (!this._forcedMove.isMoveLegal(this.ghostTetrimino) || !this._inputAllowed) {
            return;
        }
        this._controlScheme[D5.CURRENT_SCHEME_KEY] = D5.DESKTOP;
        while (this.moveTetrimino(a5.DOWN)) {
            this.hardDropMoveSignal.dispatch();
            this._currentTetrimino.justRotated = d6t.F18;
        }
        this._playHardDropAnimation();
        this.cancelLockdown();
        this.lockDown();
    };
    y5.prototype.startSoftDrop = function() {
        if (this._tutorialActive) {
            return;
        }
        this._stopTimer(this._fallTimer);
        this._softDropTimer = this._startTimer(this._softDropTimer, this._softDropSpeed, this.softDropMoveDown, this);
    };
    y5.prototype.endSoftDrop = function() {
        this._stopTimer(this._softDropTimer);
        this.startFallTimer();
    };
    y5.prototype.isFallingLocked = function() {
        return !this._canFallThisLevel;
    };
    y5.prototype.ghostPieceTransformChangedSmart = function(t, k, j, o) {
        this.updateOrCreateGhostTetrimino(t);
        this.transform(k, j, o, this._ghostTetrimino, this._matrixModel.ghostMatrix);
        if (!this._ghostTetrimino) {
            console.trace();
            debugger;
        }
        this._ghostTetrimino.updateGhostShape();
    };
    y5.prototype.updateOrCreateGhostTetrimino = function(k) {
        var j = this._currentTetrimino.col,
            o = this._currentTetrimino.row,
            e = this._currentTetrimino.orientation;
        if (!this._ghostTetrimino) {
            this._ghostTetrimino = this._matrixController.createGhostTetrimino(k, j, o, e);
        } else if (this._ghostTetrimino.tetriminoType != k) {
            var q = this._ghostTetrimino.getMinos();
            q.forEach(function(t) {
                t.matrixCell.destroyContents();
            }, this);
            this._ghostTetrimino = this._matrixController.createGhostTetrimino(k, j, o, e);
        }
        if (!this._ghostTetrimino.getVisible()) {
            this.ghostPieceVisibilityChanged(d6t.s73);
        }
    };
    y5.prototype.updateGhostToCurrentPosition = function() {
        this.updateOrCreateGhostTetrimino(this._currentTetrimino.tetriminoType);
        var t = this._currentTetrimino.getMinos(),
            k = this.findFallingDistance(t);
        this.transform(this._currentTetrimino.col, this._currentTetrimino.row - k, this._currentTetrimino.orientation, this._ghostTetrimino, this._matrixModel.ghostMatrix);
        if (!this._ghostTetrimino) {
            console.trace();
            debugger;
        }
        this._ghostTetrimino.updateGhostShape();
    };
    y5.prototype.ghostPieceVisibilityChanged = function(t) {
        if (!this._ghostTetrimino) {
            return;
        }
        this._ghostTetrimino.setVisible(t);
    };
    y5.prototype.findFallingDistance = function(e) {
        var q = Infinity;
        e.forEach(function(t) {
            var k;
            for (k = t.row - d6t.A6; k > d6t.W6; k--) {
                var j = this._matrixModel.matrix[k][t.col].getPrisoner();
                if (j && j.tetrimino != t.tetrimino) {
                    break;
                }
            }
            var o = t.row - k;
            if (o < q) {
                q = o;
            }
        }, this);
        return q;
    };
    y5.prototype._smartControlDrop = function() {
        if (!this._forcedMove.isMoveLegal(this.ghostTetrimino) || !this._inputAllowed) {
            return;
        }
        this._playHardDropAnimation(this._ghostTetrimino || this._currentTetrimino);
        this.lockDown(d6t.s73);
    };
    y5.prototype._playTrailAnimation = function(t) {
        var t = t || this._currentTetrimino,
            k = t.getWidth(),
            j = (t.tetriminoType === u5.L && t.orientation === A5.EAST),
            o = (t.tetriminoType === u5.J && t.orientation === A5.WEST),
            e = t.getFirstCol() + k / d6t.D6 - d6t.z48,
            q = d6t.v73;
        if (this._matrixModel.isFlipped) {
            var m = (this._matrixConfig.ROWS / d6t.D6 - d6t.A6 - t.row) + d6t.z48;
            if (j || o) {
                m += d6t.A6;
            }
            var k5 = this._matrixAnimator.playAnimationAt(q, e, m);
            k5.rotation = Math.PI;
        } else {
            var m = t.getTopRow() - d6t.z48;
            if (j || o) {
                m -= d6t.A6;
            }
            var k5 = this._matrixAnimator.playAnimationAt(q, e, m);
            k5.rotation = d6t.W6;
        }
        k5.scale.x = k / d6t.M6 * this._matrixConfig.SCALE;
    };
    y5.prototype._playHardDropAnimation = function(t) {
        var t = t || this._currentTetrimino,
            k = d6t.O88;
        navigator.vibrate(d6t.j9x);
        this._playTrailAnimation(t);
        if (this._matrixModel.isFlipped) {
            this._matrixAnimator.playAnimationAt(k, t.col, this._matrixConfig.ROWS / d6t.D6 - d6t.A6 - t.row);
        } else {
            this._matrixAnimator.playAnimationAt(k, t.col, t.row);
        }
    };
    y5.prototype._startTimer = function(t, k, j, o) {
        if (t) {
            this._stopTimer(t);
        }
        t = this._game.time.events.loop(k, j, o);
        return t;
    };
    y5.prototype._startMoveTimer = function() {
        this._moveTimer = this._startTimer(this._moveTimer, this._autoRepeatDelay, this._moveAndUpdateGhost, this);
    };
    y5.prototype._pauseTimer = function(t) {
        if (t) {
            t.timer.pause();
        }
    };
    y5.prototype._resumeTimer = function(t) {
        if (t) {
            t.timer.resume();
        }
    };
    y5.prototype._stopTimer = function(k) {
        if (k) {
            k.callback = function() {
                var t = 'Stopped timer called this callback, it was probably stopped on the same frame it would be fired';
                console.log(t);
            };
            k.timer.remove(k);
        }
    };
    y5.prototype._moveAndUpdateGhost = function() {
        if (this._currentTetrimino == this._previousTetrimino) {
            return;
        }
        this.moveTetrimino(this._moveDirection);
        if (this._currentTetrimino) {
            this.updateGhostToCurrentPosition();
        }
    };
    y5.prototype._marathonLevelChanged = function(t) {
        this._setSpeeds(t);
        if (t > d6t.A6) {
            this._soundManager.effect(this._gameVarManager.audioConstants.marathon_levelup_sfx);
        }
    };
    y5.prototype._setSpeeds = function(t) {
        this._fallSpeed = f5.getFallSpeed(t);
        this._softDropSpeed = f5.getSoftDropSpeed(t);
        this._gameInfoPublisher.publish(d6t.V48, this._fallSpeed);
    };
    y5.prototype._scoreCellActivated = function() {
        if (this._lockedDown && !this._matrixFlipAnimInProgress) {
            this._soundManager.effect(this._gameVarManager.audioConstants.scorecell_activate_sfx);
        }
    };
    y5.prototype._exposeCurrentMino = function() {
        if (!this._currentTetrimino) {
            return;
        }
        this._gameInfoPublisher.publish(d6t.L3, this._currentTetrimino, this._matrixConfig.PLAYABLE_ROWS_COUNT, this._matrixConfig.SPAWNING_COL);
    };
    y5.prototype._tutorialStarted = function(t) {
        if (t == B5.PLACEMENT_1 || t == B5.HOLD) {
            this._tutorialActive = d6t.s73;
        }
    };
    y5.prototype._levelEnded = function() {
        this._tutorialActive = d6t.F18;
        this._resumeTimer(this._moveTimer);
    };
    y5.prototype._createSignals = function() {
        this.lockedDownSignal = new T5.Signal();
        this.blockOutSignal = new T5.Signal();
        this.hardDropMoveSignal = new T5.Signal();
        this.softDropMoveSignal = new T5.Signal();
    };
    y5.prototype._matrixFlipAnim = function(t) {
        this._matrixFlipAnimInProgress = t;
        if (t) {
            this.pause();
            this._tetrisInput.setKeyDownSignalsInactive();
        } else {
            this.resume();
            this._tetrisInput.setActive(d6t.s73);
        }
    };
    y5.prototype._setTutorialInputActive = function(t, k) {
        if (t == B5.HOLD) {
            this._inputAllowed = k.tutorialInputActive;
        } else if (t != B5.PLACEMENT_1) {
            this._canFallThisLevel = k.canDropTetrimino;
            this.startFallTimer();
        } else {
            this._inputAllowed = d6t.s73;
        }
    };
    y5.prototype._enableEvents = function() {
        this._gameInfoPublisher.subscribe(d6t.h8f, this._marathonLevelChanged, this);
        this._gameInfoPublisher.subscribe(N5, this.ghostPieceTransformChangedSmart, this);
        this._gameInfoPublisher.subscribe(d6t.I3f, this.ghostPieceVisibilityChanged, this);
        this._gameInfoPublisher.subscribe(d6t.P4f, this._tutorialStarted, this);
        this._gameInfoPublisher.subscribe(d6t.Z9f, this._levelEnded, this);
        this._gameInfoPublisher.subscribe(d6t.I1H, this._levelEnded, this);
        this._gameInfoPublisher.subscribe(d6t.P93, this._matrixFlipAnim, this);
        this._gameInfoPublisher.subscribe(d6t.L4, this.ghostPieceVisibilityChanged, this);
        this._gameInfoPublisher.subscribe(d6t.X1x, this._setTutorialInputActive, this);
        this._gameInfoPublisher.subscribe(d6t.Z9f, this._setTutorialInputActive, this);
        this._tetrisInput.moveStartSignal.add(this.startMoveTetrimino, this);
        this._tetrisInput.moveStopSignal.add(this.stopMoveTetrimino, this);
        this._tetrisInput.startSoftDropSignal.add(this.startSoftDrop, this);
        this._tetrisInput.endSoftDropSignal.add(this.endSoftDrop, this);
        this._tetrisInput.hardDropSignal.add(this.hardDrop, this);
        this._tetrisInput.inputStartedSignal.add(this._exposeCurrentMino, this);
        this._rotationController.rotatedSignal.add(this.updateGhostToCurrentPosition, this);
        this._rotationController.rotatedSignal.add(this.checkLockdown, this);
        this._smartControls.onTetriminoLocked.add(this._smartControlDrop, this);
        this._smartControls.smartControlsTransform.add(this.smartControlsTransform, this);
        this._smartControls.onLoseControl.add(this.stopTimers, this);
        this._game.onResume.add(this.onResume, this);
    };
    y5.prototype._disableEvents = function() {
        this._gameInfoPublisher.unsubscribe(d6t.h8f, this._marathonLevelChanged, this);
        this._gameInfoPublisher.unsubscribe(N5, this.ghostPieceTransformChangedSmart, this);
        this._gameInfoPublisher.unsubscribe(d6t.I3f, this.ghostPieceVisibilityChanged, this);
        this._gameInfoPublisher.unsubscribe(d6t.P4f, this._tutorialStarted, this);
        this._gameInfoPublisher.unsubscribe(d6t.Z9f, this._levelEnded, this);
        this._gameInfoPublisher.unsubscribe(d6t.I1H, this._levelEnded, this);
        this._gameInfoPublisher.unsubscribe(d6t.P93, this._matrixFlipAnim, this);
        this._gameInfoPublisher.unsubscribe(d6t.L4, this.ghostPieceVisibilityChanged, this);
        this._gameInfoPublisher.unsubscribe(d6t.X1x, this._setTutorialInputActive, this);
        this._tetrisInput.moveStartSignal.remove(this.startMoveTetrimino, this);
        this._tetrisInput.moveStopSignal.remove(this.stopMoveTetrimino, this);
        this._tetrisInput.startSoftDropSignal.remove(this.startSoftDrop, this);
        this._tetrisInput.endSoftDropSignal.remove(this.endSoftDrop, this);
        this._tetrisInput.hardDropSignal.remove(this.hardDrop, this);
        this._tetrisInput.inputStartedSignal.remove(this._exposeCurrentMino, this);
        this._rotationController.rotatedSignal.remove(this.updateGhostToCurrentPosition, this);
        this._rotationController.rotatedSignal.remove(this.checkLockdown, this);
        this._smartControls.onTetriminoLocked.remove(this._smartControlDrop, this);
        this._smartControls.smartControlsTransform.remove(this.smartControlsTransform, this);
        this._smartControls.onLoseControl.remove(this.stopTimers, this);
        this._game.onResume.remove(this.onResume, this);
    };
    Object.defineProperty(y5.prototype, o5, {
        get: function() {
            return this._ghostTetrimino;
        }
    });
    return y5;
});
define('gameplay/matrix/MatrixController', ['phaser', 'bottom_line', 'utils/Array2DUtil', 'enums/Messages', 'enums/TetriminoType', 'enums/Rotation', 'enums/SpecialMinoType'], function(T5, a5, x5, f5, A5, u5, B5) {
    var D5 = 'scoreCell',
        o5 = 'scoreCellJunk.png',
        N5 = 'scoreCellOff_00.png';

    function y5(matrixView, matrixModel, matrixConfig, minoFactory, tetriminoFactory, game, soundManager, gameVarManager, matrixHourglassAnimator, gameInfoPublisher, spineUtil, matrixGlowAnimator) {
        this._matrixView = matrixView;
        this._matrixModel = matrixModel;
        this._matrixConfig = matrixConfig;
        this._minoFactory = minoFactory;
        this._tetriminoFactory = tetriminoFactory;
        this._game = game;
        this._soundManager = soundManager;
        this._gameVarManager = gameVarManager;
        this._matrixHourglassAnimator = matrixHourglassAnimator;
        this._gameInfoPublisher = gameInfoPublisher;
        this._spineUtil = spineUtil;
        this._matrixGlowAnimator = matrixGlowAnimator;
        this._currentTetrimino = d6t.B3x;
        this._hourglassSwitch = d6t.F18;
        this._shadowsOn = d6t.s73;
        this.onScoreCellActivate = new T5.Signal();
        this._gameInfoPublisher.subscribe(d6t.q6H, this.init, this);
    }
    y5.SCORECELL_ON_IMG = d6t.D83;
    y5.SCORECELL_OFF_IMG = N5;
    y5.SCORECELL_JUNK_IMG = o5;
    y5.prototype.init = function() {
        this._matrixView.init();
        this._matrixModel.init();
        this._populateShadowMatrix();
    };
    y5.prototype.start = function(t) {
        this._addEvents();
        this.addStartMinos(t);
        this.addScoreCells(t);
        this.checkScoreCells();
        this.toggleShadows(d6t.s73);
        this._matrixGlowAnimator.startUp();
    };
    y5.prototype.addStartMinos = function(o) {
        o.startMinos.forEach(function(t) {
            var k = this._minoFactory.get(t.tetriminoType, t.specialMinoType);
            k.row = t.row;
            k.col = t.col;
            var j = this._matrixConfig.ROWS;
            if (k.row >= j) {
                this._matrixModel.addMinoToBuffer(k);
            } else {
                this.addMinoToMatrix(k);
            }
        }, this);
    };
    y5.prototype.addScoreCells = function(j) {
        j.scoreCells.forEach(function(t) {
            var k = this._minoFactory.get(A5.NONE, B5.SCORECELL);
            k.row = t.row;
            k.col = t.col;
            this.addScoreCellToMatrix(k);
        }, this);
    };
    y5.prototype.getMatrixCell = function(t, k, j) {
        var o = j || this._matrixModel.matrix,
            e = d6t.B3x,
            q = o[t];
        if (q) {
            e = q[k];
        }
        return e;
    };
    y5.prototype.isValidTetriminoLocation = function(t, k, j) {
        var o = d6t.s73,
            e = t.shapeMatrix,
            q = t.getCurrentRotationPoints(),
            m = q._.first().row,
            k5 = q._.first().col;
        if (t.tetriminoType === A5.I) {
            m--;
        }
        for (var C5 = d6t.W6; C5 < e.length; C5++) {
            for (var H5 = d6t.W6; H5 < e[d6t.W6].length; H5++) {
                if (!e[C5][H5]) continue;
                var j5 = this.getMatrixCell(k + m - C5, j - k5 + H5, this._matrixModel.matrix);
                o &= j5.isEmpty();
            }
        }
        return o;
    };
    y5.prototype.addTetriminoToMatrix = function(t, k, j) {
        this._currentTetrimino = t;
        this._insertTetrimino(t, this._matrixModel.matrix, k, j);
    };
    y5.prototype.createGhostTetrimino = function(t, k, j, o) {
        var e = this._tetriminoFactory.construct(t, d6t.s73),
            q = {
                col: k,
                row: j
            };
        e.moveTo(q);
        e.orient(o);
        this._insertTetrimino(e, this._matrixModel.ghostMatrix, j, k);
        return e;
    };
    y5.prototype.updateShadowMatrix = function() {
        if (!this._shadowsOn) {
            return;
        }
        x5.forEach(this._matrixModel.shadowMatrix, function(t) {
            if (t.row > this._matrixConfig.PLAYABLE_ROWS_COUNT) {
                return;
            }
            if (this._matrixModel.isFlipped && t.row === d6t.W6) {
                return;
            }
            var k = this._matrixModel.isFlipped ? t.row - d6t.A6 : t.row + d6t.A6,
                j = this._matrixModel.matrix[k][t.col],
                o = this._matrixModel.matrix[t.row][t.col];
            t.getPrisoner().visible = o.isEmpty() && !j.isEmpty();
        }, this);
    };
    y5.prototype.gameEnded = function() {
        this.toggleShadows(d6t.F18);
    };
    y5.prototype.toggleShadows = function(t) {
        this._shadowsOn = t;
        if (this._shadowsOn) {
            this.updateShadowMatrix();
        } else {
            this._hideShadowMatrix();
        }
    };
    y5.prototype.addScoreCellToMatrix = function(t) {
        var k = this._matrixModel.scoreCellMatrix[t.row][t.col];
        k.setPrisoner(t);
    };
    y5.prototype.addMinoToMatrix = function(t, k, j) {
        var o = t.row,
            e = t.col;
        if (typeof k !== d6t.k6f) {
            o = k;
        }
        if (typeof j !== d6t.k6f) {
            e = j;
        }
        var q = t.specialMinoType === B5.MOVEGHOST,
            m = q ? this._matrixModel.moveGhostMatrix : this._matrixModel.matrix,
            k5 = this.getMatrixCell(o, e, m);
        k5.setPrisoner(t);
        t.showMoveGhostAnimation();
        this.updateShadowMatrix();
    };
    y5.prototype.removeTetriminoFromMatrix = function(k) {
        var j = k.getMinos();
        j.forEach(function(t) {
            t.matrixCell.emptyCell();
        }, this);
        this.updateShadowMatrix();
    };
    y5.prototype.forEachCellInMatrix = function(t, k) {
        var j = this._matrixModel.matrix;
        x5.forEach(j, t, k);
    };
    y5.prototype.forEachScoreCellInMatrix = function(t, k) {
        var j = this._matrixModel.scoreCellMatrix;
        x5.forEach(j, t, k);
    };
    y5.prototype.forEachCellInVisibleMatrix = function(t, k) {
        var j = this._matrixModel.visibleMatrix();
        x5.forEach(j, t, k);
    };
    y5.prototype.forEachCellInVisibleMatrixIncludingSkyline = function(t, k) {
        var j = this._matrixModel.visibleMatrixIncludingSkyline();
        x5.forEach(j, t, k);
    };
    y5.prototype.forEachCellInInvisibleMatrix = function(t, k) {
        var j = this._matrixModel.invisibleMatrix();
        x5.forEach(j, t, k);
    };
    y5.prototype.isVisibleMatrixEmpty = function() {
        var k = [];
        this.forEachCellInVisibleMatrixIncludingSkyline(function(t) {
            if (!t.isEmpty()) {
                k.push(t);
            }
        }, this);
        return k.length === d6t.W6;
    };
    y5.prototype.checkIfMoveIsValid = function(t, $modifiers, j, o) {
        if (typeof j === d6t.k6f) {
            j = d6t.F18;
        }
        var e = $modifiers;
        if (!$modifiers.length) {
            e = [];
            for (var q = d6t.W6; q < t.length; q++) {
                e.push($modifiers);
            }
        }
        var m = d6t.s73;
        for (var k5 = d6t.W6, C5 = t.length; k5 < C5; k5++) {
            var H5 = t[k5],
                j5 = e[k5],
                Y5 = this.getMatrixCell(H5.row + j5.row, H5.col + j5.col),
                z5 = d6t.F18;
            if (Y5) {
                var P5 = !Y5.isEmpty();
                if (P5) {
                    var p5 = H5.tetrimino,
                        w5 = Y5.getPrisoner().tetrimino;
                    if (!p5 || w5 !== p5) {
                        if (!o || w5 !== o) {
                            z5 = d6t.s73;
                        }
                    }
                }
                if (j) {
                    if (j < this._matrixConfig.PLAYABLE_ROWS_COUNT) {
                        j = this._matrixConfig.PLAYABLE_ROWS_COUNT;
                    }
                    var R5 = Y5.row > j,
                        r5 = j5.row > d6t.W6;
                    if (R5 && r5) {
                        z5 = d6t.s73;
                    }
                }
            } else {
                z5 = d6t.s73;
            }
            if (z5) {
                m = d6t.F18;
                break;
            }
        }
        return m;
    };
    y5.prototype.moveMinosInMatrix = function(t, $modifiers, j) {
        var o = a5.clone(t),
            e = $modifiers;
        if (!$modifiers.length) {
            e = [];
            for (var q = d6t.W6; q < o.length; q++) {
                e.push($modifiers);
            }
        }
        for (var m = d6t.W6; m < o.length; m++) {
            var k5 = o[m],
                C5 = e[m],
                H5 = this.getMatrixCell(k5.row + C5.row, k5.col + C5.col, j);
            H5.setPrisoner(k5);
        }
        this.checkScoreCells();
        this.updateShadowMatrix();
    };
    y5.prototype.checkIfRowIsEmpty = function(k) {
        var j = d6t.s73,
            o = this._matrixModel.matrix[k];
        o._.each(function(t) {
            if (!t.isEmpty()) {
                j = d6t.F18;
                return d6t.F18;
            }
        }, this);
        return j;
    };
    y5.prototype.hourglassMatrixFlip = function(t, k) {
        var j = (0xE7 < (136.9E1, 6.32E2) ? (2.75E2, 3338305) : 85 >= (5.34E2, 3.300E2) ? (6.16E2, 0x211) : (99.7E1, 0x1B5) < 0x120 ? (65, 84.2E1) : (67., 29.20E1)),
            o = 6324754,
            e = 239212241,
            q = ((119, 0x222) < (10.68E2, 0x65) ? (131, "Z") : (6.72E2, 0x13F) <= 0x1EA ? (123., 517632934) : (0x30, 1.413E3));
        var m = -q,
            k5 = e,
            C5 = d6t.D6;
        for (var H5 = d6t.A6; d6t.t5.L5(H5.toString(), H5.toString().length, o) !== m; H5++) {
            addClass(d6t.d7f);
            plugins.push(plugin);
            C5 += d6t.D6;
        }
        if (d6t.t5.L5(C5.toString(), C5.toString().length, j) !== k5) {
            this._matrixController.moveMinosInMatrix(minos, modifier);
            this.game.camera.setBoundsToWorld();
        }
        this._hourglassSwitch = d6t.s73;
        this._matrixHourglassAnimator.animateMinos(this, t, k);
    };
    y5.prototype.flipGrid = function() {
        var j = [],
            o = d6t.W6;
        this.forEachCellInMatrix(function(t) {
            if (!t.isEmpty()) {
                var k = t.getPrisoner();
                if (k.row > o) {
                    o = k.row;
                }
                j.push(k);
            }
        }, this);
        for (var e = d6t.W6; e < j.length; e++) {
            var q = j[e],
                m = o - q.row;
            this.addMinoToMatrix(q, m, q.col);
        }
        this._matrixModel.flip();
        this._matrixView.flipGrid();
    };
    y5.prototype.checkScoreCells = function() {
        this._matrixModel.scoreCellMatrix.forEach(function(e) {
            e.forEach(function(t) {
                var k = t.getPrisoner();
                if (!k) {
                    return;
                }
                var j = this._matrixModel.isFlipped ? this._matrixConfig.STARTING_ROW_INDEX - k.row : k.row,
                    o = this._matrixModel.matrix[j][k.col].getPrisoner();
                if (o && o.specialMinoType !== B5.JUNK) {
                    if (!k.getActive()) {
                        this._playScoreCellActiveAnim(k);
                        k.setActive(d6t.s73);
                    } else if (k.getActive() && (o.tetrimino == this._currentTetrimino)) {
                        this.onScoreCellActivate.dispatch();
                    }
                } else if (o && o.specialMinoType === B5.JUNK) {
                    if (k.getActive()) {
                        this._playScoreCellInactiveAnim(k, y5.SCORECELL_JUNK_IMG);
                        k.setActive(d6t.F18);
                    } else {
                        k.setImage(y5.SCORECELL_JUNK_IMG);
                    }
                } else {
                    if (k.getActive()) {
                        this._playScoreCellInactiveAnim(k, y5.SCORECELL_ON_IMG);
                        k.setActive(d6t.F18);
                    } else {
                        k.setImage(y5.SCORECELL_ON_IMG);
                    }
                }
            }, this);
        }, this);
    };
    y5.prototype.getFilledRowsInInvisibleMatrix = function() {
        var k = [],
            j = d6t.B3x;
        this.forEachCellInInvisibleMatrix(function(t) {
            if (!t.isEmpty() && t.row != j) {
                k.push(t.row + d6t.A6);
                j = t.row;
            }
        }, this);
        return k;
    };
    y5.prototype.setHourglassSwitch = function(t) {
        this._hourglassSwitch = t;
    };
    y5.prototype.checkHourglassSwitch = function() {
        return this._hourglassSwitch;
    };
    y5.prototype.hideMatrix = function() {
        this._matrixView.setMatrixVisible(d6t.F18);
        this.toggleShadows(d6t.F18);
    };
    y5.prototype.showMatrix = function() {
        this._matrixView.setMatrixVisible(d6t.s73);
        this.toggleShadows(d6t.s73);
    };
    y5.prototype.cleanUp = function() {
        this.forEachCellInMatrix(function(t) {
            t.destroyContents();
        }, this);
        x5.forEach(this._matrixModel.scoreCellMatrix, function(t) {
            t.destroyContents();
        }, this);
        x5.forEach(this._matrixModel.ghostMatrix, function(t) {
            t.destroyContents();
        }, this);
        x5.forEach(this._matrixModel.moveGhostMatrix, function(t) {
            var k = t.getPrisoner();
            if (k) {
                k.destroyTutorialAnimation();
            }
            t.destroyContents();
        }, this);
        this._matrixView.cleanUp();
        this._matrixGlowAnimator.cleanUp();
    };
    y5.prototype._insertTetrimino = function(t, k, j, o) {
        var e = t.shapeMatrix,
            q = t.getCurrentRotationPoints(),
            m = q._.first().row,
            k5 = q._.first().col;
        if (t.tetriminoType === A5.I) {
            m--;
        }
        for (var C5 = d6t.W6; C5 < e.length; C5++) {
            for (var H5 = d6t.W6; H5 < e[d6t.W6].length; H5++) {
                if (!e[C5][H5]) {
                    continue;
                }
                var j5 = e[C5][H5],
                    Y5 = this.getMatrixCell(j + m - C5, o - k5 + H5, k);
                Y5.setPrisoner(j5);
            }
        }
    };
    y5.prototype._populateShadowMatrix = function() {
        x5.forEach(this._matrixModel.shadowMatrix, function(t) {
            var k = this._minoFactory.get(d6t.B3x, B5.SHADOW);
            k.anchor.y = d6t.W6;
            k.y = -this._matrixConfig.TILE_HEIGHT / d6t.D6;
            t.setPrisoner(k);
        }, this);
    };
    y5.prototype._hideShadowMatrix = function() {
        x5.forEach(this._matrixModel.shadowMatrix, function(t) {
            t.getPrisoner().visible = d6t.F18;
        }, this);
    };
    y5.prototype._playScoreCellActiveAnim = function(t) {
        var k = 'scoreCellOn',
            j = this._spineUtil.createAnimation(D5, t.parent);
        j.stopAnimation();
        j.startAnimation(k, d6t.s73, d6t.F18);
        t.visible = d6t.F18;
        j.onComplete.addOnce(function() {
            if (t.getActive()) {
                t.setImage(y5.SCORECELL_OFF_IMG);
                t.visible = d6t.s73;
            }
        }, this);
    };
    y5.prototype._playScoreCellInactiveAnim = function(t, k) {
        var j = 'scoreCellOff',
            o = this._spineUtil.createAnimation(D5, t.parent);
        o.stopAnimation();
        o.startAnimation(j, d6t.s73, d6t.F18);
        t.visible = d6t.F18;
        o.onComplete.addOnce(function() {
            if (!t.getActive()) {
                t.setImage(k);
                t.visible = d6t.s73;
            }
        }, this);
    };
    y5.prototype._addEvents = function() {
        this._gameInfoPublisher.subscribe(d6t.z6f, this.checkScoreCells, this);
        this._gameInfoPublisher.subscribe(d6t.C3, this.hideMatrix, this);
        this._gameInfoPublisher.subscribe(d6t.z6f, this.hideMatrix, this);
        this._gameInfoPublisher.subscribe(d6t.v53, this.showMatrix, this);
        this._gameInfoPublisher.subscribe(d6t.Y6x, this.gameEnded, this);
        this._gameInfoPublisher.subscribe(d6t.j6B, this.gameEnded, this);
    };
    y5.prototype._removeEvents = function() {
        this._gameInfoPublisher.unsubscribe(d6t.z6f, this.checkScoreCells, this);
        this._gameInfoPublisher.unsubscribe(d6t.C3, this.hideMatrix, this);
        this._gameInfoPublisher.unsubscribe(d6t.z6f, this.hideMatrix, this);
        this._gameInfoPublisher.unsubscribe(d6t.v53, this.showMatrix, this);
        this._gameInfoPublisher.unsubscribe(d6t.Y6x, this.gameEnded, this);
        this._gameInfoPublisher.unsubscribe(d6t.j6B, this.gameEnded, this);
    };
    return y5;
});
define('gameplay/matrix/MatrixView', ['phaser', 'enums/Direction'], function(p5, w5) {
    var R5 = 'matrixGlobals',
        r5 = 'bgTiles',
        T5 = 'tetriminos',
        a5 = 'matrixGrid.png';

    function x5(game, matrixModel, matrixConfig, phaserGroupFactory, phaserSpriteFactory, sceneManager, viewportManager, matrixAnimator, soundManager, gameVarManager) {
        var j5 = 0.97;
        this.MATRIX_BACKGROUND_SCALE = j5;
        this._game = game;
        this._matrixModel = matrixModel;
        this._matrixConfig = matrixConfig;
        this._phaserGroupFactory = phaserGroupFactory;
        this._phaserSpriteFactory = phaserSpriteFactory;
        this._viewportManager = viewportManager;
        this._sceneManager = sceneManager;
        this._matrixAnimator = matrixAnimator;
        this._soundManager = soundManager;
        this._gameVarManager = gameVarManager;
        this._matrixContainer = d6t.B3x;
        this._bgMatrix = d6t.B3x;
        this._layers = {};
        this._tempSkyLine = [];
        var Y5 = this._matrixModel.matrix;
        this._bgTiles = [Y5.length, Y5[d6t.W6].length]._.dimit();
    }
    x5.MATRIX_GRID_IMG_NAME = a5;
    x5.prototype.init = function() {
        var j = 'bgMatrix',
            o = 'innerMatrix',
            e = this._sceneManager._scenes.game,
            q = e.components[d6t.d8f];
        this._matrixContainer = q.groups[o];
        this._matrixContainer.children.forEach(function(t) {
            var k = 'grp';
            if (t.name._.has(k)) {
                this._layers[t.name] = t;
            }
        }, this);
        this.getLayer(T5).scalar = this._matrixConfig.SCALE;
        this.getLayer(r5).scalar = this._matrixConfig.SCALE;
        this._bgMatrix = q.images[j];
        this._matrixAnimator.initAnimator(this._matrixContainer, this.getLayer(r5), this.getStartX() * this._matrixConfig.SCALE, this.getStartY() * this._matrixConfig.SCALE, q.labels.scorePp);
        this.renderMatrixTiles(this._matrixModel.shadowMatrix);
        this.renderMatrixTiles(this._matrixModel.ghostMatrix);
        this.renderMatrixTiles(this._matrixModel.matrix);
        this.renderMatrixTiles(this._matrixModel.scoreCellMatrix);
        this.renderMatrixTiles(this._matrixModel.moveGhostMatrix);
        this.renderMatrixBackground();
    };
    x5.prototype.getLayer = function(t) {
        var k = 'There was a request for an not existing layer',
            j = d6t.y3B,
            o = this._layers[j + t];
        if (!o) {
            console.log(k);
            o = d6t.B3x;
        }
        return o;
    };
    x5.prototype.getStartX = function() {
        return this._bgMatrix.x - this._matrixConfig.MATRIX_HALF_WIDTH + this._matrixConfig.HALF_TILE_WIDTH;
    };
    x5.prototype.getStartY = function() {
        return this._bgMatrix.y + this._matrixConfig.MATRIX_HALF_HEIGHT - this._matrixConfig.HALF_TILE_HEIGHT + this._matrixConfig.SKYLINE_HEIGHT * d6t.z48;
    };
    x5.prototype.getX = function(t) {
        return this.getStartX() + (t * this._matrixConfig.TILE_WIDTH);
    };
    x5.prototype.getY = function(t) {
        return this.getStartY() - (t * this._matrixConfig.TILE_HEIGHT);
    };
    x5.prototype.renderMatrixTiles = function(t) {
        var k = this.getLayer(T5);
        for (var j = d6t.W6, o = t.length; j < o; j++) {
            for (var e = d6t.W6, q = t[d6t.W6].length; e < q; e++) {
                var m = t[j][e];
                k.addChild(m);
                m.x = this.getX(e);
                m.y = this.getY(j);
            }
        }
    };
    x5.prototype.renderMatrixBackground = function() {
        var t = this.getStartX(),
            k = this.getStartY(),
            j = this._matrixModel.matrix,
            o = this.getLayer(r5);
        for (var e = d6t.W6, q = j.length; e < q; e++) {
            for (var m = d6t.W6, k5 = j[d6t.W6].length; m < k5; m++) {
                var C5 = this._phaserSpriteFactory.construct(d6t.W6, d6t.W6, d6t.B3x, x5.MATRIX_GRID_IMG_NAME, o);
                C5.x = t + (m * this._matrixConfig.TILE_WIDTH);
                C5.y = k - (e * this._matrixConfig.TILE_HEIGHT);
                C5.scalar = this.MATRIX_BACKGROUND_SCALE;
                o.add(C5);
                this._bgTiles[e][m] = C5;
            }
        }
    };
    x5.prototype.gravitySwitch = function(t, k, j) {
        var o = this._matrixModel.matrix,
            e = d6t.B3x;
        if (!this._tempSkyLine.length) {
            var q = this._matrixConfig.COLS,
                m = o[d6t.W6][d6t.W6],
                k5 = this.getLayer(r5);
            for (var C5 = d6t.W6; C5 < q; C5++) {
                var H5 = this._phaserSpriteFactory.construct(d6t.W6, d6t.W6, d6t.B3x, x5.MATRIX_GRID_IMG_NAME, k5);
                H5.x = m.x + (C5 * this._matrixConfig.TILE_WIDTH);
                H5.y = m.y + (this._matrixConfig.TILE_HEIGHT);
                H5.scalar = this.MATRIX_BACKGROUND_SCALE;
                k5.add(H5);
                this._tempSkyLine.push(H5);
            }
        }
        var j5 = d6t.B3x,
            Y5;
        Y5 = this._matrixConfig.SKYLINE_HEIGHT;
        if (t === w5.UP) {
            j5 = this._matrixContainer.y + Y5;
            e = this._gameVarManager.audioConstants.gravity_up_sfx;
        } else {
            j5 = this._matrixContainer.y - Y5;
            e = this._gameVarManager.audioConstants.gravity_down_sfx;
        }
        var z5 = d6t.I6,
            P5 = this._game.add.tween(this._matrixContainer);
        P5.to({
            y: j5
        }, z5, d6t.B3x, d6t.s73);
        P5.onComplete.addOnce(function() {
            this._soundManager.effect(e);
            k.call(j);
        }, this);
    };
    x5.prototype.resetMatrixPosition = function() {
        this._matrixContainer.y = d6t.W6;
    };
    x5.prototype.flipGrid = function() {
        var t = this._matrixModel.matrix,
            k = this._matrixModel.ghostMatrix,
            j = this._matrixModel.shadowMatrix,
            o = this.getStartY(),
            e = o - ((this._matrixConfig.STARTING_ROW_INDEX) * this._matrixConfig.TILE_HEIGHT);
        for (var q = d6t.W6; q < t.length; q++) {
            for (var m = d6t.W6; m < t[d6t.W6].length; m++) {
                var k5 = t[q][m],
                    C5 = k[q][m],
                    H5 = q * this._matrixConfig.TILE_HEIGHT;
                H5 = this._matrixModel.isFlipped ? e + H5 : o - H5;
                k5.y = H5;
                C5.y = H5;
                if (j[q]) {
                    j[q][m].y = H5;
                }
            }
        }
    };
    x5.prototype.setMatrixVisible = function(t) {
        for (var k = d6t.W6; k <= this._matrixConfig.SKYLINE_ROWS_COUNT; k++) {
            for (var j = d6t.W6; j < this._matrixConfig.COLS; j++) {
                this.setCellVisible(k, j, t);
            }
        }
    };
    x5.prototype.setCellVisible = function(t, k, j) {
        this._matrixModel.matrix[t][k].visible = j;
        this._matrixModel.scoreCellMatrix[t][k].visible = j;
        this._matrixModel.ghostMatrix[t][k].visible = j;
        this._matrixModel.moveGhostMatrix[t][k].visible = j;
        if (t < this._matrixConfig.STARTING_ROW_INDEX) {
            this._matrixModel.shadowMatrix[t][k].visible = j;
        }
    };
    x5.prototype.cleanUp = function() {};
    Object.defineProperty(x5.prototype, R5, {
        get: function() {
            return {
                left: this._bgMatrix.global.x - this._bgMatrix.width / d6t.D6,
                right: this._bgMatrix.global.x + this._bgMatrix.width / d6t.D6,
                top: this._bgMatrix.global.y + this._bgMatrix.height / d6t.D6,
                bottom: this._bgMatrix.global.y - this._bgMatrix.height / d6t.D6,
                center: {
                    x: this._bgMatrix.global.x,
                    linea: this._bgMatrix.global.x - (this._bgMatrix.width / this._matrixConfig.COLS),
                    y: this._bgMatrix.global.y
                },
                dividing: {
                    x: this._bgMatrix.global.x,
                    y: this._bgMatrix.global.y
                }
            };
        }
    });
    return x5;
});
define('gameplay/matrix/MatrixModel', [], function() {
    function j5(matrixFactory, matrixConfig) {
        this._matrixConfig = matrixConfig;
        this.matrix = matrixFactory.construct();
        this.scoreCellMatrix = matrixFactory.construct();
        this.ghostMatrix = matrixFactory.construct();
        this.moveGhostMatrix = matrixFactory.construct();
        this.shadowMatrix = matrixFactory.construct(matrixConfig.COLS, matrixConfig.PLAYABLE_ROWS_COUNT);
        this.bufferMino = [];
        this.isFlipped = d6t.F18;
    }
    j5.prototype.init = function() {};
    j5.prototype.addMinoToBuffer = function(e) {
        var q = e.row,
            m = d6t.W6,
            k5 = d6t.F18;
        while (!k5) {
            if (!this.bufferMino[m]) {
                this.bufferMino[m] = [];
            }
            if (this.bufferMino[m].length) {
                var C5 = this.bufferMino[m][d6t.W6];
                if (C5.row === q) {
                    this.bufferMino[m].push(e);
                    k5 = d6t.s73;
                }
            } else {
                this.bufferMino[m].push(e);
                k5 = d6t.s73;
            }
            m++;
        }
        this.bufferMino.sort(function(t, k) {
            var j = t[d6t.W6].row,
                o = k[d6t.W6].row;
            return j - o;
        });
    };
    j5.prototype.flip = function() {
        this.isFlipped = !this.isFlipped;
    };
    j5.prototype.visibleMatrix = function() {
        var t = [];
        for (var k = d6t.W6; k < this._matrixConfig.PLAYABLE_ROWS_COUNT; k++) {
            t.push(this.matrix[k]);
        }
        return t;
    };
    j5.prototype.visibleMatrixIncludingSkyline = function() {
        var t = [];
        for (var k = d6t.W6; k < this._matrixConfig.SKYLINE_ROWS_COUNT; k++) {
            t.push(this.matrix[k]);
        }
        return t;
    };
    j5.prototype.invisibleMatrix = function() {
        var t = 5317841,
            k = 6111948,
            j = (117.60E1 >= (40., 5.88E2) ? (14.200E2, 1174811005) : 81.7E1 > (113.2E1, 1.432E3) ? 0x5B : (117., 0x7F) > 14.0E1 ? 0x92 : (0x5E, 53.)),
            o = (59.30E1 >= (74.3E1, 37.) ? (61., 144475353) : (118, 96.9E1) < (41.80E1, 58.) ? (2.5E1, 105.0E1) : 17.1E1 > (4.07E2, 1.379E3) ? 1.112E3 : (132.5E1, 130.0E1)),
            e = [];
        var q = -o,
            m = j,
            k5 = d6t.D6;
        for (var C5 = d6t.A6; d6t.t5.L5(C5.toString(), C5.toString().length, k) !== q; C5++) {
            this._gameInfoPublisher.publish(d6t.Z7x);
            console.warn(d6t.y13 + marker + d6t.Q9x);
            this._smartControls.onTetriminoLocked.remove(this._smartControlDrop, this);
            this.gl.deleteProgram(this.program);
            this._injector.mapClass(d6t.O18, TopOut, Soma.SINGLETON);
            k5 += d6t.D6;
        }
        if (d6t.t5.L5(k5.toString(), k5.toString().length, t) !== m) {
            target.apply(this instanceof bound ? this : thisArg, args);
            this._gameInfoPublisher.unsubscribe(d6t.z6f, this.hideMatrix, this);
            this.draw(source);
            this.renderSession.drawCount++;
        }
        for (var H5 = this._matrixConfig.SKYLINE_ROWS_COUNT; H5 < this._matrixConfig.ROWS; H5++) {
            e.push(this.matrix[H5]);
        }
        return e;
    };
    return j5;
});
define('gameplay/matrix/MatrixRowMatcher', ['phaser', 'enums/Messages', 'enums/SpecialMinoType'], function(R5, r5, T5) {
    function a5(matrixController, matrixModel, matrixConfig, matrixAnimator) {
        this._matrixController = matrixController;
        this._matrixModel = matrixModel;
        this._matrixConfig = matrixConfig;
        this._matrixAnimator = matrixAnimator;
        this._matrix = matrixModel.matrix;
        this.rowToInspect = [];
        this._createSignals();
    }
    a5.prototype.checkMatrix = function(t, k) {
        if (t) {
            this.onDone.addOnce(t, k);
        }
        this.scanMatrix();
    };
    a5.prototype.scanMatrix = function() {
        var t = [];
        for (var k = d6t.W6; k < this._matrix.length; k++) {
            var j = d6t.s73;
            for (var o = d6t.W6; o < this._matrix[d6t.W6].length; o++) {
                var e = this._matrixController.getMatrixCell(k, o),
                    q = e.isEmpty();
                if (q) {
                    j = d6t.F18;
                    break;
                }
            }
            if (j) {
                t.push(k);
            }
        }
        if (t.length) {
            this.clearedRowsSignal.dispatch(t.length);
            this.clearRows(t, d6t.s73);
        } else {
            this.rowsNotMatchedSignal.dispatch();
            this.onDone.dispatch(d6t.F18);
        }
    };
    a5.prototype.clearBottomRow = function(t, k) {
        var j = [d6t.W6];
        this.clearRows(j, t, k);
    };
    a5.prototype.clearRows = function(k, j, o, e) {
        o = o || d6t.A6;
        var q = [],
            m = [];
        for (var k5 = d6t.W6, C5 = k.length; k5 < C5; k5++) {
            var H5 = k[k5];
            for (var j5 = d6t.W6, Y5 = this._matrix[d6t.W6].length; j5 < Y5; j5++) {
                var z5 = this._matrixController.getMatrixCell(H5, j5),
                    P5 = z5.getPrisoner();
                this.rowToInspect.push(P5);
                if (P5.tetrimino) {
                    var p5 = P5.tetrimino.getMinos();
                    p5.forEach(function(t) {
                        t.tetrimino = d6t.B3x;
                    });
                }
                if (!m[H5]) {
                    m[H5] = [];
                }
                q.push(k5);
                m[H5].push(P5);
                z5.destroyContents();
            }
        }
        this._matrixController.updateShadowMatrix();
        m = this.cleanUpClearRowsArray(m);
        if (!e) {
            var w5 = this.specialMinosAreInThisRow(this.rowToInspect);
            if (w5) {
                this.rowsMatchedSignal.dispatch(m);
                this.lastHurrahScoreSignal.dispatch(m);
            } else {
                this.rowsMatchedScoreSignal.dispatch(m);
                this.rowsMatchedSignal.dispatch(m);
            }
        }
        if (j) {
            this._matrixAnimator.playRowRemoverAnimation(function() {
                this.onDone.dispatch(d6t.s73);
            }, this, k, o);
        } else {
            this.onDone.dispatch(d6t.s73);
        }
        this.rowToInspect = [];
    };
    a5.prototype.cleanUpClearRowsArray = function(k) {
        var j = [];
        k.forEach(function(t) {
            j.push(t);
        }, this);
        return j;
    };
    a5.prototype.specialMinosAreInThisRow = function(k) {
        var j = d6t.F18;
        k.forEach(function(t) {
            if (t.specialMinoType === T5.SPARKLE) {
                j = d6t.s73;
            }
        }, this);
        return j;
    };
    a5.prototype._createSignals = function() {
        this.rowsMatchedSignal = new R5.Signal();
        this.rowsNotMatchedSignal = new R5.Signal();
        this.rowsMatchedScoreSignal = new R5.Signal();
        this.lastHurrahScoreSignal = new R5.Signal();
        this.clearedRowsSignal = new R5.Signal();
        this.onDone = new R5.Signal();
    };
    return a5;
});
define('gameplay/matrix/MatrixGravity', ['phaser', 'gameplay/TetriminoController', 'enums/Direction'], function(H5, j5, Y5) {
    function z5(matrixController, matrixModel, matrixGravityTweener, matrixConfig, gameInfoPublisher) {
        this._matrixController = matrixController;
        this._matrix = matrixModel.matrix;
        this._matrixGravityTweener = matrixGravityTweener;
        this._gameInfoPublisher = gameInfoPublisher;
        this._matrixConfig = matrixConfig;
        this.onDone = new H5.Signal();
    }
    z5.prototype.applyGravity = function(t, k, j) {
        if (t) {
            this.onDone.addOnce(function() {
                if (!j) {
                    this._matrixController.toggleShadows(d6t.s73);
                    this._gameInfoPublisher.publish(d6t.P93, d6t.F18);
                }
                t.call(k);
            }, this);
        }
        for (var o = d6t.W6, e = this._matrix.length; o < e; o++) {
            var q = d6t.s73;
            for (var m = d6t.W6; m < this._matrix[d6t.W6].length; m++) {
                var k5 = this._matrixController.getMatrixCell(o, m);
                if (!k5.isEmpty()) {
                    q = d6t.F18;
                    break;
                }
            }
            if (q) {
                if (this.moveMatrixDown(o)) {
                    o--;
                }
            }
        }
        this.onDone.dispatch();
    };
    z5.prototype.moveMatrixOneRowUp = function() {
        if (!this._matrixController.checkIfRowIsEmpty(this._matrixConfig.ROWS - d6t.A6)) {
            return d6t.F18;
        }
        for (var t = this._matrix.length - d6t.A6; t >= d6t.W6; t--) {
            for (var k = d6t.W6, j = this._matrix[d6t.W6].length; k < j; k++) {
                var o = this._matrixController.getMatrixCell(t, k);
                if (o && !o.isEmpty()) {
                    var e = o.getPrisoner();
                    this._matrixController.addMinoToMatrix(e, o.row + d6t.A6, o.col);
                }
            }
        }
        return d6t.s73;
    };
    z5.prototype.moveMatrixDown = function(t) {
        var k = t + d6t.A6,
            j = d6t.F18;
        for (var o = k, e = this._matrix.length; o < e; o++) {
            for (var q = d6t.W6; q < this._matrix[d6t.W6].length; q++) {
                var m = this._matrixController.getMatrixCell(o, q);
                if (!m.isEmpty()) {
                    j = d6t.s73;
                    var k5 = m.getPrisoner(),
                        C5 = m.bottom();
                    C5.setPrisoner(k5);
                }
            }
        }
        return j;
    };
    z5.prototype.switchGravity = function(t, k, j) {
        var o = " time(s)",
            e = "The while loop was executed ",
            q = d6t.W6,
            m = d6t.s73;
        while (m) {
            q++;
            m = this.moveMinosInMatrix(t);
        }
        console.log(e + q + o);
        this._matrixGravityTweener.start(k, j);
    };
    z5.prototype.moveMinosInMatrix = function(e) {
        var q = d6t.F18,
            m = j5.MOVEMENT_Y;
        if (e === Y5.DOWN) {
            m = -m;
        }
        var k5 = d6t.W6;
        this._matrixController.forEachCellInMatrix(function(t) {
            if (!t.isEmpty() && t.row > k5) {
                k5 = t.row;
            }
        }, this);
        this._matrixController.forEachCellInMatrix(function(t) {
            if (!t.isEmpty()) {
                var k = t.getPrisoner(),
                    j = [k];
                if (k.tetrimino) {
                    j = k.tetrimino.getMinos();
                }
                var o = {
                    row: d6t.W6,
                    col: d6t.W6
                };
                while (this._matrixController.checkIfMoveIsValid(j, {
                        row: o.row + m,
                        col: o.col
                    }, k5)) {
                    q = d6t.s73;
                    o.row += m;
                }
                if (q) {
                    this._matrixGravityTweener.registerTween(j);
                    this._matrixController.moveMinosInMatrix(j, o);
                }
            }
        }, this);
        return q;
    };
    z5.prototype.cleanUp = function() {
        this._matrixGravityTweener.cleanUp();
    };
    return z5;
});
define('gameplay/matrix/MatrixGravityTweener', ['phaser'], function(C5) {
    function H5(game, matrixConfig, matrixController, matrixView, matrixModel, screenShaker, soundManager, gameVarManager) {
        this._game = game;
        this._matrixController = matrixController;
        this._matrixConfig = matrixConfig;
        this._matrixView = matrixView;
        this._matrixModel = matrixModel;
        this._screenShaker = screenShaker;
        this._soundManager = soundManager;
        this._gameVarManager = gameVarManager;
        this._tweenConfigs = [];
        this._currentTweens = d6t.W6;
        this._maxTweens = d6t.W6;
        this.onDone = new C5.Signal();
    }
    H5.TWEEN_TIME = d6t.T2H;
    H5.prototype.start = function(m, k5) {
        this.onDone.addOnce(m, k5);
        if (!this._tweenConfigs.length) {
            setTimeout(function() {
                this.onDone.dispatch();
            }.bind(this), H5.HACK_DELAY_FIX);
            return;
        }
        this._tweenConfigs.forEach(function(t) {
            var k = t.mino,
                j = this._matrixController.getMatrixCell(t.row, t.col),
                o = k.matrixCell,
                e = o.row - j.row;
            if (this._matrixModel.isFlipped) {
                e = -e;
            }
            o.setPrisoner(k);
            this._maxTweens++;
            var q = this._game.add.tween(k).from({
                y: e * this._matrixConfig.TILE_HEIGHT
            }, H5.TWEEN_TIME, C5.Easing.Quartic.In, d6t.s73);
            q.onComplete.addOnce(this.onTweenDone, this);
        }, this);
    };
    H5.prototype.registerTween = function(t) {
        for (var k = d6t.W6, j = t.length; k < j; k++) {
            var o = t[k];
            this.createConfigForMino(o);
        }
    };
    H5.prototype.createConfigForMino = function(t) {
        var k = d6t.B3x;
        for (var j = d6t.W6, o = this._tweenConfigs.length; j < o; j++) {
            var e = this._tweenConfigs[j];
            if (e.mino === t) {
                k = e;
                break;
            }
        }
        if (!k) {
            this._tweenConfigs.push({
                mino: t,
                row: t.row,
                col: t.col
            });
        }
    };
    H5.prototype.onTweenDone = function() {
        this._screenShaker.activate();
        this._currentTweens++;
        if (this._currentTweens === this._maxTweens) {
            if (this._matrixController.checkHourglassSwitch()) {
                this._soundManager.effect(this._gameVarManager.audioConstants.hourglass_drop_sfx);
                this._matrixController.setHourglassSwitch(d6t.F18);
            }
            this.reset();
            this.onDone.dispatch();
        }
    };
    H5.prototype.reset = function() {
        this._tweenConfigs = [];
        this._currentTweens = d6t.W6;
        this._maxTweens = d6t.W6;
    };
    H5.prototype.cleanUp = function() {
        this.reset();
    };
    return H5;
});
define('gameplay/matrix/MatrixConverter', [], function() {
    function C5(matrixModel, matrixView, matrixConfig, viewportManager) {
        this._matrixModel = matrixModel;
        this._matrixView = matrixView;
        this._matrixConfig = matrixConfig;
        this._viewportManager = viewportManager;
    }
    C5.prototype.screenToMatrixCoordinate = function(t, k, j) {
        var o = this._matrixView.getStartX(),
            e = this._matrixView.getStartY(),
            q = {
                row: -d6t.A6,
                col: -d6t.A6
            },
            m = this._viewportManager.game.width / d6t.D6,
            k5 = this._viewportManager.game.height / d6t.D6;
        q.col = Math.round((t - o - m) / this._matrixConfig.TILE_WIDTH);
        if (this._matrixModel.isFlipped) {
            q.row = Math.round(this._matrixConfig.SPAWNING_ROW_INDEX - Math.abs(k - e - k5 + this._matrixConfig.TILE_HEIGHT / d6t.D6) / this._matrixConfig.TILE_HEIGHT);
        } else {
            q.row = Math.round(Math.abs(k - e - k5) / this._matrixConfig.TILE_HEIGHT);
        }
        if (j) {
            q.row = Math.max(d6t.W6, Math.min(q.row, this._matrixConfig.ROWS - d6t.A6));
            q.col = Math.max(d6t.W6, Math.min(q.col, this._matrixConfig.COLS - d6t.A6));
        }
        return q;
    };
    C5.prototype.swipeCoordinates = function(t, k) {
        var j = this._matrixView.getStartX(),
            o = this._matrixView.getStartY();
        j *= this._matrixConfig.SCALE;
        var e = {
                row: -d6t.A6,
                col: -d6t.A6
            },
            q = this._viewportManager.game.width / d6t.D6,
            m = this._viewportManager.game.height / d6t.D6;
        e.col = ((t - j - q) / (this._matrixConfig.TILE_WIDTH * this._matrixConfig.SCALE));
        if (this._matrixModel.isFlipped) {
            e.row = (this._matrixConfig.SPAWNING_ROW_INDEX - Math.abs(k - o - m + this._matrixConfig.TILE_HEIGHT / d6t.D6) / (this._matrixConfig.TILE_HEIGHT * this._matrixConfig.SCALE));
        } else {
            e.row = (Math.abs(k - o - m) / (this._matrixConfig.TILE_HEIGHT * this._matrixConfig.SCALE));
        }
        return e;
    };
    return C5;
});
define('utils/TetriminoScaleToFitUtil', ['phaser', 'utils/Array2DUtil'], function(p5, w5) {
    var R5 = {};
    R5.fitTetriminoInRect = function(t, k, j) {
        j.x = d6t.W6;
        j.y = d6t.W6;
        k.parent.add(j);
        R5.addTetriminoToParent(t, j);
        var o = R5.makeTetriminoFitInHoldButton(t);
        R5.correctlyPlaceTetriminos(o, k, j);
    };
    R5.addTetriminoToParent = function(o, e) {
        var q = o.getMinos(),
            m = o.shapeMatrix,
            k5 = q._.first(),
            C5 = k5.width * d6t.z48,
            H5 = k5.height * d6t.z48,
            j5 = C5,
            Y5 = H5,
            z5 = -d6t.A6,
            P5 = -d6t.A6;
        w5.forEach(m, function(t, k, j) {
            if (t) {
                if (k > z5) {
                    z5 = k;
                    P5++;
                }
                t.x = j5 + (t.width * j);
                t.y = Y5 + (t.height * P5);
                e.add(t);
            }
        }, this);
    };
    R5.makeTetriminoFitInHoldButton = function(k) {
        var j = Infinity,
            o = Infinity,
            e = d6t.W6,
            q = d6t.W6,
            m = k.shapeMatrix;
        w5.forEach(m, function(t) {
            if (t) {
                if (j > t.x) {
                    j = t.x - t.width * d6t.z48;
                }
                if (e < t.x) {
                    e = t.x + t.width * d6t.z48;
                }
                if (o > t.y) {
                    o = t.y - t.height * d6t.z48;
                }
                if (q < t.y) {
                    q = t.y + t.height * d6t.z48;
                }
            }
        }, this);
        return new p5.Rectangle(j, o, e - j, q - o);
    };
    R5.correctlyPlaceTetriminos = function(t, k, j) {
        var o = d6t.A6,
            e = new p5.Rectangle(t.x, t.y, t.width, t.height),
            q = d6t.B3x;
        if (k.dimensions) {
            q = new p5.Rectangle(k.x, k.y, k.dimensions.width, k.dimensions.height);
        } else {
            q = new p5.Rectangle(k.x, k.y, k.width, k.height);
        }
        while (e.width >= q.width || e.height >= q.height) {
            o -= d6t.H48;
            e.width = t.width * o;
            e.height = t.height * o;
        }
        var m = q.width - e.width,
            k5 = q.height - e.height,
            C5 = (q.x - q.width * d6t.z48) + (m * d6t.z48),
            H5 = (q.y - q.height * d6t.z48) + (k5 * d6t.z48);
        j.scalar = o;
        j.x = C5;
        j.y = H5;
    };
    return R5;
});
define('gameplay/tetrimino_queue/TetriminoQueueController', ['bottom_line', 'utils/TetriminoScaleToFitUtil', 'enums/TetriminoType'], function(m, k5, C5) {
    function H5(tetriminoQueueView, tetriminoQueueModel, tetriminoFactory, gameInfoPublisher) {
        this._tetriminoQueueView = tetriminoQueueView;
        this._tetriminoQueueModel = tetriminoQueueModel;
        this._tetriminoFactory = tetriminoFactory;
        this._gameInfoPublisher = gameInfoPublisher;
        this._gameInfoPublisher.subscribe(d6t.q6H, this.init, this);
        this._levelData = d6t.B3x;
        this._customTetrminoList = [];
    }
    H5.prototype.init = function() {
        this._tetriminoQueueView.init();
    };
    H5.prototype.start = function(t) {
        this._addEvents();
        this._tetriminoQueueView.start();
        this._levelData = t;
        this._populateCustomTetriminoList();
    };
    H5.prototype.getNext = function() {
        this.checkQueueLength();
        var t = this._tetriminoQueueModel.getNext();
        this._tetriminoQueueView.updateQueueView();
        return t;
    };
    H5.prototype.checkQueueLength = function() {
        var k = m.clone(C5.USABLE_TYPES);
        if (this._tetriminoQueueModel.getQueueLength() < k.length) {
            var j = [];
            if (this._customTetrminoList.length > d6t.W6) {
                this._levelData.customTetriminoList.forEach(function(t) {
                    j.push(this._getNext(t));
                }, this);
                this._customTetrminoList = [];
            }
            k._.shuffle();
            for (var o = d6t.W6; o < k.length; o++) {
                var e = k[o],
                    q = j.indexOf(e);
                if (q < d6t.W6) {
                    j.push(this._getNext(e));
                }
            }
            this._tetriminoQueueModel.addTetriminosToQueue(j);
        }
    };
    H5.prototype.cleanUp = function() {
        this._tetriminoQueueView.cleanUp();
        this._tetriminoQueueModel.cleanUp();
        this._removeEvents();
        this._customTetrminoList = [];
    };
    H5.prototype._getNext = function(t) {
        return this._tetriminoFactory.construct(t, d6t.F18);
    };
    H5.prototype._populateCustomTetriminoList = function() {
        if (this._levelData.customTetriminoList.length > d6t.W6) {
            this._levelData.customTetriminoList.forEach(function(t) {
                this._customTetrminoList.push(this._getNext(t));
            }, this);
        }
    };
    H5.prototype._hideQueue = function() {
        this._tetriminoQueueView.setVisible(d6t.F18);
    };
    H5.prototype._showQueue = function() {
        this._tetriminoQueueView.setVisible(d6t.s73);
    };
    H5.prototype._addEvents = function() {
        this._gameInfoPublisher.subscribe(d6t.C3, this._hideQueue, this);
        this._gameInfoPublisher.subscribe(d6t.v53, this._showQueue, this);
    };
    H5.prototype._removeEvents = function() {
        this._gameInfoPublisher.unsubscribe(d6t.C3, this._hideQueue, this);
        this._gameInfoPublisher.unsubscribe(d6t.v53, this._showQueue, this);
    };
    return H5;
});
define('gameplay/tetrimino_queue/TetriminoQueueView', ['utils/TetriminoScaleToFitUtil'], function(e) {
    function q(sceneManager, phaserGroupFactory, tetriminoQueueModel, matrixConfig) {
        this._sceneManager = sceneManager;
        this._phaserGroupFactory = phaserGroupFactory;
        this._tetriminoQueueModel = tetriminoQueueModel;
        this._matrixConfig = matrixConfig;
        this._placeholder = d6t.B3x;
        this._tetriminoGroup = d6t.B3x;
    }
    q.prototype.init = function() {
        var t = 'nextTetrimino',
            k = this._sceneManager._scenes.game,
            j = k.components[d6t.d8f];
        this._placeholder = j.placeHolders[t];
        this._tetriminoGroup = this._phaserGroupFactory.construct(this._placeholder);
    };
    q.prototype.start = function() {};
    q.prototype.updateQueueView = function() {
        this.reset();
        var t = this._tetriminoQueueModel.showNext();
        e.fitTetriminoInRect(t, this._placeholder, this._tetriminoGroup, this._matrixConfig);
    };
    q.prototype.reset = function() {
        this._tetriminoGroup.children.forEach(function(t) {
            t.x = d6t.W6;
            t.y = d6t.W6;
        }, this);
        this._tetriminoGroup.removeAll();
    };
    q.prototype.cleanUp = function() {
        this.reset();
    };
    q.prototype.setVisible = function(t) {
        this._tetriminoGroup.visible = t;
    };
    return q;
});
define('gameplay/tetrimino_queue/TetriminoQueueModel', [], function() {
    function j() {
        this._queue = [];
    }
    j.prototype.addTetriminosToQueue = function(k) {
        k.forEach(function(t) {
            this._queue.push(t);
        }, this);
    };
    j.prototype.getNext = function() {
        return this._queue.shift();
    };
    j.prototype.showNext = function() {
        return this._queue[d6t.W6];
    };
    j.prototype.getQueueLength = function() {
        return this._queue.length;
    };
    j.prototype.cleanUp = function() {
        this._queue = [];
    };
    return j;
});
define('gameplay/tetrimino_holder/TetriminoHolderController', ['enums/TutorialType'], function(j5) {
    function Y5(tetrisInput, tetriminoController, matrixController, tetriminoHolderView, tetriminoHolderModel, soundManager, gameVarManager, gameInfoPublisher, matrixModel, gravityModeMinoHandler) {
        this._tetrisInput = tetrisInput;
        this._tetriminoController = tetriminoController;
        this._matrixController = matrixController;
        this._tetriminoHolderView = tetriminoHolderView;
        this._tetriminoHolderModel = tetriminoHolderModel;
        this._soundManager = soundManager;
        this._gameVarManager = gameVarManager;
        this._gameInfoPublisher = gameInfoPublisher;
        this._matrixModel = matrixModel;
        this._gravityModeMinoHandler = gravityModeMinoHandler;
        this._isHoldEnabled = d6t.s73;
        this._gameInfoPublisher.subscribe(d6t.q6H, this.init, this);
    }
    Y5.prototype.init = function() {
        this._tetriminoHolderView.init();
    };
    Y5.prototype.start = function() {
        this._addEvents();
        this._tetriminoHolderView.reset();
        this._tetrisInput.holdSignal.add(this.holdTetrimino, this);
    };
    Y5.prototype.holdTetrimino = function() {
        this._gameInfoPublisher.publish(d6t.o28, j5.HOLD, d6t.s73);
        if (this._tetriminoHolderModel.heldTetrimino && this._tetriminoController.getCurrentTetrimino() === this._tetriminoHolderModel.currentTetrimino || !this._isHoldEnabled) {
            return;
        }
        this._tetriminoController.cancelLockdown();
        this._gameInfoPublisher.publish(d6t.w68);
        this._tetriminoHolderView.reset();
        var t = this._tetriminoHolderModel.heldTetrimino,
            k = this._tetriminoController.getCurrentTetrimino();
        if (this._matrixModel.isFlipped) {
            k = this._gravityModeMinoHandler.reconstructTetrimino(k, d6t.s73);
        }
        this._tetriminoHolderModel.heldTetrimino = k;
        this._tetriminoHolderModel.heldTetrimino.resetRotation();
        this._matrixController.removeTetriminoFromMatrix(this._tetriminoController.getCurrentTetrimino());
        if (t) {
            if (this._matrixModel.isFlipped) {
                t = this._gravityModeMinoHandler.reconstructTetrimino(t, d6t.F18);
            }
            this._tetriminoController.nextTetrimino(t);
        } else {
            this._tetriminoController.nextTetrimino();
        }
        this._tetriminoHolderModel.currentTetrimino = this._tetriminoController.getCurrentTetrimino();
        this._tetriminoHolderView.updateView();
        this._soundManager.effect(this._gameVarManager.audioConstants.hold_tetrimino_sfx);
    };
    Y5.prototype.hideHeld = function() {
        this._tetriminoHolderView.setVisible(d6t.F18);
    };
    Y5.prototype.showHeld = function() {
        this._tetriminoHolderView.setVisible(d6t.s73);
    };
    Y5.prototype.cleanUp = function() {
        this._tetriminoHolderView.reset();
        this._tetriminoHolderModel.cleanUp();
        this._tetrisInput.holdSignal.remove(this.holdTetrimino, this);
        this._removeEvents();
    };
    Y5.prototype._enableHold = function(t) {
        this._isHoldEnabled = t;
    };
    Y5.prototype._addEvents = function() {
        this._gameInfoPublisher.subscribe(d6t.C3, this.hideHeld, this);
        this._gameInfoPublisher.subscribe(d6t.z6f, this.hideHeld, this);
        this._gameInfoPublisher.subscribe(d6t.v53, this.showHeld, this);
        this._gameInfoPublisher.subscribe(d6t.V0H, this._enableHold, this);
    };
    Y5.prototype._removeEvents = function() {
        this._gameInfoPublisher.unsubscribe(d6t.C3, this.hideHeld, this);
        this._gameInfoPublisher.unsubscribe(d6t.z6f, this.hideHeld, this);
        this._gameInfoPublisher.unsubscribe(d6t.v53, this.showHeld, this);
        this._gameInfoPublisher.unsubscribe(d6t.V0H, this._enableHold, this);
    };
    return Y5;
});
define('gameplay/tetrimino_holder/TetriminoHolderView', ['utils/TetriminoScaleToFitUtil'], function(o) {
    function e(tetriminoHolderModel, sceneManager, phaserGroupFactory) {
        this._sceneManager = sceneManager;
        this._tetriminoHolderModel = tetriminoHolderModel;
        this._phaserGroupFactory = phaserGroupFactory;
        this._placeholder = d6t.B3x;
        this._tetriminoGroup = d6t.B3x;
    }
    e.prototype.init = function() {
        var t = 'tetriminoHold',
            k = this._sceneManager._scenes.game,
            j = k.components[d6t.d8f];
        this._placeholder = j.placeHolders[t];
        this._tetriminoGroup = this._phaserGroupFactory.construct(this._placeholder);
    };
    e.prototype.reset = function() {
        this._tetriminoGroup.children.forEach(function(t) {
            t.x = d6t.W6;
            t.y = d6t.W6;
        }, this);
        this._tetriminoGroup.removeAll();
    };
    e.prototype.updateView = function() {
        var t = this._tetriminoHolderModel.heldTetrimino;
        o.fitTetriminoInRect(t, this._placeholder, this._tetriminoGroup, this._matrixConfig);
    };
    e.prototype.setVisible = function(t) {
        this._tetriminoGroup.visible = t;
    };
    return e;
});
define('gameplay/tetrimino_holder/TetriminoHolderModel', [], function() {
    function t() {
        this.currentTetrimino = d6t.B3x;
        this.heldTetrimino = d6t.B3x;
    }
    t.prototype.cleanUp = function() {
        this.currentTetrimino = d6t.B3x;
        this.heldTetrimino = d6t.B3x;
    };
    return t;
});
define('core/Entity', [], function() {
    function m(t, phaserGroupFactory, publisher) {
        this._components = {};
        this._componentFactory = t;
        this.publisher = publisher;
        this.transform = phaserGroupFactory.construct();
    }
    m.prototype.sendMessage = function() {
        this.publisher.publish.apply(this.publisher, arguments);
    };
    m.prototype.addComponent = function(t) {
        var k = "This component already exists on the entity: ",
            j = d6t.B3x,
            o = t.name;
        if (this._components[o]) {
            console.error(k + o);
        } else {
            var e = [t, this];
            for (var q = d6t.A6; q < arguments.length; ++q) {
                e.push(arguments[q]);
            }
            j = this._componentFactory.construct.apply(this._componentFactory, e);
            this._components[o] = j;
        }
        return j;
    };
    m.prototype.getComponent = function(t) {
        var k = t.name;
        return this._components[k];
    };
    m.prototype.removeComponent = function(t) {
        var k = "This component does not exist on the entity: ",
            j = t.name;
        if (this._components[j]) {
            delete this._components[j];
        } else {
            console.error(k + j);
        }
    };
    return m;
});
define('entities/MatrixCell', ['bottom_line', 'phaser'], function(q, m) {
    function k5(t, k, j, game, gameInfoPublisher) {
        k5._super.constructor.call(this, game, d6t.B3x);
        this._prisoner = d6t.B3x;
        this.matrix = t;
        this.row = k;
        this.col = j;
        this._gameInfoPublisher = gameInfoPublisher;
    }
    q.inherit(k5, m.Group);
    k5.prototype.setPrisoner = function(t) {
        if (t.matrixCell && (t.matrixCell.getPrisoner() === t)) {
            t.matrixCell.emptyCell();
        }
        this._prisoner = t;
        this._prisoner.matrixCell = this;
        this._prisoner.row = this.row;
        this._prisoner.col = this.col;
        this.add(this._prisoner);
    };
    k5.prototype.getPrisoner = function() {
        return this._prisoner;
    };
    k5.prototype.destroyContents = function() {
        if (!this.isEmpty()) {
            this._gameInfoPublisher.publish(d6t.U98, this.getPrisoner());
        }
        this.emptyCell();
    };
    k5.prototype.emptyCell = function() {
        if (this._prisoner) {
            this.removeAll();
            this._prisoner.matrixCell = d6t.B3x;
            this._prisoner = d6t.B3x;
        }
    };
    k5.prototype.isEmpty = function() {
        return !this._prisoner;
    };
    k5.prototype.adjacentCells = function() {
        return [this.top(), this.right(), this.bottom(), this.left()];
    };
    k5.prototype.neighbourCells = function() {
        return [this.top(), this.top_right(), this.right(), this.bottom_right(), this.bottom(), this.bottom_left(), this.left(), this.top_left()];
    };
    k5.prototype.left = function() {
        return this.matrix[this.row] && this.matrix[this.row][this.col - d6t.A6];
    };
    k5.prototype.right = function() {
        return this.matrix[this.row] && this.matrix[this.row][this.col + d6t.A6];
    };
    k5.prototype.top = function() {
        return this.matrix[this.row + d6t.A6] && this.matrix[this.row + d6t.A6][this.col];
    };
    k5.prototype.bottom = function() {
        return this.matrix[this.row - d6t.A6] && this.matrix[this.row - d6t.A6][this.col];
    };
    k5.prototype.top_left = function() {
        return this.matrix[this.row + d6t.A6] && this.matrix[this.row + d6t.A6][this.col - d6t.A6];
    };
    k5.prototype.top_right = function() {
        return this.matrix[this.row + d6t.A6] && this.matrix[this.row + d6t.A6][this.col + d6t.A6];
    };
    k5.prototype.bottom_left = function() {
        return this.matrix[this.row - d6t.A6] && this.matrix[this.row - d6t.A6][this.col - d6t.A6];
    };
    k5.prototype.bottom_right = function() {
        return this.matrix[this.row - d6t.A6] && this.matrix[this.row - d6t.A6][this.col + d6t.A6];
    };
    return k5;
});
define('gameplay/input/TetSmartControlJS', [], function() {
    var y6 = "206.04-debug-01",
        d5 = 262140,
        z6 = "TetSmartControlModel_startedControllingLivePieceToTarget",
        Z6 = "TetSmartControlModel_lockLivePiece",
        N6 = "TetSmartControlModel_startLockTimer",
        P6 = "TetSmartControlModel_cancelLockTimer",
        m5 = "TetSmartControlModel_restartLivePieceFalling",
        t4 = "TetSmartControlModel_stopLivePieceFalling",
        i6 = "TetSmartControlModel_setGhostPieceIsValid",
        P4 = "TetSmartControlModel_setGhostPieceTransform",
        U4 = "TetSmartControlModel_controlActionFailed",
        b6 = "TetSmartControlModel_performControlAction",
        v4 = "TetSmartControlModel_setLivePieceTransform",
        n6 = "TetSmartControlModel_getNormalFallSpeedMSEC",
        s4 = "TetSmartControlModel_getLivePieceFacing",
        C4 = "TetSmartControlModel_getLivePieceY",
        v5 = "TetSmartControlModel_getLivePieceX",
        Q6 = "TetSmartControlModel_captureMatrix",
        p4 = "resumeActivity",
        R4 = "suspendActivity",
        o6 = "didPlayerActivelySelectTarget",
        W4 = "getHardDropStepsForPiece",
        O4 = "getSoftDropStepsForPiece",
        o4 = "isSoftDropOnAndValid",
        a4 = "getEndingRotationPointForPiece",
        D4 = "handleLivePieceWillLockDown",
        N4 = "handleLivePieceDidFall",
        d4 = "setCurrentStateMatrixMino",
        w6 = 518,
        r4 = ((89., 0x128) > 1.156E3 ? (0xD4, "t") : 143 < (43., 12.) ? (0x1F7, "t") : (134.4E1, 0xE) < 3.49E2 ? (0xA, 517) : (0x232, 0x165)),
        T4 = ((74.0E1, 0x150) > (119., 3.80E1) ? (33.5E1, 516) : (50., 99.)),
        S4 = ((14., 34.) > (0x181, 0x150) ? 'T' : 144.6E1 >= (0x12A, 53.) ? (96., 515) : 115.5E1 <= (130, 0xD3) ? (0x22D, 'T') : (0x24C, 4.54E2)),
        l4 = (0xE1 > (0x19E, 11) ? (0x1BC, 514) : (129., 43)),
        b4 = ((2.02E2, 127.) <= 12.88E2 ? (19.8E1, 513) : (0xA, 69.60E1)),
        X4 = "selectTarget",
        K3 = ((104., 82) > 103 ? (101.30E1, 12.06E2) : 8E0 < (14.26E2, 141.70E1) ? (79.80E1, 770) : (79, 0x24D)),
        H3 = (0xA8 > (0x1B0, 5.64E2) ? 0x110 : (15, 14.5E1) >= (143, 118.) ? (0x6, 769) : (36, 0x1C7)),
        j3 = (0xD6 > (0xD, 98.) ? (136, 263) : 5.55E2 <= (0x20D, 0x6C) ? 99.60E1 : 0x6A > (2.94E2, 1.169E3) ? "APA" : (32.9E1, 1.70E1)),
        V3 = ((36., 128.) >= (40, 0x95) ? "xml" : (59, 14.92E2) < 20 ? "xml" : (5.46E2, 9.09E2) > 6.95E2 ? (1.11E3, 262) : (11.82E2, 0x185)),
        Q4 = 261,
        V5 = (132 > (110, 100) ? (125, 260) : (0xD6, 0x204)),
        z3 = (30. != (54., 30) ? (69, 'l') : 0x141 > (33, 0x95) ? (0x1B9, 259) : (0x126, 0x126)),
        h4 = (0x72 > (0xF2, 0x4) ? (0x20E, 258) : 81. > (0x12, 37.7E1) ? (147, 0.5) : (104.30E1, 4.15E2) <= 5. ? 115 : (1.256E3, 1.247E3)),
        t3 = ((6.43E2, 99.) <= 23.1E1 ? (14, 257) : (0x15F, 115)),
        I4 = "TetSmartControlInputMgr_handleLivePieceDidDeactivate",
        M3 = "TetSmartControlInputMgr_handleLivePieceDidTouchDown",
        P3 = "TetSmartControlInputMgr_handleLivePieceDidActivate",
        l5 = "TetSmartControlInputMgr_processEvaluationForNewLivePiece",
        e5 = "TetSmartControlInputMgr_startEvaluationForNewLivePiece",
        E5 = "TetSmartControlInputMgr_handleInputOnIsCancelled",
        X5 = "TetSmartControlInputMgr_handleInputIsOff",
        I5 = "TetSmartControlInputMgr_handleInputIsOn",
        x4 = "TetSmartControlInputMgr_handleInputPositionChanged",
        J4 = "TetSmartControlInputMgr_processTime",
        T6 = "TetSmartControlInputMgr_setIsActive",
        e6 = "isLivePieceControllable",
        E4 = "getPieceData",
        p3 = "getController",
        R3 = "isActive",
        H4 = "TetSmartControlController_performControlAction",
        j4 = "TetSmartControlController_isSmartControlActive",
        u4 = "TetSmartControlController_getTimeMSEC",
        T3 = "TetSmartControlController_getGameState",
        V4 = "isSoftDropOn",
        z4 = "handleLivePieceDidDeactivate",
        B4 = "handleLivePieceDidTouchDown",
        g4 = "handleLivePieceDidActivate",
        l3 = "processEvaluationForNewLivePiece",
        f3 = "startEvaluationForNewLivePiece",
        O3 = "isInputOn",
        N3 = "handleInputOnIsCancelled",
        J3 = "handleInputIsOff",
        G3 = "handleInputIsOn",
        v3 = "handleInputPositionChanged",
        S3 = "processTime",
        W3 = "setEnableAutomaticInputTypeSwitching",
        o3 = "setActiveInputType",
        X3 = "getActiveInputType",
        g3 = "enableInputType",
        s3 = (93. >= (0x20, 0xFC) ? (29.5E1, 0x17F) : (0x21, 1.1500E3) <= (29, 0x1D0) ? (0x1DA, 67) : 39 <= (130, 62.7E1) ? (67, 128) : (0x8A, 3.260E2)),
        I3 = 64,
        a3 = "Super expression must either be null or a function, not ",
        w3 = "this hasn't been initialised - super() hasn't been called",
        H7 = "isCellInsideMatrix",
        j7 = "computeYFromTransformId",
        V7 = "computeXFromTransformId",
        Y7 = "computeTransformId",
        z7 = "processPieceDefinitions",
        E3 = "setPieceDefinitionRotationalSymmetry",
        b3 = "setPieceDefinitionGenerationOffset",
        Q3 = "addPieceDefinitionRotationPointSet",
        q3 = "addPieceDefinitionMino",
        m3 = "addPieceDefinition",
        c3 = "addStandardPieceDefinitions",
        Z3 = "addMino",
        w4 = 1000000,
        P7 = 524288,
        p7 = ((87.60E1, 80.7E1) <= (97.5E1, 41) ? (126.7E1, 101) : (0xEC, 0x82) < (20.90E1, 0x1FB) ? (107., 262144) : (22., 0x87)),
        R7 = 131072,
        O7 = ((1.296E3, 34.) < (10.10E1, 107) ? (81., 130560) : (0x93, 0x1EB)),
        w7 = 510,
        G6 = "destroy",
        A3 = "getMatrixHeight",
        u3 = "getMatrixWidth",
        c4 = "isDestroyed",
        x6 = "Cannot call a class as a function",
        B3 = "__esModule",
        g6 = {};
    Object.defineProperty(g6, B3, {
        value: d6t.s73
    });
    var L6 = function() {
        function e(t, k) {
            for (var j = d6t.W6; j < k.length; j++) {
                var o = k[j];
                o.enumerable = o.enumerable || d6t.F18;
                o.configurable = d6t.s73;
                if (d6t.y5f in o) o.writable = d6t.s73;
                Object.defineProperty(t, o.key, o);
            }
        }
        return function(t, k, j) {
            if (k) e(t.prototype, k);
            if (j) e(t, j);
            return t;
        };
    }();

    function q5(instance, k) {
        if (!(instance instanceof k)) {
            throw new TypeError(x6);
        }
    }
    var u6 = g6.TetAIGameState = function() {
        var P5 = "clearMatrix",
            p5 = "getHardDropStepsForPath",
            w5 = "getSoftDropStepsForPath",
            R5 = "getEndingRotationPointForPath",
            r5 = "doesPieceCollide",
            T5 = "doesPieceTouchBelow",
            a5 = "generateActionTransformPathWithActions",
            x5 = "getTransformAction",
            f5 = "getTransformActionForControlAction",
            A5 = "getTransformForControlAction",
            u5 = "getLivePieceCurrentTransform",
            B5 = "getLivePieceCurrentFacing",
            D5 = "getLivePieceCurrentY",
            o5 = "getLivePieceCurrentX",
            N5 = "setLivePieceCurrentTransform",
            y5 = "getLivePieceStartingTransform",
            U5 = "getLivePieceTypeId",
            W5 = "setCurrentControlAction",
            J5 = "getCurrentControlAction",
            g5 = "setMino",
            c5 = "resetStateWithState",
            Z5 = "resetStateWithCurrentLivePiece",
            M5 = "resetStateWithLivePiece";

        function n5(t, k, j) {
            q5(this, n5);
            this.mMatrixMinos = new Array();
            this.mMatrixMinosBitGrid = new Array();
            this.mIsDestroyed = d6t.F18;
            this.mPieceData = t;
            this.mMatrixWidth = k;
            this.mMatrixHeight = j;
            var o = k * j;
            this.mMatrixMinos.length = d6t.W6;
            while (this.mMatrixMinos.length < o) {
                this.mMatrixMinos.push(d6t.W6);
            };
            this.mMatrixMinosBitGridEmptyRow = d6t.W6;
            this.mMatrixMinosBitGridFullRow = this.mMatrixMinosBitGridEmptyRow;
            for (var e = d6t.W6; e < k; e++) {
                this.mMatrixMinosBitGridFullRow |= d6t.A6 << e;
            }
            this.mMatrixMinosBitGrid.length = d6t.W6;
            while (this.mMatrixMinosBitGrid.length < j) {
                this.mMatrixMinosBitGrid.push(this.mMatrixMinosBitGridEmptyRow);
            };
            this.mLivePieceTypeId = d6t.W6;
            this.mLivePieceStartingX = d6t.W6;
            this.mLivePieceStartingY = d6t.W6;
            this.mLivePieceStartingFacing = d6t.W6;
            this.mLivePieceStartingTransformId = O5.kInvalidTransformId;
            this.mLivePieceCurrentX = d6t.W6;
            this.mLivePieceCurrentY = d6t.W6;
            this.mLivePieceCurrentFacing = d6t.W6;
            this.mLivePieceCurrentTransformId = O5.kInvalidTransformId;
            this.mCurrentControlAction = O5.kControlAction_none;
        }
        L6(n5, [{
            key: c4,
            value: function isDestroyed() {
                return this.mIsDestroyed;
            }
        }, {
            key: u3,
            value: function getMatrixWidth() {
                return this.mMatrixWidth;
            }
        }, {
            key: A3,
            value: function getMatrixHeight() {
                return this.mMatrixHeight;
            }
        }, {
            key: M5,
            value: function resetStateWithLivePiece(t, k, j, o) {
                this.clearMatrix();
                this.mLivePieceTypeId = t;
                this.mLivePieceStartingX = k;
                this.mLivePieceStartingY = j;
                this.mLivePieceStartingFacing = o;
                this.mLivePieceStartingTransformId = this.mPieceData.computeTransformId(k, j, o);
                this.setLivePieceCurrentTransform(this.mLivePieceStartingTransformId);
            }
        }, {
            key: Z5,
            value: function resetStateWithCurrentLivePiece() {
                this.clearMatrix();
            }
        }, {
            key: c5,
            value: function resetStateWithState(t) {
                this.clearMatrix();
                var k, j = this.mMatrixMinos.length;
                for (k = d6t.W6; k < j; k++) {
                    this.mMatrixMinos[k] = t.mMatrixMinos[k];
                }
                j = this.mMatrixMinosBitGrid.length;
                for (k = d6t.W6; k < j; k++) {
                    this.mMatrixMinosBitGrid[k] = t.mMatrixMinosBitGrid[k];
                }
                this.mLivePieceTypeId = t.mLivePieceTypeId;
                this.mLivePieceStartingX = t.mLivePieceStartingX;
                this.mLivePieceStartingY = t.mLivePieceStartingY;
                this.mLivePieceStartingFacing = t.mLivePieceStartingFacing;
                this.mLivePieceStartingTransformId = t.mLivePieceStartingTransformId;
                this.mLivePieceCurrentX = t.mLivePieceCurrentX;
                this.mLivePieceCurrentY = t.mLivePieceCurrentY;
                this.mLivePieceCurrentFacing = t.mLivePieceCurrentFacing;
                this.mLivePieceCurrentTransformId = t.mLivePieceCurrentTransformId;
            }
        }, {
            key: g5,
            value: function setMino(t, k, j, o, e, q, m) {
                var k5 = d6t.W6;
                k5 = O5.setValueInPackedBits(d6t.A6, k5, n5.kMinoValueMask_exists, n5.kMinoValueBitShift_exists);
                k5 = O5.setValueInPackedBits(t, k5, n5.kMinoValueMask_typeId, n5.kMinoValueBitShift_typeId);
                k5 = O5.setValueInPackedBits(o, k5, n5.kMinoValueMask_stuckDirections, n5.kMinoValueBitShift_stuckDirections);
                if (e) {
                    k5 = O5.setValueInPackedBits(d6t.A6, k5, n5.kMinoValueMask_isStickyActive, n5.kMinoValueBitShift_isStickyActive);
                }
                if (q) {
                    k5 = O5.setValueInPackedBits(d6t.A6, k5, n5.kMinoValueMask_isGravitic, n5.kMinoValueBitShift_isGravitic);
                }
                if (m) {
                    k5 = O5.setValueInPackedBits(d6t.A6, k5, n5.kMinoValueMask_isClearable, n5.kMinoValueBitShift_isClearable);
                }
                var C5 = O5.computeGridIndex(k, j, this.mMatrixWidth);
                this.mMatrixMinos[C5] = k5;
                this.mMatrixMinosBitGrid[j] = this.mMatrixMinosBitGrid[j] | d6t.A6 << k;
            }
        }, {
            key: J5,
            value: function getCurrentControlAction() {
                return this.mCurrentControlAction;
            }
        }, {
            key: W5,
            value: function setCurrentControlAction(t) {
                this.mCurrentControlAction = t;
            }
        }, {
            key: U5,
            value: function getLivePieceTypeId() {
                return this.mLivePieceTypeId;
            }
        }, {
            key: y5,
            value: function getLivePieceStartingTransform() {
                return this.mLivePieceStartingTransformId;
            }
        }, {
            key: N5,
            value: function setLivePieceCurrentTransform(t) {
                this.mLivePieceCurrentX = this.mPieceData.computeXFromTransformId(t);
                this.mLivePieceCurrentY = this.mPieceData.computeYFromTransformId(t);
                this.mLivePieceCurrentFacing = O5.computeFacingFromTransformId(t);
                this.mLivePieceCurrentTransformId = t;
            }
        }, {
            key: o5,
            value: function getLivePieceCurrentX() {
                return this.mLivePieceCurrentX;
            }
        }, {
            key: D5,
            value: function getLivePieceCurrentY() {
                return this.mLivePieceCurrentY;
            }
        }, {
            key: B5,
            value: function getLivePieceCurrentFacing() {
                return this.mLivePieceCurrentFacing;
            }
        }, {
            key: u5,
            value: function getLivePieceCurrentTransform() {
                return this.mLivePieceCurrentTransformId;
            }
        }, {
            key: A5,
            value: function getTransformForControlAction(t, k) {
                var j = this.mPieceData.getPiece(this.mLivePieceTypeId, t);
                if (!j) {
                    return O5.kInvalidTransformId;
                }
                var o = d6t.B3x;
                switch (k) {
                    case O5.kControlAction_moveLeft:
                        o = this.mPieceData.getPiece(this.mLivePieceTypeId, j.mPerTransformActionToTransformIds[O5.kTransformAction_moveLeft]);
                        if (!this.doesPieceCollide(o)) {
                            return o.mTransformId;
                        }
                        break;
                    case O5.kControlAction_moveRight:
                        o = this.mPieceData.getPiece(this.mLivePieceTypeId, j.mPerTransformActionToTransformIds[O5.kControlAction_moveRight]);
                        if (!this.doesPieceCollide(o)) {
                            return o.mTransformId;
                        }
                        break;
                    case O5.kControlAction_rotateCW:
                    case O5.kControlAction_rotateCCW:
                    case O5.kControlAction_superRotateCW:
                    case O5.kControlAction_superRotateCCW:
                        {
                            var e = d6t.W6,
                                q = -d6t.A6;
                            switch (k) {
                                case O5.kControlAction_rotateCW:
                                    e = O5.kTransformAction_rotateCWPoint1;
                                    q = O5.kTransformAction_rotateCWPoint1;
                                    break;
                                case O5.kControlAction_rotateCCW:
                                    e = O5.kTransformAction_rotateCCWPoint1;
                                    q = O5.kTransformAction_rotateCCWPoint1;
                                    break;
                                case O5.kControlAction_superRotateCW:
                                    e = O5.kTransformAction_rotateCWPoint1;
                                    q = e + j.mPieceDefinition.getNumRotationPointSets() - d6t.A6;;
                                    break;
                                case O5.kControlAction_superRotateCCW:
                                    e = O5.kTransformAction_rotateCCWPoint1;
                                    q = e + j.mPieceDefinition.getNumRotationPointSets() - d6t.A6;
                                    break;
                            }
                            for (var m = e; m <= q; m++) {
                                o = this.mPieceData.getPiece(this.mLivePieceTypeId, j.mPerTransformActionToTransformIds[m]);
                                if (!this.doesPieceCollide(o)) {
                                    return o.mTransformId;
                                }
                            }
                            break;
                        }
                    case O5.kControlAction_hardDrop:
                        o = j;
                        while (o && !this.doesPieceTouchBelow(o)) {
                            o = this.mPieceData.getPiece(this.mLivePieceTypeId, o.mPerTransformActionToTransformIds[O5.kTransformAction_moveDown]);
                        }
                        if (!this.doesPieceCollide(o)) {
                            return o.mTransformId;
                        }
                        break;
                }
                return O5.kInvalidTransformId;
            }
        }, {
            key: f5,
            value: function getTransformActionForControlAction(t, k, j) {
                var o = this.mPieceData.getPiece(this.mLivePieceTypeId, t);
                if (!o) {
                    return O5.kInvalidTransformId;
                }
                var e, q = d6t.W6,
                    m = -d6t.A6;
                switch (j) {
                    case O5.kControlAction_moveLeft:
                        q = O5.kTransformAction_moveLeft;
                        m = O5.kTransformAction_moveLeft;
                        break;
                    case O5.kControlAction_moveRight:
                        q = O5.kTransformAction_moveRight;
                        m = O5.kTransformAction_moveRight;
                        break;
                    case O5.kControlAction_rotateCW:
                        q = O5.kTransformAction_rotateCWPoint1;
                        m = O5.kTransformAction_rotateCWPoint1;
                        break;
                    case O5.kControlAction_rotateCCW:
                        q = O5.kTransformAction_rotateCCWPoint1;
                        m = O5.kTransformAction_rotateCCWPoint1;
                        break;
                    case O5.kControlAction_superRotateCW:
                        q = O5.kTransformAction_rotateCWPoint1;
                        m = O5.kTransformAction_rotateCWPoint5;
                        break;
                    case O5.kControlAction_superRotateCCW:
                        q = O5.kTransformAction_rotateCCWPoint1;
                        m = O5.kTransformAction_rotateCCWPoint5;
                        break;
                    case O5.kControlAction_hardDrop:
                        return O5.kTransformAction_hardDrop;
                }
                for (e = q; e <= m; e++) {
                    if (k == o.mPerTransformActionToTransformIds[e]) {
                        return e;
                    }
                }
                for (e = q; e <= m; e++) {
                    if (this.mPieceData.areTransformsEquivalent(this.mLivePieceTypeId, k, o.mPerTransformActionToTransformIds[e])) {
                        return e;
                    }
                }
                return O5.kTransformAction_invalid;
            }
        }, {
            key: x5,
            value: function getTransformAction(t, k) {
                var j = this.mPieceData.getPiece(this.mLivePieceTypeId, t);
                if (!j) {
                    return O5.kInvalidTransformId;
                }
                var o;
                for (o = d6t.W6; o < O5.kNumTransformActionsForPieceData; o++) {
                    if (k == j.mPerTransformActionToTransformIds[o]) {
                        return o;
                    }
                }
                for (o = d6t.W6; o < O5.kNumTransformActionsForPieceData; o++) {
                    if (this.mPieceData.areTransformsEquivalent(this.mLivePieceTypeId, k, j.mPerTransformActionToTransformIds[o])) {
                        return o;
                    }
                }
                return O5.kTransformAction_invalid;
            }
        }, {
            key: a5,
            value: function generateActionTransformPathWithActions(t, k, j) {
                if (j) {
                    j.length = d6t.W6;
                }
                var o = t,
                    e = this.mPieceData.getPiece(this.mLivePieceTypeId, o);
                if (!e) {
                    return O5.kInvalidTransformId;
                }
                var q, m = k.length;
                for (var k5 = d6t.W6; k5 < m; k5++) {
                    q = k[k5];
                    if (q < O5.kTransformAction_hardDrop) {
                        o = e.mPerTransformActionToTransformIds[q];
                    } else if (q == O5.kTransformAction_hardDrop) {
                        while (!this.doesPieceTouchBelow(e)) {
                            o = e.mPerTransformActionToTransformIds[O5.kTransformAction_moveDown];
                            e = this.mPieceData.getPiece(this.mLivePieceTypeId, o);
                            if (!e) {
                                if (j) {
                                    j.length = d6t.W6;
                                }
                                return O5.kInvalidTransformId;
                            }
                        }
                    } else {
                        return O5.kInvalidTransformId;
                    }
                    e = this.mPieceData.getPiece(this.mLivePieceTypeId, o);
                    if (e) {
                        if (this.doesPieceCollide(e)) {
                            if (j) {
                                j.length = d6t.W6;
                            }
                            return O5.kInvalidTransformId;
                        }
                        if (j) {
                            j.push(q);
                            j.push(o);
                        }
                    } else {
                        if (j) {
                            j.length = d6t.W6;
                        }
                        return O5.kInvalidTransformId;
                    }
                }
                return o;
            }
        }, {
            key: T5,
            value: function doesPieceTouchBelow(t) {
                if (!t) {
                    return d6t.F18;
                } else if (t.mMinMinoY == d6t.W6) {
                    return d6t.s73;
                } else {
                    var k = this.mPieceData.getPiece(this.mLivePieceTypeId, t.mPerTransformActionToTransformIds[O5.kTransformAction_moveDown]);
                    return this.doesPieceCollide(k);
                }
            }
        }, {
            key: r5,
            value: function doesPieceCollide(t) {
                if (!t) {
                    return d6t.s73;
                }
                for (var k = d6t.W6; k < t.mNumMinos; k++) {
                    if (this.mMatrixMinos[t.mMinosXY[k]] != d6t.W6) {
                        return d6t.s73;
                    }
                }
                return d6t.F18;
            }
        }, {
            key: R5,
            value: function getEndingRotationPointForPath(t) {
                var k, j, o = O5.kInvalidTransformId,
                    e, q = d6t.W6,
                    m = t.length,
                    k5 = ~~(m / d6t.D6);
                for (var C5 = d6t.W6; C5 < k5; C5++) {
                    k = t[C5 * d6t.D6];
                    j = t[C5 * d6t.D6 + d6t.A6];
                    switch (k) {
                        case O5.kTransformAction_rotateCWPoint1:
                        case O5.kTransformAction_rotateCWPoint2:
                        case O5.kTransformAction_rotateCWPoint3:
                        case O5.kTransformAction_rotateCWPoint4:
                        case O5.kTransformAction_rotateCWPoint5:
                        case O5.kTransformAction_rotateCCWPoint1:
                        case O5.kTransformAction_rotateCCWPoint2:
                        case O5.kTransformAction_rotateCCWPoint3:
                        case O5.kTransformAction_rotateCCWPoint4:
                        case O5.kTransformAction_rotateCCWPoint5:
                            {
                                e = O5.getRotationPointForTransformAction(k);
                                if (q == d6t.U6) {
                                    if (e != d6t.A6) {
                                        q = e;
                                    }
                                } else {
                                    q = e;
                                }
                                break;
                            }
                        default:
                            if (!this.mPieceData.areTransformsEquivalent(this.mLivePieceTypeId, o, j)) {
                                q = d6t.W6;
                            }
                            break;
                    }
                    o = j;
                }
                return q;
            }
        }, {
            key: w5,
            value: function getSoftDropStepsForPath(t, k, j) {
                var o = this.mPieceData.getPiece(this.mLivePieceTypeId, k),
                    e, q;
                if (o) {
                    e = o.mMinMinoY;
                    q = o.mY;
                } else {
                    e = this.mMatrixHeight;
                    q = this.mMatrixHeight;
                }
                if (j < q) {
                    q = j;
                }
                var m = d6t.W6,
                    k5, C5 = t.length,
                    H5 = ~~(C5 / d6t.D6);
                for (var j5 = d6t.W6; j5 < H5; j5++) {
                    k5 = t[j5 * d6t.D6];
                    if (k5 == O5.kTransformAction_moveDown) {
                        var Y5 = t[j5 * d6t.D6 + d6t.A6];
                        o = this.mPieceData.getPiece(this.mLivePieceTypeId, Y5);
                        if (o) {
                            if (o.mMinMinoY < e && o.mY < q) {
                                m++;
                            }
                        }
                        var z5 = this.mPieceData.computeYFromTransformId(Y5);
                        if (z5 < q) {
                            q = z5;
                        }
                    }
                }
                return m;
            }
        }, {
            key: p5,
            value: function getHardDropStepsForPath(t, k) {
                var j = this.mPieceData.getPiece(this.mLivePieceTypeId, k),
                    o;
                if (j) {
                    o = j.mY;
                } else {
                    o = this.mMatrixHeight;
                }
                var e, q = t.length,
                    m = ~~(q / d6t.D6);
                for (var k5 = m - d6t.A6; k5 >= d6t.W6; k5--) {
                    e = t[k5 * d6t.D6];
                    if (e == O5.kTransformAction_hardDrop) {
                        var C5 = t[k5 * d6t.D6 - d6t.A6],
                            H5 = this.mPieceData.computeYFromTransformId(C5);
                        if (H5 > o) {
                            H5 = o;
                        }
                        var j5 = t[k5 * d6t.D6 + d6t.A6],
                            Y5 = this.mPieceData.computeYFromTransformId(j5);
                        return H5 - Y5;
                    }
                }
                return d6t.W6;
            }
        }, {
            key: P5,
            value: function clearMatrix() {
                var t, k = this.mMatrixMinos.length;
                for (t = d6t.W6; t < k; t++) {
                    this.mMatrixMinos[t] = d6t.W6;
                }
                k = this.mMatrixMinosBitGrid.length;
                for (t = d6t.W6; t < k; t++) {
                    this.mMatrixMinosBitGrid[t] = this.mMatrixMinosBitGridEmptyRow;
                }
            }
        }, {
            key: G6,
            value: function destroy() {
                if (this.isDestroyed()) {
                    return;
                }
                this.mIsDestroyed = d6t.s73;
            }
        }]);
        return n5;
    }();
    u6.kMinoValueNumBits_exists = d6t.A6;
    u6.kMinoValueNumBits_typeId = d6t.d6;
    u6.kMinoValueNumBits_stuckDirections = d6t.d6;
    u6.kMinoValueNumBits_isStickyActive = d6t.A6;
    u6.kMinoValueNumBits_isGravitic = d6t.A6;
    u6.kMinoValueNumBits_isClearable = d6t.A6;
    u6.kMinoValueBitShift_exists = d6t.W6;
    u6.kMinoValueBitShift_typeId = d6t.A6;
    u6.kMinoValueBitShift_stuckDirections = d6t.S6;
    u6.kMinoValueBitShift_isStickyActive = d6t.U7x;
    u6.kMinoValueBitShift_isGravitic = d6t.N7x;
    u6.kMinoValueBitShift_isClearable = d6t.J7x;
    u6.kMinoValueMask_exists = d6t.A6;
    u6.kMinoValueMask_typeId = w7;
    u6.kMinoValueMask_stuckDirections = O7;
    u6.kMinoValueMask_isStickyActive = R7;
    u6.kMinoValueMask_isGravitic = p7;
    u6.kMinoValueMask_isClearable = P7;;
    "use strict";

    function q5(instance, k) {
        if (!(instance instanceof k)) {
            throw new TypeError(x6);
        }
    }
    var o7 = g6.TetAIMinoDefinition = function o7() {
        q5(this, o7);
        this.mX = d6t.W6;
        this.mY = d6t.W6;
        this.mStickyBits = d6t.W6;
    };;
    "use strict";
    var L6 = function() {
        function e(t, k) {
            for (var j = d6t.W6; j < k.length; j++) {
                var o = k[j];
                o.enumerable = o.enumerable || d6t.F18;
                o.configurable = d6t.s73;
                if (d6t.y5f in o) o.writable = d6t.s73;
                Object.defineProperty(t, o.key, o);
            }
        }
        return function(t, k, j) {
            if (k) e(t.prototype, k);
            if (j) e(t, j);
            return t;
        };
    }();

    function q5(instance, k) {
        if (!(instance instanceof k)) {
            throw new TypeError(x6);
        }
    }
    var k3 = g6.TetAIPiece = function() {
        var z5 = "getMinoYInMatrix",
            P5 = "getMinoXInMatrix",
            p5 = "getMinoYInPiece",
            w5 = "getMinoXInPiece",
            R5 = "isEquivalentTransformId",
            r5 = "addEquivalentTransformId";

        function T5(t, k, j, o, e, q) {
            q5(this, T5);
            this.mMinosXY = new Array(T5.kMaxMinosPerPiece);
            this.mMinosBitGrid = new Array(T5.kMinosBitGridHeight);
            this.mPerTransformActionToTransformIds = new Array(T5.kNumActions);
            this.mEquivalentTransformIds = new Array(T5.kMaxNumEquivalentTransformIds);
            this.mPieceDefinition = t;
            this.mMatrixWidth = o;
            this.mX = k;
            this.mY = j;
            this.mFacing = q;
            this.mTransformId = O5.computeTransformId(k, j, o, e, q);
            this.mNumMinos = d6t.W6;
            this.mMinMinoX = w4;
            this.mMaxMinoX = -w4;
            this.mMinMinoY = w4;
            this.mMaxMinoY = -w4;
            var m = d6t.W6;
            for (m = d6t.W6; m < T5.kMaxMinosPerPiece; m++) {
                this.mMinosXY[m] = d6t.W6;
            }
            for (m = d6t.W6; m < T5.kMinosBitGridHeight; m++) {
                this.mMinosBitGrid[m] = d6t.W6;
            }
            for (m = d6t.W6; m < O5.kNumTransformActionsForPieceData; m++) {
                this.mPerTransformActionToTransformIds[m] = O5.kInvalidTransformId;
            }
            for (m = d6t.W6; m < T5.kMaxNumEquivalentTransformIds; m++) {
                this.mEquivalentTransformIds[m] = O5.kInvalidTransformId;
            }
            this.mNumEquivalentTransformIds = d6t.W6;
            if (t) {
                var k5, C5 = t.getNumMinos();
                for (m = d6t.W6; m < C5; m++) {
                    k5 = t.getMino(m);
                    var H5 = d6t.W6,
                        j5 = d6t.W6,
                        Y5 = k5.mStickyBits;
                    switch (q) {
                        case O5.kFacing_N:
                            H5 = k5.mX;
                            j5 = k5.mY;
                            break;
                        case O5.kFacing_E:
                            H5 = k5.mY;
                            j5 = -k5.mX;
                            Y5 = O5.rotateDirections90(Y5, d6t.s73);
                            break;
                        case O5.kFacing_S:
                            H5 = -k5.mX;
                            j5 = -k5.mY;
                            Y5 = O5.rotateDirections90(Y5, d6t.s73);
                            Y5 = O5.rotateDirections90(Y5, d6t.s73);
                            break;
                        case O5.kFacing_W:
                            H5 = -k5.mY;
                            j5 = k5.mX;
                            Y5 = O5.rotateDirections90(Y5, d6t.s73);
                            Y5 = O5.rotateDirections90(Y5, d6t.s73);
                            Y5 = O5.rotateDirections90(Y5, d6t.s73);
                            break;
                    }
                    this.addMino(k + H5, j + j5, Y5);
                }
            }
        }
        L6(T5, [{
            key: r5,
            value: function addEquivalentTransformId(t) {
                if (this.isEquivalentTransformId(t)) {
                    return;
                }
                if (this.mNumEquivalentTransformIds >= T5.kMaxNumEquivalentTransformIds) {
                    return;
                }
                this.mEquivalentTransformIds[this.mNumEquivalentTransformIds] = t;
                this.mNumEquivalentTransformIds++;
            }
        }, {
            key: R5,
            value: function isEquivalentTransformId(t) {
                for (var k = d6t.W6; k < this.mNumEquivalentTransformIds; k++) {
                    if (this.mEquivalentTransformIds[k] == t) {
                        return d6t.s73;
                    }
                }
                return d6t.F18;
            }
        }, {
            key: w5,
            value: function getMinoXInPiece(t) {
                return this.getMinoYInMatrix(t) - this.mX;
            }
        }, {
            key: p5,
            value: function getMinoYInPiece(t) {
                return this.getMinoXInMatrix(t) - this.mY;
            }
        }, {
            key: P5,
            value: function getMinoXInMatrix(t) {
                if (t >= d6t.W6 && t < mNumMinos) {
                    return O5.computeXFromGridIndex(this.mMinosXY[t], this.mMatrixWidth);
                } else {
                    return d6t.W6;
                }
            }
        }, {
            key: z5,
            value: function getMinoYInMatrix(t) {
                if (t >= d6t.W6 && t < mNumMinos) {
                    return O5.computeYFromGridIndex(this.mMinosXY[t], this.mMatrixWidth);
                } else {
                    return d6t.W6;
                }
            }
        }, {
            key: Z3,
            value: function addMino(t, k, j) {
                if (this.mNumMinos >= T5.kMaxMinosPerPiece) {
                    return;
                }
                this.mMinosXY[this.mNumMinos] = O5.computeGridIndex(t, k, this.mMatrixWidth);
                this.mMinosBitGrid[k - this.mY + T5.kMinosBitGridYOffset] |= d6t.A6 << t;
                this.mMinMinoX = O5.minInt(this.mMinMinoX, t);
                this.mMaxMinoX = O5.maxInt(this.mMaxMinoX, t);
                this.mMinMinoY = O5.minInt(this.mMinMinoY, k);
                this.mMaxMinoY = O5.maxInt(this.mMaxMinoY, k);
                this.mNumMinos++;
            }
        }]);
        return T5;
    }();
    k3.kMaxMinosPerPiece = d6t.M6;
    k3.kMinosBitGridHeight = d6t.U6;
    k3.kMinosBitGridYOffset = d6t.D6;
    k3.kNumActions = d6t.A7x;
    k3.kMaxNumEquivalentTransformIds = d6t.B6;;
    "use strict";
    var L6 = function() {
        function e(t, k) {
            for (var j = d6t.W6; j < k.length; j++) {
                var o = k[j];
                o.enumerable = o.enumerable || d6t.F18;
                o.configurable = d6t.s73;
                if (d6t.y5f in o) o.writable = d6t.s73;
                Object.defineProperty(t, o.key, o);
            }
        }
        return function(t, k, j) {
            if (k) e(t.prototype, k);
            if (j) e(t, j);
            return t;
        };
    }();

    function q5(instance, k) {
        if (!(instance instanceof k)) {
            throw new TypeError(x6);
        }
    }
    var t7 = g6.TetAIPieceData = function() {
        var g5 = "destroyPieceDefinitions",
            c5 = "destroyPiecesArrays",
            Z5 = "getPieceDefinition",
            M5 = "getMaxFacingForPieceTypeId",
            n5 = "getNameForPieceTypeId",
            R6 = "getPiece",
            h5 = "areTransformsEquivalent",
            K6 = "isTransformValid",
            s6 = "getMaxNumTransforms",
            i5 = "destroySharedStandardPieceData",
            V6 = "getSharedStandardPieceData",
            b5 = "canGetSharedStandardPieceData";
        L6(S5, d6t.B3x, [{
            key: b5,
            value: function canGetSharedStandardPieceData() {
                return S5.sSharedStandardPieceDataState != S5.kSharedStandardPieceDataState_processing;
            }
        }, {
            key: V6,
            value: function getSharedStandardPieceData(t, k) {
                if (S5.sSharedStandardPieceData && (S5.sSharedStandardPieceDataMatrixWidth != t || S5.sSharedStandardPieceDataMatrixHeight != k)) {
                    S5.destroySharedStandardPieceData();
                }
                if (!S5.sSharedStandardPieceData) {
                    S5.sSharedStandardPieceDataState = S5.kSharedStandardPieceDataState_processing;
                    S5.sSharedStandardPieceData = new S5(t, k);
                    S5.sSharedStandardPieceDataMatrixWidth = t;
                    S5.sSharedStandardPieceDataMatrixHeight = k;
                    S5.sSharedStandardPieceData.addStandardPieceDefinitions();
                    S5.sSharedStandardPieceData.processPieceDefinitions();
                    S5.sSharedStandardPieceDataState = S5.kSharedStandardPieceDataState_ready;
                }
                return S5.sSharedStandardPieceData;
            }
        }, {
            key: i5,
            value: function destroySharedStandardPieceData() {
                if (S5.sSharedStandardPieceData) {
                    S5.sSharedStandardPieceData.destroy();
                    if (S5.sSharedStandardPieceData) S5.sSharedStandardPieceData = d6t.B3x;
                    S5.sSharedStandardPieceDataMatrixWidth = d6t.W6;
                    S5.sSharedStandardPieceDataMatrixHeight = d6t.W6;
                    S5.sSharedStandardPieceDataState = S5.kSharedStandardPieceDataState_null;
                }
            }
        }]);

        function S5(t, k) {
            q5(this, S5);
            this.mPieceDefinitions = new Array();
            this.mPiecesArrays = new Map();
            this.mIsDestroyed = d6t.F18;
            this.mMatrixWidth = t;
            this.mMatrixHeight = k;
            this.mMinTransformId = d6t.W6;
            this.mMaxTransformId = d6t.W6;
            this.mCachedPiecesArray = d6t.B3x;
            this.mCachedPiecesArrayPieceTypeId = d6t.W6;
        }
        L6(S5, [{
            key: c4,
            value: function isDestroyed() {
                return this.mIsDestroyed;
            }
        }, {
            key: c3,
            value: function addStandardPieceDefinitions() {
                this.addPieceDefinition(d6t.h0x, O5.kPieceType_I);
                this.addPieceDefinitionMino(O5.kPieceType_I, d6t.W6, d6t.W6);
                this.addPieceDefinitionMino(O5.kPieceType_I, d6t.A6, d6t.W6);
                this.addPieceDefinitionMino(O5.kPieceType_I, d6t.D6, d6t.W6);
                this.addPieceDefinitionMino(O5.kPieceType_I, -d6t.A6, d6t.W6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_I, d6t.W6, d6t.W6, -d6t.A6, d6t.W6, -d6t.A6, d6t.A6, d6t.W6, d6t.A6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_I, -d6t.A6, d6t.W6, d6t.W6, d6t.W6, d6t.A6, d6t.A6, d6t.W6, d6t.A6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_I, d6t.D6, d6t.W6, d6t.W6, d6t.W6, -d6t.D6, d6t.A6, d6t.W6, d6t.A6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_I, -d6t.A6, d6t.W6, d6t.W6, d6t.A6, d6t.A6, d6t.W6, d6t.W6, -d6t.A6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_I, d6t.D6, d6t.W6, d6t.W6, -d6t.D6, -d6t.D6, d6t.W6, d6t.W6, d6t.D6);
                this.setPieceDefinitionGenerationOffset(O5.kPieceType_I, d6t.W6, d6t.W6);
                this.setPieceDefinitionRotationalSymmetry(O5.kPieceType_I, O5.kRotationalSymmetryType_180, d6t.A6, d6t.W6);
                this.addPieceDefinition(d6t.j5H, O5.kPieceType_J);
                this.addPieceDefinitionMino(O5.kPieceType_J, d6t.W6, d6t.W6);
                this.addPieceDefinitionMino(O5.kPieceType_J, -d6t.A6, d6t.W6);
                this.addPieceDefinitionMino(O5.kPieceType_J, d6t.A6, d6t.W6);
                this.addPieceDefinitionMino(O5.kPieceType_J, -d6t.A6, d6t.A6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_J, d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.W6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_J, d6t.W6, d6t.W6, d6t.A6, d6t.W6, d6t.W6, d6t.W6, -d6t.A6, d6t.W6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_J, d6t.W6, d6t.W6, d6t.A6, -d6t.A6, d6t.W6, d6t.W6, -d6t.A6, -d6t.A6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_J, d6t.W6, d6t.W6, d6t.W6, d6t.D6, d6t.W6, d6t.W6, d6t.W6, d6t.D6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_J, d6t.W6, d6t.W6, d6t.A6, d6t.D6, d6t.W6, d6t.W6, -d6t.A6, d6t.D6);
                this.setPieceDefinitionGenerationOffset(O5.kPieceType_J, d6t.W6, d6t.W6);
                this.setPieceDefinitionRotationalSymmetry(O5.kPieceType_J, O5.kRotationalSymmetryType_none, d6t.W6, d6t.W6);
                this.addPieceDefinition(d6t.d5H, O5.kPieceType_L);
                this.addPieceDefinitionMino(O5.kPieceType_L, d6t.W6, d6t.W6);
                this.addPieceDefinitionMino(O5.kPieceType_L, d6t.A6, d6t.W6);
                this.addPieceDefinitionMino(O5.kPieceType_L, -d6t.A6, d6t.W6);
                this.addPieceDefinitionMino(O5.kPieceType_L, d6t.A6, d6t.A6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_L, d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.W6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_L, d6t.W6, d6t.W6, d6t.A6, d6t.W6, d6t.W6, d6t.W6, -d6t.A6, d6t.W6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_L, d6t.W6, d6t.W6, d6t.A6, -d6t.A6, d6t.W6, d6t.W6, -d6t.A6, -d6t.A6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_L, d6t.W6, d6t.W6, d6t.W6, d6t.D6, d6t.W6, d6t.W6, d6t.W6, d6t.D6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_L, d6t.W6, d6t.W6, d6t.A6, d6t.D6, d6t.W6, d6t.W6, -d6t.A6, d6t.D6);
                this.setPieceDefinitionGenerationOffset(O5.kPieceType_L, d6t.W6, d6t.W6);
                this.setPieceDefinitionRotationalSymmetry(O5.kPieceType_L, O5.kRotationalSymmetryType_none, d6t.W6, d6t.W6);
                this.addPieceDefinition(d6t.F6H, O5.kPieceType_O);
                this.addPieceDefinitionMino(O5.kPieceType_O, d6t.W6, d6t.W6);
                this.addPieceDefinitionMino(O5.kPieceType_O, d6t.A6, d6t.W6);
                this.addPieceDefinitionMino(O5.kPieceType_O, d6t.W6, d6t.A6);
                this.addPieceDefinitionMino(O5.kPieceType_O, d6t.A6, d6t.A6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_O, d6t.W6, d6t.W6, d6t.W6, -d6t.A6, -d6t.A6, -d6t.A6, -d6t.A6, d6t.W6);
                this.setPieceDefinitionGenerationOffset(O5.kPieceType_O, d6t.W6, d6t.W6);
                this.setPieceDefinitionRotationalSymmetry(O5.kPieceType_O, O5.kRotationalSymmetryType_90, d6t.W6, d6t.A6);
                this.addPieceDefinition(d6t.J4H, O5.kPieceType_S);
                this.addPieceDefinitionMino(O5.kPieceType_S, d6t.W6, d6t.W6);
                this.addPieceDefinitionMino(O5.kPieceType_S, d6t.W6, d6t.A6);
                this.addPieceDefinitionMino(O5.kPieceType_S, -d6t.A6, d6t.W6);
                this.addPieceDefinitionMino(O5.kPieceType_S, d6t.A6, d6t.A6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_S, d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.W6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_S, d6t.W6, d6t.W6, d6t.A6, d6t.W6, d6t.W6, d6t.W6, -d6t.A6, d6t.W6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_S, d6t.W6, d6t.W6, d6t.A6, -d6t.A6, d6t.W6, d6t.W6, -d6t.A6, -d6t.A6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_S, d6t.W6, d6t.W6, d6t.W6, d6t.D6, d6t.W6, d6t.W6, d6t.W6, d6t.D6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_S, d6t.W6, d6t.W6, d6t.A6, d6t.D6, d6t.W6, d6t.W6, -d6t.A6, d6t.D6);
                this.setPieceDefinitionGenerationOffset(O5.kPieceType_S, d6t.W6, d6t.W6);
                this.setPieceDefinitionRotationalSymmetry(O5.kPieceType_S, O5.kRotationalSymmetryType_180, d6t.W6, d6t.A6);
                this.addPieceDefinition(d6t.m4H, O5.kPieceType_T);
                this.addPieceDefinitionMino(O5.kPieceType_T, d6t.W6, d6t.W6);
                this.addPieceDefinitionMino(O5.kPieceType_T, d6t.W6, d6t.A6);
                this.addPieceDefinitionMino(O5.kPieceType_T, -d6t.A6, d6t.W6);
                this.addPieceDefinitionMino(O5.kPieceType_T, d6t.A6, d6t.W6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_T, d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.W6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_T, d6t.W6, d6t.W6, d6t.A6, d6t.W6, d6t.W6, d6t.W6, -d6t.A6, d6t.W6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_T, d6t.W6, d6t.W6, d6t.A6, -d6t.A6, d6t.W6, d6t.W6, -d6t.A6, -d6t.A6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_T, d6t.W6, d6t.W6, d6t.W6, d6t.D6, d6t.W6, d6t.W6, d6t.W6, d6t.D6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_T, d6t.W6, d6t.W6, d6t.A6, d6t.D6, d6t.W6, d6t.W6, -d6t.A6, d6t.D6);
                this.setPieceDefinitionGenerationOffset(O5.kPieceType_T, d6t.W6, d6t.W6);
                this.setPieceDefinitionRotationalSymmetry(O5.kPieceType_T, O5.kRotationalSymmetryType_none, d6t.W6, d6t.W6);
                this.addPieceDefinition(d6t.f7H, O5.kPieceType_Z);
                this.addPieceDefinitionMino(O5.kPieceType_Z, d6t.W6, d6t.W6);
                this.addPieceDefinitionMino(O5.kPieceType_Z, d6t.W6, d6t.A6);
                this.addPieceDefinitionMino(O5.kPieceType_Z, d6t.A6, d6t.W6);
                this.addPieceDefinitionMino(O5.kPieceType_Z, -d6t.A6, d6t.A6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_Z, d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.W6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_Z, d6t.W6, d6t.W6, d6t.A6, d6t.W6, d6t.W6, d6t.W6, -d6t.A6, d6t.W6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_Z, d6t.W6, d6t.W6, d6t.A6, -d6t.A6, d6t.W6, d6t.W6, -d6t.A6, -d6t.A6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_Z, d6t.W6, d6t.W6, d6t.W6, d6t.D6, d6t.W6, d6t.W6, d6t.W6, d6t.D6);
                this.addPieceDefinitionRotationPointSet(O5.kPieceType_Z, d6t.W6, d6t.W6, d6t.A6, d6t.D6, d6t.W6, d6t.W6, -d6t.A6, d6t.D6);
                this.setPieceDefinitionGenerationOffset(O5.kPieceType_Z, d6t.W6, d6t.W6);
                this.setPieceDefinitionRotationalSymmetry(O5.kPieceType_Z, O5.kRotationalSymmetryType_180, d6t.W6, d6t.A6);
            }
        }, {
            key: m3,
            value: function addPieceDefinition(t, k) {
                if (this.getPieceDefinition(k)) {
                    return;
                }
                var j = new U7(t, k);
                this.mPieceDefinitions.push(j);
            }
        }, {
            key: q3,
            value: function addPieceDefinitionMino(t, k, j) {
                var o = this.getPieceDefinition(t);
                o.addMino(k, j);
            }
        }, {
            key: Q3,
            value: function addPieceDefinitionRotationPointSet(t, k, j, o, e, q, m, k5, C5) {
                var H5 = this.getPieceDefinition(t);
                H5.addRotationPointSet(k, j, o, e, q, m, k5, C5);
            }
        }, {
            key: b3,
            value: function setPieceDefinitionGenerationOffset(t, k, j) {
                var o = this.getPieceDefinition(t);
                o.setGenerationOffset(k, j);
            }
        }, {
            key: E3,
            value: function setPieceDefinitionRotationalSymmetry(t, k, j, o) {
                var e = this.getPieceDefinition(t);
                e.setRotationalSymmetry(k, j, o);
            }
        }, {
            key: z7,
            value: function processPieceDefinitions() {
                this.mMinTransformId = this.computeTransformId(d6t.W6, d6t.W6, O5.kFacing_N);
                this.mMaxTransformId = this.computeTransformId(this.mMatrixWidth - d6t.A6, this.mMatrixHeight - d6t.A6, O5.kFacing_W);
                this.destroyPiecesArrays();
                var t, k = this.mPieceDefinitions.length;
                for (var j = d6t.W6; j < k; j++) {
                    t = this.mPieceDefinitions[j];
                    var o = t.getTypeId(),
                        e = new Array();
                    e.length = d6t.W6;
                    while (e.length < this.mMaxTransformId + d6t.A6) {
                        e.push(d6t.B3x);
                    };
                    this.mPiecesArrays.set(o, e);
                    var q = d6t.B3x,
                        m, k5, C5, H5 = t.getNumRotationPointSets();
                    for (m = d6t.W6; m < this.mMatrixWidth; m++) {
                        for (k5 = d6t.W6; k5 < this.mMatrixHeight; k5++) {
                            for (C5 = O5.kFacing_N; C5 <= O5.kFacing_W; C5++) {
                                if (t.doesFitInMatrix(m, k5, C5, this.mMatrixWidth, this.mMatrixHeight)) {
                                    q = new k3(t, m, k5, this.mMatrixWidth, d6t.W6, C5);
                                    e[q.mTransformId] = q;
                                }
                            }
                        }
                    }
                    for (m = d6t.W6; m < this.mMatrixWidth; m++) {
                        for (k5 = d6t.W6; k5 < this.mMatrixHeight; k5++) {
                            for (C5 = O5.kFacing_N; C5 <= O5.kFacing_W; C5++) {
                                var j5 = this.computeTransformId(m, k5, C5);
                                q = this.getPiece(o, j5);
                                if (q) {
                                    var Y5 = m,
                                        z5 = k5,
                                        P5 = C5,
                                        p5 = d6t.W6;
                                    for (var w5 = d6t.W6; w5 < O5.kNumTransformActionsForPieceData; w5++) {
                                        switch (w5) {
                                            case O5.kTransformAction_none:
                                                Y5 = m;
                                                z5 = k5;
                                                P5 = C5;
                                                break;
                                            case O5.kTransformAction_moveLeft:
                                                Y5 = m - d6t.A6;
                                                z5 = k5;
                                                P5 = C5;
                                                break;
                                            case O5.kTransformAction_moveRight:
                                                Y5 = m + d6t.A6;
                                                z5 = k5;
                                                P5 = C5;
                                                break;
                                            case O5.kTransformAction_moveDown:
                                                Y5 = m;
                                                z5 = k5 - d6t.A6;
                                                P5 = C5;
                                                break;
                                            case O5.kTransformAction_rotateCWPoint1:
                                            case O5.kTransformAction_rotateCWPoint2:
                                            case O5.kTransformAction_rotateCWPoint3:
                                            case O5.kTransformAction_rotateCWPoint4:
                                            case O5.kTransformAction_rotateCWPoint5:
                                                p5 = w5 - O5.kTransformAction_rotateCWPoint1;
                                                if (p5 >= H5) {
                                                    continue;
                                                }
                                                P5 = O5.rotateFacing90(C5, d6t.s73);
                                                Y5 = m + t.getRotationPointSet(p5).getXOffsetForRotation(C5, P5);
                                                z5 = k5 + t.getRotationPointSet(p5).getYOffsetForRotation(C5, P5);
                                                break;
                                            case O5.kTransformAction_rotateCCWPoint1:
                                            case O5.kTransformAction_rotateCCWPoint2:
                                            case O5.kTransformAction_rotateCCWPoint3:
                                            case O5.kTransformAction_rotateCCWPoint4:
                                            case O5.kTransformAction_rotateCCWPoint5:
                                                p5 = w5 - O5.kTransformAction_rotateCCWPoint1;
                                                if (p5 >= H5) {
                                                    continue;
                                                }
                                                P5 = O5.rotateFacing90(C5, d6t.F18);
                                                Y5 = m + t.getRotationPointSet(p5).getXOffsetForRotation(C5, P5);
                                                z5 = k5 + t.getRotationPointSet(p5).getYOffsetForRotation(C5, P5);
                                                break;
                                        }
                                        if (t.doesFitInMatrix(Y5, z5, P5, this.mMatrixWidth, this.mMatrixHeight)) {
                                            var R5 = this.computeTransformId(Y5, z5, P5),
                                                r5 = this.getPiece(o, R5);
                                            if (r5) {
                                                q.mPerTransformActionToTransformIds[w5] = R5;
                                            }
                                        }
                                    }
                                    var T5 = t.mRotationalSymmetryType;
                                    if (T5 == O5.kRotationalSymmetryType_180 || T5 == O5.kRotationalSymmetryType_90) {
                                        var a5 = C5,
                                            x5 = t.mRotationalSymmetryXOffset,
                                            f5 = t.mRotationalSymmetryYOffset,
                                            A5, u5, B5, D5, o5, N5;
                                        if (T5 == O5.kRotationalSymmetryType_180) {
                                            a5 = O5.rotateFacing90(a5, d6t.s73);
                                            a5 = O5.rotateFacing90(a5, d6t.s73);
                                            A5 = O5.getPointXForFacingRotation(x5, f5, O5.kFacing_N, a5);
                                            u5 = O5.getPointYForFacingRotation(x5, f5, O5.kFacing_N, a5);
                                            B5 = m - A5;
                                            D5 = k5 - u5;
                                            if (this.isCellInsideMatrix(B5, D5)) {
                                                o5 = this.computeTransformId(B5, D5, a5);
                                                N5 = this.getPiece(o, o5);
                                                if (N5) {
                                                    q.addEquivalentTransformId(o5);
                                                }
                                            }
                                        } else {
                                            A5 = O5.getPointXForFacingRotation(x5, f5, O5.kFacing_N, C5);
                                            u5 = O5.getPointYForFacingRotation(x5, f5, O5.kFacing_N, C5);
                                            B5 = m + A5;
                                            D5 = k5 + u5;
                                            a5 = O5.rotateFacing90(a5, d6t.s73);
                                            var y5, U5, W5;
                                            for (var J5 = d6t.W6; J5 < d6t.B6; J5++) {
                                                if (this.isCellInsideMatrix(B5, D5)) {
                                                    o5 = this.computeTransformId(B5, D5, a5);
                                                    N5 = this.getPiece(o, o5);
                                                    if (N5) {
                                                        q.addEquivalentTransformId(o5);
                                                    }
                                                }
                                                y5 = a5;
                                                a5 = O5.rotateFacing90(a5, d6t.s73);
                                                U5 = A5;
                                                W5 = u5;
                                                A5 = O5.getPointXForFacingRotation(U5, W5, y5, a5);
                                                u5 = O5.getPointYForFacingRotation(U5, W5, y5, a5);
                                                B5 += A5;
                                                D5 += u5;
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }, {
            key: s6,
            value: function getMaxNumTransforms() {
                return this.mMaxTransformId + d6t.A6;
            }
        }, {
            key: K6,
            value: function isTransformValid(t, k) {
                return this.getPiece(t, k);
            }
        }, {
            key: h5,
            value: function areTransformsEquivalent(t, k, j) {
                if (k == j) {
                    return d6t.s73;
                }
                var o = this.getPiece(t, k);
                return o ? o.isEquivalentTransformId(j) : d6t.F18;
            }
        }, {
            key: R6,
            value: function getPiece(t, k) {
                if (k == O5.kInvalidTransformId) {
                    return d6t.B3x;
                }
                if (k < this.mMinTransformId) {
                    return d6t.B3x;
                }
                if (k > this.mMaxTransformId) {
                    return d6t.B3x;
                }
                if (this == S5.sSharedStandardPieceData) {
                    return this.mPiecesArrays.get(t)[k];
                } else {
                    if (!this.mCachedPiecesArray || this.mCachedPiecesArrayPieceTypeId != t) {
                        this.mCachedPiecesArray = this.mPiecesArrays.get(t);
                        this.mCachedPiecesArrayPieceTypeId = t;
                    }
                    return this.mCachedPiecesArray[k];
                }
            }
        }, {
            key: n5,
            value: function getNameForPieceTypeId(t) {
                var k = this.getPieceDefinition(t);
                return k.getTypeName();
            }
        }, {
            key: M5,
            value: function getMaxFacingForPieceTypeId(t) {
                var k = this.getPieceDefinition(t);
                switch (k.getRotationalSymmetryType()) {
                    case O5.kRotationalSymmetryType_none:
                        return O5.kFacing_W;
                    case O5.kRotationalSymmetryType_90:
                        return O5.kFacing_N;
                    default:
                        return O5.kFacing_W;
                }
            }
        }, {
            key: Y7,
            value: function computeTransformId(t, k, j) {
                return O5.computeTransformId(t, k, this.mMatrixWidth, d6t.W6, j);
            }
        }, {
            key: V7,
            value: function computeXFromTransformId(t) {
                return O5.computeXFromTransformId(t, this.mMatrixWidth, d6t.W6);
            }
        }, {
            key: j7,
            value: function computeYFromTransformId(t) {
                return O5.computeYFromTransformId(t, this.mMatrixWidth, d6t.W6);
            }
        }, {
            key: Z5,
            value: function getPieceDefinition(t) {
                var k, j = this.mPieceDefinitions.length;
                for (var o = d6t.W6; o < j; o++) {
                    k = this.mPieceDefinitions[o];
                    if (k.getTypeId() == t) {
                        return k;
                    }
                }
                return d6t.B3x;
            }
        }, {
            key: H7,
            value: function isCellInsideMatrix(t, k) {
                if (t < d6t.W6) {
                    return d6t.F18;
                }
                if (t >= this.mMatrixWidth) {
                    return d6t.F18;
                }
                if (k < d6t.W6) {
                    return d6t.F18;
                }
                if (k >= this.mMatrixHeight) {
                    return d6t.F18;
                }
                return d6t.s73;
            }
        }, {
            key: c5,
            value: function destroyPiecesArrays() {
                var t, k = this.mPieceDefinitions.length;
                for (var j = d6t.W6; j < k; j++) {
                    t = this.mPieceDefinitions[j];
                    var o = this.mPiecesArrays.get(t.getTypeId());
                    if (o) {
                        var e = o.length,
                            q = d6t.B3x;
                        for (var m = d6t.W6; m < e; m++) {
                            q = o[m];
                            if (q) q = d6t.B3x;
                        }
                        if (o) o = d6t.B3x;
                        this.mPiecesArrays.set(t.getTypeId(), d6t.B3x);
                    }
                }
            }
        }, {
            key: g5,
            value: function destroyPieceDefinitions() {
                var t, k = this.mPieceDefinitions.length;
                for (var j = d6t.W6; j < k; j++) {
                    t = this.mPieceDefinitions[j];
                    t.destroy();
                    if (t) t = d6t.B3x;
                }
                this.mPieceDefinitions.length = d6t.W6;
            }
        }, {
            key: G6,
            value: function destroy() {
                if (this.isDestroyed()) {
                    return;
                }
                this.destroyPiecesArrays();
                this.destroyPieceDefinitions();
                this.mIsDestroyed = d6t.s73;
            }
        }]);
        return S5;
    }();
    t7.kSharedStandardPieceDataState_null = d6t.W6;
    t7.kSharedStandardPieceDataState_processing = d6t.A6;
    t7.kSharedStandardPieceDataState_ready = d6t.D6;;
    "use strict";
    var L6 = function() {
        function e(t, k) {
            for (var j = d6t.W6; j < k.length; j++) {
                var o = k[j];
                o.enumerable = o.enumerable || d6t.F18;
                o.configurable = d6t.s73;
                if (d6t.y5f in o) o.writable = d6t.s73;
                Object.defineProperty(t, o.key, o);
            }
        }
        return function(t, k, j) {
            if (k) e(t.prototype, k);
            if (j) e(t, j);
            return t;
        };
    }();

    function q5(instance, k) {
        if (!(instance instanceof k)) {
            throw new TypeError(x6);
        }
    }
    var U7 = g6.TetAIPieceDefinition = function() {
        var H5 = "recalculateStickyBits",
            j5 = "doesFitInMatrix",
            Y5 = "setRotationalSymmetry",
            z5 = "getRotationalSymmetryYOffset",
            P5 = "getRotationalSymmetryXOffset",
            p5 = "getRotationalSymmetryType",
            w5 = "setGenerationOffset",
            R5 = "getGenerationOffsetY",
            r5 = "getGenerationOffsetX",
            T5 = "getRotationPointSet",
            a5 = "getNumRotationPointSets",
            x5 = "addRotationPointSet",
            f5 = "getMino",
            A5 = "getNumMinos",
            u5 = "getTypeId",
            B5 = "getTypeName";

        function D5(t, k) {
            q5(this, D5);
            this.mMinos = new Array();
            this.mRotationPointSets = new Array();
            this.mIsDestroyed = d6t.F18;
            this.mTypeName = t;
            this.mTypeId = k;
            this.mMinMinoX = w4;
            this.mMaxMinoX = -w4;
            this.mMinMinoY = w4;
            this.mMaxMinoY = -w4;
            this.mGenerationOffsetX = d6t.W6;
            this.mGenerationOffsetY = d6t.W6;
            this.mRotationalSymmetryType = O5.kRotationalSymmetryType_none;
            this.mRotationalSymmetryXOffset = d6t.W6;
            this.mRotationalSymmetryYOffset = d6t.W6;
        }
        L6(D5, [{
            key: c4,
            value: function isDestroyed() {
                return this.mIsDestroyed;
            }
        }, {
            key: B5,
            value: function getTypeName() {
                return this.mTypeName;
            }
        }, {
            key: u5,
            value: function getTypeId() {
                return this.mTypeId;
            }
        }, {
            key: Z3,
            value: function addMino(t, k) {
                var j = new o7();
                j.mX = t;
                j.mY = k;
                this.mMinos.push(j);
                if (t < this.mMinMinoX) {
                    this.mMinMinoX = t;
                }
                if (t > this.mMaxMinoX) {
                    this.mMaxMinoX = t;
                }
                if (k < this.mMinMinoY) {
                    this.mMinMinoY = k;
                }
                if (k > this.mMaxMinoY) {
                    this.mMaxMinoY = k;
                }
                this.recalculateStickyBits();
            }
        }, {
            key: A5,
            value: function getNumMinos() {
                return this.mMinos.length;
            }
        }, {
            key: f5,
            value: function getMino(t) {
                return this.mMinos[t];
            }
        }, {
            key: x5,
            value: function addRotationPointSet(t, k, j, o, e, q, m, k5) {
                var C5 = new B7();
                C5.setPoints(t, k, j, o, e, q, m, k5);
                this.mRotationPointSets.push(C5);
            }
        }, {
            key: a5,
            value: function getNumRotationPointSets() {
                return this.mRotationPointSets.length;
            }
        }, {
            key: T5,
            value: function getRotationPointSet(t) {
                return this.mRotationPointSets[t];
            }
        }, {
            key: r5,
            value: function getGenerationOffsetX() {
                return this.mGenerationOffsetX;
            }
        }, {
            key: R5,
            value: function getGenerationOffsetY() {
                return this.mGenerationOffsetY;
            }
        }, {
            key: w5,
            value: function setGenerationOffset(t, k) {
                this.mGenerationOffsetX = t;
                this.mGenerationOffsetY = k;
            }
        }, {
            key: p5,
            value: function getRotationalSymmetryType() {
                return this.mRotationalSymmetryType;
            }
        }, {
            key: P5,
            value: function getRotationalSymmetryXOffset() {
                return this.mRotationalSymmetryXOffset;
            }
        }, {
            key: z5,
            value: function getRotationalSymmetryYOffset() {
                return this.mRotationalSymmetryYOffset;
            }
        }, {
            key: Y5,
            value: function setRotationalSymmetry(t, k, j) {
                this.mRotationalSymmetryType = t;
                this.mRotationalSymmetryXOffset = k;
                this.mRotationalSymmetryYOffset = j;
            }
        }, {
            key: j5,
            value: function doesFitInMatrix(t, k, j, o, e) {
                var q = d6t.W6,
                    m = d6t.W6,
                    k5 = d6t.W6,
                    C5 = d6t.W6;
                switch (j) {
                    case O5.kFacing_N:
                        q = t + this.mMinMinoX;
                        m = t + this.mMaxMinoX;
                        k5 = k + this.mMinMinoY;
                        C5 = k + this.mMaxMinoY;
                        break;
                    case O5.kFacing_E:
                        q = t + this.mMinMinoY;
                        m = t + this.mMaxMinoY;
                        k5 = k + -this.mMaxMinoX;
                        C5 = k + -this.mMinMinoX;
                        break;
                    case O5.kFacing_S:
                        q = t + -this.mMaxMinoX;
                        m = t + -this.mMinMinoX;
                        k5 = k + -this.mMaxMinoY;
                        C5 = k + -this.mMinMinoY;
                        break;
                    case O5.kFacing_W:
                        q = t + -this.mMaxMinoY;
                        m = t + -this.mMinMinoY;
                        k5 = k + this.mMinMinoX;
                        C5 = k + this.mMaxMinoX;
                        break;
                }
                if (q < d6t.W6) {
                    return d6t.F18;
                }
                if (m >= o) {
                    return d6t.F18;
                }
                if (k5 < d6t.W6) {
                    return d6t.F18;
                }
                if (C5 >= e) {
                    return d6t.F18;
                }
                return d6t.s73;
            }
        }, {
            key: H5,
            value: function recalculateStickyBits() {
                var t, k, j = this.getNumMinos(),
                    o;
                for (o = d6t.W6; o < j; o++) {
                    t = this.getMino(o);
                    t.mStickyBits = d6t.W6;
                }
                for (o = d6t.W6; o < j; o++) {
                    t = this.getMino(o);
                    for (var e = o + d6t.A6; e < j; e++) {
                        k = this.getMino(e);
                        if (k.mX - t.mX == d6t.W6 && k.mY - t.mY == d6t.A6) {
                            t.mStickyBits |= O5.kDirection_N;
                            k.mStickyBits |= O5.kDirection_S;
                        }
                        if (k.mX - t.mX == d6t.A6 && k.mY - t.mY == d6t.A6) {
                            t.mStickyBits |= O5.kDirection_NE;
                            k.mStickyBits |= O5.kDirection_SW;
                        }
                        if (k.mX - t.mX == d6t.A6 && k.mY - t.mY == d6t.W6) {
                            t.mStickyBits |= O5.kDirection_E;
                            k.mStickyBits |= O5.kDirection_W;
                        }
                        if (k.mX - t.mX == d6t.A6 && k.mY - t.mY == -d6t.A6) {
                            t.mStickyBits |= O5.kDirection_SE;
                            k.mStickyBits |= O5.kDirection_NW;
                        }
                        if (k.mX - t.mX == d6t.W6 && k.mY - t.mY == -d6t.A6) {
                            t.mStickyBits |= O5.kDirection_S;
                            k.mStickyBits |= O5.kDirection_N;
                        }
                        if (k.mX - t.mX == -d6t.A6 && k.mY - t.mY == -d6t.A6) {
                            t.mStickyBits |= O5.kDirection_SW;
                            k.mStickyBits |= O5.kDirection_NE;
                        }
                        if (k.mX - t.mX == -d6t.A6 && k.mY - t.mY == d6t.W6) {
                            t.mStickyBits |= O5.kDirection_W;
                            k.mStickyBits |= O5.kDirection_E;
                        }
                        if (k.mX - t.mX == -d6t.A6 && k.mY - t.mY == d6t.A6) {
                            t.mStickyBits |= O5.kDirection_NW;
                            k.mStickyBits |= O5.kDirection_SE;
                        }
                    }
                }
            }
        }, {
            key: G6,
            value: function destroy() {
                if (this.isDestroyed()) {
                    return;
                }
                var t;
                for (t = d6t.W6; t < this.mMinos.length; t++) {
                    var k = this.mMinos[t];
                    if (k) k = d6t.B3x;
                }
                for (t = d6t.W6; t < this.mRotationPointSets.length; t++) {
                    var j = this.mRotationPointSets[t];
                    if (j) j = d6t.B3x;
                }
                this.mIsDestroyed = d6t.s73;
            }
        }]);
        return D5;
    }();;
    "use strict";
    var L6 = function() {
        function e(t, k) {
            for (var j = d6t.W6; j < k.length; j++) {
                var o = k[j];
                o.enumerable = o.enumerable || d6t.F18;
                o.configurable = d6t.s73;
                if (d6t.y5f in o) o.writable = d6t.s73;
                Object.defineProperty(t, o.key, o);
            }
        }
        return function(t, k, j) {
            if (k) e(t.prototype, k);
            if (j) e(t, j);
            return t;
        };
    }();

    function q5(instance, k) {
        if (!(instance instanceof k)) {
            throw new TypeError(x6);
        }
    }
    var B7 = g6.TetAIRotationPointSet = function() {
        var C5 = "getYOffsetForRotation",
            H5 = "getXOffsetForRotation",
            j5 = "getYOffsetForFacing",
            Y5 = "getXOffsetForFacing",
            z5 = "setPoints";

        function P5() {
            q5(this, P5);
            this.setPoints(d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.W6, d6t.W6);
        }
        L6(P5, [{
            key: z5,
            value: function setPoints(t, k, j, o, e, q, m, k5) {
                this.mNorthX = t;
                this.mNorthY = k;
                this.mEastX = j;
                this.mEastY = o;
                this.mSouthX = e;
                this.mSouthY = q;
                this.mWestX = m;
                this.mWestY = k5;
            }
        }, {
            key: Y5,
            value: function getXOffsetForFacing(t) {
                switch (t) {
                    case O5.kFacing_N:
                        return this.mNorthX;
                    case O5.kFacing_E:
                        return this.mEastX;
                    case O5.kFacing_S:
                        return this.mSouthX;
                    case O5.kFacing_W:
                        return this.mWestX;
                    default:
                        return d6t.W6;
                }
            }
        }, {
            key: j5,
            value: function getYOffsetForFacing(t) {
                switch (t) {
                    case O5.kFacing_N:
                        return this.mNorthY;
                    case O5.kFacing_E:
                        return this.mEastY;
                    case O5.kFacing_S:
                        return this.mSouthY;
                    case O5.kFacing_W:
                        return this.mWestY;
                    default:
                        return d6t.W6;
                }
            }
        }, {
            key: H5,
            value: function getXOffsetForRotation(t, k) {
                return this.getXOffsetForFacing(t) - this.getXOffsetForFacing(k);
            }
        }, {
            key: C5,
            value: function getYOffsetForRotation(t, k) {
                return this.getYOffsetForFacing(t) - this.getYOffsetForFacing(k);
            }
        }]);
        return P5;
    }();;
    "use strict";
    var L6 = function() {
            function e(t, k) {
                for (var j = d6t.W6; j < k.length; j++) {
                    var o = k[j];
                    o.enumerable = o.enumerable || d6t.F18;
                    o.configurable = d6t.s73;
                    if (d6t.y5f in o) o.writable = d6t.s73;
                    Object.defineProperty(t, o.key, o);
                }
            }
            return function(t, k, j) {
                if (k) e(t.prototype, k);
                if (j) e(t, j);
                return t;
            };
        }(),
        Z4 = function n4(t, k, j) {
            if (t === d6t.B3x) t = Function.prototype;
            var o = Object.getOwnPropertyDescriptor(t, k);
            if (o === undefined) {
                var e = Object.getPrototypeOf(t);
                if (e === d6t.B3x) {
                    return undefined;
                } else {
                    return n4(e, k, j);
                }
            } else if (d6t.y5f in o) {
                return o.value;
            } else {
                var q = o.get;
                if (q === undefined) {
                    return undefined;
                }
                return q.call(j);
            }
        };

    function q5(instance, k) {
        if (!(instance instanceof k)) {
            throw new TypeError(x6);
        }
    }

    function i4(t, k) {
        if (!t) {
            throw new ReferenceError(w3);
        }
        return k && (typeof k === d6t.O2f || typeof k === d6t.H5x) ? k : t;
    }

    function G4(t, k) {
        if (typeof k !== d6t.H5x && k !== d6t.B3x) {
            throw new TypeError(a3 + typeof k);
        }
        t.prototype = Object.create(k && k.prototype, {
            constructor: {
                value: t,
                enumerable: d6t.F18,
                writable: d6t.s73,
                configurable: d6t.s73
            }
        });
        if (k) Object.setPrototypeOf ? Object.setPrototypeOf(t, k) : t.__proto__ = k;
    }
    var l6 = g6.TetAITargetFinder = function(w5) {
        var R5 = "getHighestSurfaceYInColumn",
            r5 = "getMoveAction",
            T5 = "isRowISlot",
            a5 = "getISlotType",
            x5 = "getISlotBuildsForPiece",
            f5 = "getISlotBreaksForPiece",
            A5 = "getCoveredWallsForPiece",
            u5 = "canPieceSlide",
            B5 = "getNumTouchingSurfacesForPiece",
            D5 = "getNumCompleteLinesForPiece",
            o5 = "getTransformEvaluationScore",
            N5 = "sortTransformsByEvaluationScore",
            y5 = "pushActionIfIsValid",
            U5 = "findFirstValidRotationAction",
            W5 = "pushRotationActions",
            J5 = "pushMoveActions",
            g5 = "pushActionsForTarget",
            c5 = "isTransformReachable",
            Z5 = "getReachableTransformsForCell",
            M5 = "processFindTargetTransforms",
            n5 = "startFindTargetTransforms",
            R6 = "resetReachableTransforms",
            h5 = "getMaxReachableYForColumn",
            K6 = "getBestActionsForTransform",
            s6 = "getBestTransformForCellColumns",
            i5 = "getBestTransformForCellColumn",
            V6 = "getBestTransformForCell",
            b5 = "getNumTransformsForCell",
            S5 = "doesTransformCollide",
            q6 = "doesTransformTouchBelow",
            h6 = "doesCellCollide",
            C6 = "processStateEvaluation",
            m6 = "startStateEvaluation";
        G4(G5, w5);

        function G5(t, k, j, o) {
            q5(this, G5);
            var e = i4(this, Object.getPrototypeOf(G5).call(this, t, k, j));
            e.mPerCellInfo = new Array();
            e.mPerTransformInfo = new Array();
            e.mTargetTransforms = new Array();
            e.mReachableTransforms = new Array();
            e.mPerCellTargetTransforms = new Array();
            e.mPerCellReachableTransforms = new Array();
            e.mPerTransformPaths = new Array();
            e.mPerTransformEvaluationScore = new Array();
            e.mScratchMatrixCellIndexStack = new Array();
            e.mScratchTransformStack = new Array();
            e.mScratchActionStack = new Array();
            e.mScratchPerTransformActionStacks = new Array();
            e.mScratchPath = new Array();
            e.mTargetsRequireTouchDown = o;
            e.mMatrixMinosBitGridISlotRightRow = e.mMatrixMinosBitGridFullRow & ~(d6t.A6 << k - d6t.A6);
            e.mMatrixMinosBitGridISlotLeftRow = e.mMatrixMinosBitGridFullRow & ~d6t.A6;
            e.mMatrixMinosBitGridISlotRightEdgeRow = d6t.A6 << k - d6t.D6;
            e.mMatrixMinosBitGridISlotRightEdgeRowMask = d6t.A6 << k - d6t.D6 | d6t.A6 << k - d6t.A6;
            e.mMatrixMinosBitGridISlotLeftEdgeRow = d6t.A6 << d6t.A6;
            e.mMatrixMinosBitGridISlotLeftEdgeRowMask = d6t.A6 << d6t.W6 | d6t.A6 << d6t.A6;
            e.mMaxTargetFacing = d6t.W6;
            var q = e.mMatrixWidth * e.mMatrixHeight;
            e.mPerCellInfo.length = d6t.W6;
            while (e.mPerCellInfo.length < q) {
                e.mPerCellInfo.push(d6t.W6);
            };
            var m = t.getMaxNumTransforms();
            e.mPerTransformInfo.length = d6t.W6;
            while (e.mPerTransformInfo.length < m) {
                e.mPerTransformInfo.push(d6t.W6);
            };;;
            e.mPerCellTargetTransforms.length = d6t.W6;
            while (e.mPerCellTargetTransforms.length < q) {
                e.mPerCellTargetTransforms.push(d6t.B3x);
            };
            e.mPerCellReachableTransforms.length = d6t.W6;
            while (e.mPerCellReachableTransforms.length < q) {
                e.mPerCellReachableTransforms.push(d6t.B3x);
            };
            var k5 = d6t.B3x,
                C5;
            for (C5 = d6t.W6; C5 < q; C5++) {
                k5 = new Array();
                e.mPerCellTargetTransforms[C5] = k5;;
                k5 = new Array();
                e.mPerCellReachableTransforms[C5] = k5;;
            }
            e.mPerTransformPaths.length = d6t.W6;
            while (e.mPerTransformPaths.length < m) {
                e.mPerTransformPaths.push(d6t.B3x);
            };
            for (var H5 = d6t.W6; H5 < j; H5++) {
                for (var j5 = d6t.W6; j5 < k; j5++) {
                    for (var Y5 = O5.kFacing_N; Y5 <= O5.kFacing_W; Y5++) {
                        var z5 = new Array();
                        e.mPerTransformPaths[e.mPieceData.computeTransformId(j5, H5, Y5)] = z5;;
                    }
                }
            }
            e.mPerTransformEvaluationScore.length = d6t.W6;
            while (e.mPerTransformEvaluationScore.length < m) {
                e.mPerTransformEvaluationScore.push(d6t.W6);
            };
            e.mScratchMatrixCellIndexStack.length = d6t.W6;
            while (e.mScratchMatrixCellIndexStack.length < q) {
                e.mScratchMatrixCellIndexStack.push(d6t.W6);
            };
            e.mScratchMatrixCellIndexStackTop = -d6t.A6;
            e.mScratchTransformStack.length = d6t.W6;
            while (e.mScratchTransformStack.length < m) {
                e.mScratchTransformStack.push(d6t.W6);
            };
            e.mScratchActionStack.length = d6t.W6;
            while (e.mScratchActionStack.length < m) {
                e.mScratchActionStack.push(d6t.W6);
            };
            e.mScratchTransformStackTop = -d6t.A6;
            e.mScratchPerTransformActionStacks.length = d6t.W6;
            while (e.mScratchPerTransformActionStacks.length < m) {
                e.mScratchPerTransformActionStacks.push(d6t.B3x);
            };
            for (C5 = d6t.W6; C5 < m; C5++) {
                var P5 = new Array();
                e.mScratchPerTransformActionStacks[C5] = P5;;
            };
            return e;
        }
        L6(G5, [{
            key: m6,
            value: function startStateEvaluation(t) {
                this.resetStateWithState(t);
                this.mMaxTargetFacing = this.mPieceData.getMaxFacingForPieceTypeId(this.mLivePieceTypeId);
                this.mTargetTransforms.length = d6t.W6;
                this.mReachableTransforms.length = d6t.W6;
                var k = d6t.B3x,
                    j = this.mMatrixWidth * this.mMatrixHeight,
                    o = d6t.W6;
                for (o = d6t.W6; o < j; o++) {
                    this.mPerCellInfo[o] = d6t.W6;
                    k = this.mPerCellTargetTransforms[o];
                    k.length = d6t.W6;
                    k = this.mPerCellReachableTransforms[o];
                    k.length = d6t.W6;
                }
                var e = d6t.W6;
                for (var q = d6t.W6; q < this.mMatrixHeight; q++) {
                    for (var m = d6t.W6; m < this.mMatrixWidth; m++) {
                        for (var k5 = O5.kFacing_N; k5 <= O5.kFacing_W; k5++) {
                            e = this.mPieceData.computeTransformId(m, q, k5);
                            this.mPerTransformInfo[e] = d6t.W6;
                            k = this.mPerTransformPaths[e];
                            k.length = d6t.W6;
                        }
                    }
                }
                this.mReachableTransformsAreClean = d6t.s73;
                for (var C5 = d6t.W6; C5 < this.mPerTransformEvaluationScore.length; C5++) {
                    this.mPerTransformEvaluationScore[C5] = G5.kMinTransformEvaluationScore;
                };
            }
        }, {
            key: C6,
            value: function processStateEvaluation() {
                var t = this.processFindTargetTransforms();
                return t;
            }
        }, {
            key: H7,
            value: function isCellInsideMatrix(t, k) {
                if (t < d6t.W6) {
                    return d6t.F18;
                }
                if (t >= this.mMatrixWidth) {
                    return d6t.F18;
                }
                if (k < d6t.W6) {
                    return d6t.F18;
                }
                if (k >= this.mMatrixHeight) {
                    return d6t.F18;
                }
                return d6t.s73;
            }
        }, {
            key: h6,
            value: function doesCellCollide(t, k) {
                if (!this.isCellInsideMatrix(t, k)) {
                    return d6t.s73;
                }
                if (this.mMatrixMinos[O5.computeGridIndex(t, k, this.mMatrixWidth)] != d6t.W6) {
                    return d6t.s73;
                }
                return d6t.F18;
            }
        }, {
            key: q6,
            value: function doesTransformTouchBelow(t, k, j) {
                if (k > d6t.W6) {
                    return this.doesTransformCollide(this.mPieceData.computeTransformId(t, k - d6t.A6, j));
                } else {
                    return d6t.s73;
                }
            }
        }, {
            key: S5,
            value: function doesTransformCollide(t) {
                if ((this.mPerTransformInfo[t] & G5.kTransformInfo_didCheckDoesCollide) != d6t.W6) {
                    return (this.mPerTransformInfo[t] & G5.kTransformInfo_doesCollide) != d6t.W6;
                }
                this.mPerTransformInfo[t] = this.mPerTransformInfo[t] | G5.kTransformInfo_didCheckDoesCollide;
                var k = this.mPieceData.getPiece(this.mLivePieceTypeId, t);
                if (!k) {
                    this.mPerTransformInfo[t] = this.mPerTransformInfo[t] | G5.kTransformInfo_doesCollide;
                    return d6t.s73;
                }
                if (this.doesPieceCollide(k)) {
                    this.mPerTransformInfo[t] = this.mPerTransformInfo[t] | G5.kTransformInfo_doesCollide;
                    return d6t.s73;
                } else {
                    return d6t.F18;
                }
            }
        }, {
            key: b5,
            value: function getNumTransformsForCell(t, k) {
                if (!this.isCellInsideMatrix(t, k)) {
                    return d6t.W6;
                }
                if ((this.mPerCellInfo[O5.computeGridIndex(t, k, this.mMatrixWidth)] & G5.kCellInfo_hasTargetTransforms) == d6t.W6) {
                    return d6t.W6;
                }
                var j = this.getReachableTransformsForCell(t, k);
                return j ? j.length : d6t.W6;
            }
        }, {
            key: V6,
            value: function getBestTransformForCell(t, k, j, o) {
                if (!this.isCellInsideMatrix(t, k)) {
                    return O5.kInvalidTransformId;
                }
                if ((this.mPerCellInfo[O5.computeGridIndex(t, k, this.mMatrixWidth)] & G5.kCellInfo_hasTargetTransforms) == d6t.W6) {
                    return O5.kInvalidTransformId;
                }
                var e = this.getReachableTransformsForCell(t, k),
                    q = e ? e.length : d6t.W6;
                if (q > d6t.W6) {
                    if (o) {
                        j = O5.clampInt(j, d6t.W6, q - d6t.A6);
                    } else {
                        j = O5.loopInt(j, d6t.W6, q - d6t.A6);
                    }
                    return e[j];
                }
                return O5.kInvalidTransformId;
            }
        }, {
            key: i5,
            value: function getBestTransformForCellColumn(t, k, j, o, e) {
                if (!this.isCellInsideMatrix(t, k)) {
                    return O5.kInvalidTransformId;
                }
                var q, m, k5 = O5.kInvalidTransformId,
                    C5 = G5.kMinTransformEvaluationScore - d6t.A6,
                    H5 = d6t.W6,
                    j5 = j ? d6t.W6 : O5.minInt(this.getHighestSurfaceYInColumn(t), k);
                while (j5 < this.mMatrixHeight) {
                    if ((this.mPerCellInfo[O5.computeGridIndex(t, j5, this.mMatrixWidth)] & G5.kCellInfo_hasTargetTransforms) != d6t.W6) {
                        q = this.getBestTransformForCell(t, j5, d6t.W6, d6t.s73);
                        if (q != O5.kInvalidTransformId) {
                            m = this.mPerTransformEvaluationScore[q];
                            if (m > C5) {
                                k5 = q;
                                C5 = m;
                                H5 = j5;
                            }
                        }
                    }
                    j5++;
                }
                if (o > d6t.W6) {
                    return this.getBestTransformForCell(t, H5, o, e);
                } else {
                    return k5;
                }
            }
        }, {
            key: s6,
            value: function getBestTransformForCellColumns(t, k, j, o, e, q) {
                if (!this.isCellInsideMatrix(t, j)) {
                    return O5.kInvalidTransformId;
                }
                var m, k5 = k >= d6t.W6 ? d6t.A6 : -d6t.A6,
                    C5 = k5 > d6t.W6 ? this.mMatrixWidth : -d6t.A6;
                for (var H5 = t; H5 != C5; H5 += k5) {
                    m = this.getBestTransformForCellColumn(H5, j, o, e, q);
                    if (m != O5.kInvalidTransformId) {
                        return m;
                    }
                }
                return O5.kInvalidTransformId;
            }
        }, {
            key: K6,
            value: function getBestActionsForTransform(t, k, j, o) {
                k.length = d6t.W6;
                if (t == O5.kInvalidTransformId) {
                    return d6t.F18;
                }
                var e, q;
                if (this.mPieceData.isTransformValid(this.mLivePieceTypeId, t)) {
                    if ((this.mPerTransformInfo[t] & G5.kTransformInfo_didCheckIsReachable) != d6t.W6) {
                        if ((this.mPerTransformInfo[t] & G5.kTransformInfo_isReachable) == d6t.W6) {
                            return d6t.F18;
                        }
                    } else if (!this.isTransformReachable(t)) {
                        return d6t.F18;
                    }
                    var m = this.mPerTransformPaths[t],
                        k5 = ~~(m.length / d6t.D6),
                        C5, H5;
                    if ((j || o) && k5 > d6t.D6) {
                        var j5, Y5;
                        this.mScratchPath.length = d6t.W6;
                        if (j) {
                            for (e = d6t.W6; e < k5; e++) {
                                var z5 = d6t.F18;
                                C5 = m[e * d6t.D6];
                                H5 = m[e * d6t.D6 + d6t.A6];
                                if (k5 - e >= d6t.B6) {
                                    switch (C5) {
                                        case O5.kTransformAction_rotateCWPoint1:
                                        case O5.kTransformAction_rotateCCWPoint1:
                                            if (m[(e + d6t.A6) * d6t.D6] == C5 && m[(e + d6t.D6) * d6t.D6] == C5) {
                                                if (C5 == O5.kTransformAction_rotateCWPoint1) {
                                                    C5 = O5.kTransformAction_rotateCCWPoint1;
                                                } else {
                                                    C5 = O5.kTransformAction_rotateCWPoint1;
                                                }
                                                this.mScratchPath.push(C5);
                                                e += d6t.D6;
                                                z5 = d6t.s73;
                                            }
                                            break;
                                    }
                                }
                                if (z5) {
                                    continue;
                                }
                                for (q = e + d6t.A6; q < k5; q++) {
                                    Y5 = m[q * d6t.D6 + d6t.A6];
                                    if (Y5 == H5) {
                                        this.mScratchPath.push(C5);
                                        e = q;
                                        z5 = d6t.s73;
                                        break;
                                    } else if (q > e + d6t.A6) {
                                        j5 = this.getMoveAction(H5, Y5);
                                        if (j5 != O5.kTransformAction_invalid) {
                                            this.mScratchPath.push(C5);
                                            this.mScratchPath.push(j5);
                                            e = q;
                                            z5 = d6t.s73;
                                            break;
                                        }
                                    }
                                }
                                if (z5) {
                                    continue;
                                }
                                this.mScratchPath.push(C5);
                            }
                        } else {
                            for (e = d6t.W6; e < k5; e++) {
                                C5 = m[e * d6t.D6];
                                H5 = m[e * d6t.D6 + d6t.A6];
                                this.mScratchPath.push(C5);
                            }
                        }
                        if (o && this.mScratchPath[this.mScratchPath.length - d6t.A6] == O5.kTransformAction_moveDown) {
                            while (this.mScratchPath[this.mScratchPath.length - d6t.A6] == O5.kTransformAction_moveDown) {
                                this.mScratchPath.pop();
                            }
                            C5 = O5.kTransformAction_hardDrop;
                            this.mScratchPath.push(C5);
                        }
                        var P5 = this.mScratchPath.length;
                        for (e = d6t.W6; e < P5; e++) {
                            C5 = this.mScratchPath[e];
                            k.push(C5);
                        }
                    } else {
                        for (e = d6t.W6; e < k5; e++) {
                            C5 = m[e * d6t.D6];
                            k.push(C5);
                        }
                    }
                }
                if (k.length > d6t.W6) {
                    return d6t.s73;
                } else {
                    var p5 = this.mPieceData.areTransformsEquivalent(this.mLivePieceTypeId, this.mLivePieceStartingTransformId, t);
                    return p5;
                }
            }
        }, {
            key: h5,
            value: function getMaxReachableYForColumn(t, k) {
                var j = -d6t.A6,
                    o = d6t.B3x;
                for (var e = d6t.W6; e <= k; e++) {
                    o = this.getReachableTransformsForCell(t, e);
                    if (o && o.length > d6t.W6) {
                        j = e;
                    }
                }
                return j;
            }
        }, {
            key: R6,
            value: function resetReachableTransforms(t, k, j) {
                var o = this.mPieceData.computeTransformId(t, k, j);
                if (this.mLivePieceStartingTransformId == o) {
                    return;
                }
                this.mLivePieceStartingX = t;
                this.mLivePieceStartingY = k;
                this.mLivePieceStartingFacing = j;
                this.mLivePieceStartingTransformId = o;
                if (this.mReachableTransformsAreClean) {
                    return;
                }
                var e = d6t.B3x,
                    q = d6t.W6,
                    m = this.mMatrixWidth * this.mMatrixHeight;
                for (q = d6t.W6; q < m; q++) {
                    if ((this.mPerCellInfo[q] & G5.kCellInfo_hasTargetTransforms) != d6t.W6) {
                        this.mPerCellInfo[q] = this.mPerCellInfo[q] & ~(G5.kCellInfo_didCheckReachableTransforms | G5.kCellInfo_hasReachableTransforms);
                        e = this.mPerCellReachableTransforms[q];
                        e.length = d6t.W6;
                    }
                }
                m = this.mReachableTransforms.length;
                for (q = d6t.W6; q < m; q++) {
                    o = this.mReachableTransforms[q];
                    this.mPerTransformInfo[o] = this.mPerTransformInfo[o] & ~(G5.kTransformInfo_isCheckingIsReachable | G5.kTransformInfo_didCheckIsReachable | G5.kTransformInfo_isReachable);
                }
                this.mReachableTransforms.length = d6t.W6;
                this.mReachableTransformsAreClean = d6t.s73;
            }
        }, {
            key: n5,
            value: function startFindTargetTransforms() {}
        }, {
            key: M5,
            value: function processFindTargetTransforms() {
                var t = d6t.W6,
                    k = d6t.W6,
                    j = d6t.W6,
                    o = d6t.W6,
                    e = O5.computeGridIndex(this.mLivePieceStartingX, this.mLivePieceStartingY, this.mMatrixWidth);
                this.mScratchMatrixCellIndexStackTop = -d6t.A6;
                this.mScratchMatrixCellIndexStack[++this.mScratchMatrixCellIndexStackTop] = e;
                while (this.mScratchMatrixCellIndexStackTop >= d6t.W6) {
                    e = this.mScratchMatrixCellIndexStack[this.mScratchMatrixCellIndexStackTop--];
                    this.mPerCellInfo[e] = this.mPerCellInfo[e] | G5.kCellInfo_didCheckTargetTransforms;
                    if (this.mMatrixMinos[e] == d6t.W6) {
                        t = O5.computeXFromGridIndex(e, this.mMatrixWidth);
                        k = O5.computeYFromGridIndex(e, this.mMatrixWidth);
                        if (k < this.mMatrixHeight - d6t.A6) {
                            o = O5.computeGridIndex(t, k + d6t.A6, this.mMatrixWidth);
                            if ((this.mPerCellInfo[o] & G5.kCellInfo_didCheckTargetTransforms) == d6t.W6) {
                                this.mScratchMatrixCellIndexStack[++this.mScratchMatrixCellIndexStackTop] = o;
                            }
                        }
                        if (t < this.mMatrixWidth - d6t.A6) {
                            o = O5.computeGridIndex(t + d6t.A6, k, this.mMatrixWidth);
                            if ((this.mPerCellInfo[o] & G5.kCellInfo_didCheckTargetTransforms) == d6t.W6) {
                                this.mScratchMatrixCellIndexStack[++this.mScratchMatrixCellIndexStackTop] = o;
                            }
                        }
                        if (k > d6t.W6) {
                            o = O5.computeGridIndex(t, k - d6t.A6, this.mMatrixWidth);
                            if ((this.mPerCellInfo[o] & G5.kCellInfo_didCheckTargetTransforms) == d6t.W6) {
                                this.mScratchMatrixCellIndexStack[++this.mScratchMatrixCellIndexStackTop] = o;
                            }
                        }
                        if (t > d6t.W6) {
                            o = O5.computeGridIndex(t - d6t.A6, k, this.mMatrixWidth);
                            if ((this.mPerCellInfo[o] & G5.kCellInfo_didCheckTargetTransforms) == d6t.W6) {
                                this.mScratchMatrixCellIndexStack[++this.mScratchMatrixCellIndexStackTop] = o;
                            }
                        }
                        for (var q = O5.kFacing_N; q <= O5.kFacing_W; q++) {
                            j = this.mPieceData.computeTransformId(t, k, q);
                            if ((this.mPerTransformInfo[j] & G5.kTransformInfo_didCheckIsTarget) == d6t.W6) {
                                if (q <= this.mMaxTargetFacing && (!this.mTargetsRequireTouchDown || this.doesTransformTouchBelow(t, k, q)) && !this.doesTransformCollide(j)) {
                                    this.mPerTransformInfo[j] = this.mPerTransformInfo[j] | G5.kTransformInfo_isTarget;
                                    this.mTargetTransforms.push(j);
                                    var m = this.mPieceData.getPiece(this.mLivePieceTypeId, j),
                                        k5 = d6t.W6,
                                        C5 = d6t.B3x;
                                    for (var H5 = d6t.W6; H5 < m.mNumMinos; H5++) {
                                        k5 = m.mMinosXY[H5];
                                        this.mPerCellInfo[k5] = this.mPerCellInfo[k5] | G5.kCellInfo_hasTargetTransforms;
                                        C5 = this.mPerCellTargetTransforms[k5];
                                        var j5 = C5.length;
                                        for (var Y5 = d6t.W6; Y5 < j5; Y5++) {
                                            if (C5[Y5] == j) {
                                                j = O5.kInvalidTransformId;
                                                break;
                                            }
                                        }
                                        if (j != O5.kInvalidTransformId) {
                                            C5.push(j);
                                        }
                                    }
                                }
                            }
                            this.mPerTransformInfo[j] = this.mPerTransformInfo[j] | G5.kTransformInfo_didCheckIsTarget;
                        }
                    }
                }
                var z5 = d6t.s73;
                return z5;
            }
        }, {
            key: Z5,
            value: function getReachableTransformsForCell(t, k) {
                if (this.doesCellCollide(t, k)) {
                    return d6t.B3x;
                }
                var j = O5.computeGridIndex(t, k, this.mMatrixWidth);
                if ((this.mPerCellInfo[j] & G5.kCellInfo_didCheckTargetTransforms) != d6t.W6 && (this.mPerCellInfo[j] & G5.kCellInfo_hasTargetTransforms) == d6t.W6) {
                    return d6t.B3x;
                }
                var o = this.mPerCellReachableTransforms[j];
                if ((this.mPerCellInfo[j] & G5.kCellInfo_didCheckReachableTransforms) != d6t.W6) {
                    return o;
                }
                var e = this.mPerCellTargetTransforms[j],
                    q = e.length,
                    m;
                for (var k5 = d6t.W6; k5 < q; k5++) {
                    m = e[k5];
                    if (this.isTransformReachable(m)) {
                        o.push(m);
                        this.mPerCellInfo[j] = this.mPerCellInfo[j] | G5.kCellInfo_hasReachableTransforms;
                    }
                }
                var C5 = o.length;
                if (C5 > d6t.W6) {
                    this.sortTransformsByEvaluationScore(o, d6t.W6, C5 - d6t.A6);
                }
                this.mPerCellInfo[j] = this.mPerCellInfo[j] | G5.kCellInfo_didCheckReachableTransforms;
                return o;
            }
        }, {
            key: c5,
            value: function isTransformReachable(t) {
                if ((this.mPerTransformInfo[t] & G5.kTransformInfo_didCheckIsReachable) != d6t.W6) {
                    return (this.mPerTransformInfo[t] & G5.kTransformInfo_isReachable) != d6t.W6;
                }
                var k, j, o = d6t.W6;
                if ((this.mPerTransformInfo[t] & G5.kTransformInfo_didCheckIsTarget) != d6t.W6) {
                    if ((this.mPerTransformInfo[t] & G5.kTransformInfo_isTarget) == d6t.W6) {
                        this.mPerTransformInfo[t] = this.mPerTransformInfo[t] | G5.kTransformInfo_didCheckIsReachable;
                        return d6t.F18;
                    } else {
                        k = this.mPieceData.getPiece(this.mLivePieceTypeId, t);
                        for (j = d6t.W6; j < k.mNumEquivalentTransformIds; j++) {
                            o = k.mEquivalentTransformIds[j];
                            if (this.mPieceData.isTransformValid(this.mLivePieceTypeId, o)) {
                                if ((this.mPerTransformInfo[o] & G5.kTransformInfo_didCheckIsReachable) != d6t.W6 && (this.mPerTransformInfo[o] & G5.kTransformInfo_isReachable) != d6t.W6) {
                                    this.mPerTransformInfo[t] = this.mPerTransformInfo[t] | G5.kTransformInfo_didCheckIsReachable;
                                    return d6t.F18;
                                }
                            }
                        }
                    }
                }
                for (var e = d6t.W6; e < this.mMatrixHeight; e++) {
                    for (var q = d6t.W6; q < this.mMatrixWidth; q++) {
                        for (var m = O5.kFacing_N; m <= O5.kFacing_W; m++) {
                            o = this.mPieceData.computeTransformId(q, e, m);
                            this.mPerTransformInfo[o] = this.mPerTransformInfo[o] & ~G5.kTransformInfo_isCheckingIsReachable;
                        }
                    }
                }
                var k5 = d6t.F18,
                    C5, H5 = d6t.W6,
                    j5 = d6t.B3x,
                    Y5 = d6t.B3x;
                this.mScratchTransformStackTop = -d6t.A6;
                this.mScratchTransformStack[++this.mScratchTransformStackTop] = this.mLivePieceStartingTransformId;
                this.mScratchActionStack[this.mScratchTransformStackTop] = O5.kTransformAction_none;
                j5 = this.mScratchPerTransformActionStacks[this.mScratchTransformStackTop];
                this.pushActionsForTarget(this.mLivePieceStartingTransformId, t, j5);
                while (this.mScratchTransformStackTop >= d6t.W6) {
                    o = this.mScratchTransformStack[this.mScratchTransformStackTop];
                    this.mPerTransformInfo[o] = this.mPerTransformInfo[o] | G5.kTransformInfo_isCheckingIsReachable;
                    if (o == t) {
                        k5 = d6t.s73;
                        this.mPerTransformInfo[o] = this.mPerTransformInfo[o] | G5.kTransformInfo_isReachable;
                        this.mReachableTransforms.push(t);
                        Y5 = this.mPerTransformPaths[o];
                        Y5.length = d6t.W6;
                        for (j = d6t.W6; j <= this.mScratchTransformStackTop; j++) {
                            Y5.push(this.mScratchActionStack[j]);
                            Y5.push(this.mScratchTransformStack[j]);
                        }
                        this.mScratchTransformStackTop = -d6t.A6;
                    } else {
                        k = this.mPieceData.getPiece(this.mLivePieceTypeId, o);
                        j5 = this.mScratchPerTransformActionStacks[this.mScratchTransformStackTop];
                        if (j5.length > d6t.W6) {
                            C5 = j5[j5.length - d6t.A6];
                            j5.pop();
                            H5 = k.mPerTransformActionToTransformIds[C5];
                            if (this.mPieceData.isTransformValid(this.mLivePieceTypeId, H5)) {
                                this.mScratchTransformStack[++this.mScratchTransformStackTop] = H5;
                                this.mScratchActionStack[this.mScratchTransformStackTop] = C5;
                                j5 = this.mScratchPerTransformActionStacks[this.mScratchTransformStackTop];
                                this.pushActionsForTarget(H5, t, j5);
                            }
                        } else {
                            this.mScratchTransformStackTop--;
                        }
                    }
                }
                this.mPerTransformInfo[t] = this.mPerTransformInfo[t] | G5.kTransformInfo_didCheckIsReachable;
                this.mReachableTransformsAreClean = d6t.F18;
                return k5;
            }
        }, {
            key: g5,
            value: function pushActionsForTarget(t, k, j) {
                j.length = d6t.W6;
                var o = this.mPieceData.getPiece(this.mLivePieceTypeId, t),
                    e = this.mPieceData.computeXFromTransformId(t),
                    q = O5.computeFacingFromTransformId(t),
                    m = this.mPieceData.computeXFromTransformId(k),
                    k5 = O5.computeFacingFromTransformId(k);
                if (q == k5) {
                    this.pushRotationActions(o, q, k5, j);
                    this.pushMoveActions(o, e, m, j);
                } else {
                    this.pushMoveActions(o, e, m, j);
                    this.pushRotationActions(o, q, k5, j);
                }
            }
        }, {
            key: J5,
            value: function pushMoveActions(t, k, j, o) {
                if (k < j) {
                    this.pushActionIfIsValid(t, O5.kTransformAction_moveDown, o);
                    this.pushActionIfIsValid(t, O5.kTransformAction_moveLeft, o);
                    this.pushActionIfIsValid(t, O5.kTransformAction_moveRight, o);
                } else if (k > j) {
                    this.pushActionIfIsValid(t, O5.kTransformAction_moveDown, o);
                    this.pushActionIfIsValid(t, O5.kTransformAction_moveRight, o);
                    this.pushActionIfIsValid(t, O5.kTransformAction_moveLeft, o);
                } else {
                    this.pushActionIfIsValid(t, O5.kTransformAction_moveLeft, o);
                    this.pushActionIfIsValid(t, O5.kTransformAction_moveRight, o);
                    this.pushActionIfIsValid(t, O5.kTransformAction_moveDown, o);
                }
            }
        }, {
            key: W5,
            value: function pushRotationActions(t, k, j, o) {
                if (O5.isFacingRotationClockwise(k, j)) {
                    this.pushActionIfIsValid(t, this.findFirstValidRotationAction(t, d6t.F18), o);
                    this.pushActionIfIsValid(t, this.findFirstValidRotationAction(t, d6t.s73), o);
                } else {
                    this.pushActionIfIsValid(t, this.findFirstValidRotationAction(t, d6t.s73), o);
                    this.pushActionIfIsValid(t, this.findFirstValidRotationAction(t, d6t.F18), o);
                }
            }
        }, {
            key: U5,
            value: function findFirstValidRotationAction(t, k) {
                var j, o, e;
                if (k) {
                    o = O5.kTransformAction_rotateCWPoint1 + t.mPieceDefinition.getNumRotationPointSets() - d6t.A6;
                    for (j = O5.kTransformAction_rotateCWPoint1; j <= o; j++) {
                        e = t.mPerTransformActionToTransformIds[j];
                        if (this.mPieceData.isTransformValid(this.mLivePieceTypeId, e) && !this.doesTransformCollide(e)) {
                            return j;
                        }
                    }
                } else {
                    o = O5.kTransformAction_rotateCCWPoint1 + t.mPieceDefinition.getNumRotationPointSets() - d6t.A6;
                    for (j = O5.kTransformAction_rotateCCWPoint1; j <= o; j++) {
                        e = t.mPerTransformActionToTransformIds[j];
                        if (this.mPieceData.isTransformValid(this.mLivePieceTypeId, e) && !this.doesTransformCollide(e)) {
                            return j;
                        }
                    }
                }
                return O5.kTransformAction_invalid;
            }
        }, {
            key: y5,
            value: function pushActionIfIsValid(t, k, j) {
                if (k != O5.kTransformAction_invalid) {
                    var o = t.mPerTransformActionToTransformIds[k];
                    if (this.mPieceData.isTransformValid(this.mLivePieceTypeId, o) && (this.mPerTransformInfo[o] & G5.kTransformInfo_isCheckingIsReachable) == d6t.W6 && !this.doesTransformCollide(o)) {
                        j.push(k);
                    }
                }
            }
        }, {
            key: N5,
            value: function sortTransformsByEvaluationScore(t, k, j) {
                var o = k,
                    e = j,
                    q, m = this.getTransformEvaluationScore(t[~~((k + j) / d6t.D6)]);
                while (o <= e) {
                    while (o <= e && this.getTransformEvaluationScore(t[o]) > m) {
                        o++;
                    }
                    while (e >= o && this.getTransformEvaluationScore(t[e]) < m) {
                        e--;
                    }
                    if (o <= e) {
                        q = t[o];
                        t[o] = t[e];
                        t[e] = q;
                        o++;
                        e--;
                    }
                }
                if (k < e) {
                    this.sortTransformsByEvaluationScore(t, k, e);
                }
                if (o < j) {
                    this.sortTransformsByEvaluationScore(t, o, j);
                }
            }
        }, {
            key: o5,
            value: function getTransformEvaluationScore(t) {
                if ((this.mPerTransformInfo[t] & G5.kTransformInfo_didEvaluationScore) != d6t.W6) {
                    return this.mPerTransformEvaluationScore[t];
                }
                var k = d6t.W6,
                    j = this.mPieceData.getPiece(this.mLivePieceTypeId, t),
                    o = this.getNumCompleteLinesForPiece(j);
                if (o > d6t.W6) {
                    k += d6t.a08;
                    k += o * d6t.X7x;
                }
                var e = this.getNumTouchingSurfacesForPiece(j);
                if (e > d6t.W6) {
                    k += e * d6t.x7x;
                }
                if (!this.canPieceSlide(j)) {
                    k += d6t.x7x;
                }
                var q = this.getCoveredWallsForPiece(j);
                if (q > d6t.W6) {
                    k += -d6t.a08;
                    k += q * -d6t.x7x;
                }
                switch (j.mFacing) {
                    case O5.kFacing_N:
                    case O5.kFacing_S:
                        k += d6t.W6;
                        break;
                }
                var m = this.getISlotBuildsForPiece(j, d6t.F18);
                if (m > d6t.W6) {
                    if (o == d6t.W6) {
                        k += d6t.a08;
                    }
                    k += m * d6t.X7x;
                }
                var k5 = d6t.W6;
                if (o < d6t.B6) {
                    k5 = this.getISlotBreaksForPiece(j, d6t.s73);
                    if (k5 > d6t.W6) {
                        k += -d6t.a08;
                    }
                }
                k -= j.mMaxMinoY * d6t.W6;
                this.mPerTransformInfo[t] = this.mPerTransformInfo[t] | G5.kTransformInfo_didEvaluationScore;
                this.mPerTransformEvaluationScore[t] = k;
                return k;
            }
        }, {
            key: D5,
            value: function getNumCompleteLinesForPiece(t) {
                var k = d6t.W6,
                    j;
                for (var o = t.mMinMinoY; o <= t.mMaxMinoY; o++) {
                    j = o - t.mY + k3.kMinosBitGridYOffset;
                    if ((this.mMatrixMinosBitGrid[o] | t.mMinosBitGrid[j]) == this.mMatrixMinosBitGridFullRow) {
                        k++;
                    }
                }
                return k;
            }
        }, {
            key: B5,
            value: function getNumTouchingSurfacesForPiece(t) {
                var k = d6t.W6,
                    j, o, e, q = t.mNumMinos;
                for (var m = d6t.W6; m < q; m++) {
                    j = t.mMinosXY[m];
                    o = j % this.mMatrixWidth;
                    e = ~~(j / this.mMatrixWidth);
                    if (this.doesCellCollide(o, e - d6t.A6)) {
                        k++;
                    }
                }
                return k;
            }
        }, {
            key: u5,
            value: function canPieceSlide(t) {
                var k = d6t.F18,
                    j = d6t.F18,
                    o, e, q, m = t.mNumMinos;
                for (var k5 = d6t.W6; k5 < m; k5++) {
                    o = t.mMinosXY[k5];
                    e = o % this.mMatrixWidth;
                    q = ~~(o / this.mMatrixWidth);
                    if (this.doesCellCollide(e + d6t.A6, q)) {
                        k = d6t.s73;
                    }
                    if (this.doesCellCollide(e - d6t.A6, q)) {
                        j = d6t.s73;
                    }
                    if (k && j) {
                        return d6t.F18;
                    }
                }
                return d6t.s73;
            }
        }, {
            key: A5,
            value: function getCoveredWallsForPiece(t) {
                var k = d6t.W6,
                    j, o, e, q, m = t.mNumMinos;
                for (j = d6t.W6; j < m; j++) {
                    o = t.mMinosXY[j];
                    this.mMatrixMinos[o] = this.mMatrixMinos[o] | u6.kMinoValueMask_exists;
                }
                for (j = d6t.W6; j < m; j++) {
                    o = t.mMinosXY[j];
                    e = o % this.mMatrixWidth;
                    q = ~~(o / this.mMatrixWidth);
                    q--;
                    if (!this.doesCellCollide(e, q)) {
                        if (this.doesCellCollide(e - d6t.A6, q)) {
                            k++;
                        }
                        if (this.doesCellCollide(e + d6t.A6, q)) {
                            k++;
                        }
                    }
                }
                for (j = d6t.W6; j < m; j++) {
                    o = t.mMinosXY[j];
                    this.mMatrixMinos[o] = this.mMatrixMinos[o] & ~u6.kMinoValueMask_exists;
                }
                return k;
            }
        }, {
            key: f5,
            value: function getISlotBreaksForPiece(t, k) {
                var j = this.getISlotType(t);
                if (j == G5.kISlotType_none) {
                    return d6t.W6;
                }
                var o = d6t.W6,
                    e = t.mPieceDefinition.getTypeId() == O5.kPieceType_I && (t.mFacing == O5.kFacing_N || t.mFacing == O5.kFacing_S),
                    q, m, k5;
                for (var C5 = t.mMinMinoY; C5 <= t.mMaxMinoY; C5++) {
                    k5 = C5 - t.mY + k3.kMinosBitGridYOffset;
                    q = this.mMatrixMinosBitGrid[C5];
                    m = C5 > d6t.W6 ? this.mMatrixMinosBitGrid[C5 - d6t.A6] : this.mMatrixMinosBitGridFullRow;
                    if (C5 > t.mMinMinoY) {
                        m |= t.mMinosBitGrid[k5 - d6t.A6];
                    }
                    if (this.isRowISlot(q, k, j, m)) {
                        if (e && C5 == t.mMaxMinoY) {
                            return d6t.W6;
                        } else {
                            if ((q | t.mMinosBitGrid[k5]) == this.mMatrixMinosBitGridFullRow) {
                                o++;
                            }
                        }
                    }
                }
                return o;
            }
        }, {
            key: x5,
            value: function getISlotBuildsForPiece(t, k) {
                var j = this.getISlotType(t);
                if (j == G5.kISlotType_none) {
                    return d6t.W6;
                }
                var o = d6t.W6,
                    e, q, m;
                for (var k5 = t.mMinMinoY; k5 <= t.mMaxMinoY; k5++) {
                    m = k5 - t.mY + k3.kMinosBitGridYOffset;
                    e = this.mMatrixMinosBitGrid[k5] | t.mMinosBitGrid[m];
                    q = k5 > d6t.W6 ? this.mMatrixMinosBitGrid[k5 - d6t.A6] : this.mMatrixMinosBitGridFullRow;
                    if (k5 > t.mMinMinoY) {
                        q |= t.mMinosBitGrid[m - d6t.A6];
                    }
                    if (this.isRowISlot(e, k, j, q)) {
                        o++;
                    }
                }
                return o;
            }
        }, {
            key: a5,
            value: function getISlotType(t) {
                if (t.mMaxMinoX >= this.mMatrixWidth - d6t.D6) {
                    return G5.kISlotType_right;
                }
                if (t.mMinMinoX <= d6t.A6) {
                    return G5.kISlotType_left;
                }
                return G5.kISlotType_none;
            }
        }, {
            key: T5,
            value: function isRowISlot(t, k, j, o) {
                switch (j) {
                    case G5.kISlotType_right:
                        if (o != this.mMatrixMinosBitGridFullRow && o != this.mMatrixMinosBitGridISlotRightRow) {
                            if ((o & d6t.A6 << this.mMatrixWidth - d6t.A6) == d6t.W6) {
                                return d6t.F18;
                            }
                        }
                        if (k) {
                            return (t & this.mMatrixMinosBitGridISlotRightEdgeRowMask) == this.mMatrixMinosBitGridISlotRightEdgeRow;
                        } else {
                            return t == this.mMatrixMinosBitGridISlotRightRow;
                        }
                    case G5.kISlotType_left:
                        if (o != this.mMatrixMinosBitGridFullRow && o != this.mMatrixMinosBitGridISlotLeftRow) {
                            if ((o & d6t.A6 << d6t.W6) == d6t.W6) {
                                return d6t.F18;
                            }
                        }
                        if (k) {
                            return (t & this.mMatrixMinosBitGridISlotLeftEdgeRowMask) == this.mMatrixMinosBitGridISlotLeftEdgeRow;
                        } else {
                            return t == this.mMatrixMinosBitGridISlotLeftRow;
                        }
                }
                return d6t.F18;
            }
        }, {
            key: r5,
            value: function getMoveAction(t, k) {
                if (O5.computeFacingFromTransformId(t) != O5.computeFacingFromTransformId(k)) {
                    return O5.kTransformAction_invalid;
                }
                var j = this.mPieceData.getPiece(this.mLivePieceTypeId, t);
                if (j.mPerTransformActionToTransformIds[O5.kTransformAction_moveDown] == k) {
                    return O5.kTransformAction_moveDown;
                }
                if (j.mPerTransformActionToTransformIds[O5.kTransformAction_moveRight] == k) {
                    return O5.kTransformAction_moveRight;
                }
                if (j.mPerTransformActionToTransformIds[O5.kTransformAction_moveLeft] == k) {
                    return O5.kTransformAction_moveLeft;
                }
                var o = j.mPerTransformActionToTransformIds[O5.kTransformAction_moveDown];
                j = this.mPieceData.getPiece(this.mLivePieceTypeId, o);
                if (j && this.mPieceData.areTransformsEquivalent(this.mLivePieceTypeId, o, k)) {
                    return O5.kTransformAction_moveDown;
                }
                return O5.kTransformAction_invalid;
            }
        }, {
            key: R5,
            value: function getHighestSurfaceYInColumn(t) {
                var k = d6t.A6 << t;
                for (var j = this.mMatrixHeight - d6t.A6; j >= d6t.W6; j--) {
                    if ((this.mMatrixMinosBitGrid[j] & k) != d6t.W6) {
                        return j + d6t.A6;
                    }
                }
                return d6t.W6;
            }
        }, {
            key: G6,
            value: function destroy() {
                if (this.isDestroyed()) {
                    return;
                }
                var t = this.mMatrixWidth * this.mMatrixHeight,
                    k = d6t.W6,
                    j = d6t.B3x;
                for (k = d6t.W6; k < t; k++) {
                    j = this.mPerCellTargetTransforms[k];
                    if (j) j = d6t.B3x;
                    j = this.mPerCellReachableTransforms[k];
                    if (j) j = d6t.B3x;
                }
                var o = this.mPieceData.getMaxNumTransforms();
                for (k = d6t.W6; k < o; k++) {
                    j = this.mPerTransformPaths[k];
                    if (j) j = d6t.B3x;
                    j = this.mScratchPerTransformActionStacks[k];
                    if (j) j = d6t.B3x;
                }
                Z4(Object.getPrototypeOf(G5.prototype), G6, this).call(this);
            }
        }]);
        return G5;
    }(u6);
    l6.kCellInfo_didCheckTargetTransforms = d6t.D6;
    l6.kCellInfo_hasTargetTransforms = d6t.M6;
    l6.kCellInfo_didCheckReachableTransforms = d6t.d6;
    l6.kCellInfo_hasReachableTransforms = d6t.M7x;
    l6.kTransformInfo_didCheckIsTarget = d6t.D6;
    l6.kTransformInfo_isTarget = d6t.M6;
    l6.kTransformInfo_isCheckingIsReachable = d6t.d6;
    l6.kTransformInfo_didCheckIsReachable = d6t.M7x;
    l6.kTransformInfo_isReachable = d6t.z9x;
    l6.kTransformInfo_didCheckDoesCollide = I3;
    l6.kTransformInfo_doesCollide = s3;
    l6.kTransformInfo_didEvaluationScore = d6t.k8;
    l6.kMinTransformEvaluationScore = -w4;
    l6.kISlotType_none = d6t.W6;
    l6.kISlotType_right = d6t.A6;
    l6.kISlotType_left = d6t.D6;;
    "use strict";
    var L6 = function() {
        function e(t, k) {
            for (var j = d6t.W6; j < k.length; j++) {
                var o = k[j];
                o.enumerable = o.enumerable || d6t.F18;
                o.configurable = d6t.s73;
                if (d6t.y5f in o) o.writable = d6t.s73;
                Object.defineProperty(t, o.key, o);
            }
        }
        return function(t, k, j) {
            if (k) e(t.prototype, k);
            if (j) e(t, j);
            return t;
        };
    }();

    function q5(instance, k) {
        if (!(instance instanceof k)) {
            throw new TypeError(x6);
        }
    }
    var e4 = g6.TetSmartControlController = function() {
        var q = "transformInputIdForActiveInputMgr",
            m = "updateActiveInputMgr",
            k5 = "setActiveInputMgr",
            C5 = "getInputMgrForInputId",
            H5 = "getInputMgr",
            j5 = "_isLivePieceControllable",
            Y5 = "_performControlAction",
            z5 = "_isSmartControlActive",
            P5 = "_getTimeSEC_FXPT",
            p5 = "_getTimeMSEC",
            w5 = "_getGameState",
            R5 = "getGestureInputMgr",
            r5 = "getSmartInputMgr",
            T5 = "getDirectInputMgr";

        function a5(t, k, j, o) {
            q5(this, a5);
            this.mInputMgrs = new Array();
            this.mPieceData = o;
            this.mMatrixWidth = t;
            this.mMatrixHeight = k;
            this.mMatrixVisibleHeight = j;
            this.mDirectInputMgr = d6t.B3x;
            this.mSmartInputMgr = d6t.B3x;
            this.mGestureInputMgr = d6t.B3x;
            this.mEnableAutomaticInputTypeSwitching = d6t.s73;
            this.mActiveInputMgr = d6t.B3x;
            this.mIsLivePieceControllable = d6t.F18;
            this.mIsSoftDropOn = d6t.F18;
            this.mIsDestroyed = d6t.F18;
        }
        L6(a5, [{
            key: c4,
            value: function isDestroyed() {
                return this.mIsDestroyed;
            }
        }, {
            key: g3,
            value: function enableInputType(t) {
                if (this.getInputMgr(t)) {
                    return;
                }
                switch (t) {
                    case a5.kInputType_direct:
                        this.mDirectInputMgr = new y4(this, this.mPieceData, this.mMatrixWidth, this.mMatrixHeight, this.mMatrixVisibleHeight);
                        this.mInputMgrs.push(this.mDirectInputMgr);
                        break;
                    case a5.kInputType_smart:
                        this.mSmartInputMgr = new M4(this, this.mPieceData, this.mMatrixWidth, this.mMatrixHeight, this.mMatrixVisibleHeight);
                        this.mInputMgrs.push(this.mSmartInputMgr);
                        break;
                    case a5.kInputType_gesture:
                        this.mGestureInputMgr = new r3(this, this.mPieceData, this.mMatrixWidth, this.mMatrixHeight, this.mMatrixVisibleHeight);
                        this.mInputMgrs.push(this.mGestureInputMgr);
                        break;
                }
            }
        }, {
            key: X3,
            value: function getActiveInputType() {
                if (this.mActiveInputMgr) {
                    return this.mActiveInputMgr.getInputType();
                } else {
                    return d6t.W6;
                }
            }
        }, {
            key: o3,
            value: function setActiveInputType(t) {
                this.setActiveInputMgr(this.getInputMgr(t));
            }
        }, {
            key: W3,
            value: function setEnableAutomaticInputTypeSwitching(t) {
                this.mEnableAutomaticInputTypeSwitching = t;
            }
        }, {
            key: T5,
            value: function getDirectInputMgr() {
                return this.mDirectInputMgr;
            }
        }, {
            key: r5,
            value: function getSmartInputMgr() {
                return this.mSmartInputMgr;
            }
        }, {
            key: R5,
            value: function getGestureInputMgr() {
                return this.mGestureInputMgr;
            }
        }, {
            key: S3,
            value: function processTime() {
                if (this.mActiveInputMgr) {
                    this.mActiveInputMgr.processTime();
                }
            }
        }, {
            key: v3,
            value: function handleInputPositionChanged(t, k, j) {
                if (!this.TetSmartControlController_isSmartControlActive()) {
                    return d6t.F18;
                }
                t = this.transformInputIdForActiveInputMgr(t);
                this.updateActiveInputMgr(t);
                var o = this.getInputMgrForInputId(t);
                if (o) {
                    var e = this._getGameState().getLivePieceCurrentTransform();
                    o.handleInputPositionChanged(t, k, j);
                    return e != this._getGameState().getLivePieceCurrentTransform();
                } else {
                    return d6t.F18;
                }
            }
        }, {
            key: G3,
            value: function handleInputIsOn(t, k, j) {
                if (!this.TetSmartControlController_isSmartControlActive()) {
                    return d6t.F18;
                }
                t = this.transformInputIdForActiveInputMgr(t);
                this.updateActiveInputMgr(t);
                var o = this.getInputMgrForInputId(t);
                if (o) {
                    var e = this._getGameState().getLivePieceCurrentTransform();
                    o.handleInputIsOn(t, k, j);
                    return e != this._getGameState().getLivePieceCurrentTransform();
                } else {
                    return d6t.F18;
                }
            }
        }, {
            key: J3,
            value: function handleInputIsOff(t, k, j) {
                if (!this.TetSmartControlController_isSmartControlActive()) {
                    return d6t.F18;
                }
                t = this.transformInputIdForActiveInputMgr(t);
                this.updateActiveInputMgr(t);
                var o = this.getInputMgrForInputId(t);
                if (o) {
                    var e = this._getGameState().getLivePieceCurrentTransform();
                    o.handleInputIsOff(t, k, j);
                    return e != this._getGameState().getLivePieceCurrentTransform();
                } else {
                    return d6t.F18;
                }
            }
        }, {
            key: N3,
            value: function handleInputOnIsCancelled(t) {
                if (!this.TetSmartControlController_isSmartControlActive()) {
                    return;
                }
                t = this.transformInputIdForActiveInputMgr(t);
                this.updateActiveInputMgr(t);
                var k = this.getInputMgrForInputId(t);
                if (k) {
                    k.handleInputOnIsCancelled(t);
                }
            }
        }, {
            key: O3,
            value: function isInputOn(t) {
                var k = this.getInputMgrForInputId(t);
                if (k) {
                    return k.isInputOn(t);
                } else {
                    return d6t.F18;
                }
            }
        }, {
            key: f3,
            value: function startEvaluationForNewLivePiece() {
                var t = this.mInputMgrs.length;
                for (var k = d6t.W6; k < t; k++) {
                    var j = this.mInputMgrs[k];
                    j.startEvaluationForNewLivePiece();
                }
            }
        }, {
            key: l3,
            value: function processEvaluationForNewLivePiece() {
                var t = d6t.s73,
                    k = this.mInputMgrs.length;
                for (var j = d6t.W6; j < k; j++) {
                    var o = this.mInputMgrs[j];
                    if (!o.processEvaluationForNewLivePiece()) {
                        t = d6t.F18;
                    }
                }
                return t;
            }
        }, {
            key: g4,
            value: function handleLivePieceDidActivate() {
                this.mIsLivePieceControllable = d6t.s73;
                var t = this.mInputMgrs.length;
                for (var k = d6t.W6; k < t; k++) {
                    var j = this.mInputMgrs[k];
                    j.handleLivePieceDidActivate();
                }
            }
        }, {
            key: B4,
            value: function handleLivePieceDidTouchDown() {
                var t = this.mInputMgrs.length;
                for (var k = d6t.W6; k < t; k++) {
                    var j = this.mInputMgrs[k];
                    j.handleLivePieceDidTouchDown();
                }
            }
        }, {
            key: z4,
            value: function handleLivePieceDidDeactivate() {
                this.mIsLivePieceControllable = d6t.F18;
                var t = this.mInputMgrs.length;
                for (var k = d6t.W6; k < t; k++) {
                    var j = this.mInputMgrs[k];
                    j.handleLivePieceDidDeactivate();
                }
            }
        }, {
            key: V4,
            value: function isSoftDropOn() {
                return this.mIsSoftDropOn;
            }
        }, {
            key: w5,
            value: function _getGameState() {
                return this.TetSmartControlController_getGameState();
            }
        }, {
            key: p5,
            value: function _getTimeMSEC() {
                return this.TetSmartControlController_getTimeMSEC() & 0x7fffffff;
            }
        }, {
            key: P5,
            value: function _getTimeSEC_FXPT() {
                return ~~(O5.FXPTFromInt(this._getTimeMSEC()) / d6t.I6);
            }
        }, {
            key: z5,
            value: function _isSmartControlActive() {
                return this.TetSmartControlController_isSmartControlActive();
            }
        }, {
            key: Y5,
            value: function _performControlAction(t, k, j) {
                switch (t) {
                    case O5.kControlAction_moveTarget:
                        if (!this._isLivePieceControllable()) {
                            return;
                        }
                        break;
                    case O5.kControlAction_selectTarget:
                        if (!this._isLivePieceControllable()) {
                            return;
                        }
                        this.mIsLivePieceControllable = d6t.F18;
                        break;
                    case O5.kControlAction_startSoftDrop:
                        if (this.mIsSoftDropOn) {
                            return;
                        }
                        this.mIsSoftDropOn = d6t.s73;
                        break;
                    case O5.kControlAction_stopSoftDrop:
                        if (!this.mIsSoftDropOn) {
                            return;
                        }
                        this.mIsSoftDropOn = d6t.F18;
                        break;
                    default:
                        if (t == O5.kControlAction_hardDrop && this._isLivePieceControllable()) {
                            this.mIsLivePieceControllable = d6t.F18;
                        }
                        break;
                }
                this.TetSmartControlController_performControlAction(t, k, j);
            }
        }, {
            key: j5,
            value: function _isLivePieceControllable() {
                return this.mIsLivePieceControllable && this.TetSmartControlController_isSmartControlActive();
            }
        }, {
            key: H5,
            value: function getInputMgr(t) {
                switch (t) {
                    case y4.kInputType:
                        return this.mDirectInputMgr;
                    case M4.kInputType:
                        return this.mSmartInputMgr;
                    case r3.kInputType:
                        return this.mGestureInputMgr;
                    default:
                        return d6t.B3x;
                }
            }
        }, {
            key: C5,
            value: function getInputMgrForInputId(t) {
                var k = r7.getInputTypeFromInputId(t);
                return this.getInputMgr(k);
            }
        }, {
            key: k5,
            value: function setActiveInputMgr(t) {
                if (t && this.mActiveInputMgr != t) {
                    if (this.mActiveInputMgr) {
                        this.mActiveInputMgr.setIsActive(d6t.F18);
                    }
                    this.mActiveInputMgr = t;
                    this.mActiveInputMgr.setIsActive(d6t.s73);
                }
            }
        }, {
            key: m,
            value: function updateActiveInputMgr(t) {
                if (this.mEnableAutomaticInputTypeSwitching) {
                    var k = this.getInputMgrForInputId(t);
                    if (k && this.mActiveInputMgr != k) {
                        this.setActiveInputMgr(k);
                    }
                }
            }
        }, {
            key: q,
            value: function transformInputIdForActiveInputMgr(t) {
                if (this.mActiveInputMgr) {
                    switch (this.mActiveInputMgr.getInputType()) {
                        case y4.kInputType:
                            break;
                        case M4.kInputType:
                            {
                                switch (t) {
                                    case y4.kInputId_hardDrop:
                                        return M4.kInputId_selectTarget;
                                    case y4.kInputId_hold:
                                        return M4.kInputId_hold;
                                }
                                break;
                            }
                        case r3.kInputType:
                            {
                                switch (t) {
                                    case y4.kInputId_hold:
                                        return r3.kInputId_hold;
                                }
                                break;
                            }
                    }
                }
                return t;
            }
        }, {
            key: G6,
            value: function destroy() {
                if (this.isDestroyed()) {
                    return;
                }
                this.mInputMgrs.length = d6t.W6;
                if (this.mSmartInputMgr) {
                    this.mSmartInputMgr.destroy();
                    if (this.mSmartInputMgr) this.mSmartInputMgr = d6t.B3x;
                }
                if (this.mDirectInputMgr) {
                    this.mDirectInputMgr.destroy();
                    if (this.mDirectInputMgr) this.mDirectInputMgr = d6t.B3x;
                }
                if (this.mGestureInputMgr) {
                    this.mGestureInputMgr.destroy();
                    if (this.mGestureInputMgr) this.mGestureInputMgr = d6t.B3x;
                }
                this.mIsDestroyed = d6t.s73;
            }
        }, {
            key: T3,
            value: function TetSmartControlController_getGameState() {
                return d6t.B3x;
            }
        }, {
            key: u4,
            value: function TetSmartControlController_getTimeMSEC() {
                return d6t.W6;
            }
        }, {
            key: j4,
            value: function TetSmartControlController_isSmartControlActive() {
                return d6t.F18;
            }
        }, {
            key: H4,
            value: function TetSmartControlController_performControlAction(t, k, j) {}
        }]);
        return a5;
    }();
    e4.kInputType_direct = d6t.A6;
    e4.kInputType_smart = d6t.D6;
    e4.kInputType_gesture = d6t.B6;
    e4.kFullCellSize_FXPT = d6t.I6;
    e4.kHalfCellSize_FXPT = d6t.T2H;;
    "use strict";

    function q5(instance, k) {
        if (!(instance instanceof k)) {
            throw new TypeError(x6);
        }
    }
    var A7 = g6.TetSmartControlInput = function A7(t) {
        q5(this, A7);
        this.mInputId = t;
        this.mIsOn = d6t.F18;
        this.mX_FXPT = d6t.W6;
        this.mY_FXPT = d6t.W6;
    };;
    "use strict";
    var L6 = function() {
        function e(t, k) {
            for (var j = d6t.W6; j < k.length; j++) {
                var o = k[j];
                o.enumerable = o.enumerable || d6t.F18;
                o.configurable = d6t.s73;
                if (d6t.y5f in o) o.writable = d6t.s73;
                Object.defineProperty(t, o.key, o);
            }
        }
        return function(t, k, j) {
            if (k) e(t.prototype, k);
            if (j) e(t, j);
            return t;
        };
    }();

    function q5(instance, k) {
        if (!(instance instanceof k)) {
            throw new TypeError(x6);
        }
    }
    var r7 = g6.TetSmartControlInputMgr = function() {
        var j5 = "getMatrixVisibleHeight",
            Y5 = "getInput",
            z5 = "setIsActive",
            P5 = "getInputType",
            p5 = "getInputIndexFromInputId",
            w5 = "getInputTypeFromInputId",
            R5 = "getInputId";
        L6(r5, d6t.B3x, [{
            key: R5,
            value: function getInputId(t, k) {
                return t << d6t.d6 | k + d6t.A6;
            }
        }, {
            key: w5,
            value: function getInputTypeFromInputId(t) {
                return t >>> d6t.d6 & ((0x179, 0x237) <= 53 ? 0.75 : (6.68E2, 126) >= (5, 75) ? (0xA, 0xff) : (0xB5, 147.));
            }
        }, {
            key: p5,
            value: function getInputIndexFromInputId(t) {
                return (t & ((0x19B, 1.436E3) <= (0x17B, 6.270E2) ? (0x176, 8.73E2) : 7.73E2 <= (56.6E1, 14.22E2) ? (140., 0xff) : (141., 9.8E1))) - d6t.A6;
            }
        }]);

        function r5(t, k, j, o, e, q, m) {
            q5(this, r5);
            this.mInputs = new Array();
            this.mIsDestroyed = d6t.F18;
            this.mInputType = t;
            this.mNumInputs = k;
            for (var k5 = d6t.W6; k5 < k; k5++) {
                var C5 = r5.getInputId(t, k5),
                    H5 = new A7(C5);
                this.mInputs.push(H5);
            }
            this.mController = j;
            this.mPieceData = o;
            this.mMatrixWidth = e;
            this.mMatrixHeight = q;
            this.mMatrixVisibleHeight = m;
            this.mIsActive = d6t.F18;
            this.mDidProcessEvaluationForNewLivePiece = d6t.F18;
        }
        L6(r5, [{
            key: c4,
            value: function isDestroyed() {
                return this.mIsDestroyed;
            }
        }, {
            key: P5,
            value: function getInputType() {
                return this.mInputType;
            }
        }, {
            key: R3,
            value: function isActive() {
                return this.mIsActive;
            }
        }, {
            key: z5,
            value: function setIsActive(t) {
                this.mIsActive = t;
                this.TetSmartControlInputMgr_setIsActive(t);
            }
        }, {
            key: S3,
            value: function processTime() {
                this.TetSmartControlInputMgr_processTime();
            }
        }, {
            key: v3,
            value: function handleInputPositionChanged(t, k, j) {
                var o = this.getInput(t);
                if (o) {
                    o.mX_FXPT = k;
                    o.mY_FXPT = j;
                    if (this.mIsActive) {
                        this.TetSmartControlInputMgr_handleInputPositionChanged(o);
                    }
                }
            }
        }, {
            key: G3,
            value: function handleInputIsOn(t, k, j) {
                var o = this.getInput(t);
                if (o) {
                    if (!o.mIsOn) {
                        o.mIsOn = d6t.s73;
                        o.mX_FXPT = k;
                        o.mY_FXPT = j;
                        if (this.mIsActive) {
                            this.TetSmartControlInputMgr_handleInputIsOn(o);
                        }
                    }
                }
            }
        }, {
            key: J3,
            value: function handleInputIsOff(t, k, j) {
                var o = this.getInput(t);
                if (o) {
                    if (o.mIsOn) {
                        o.mIsOn = d6t.F18;
                        o.mX_FXPT = k;
                        o.mY_FXPT = j;
                        if (this.mIsActive) {
                            this.TetSmartControlInputMgr_handleInputIsOff(o);
                        }
                    }
                }
            }
        }, {
            key: N3,
            value: function handleInputOnIsCancelled(t) {
                var k = this.getInput(t);
                if (k) {
                    if (k.mIsOn) {
                        k.mIsOn = d6t.F18;
                        if (this.mIsActive) {
                            this.TetSmartControlInputMgr_handleInputOnIsCancelled(k);
                        }
                    }
                }
            }
        }, {
            key: O3,
            value: function isInputOn(t) {
                var k = this.getInput(t);
                if (k) {
                    return k.mIsOn;
                } else {
                    return d6t.F18;
                }
            }
        }, {
            key: f3,
            value: function startEvaluationForNewLivePiece() {
                this.mDidProcessEvaluationForNewLivePiece = d6t.F18;
                this.TetSmartControlInputMgr_startEvaluationForNewLivePiece();
            }
        }, {
            key: l3,
            value: function processEvaluationForNewLivePiece() {
                if (!this.mDidProcessEvaluationForNewLivePiece) {
                    this.mDidProcessEvaluationForNewLivePiece = this.TetSmartControlInputMgr_processEvaluationForNewLivePiece();
                }
                return this.mDidProcessEvaluationForNewLivePiece;
            }
        }, {
            key: g4,
            value: function handleLivePieceDidActivate() {
                this.TetSmartControlInputMgr_handleLivePieceDidActivate();
            }
        }, {
            key: B4,
            value: function handleLivePieceDidTouchDown() {
                this.TetSmartControlInputMgr_handleLivePieceDidTouchDown();
            }
        }, {
            key: z4,
            value: function handleLivePieceDidDeactivate() {
                this.TetSmartControlInputMgr_handleLivePieceDidDeactivate();
            }
        }, {
            key: Y5,
            value: function getInput(t) {
                var k = r5.getInputIndexFromInputId(t);
                if (k >= d6t.W6 && k < this.mNumInputs) {
                    return this.mInputs[k];
                } else {
                    return d6t.B3x;
                }
            }
        }, {
            key: p3,
            value: function getController() {
                return this.mController;
            }
        }, {
            key: E4,
            value: function getPieceData() {
                return this.mPieceData;
            }
        }, {
            key: u3,
            value: function getMatrixWidth() {
                return this.mMatrixWidth;
            }
        }, {
            key: A3,
            value: function getMatrixHeight() {
                return this.mMatrixHeight;
            }
        }, {
            key: j5,
            value: function getMatrixVisibleHeight() {
                return this.mMatrixVisibleHeight;
            }
        }, {
            key: e6,
            value: function isLivePieceControllable() {
                return this.mIsActive && this.mController._isLivePieceControllable();
            }
        }, {
            key: G6,
            value: function destroy() {
                if (this.isDestroyed()) {
                    return;
                }
                for (var t = d6t.W6; t < this.mNumInputs; t++) {
                    var k = this.mInputs[t];
                    if (k) k = d6t.B3x;
                }
                this.mIsDestroyed = d6t.s73;
            }
        }, {
            key: T6,
            value: function TetSmartControlInputMgr_setIsActive(t) {}
        }, {
            key: J4,
            value: function TetSmartControlInputMgr_processTime() {}
        }, {
            key: x4,
            value: function TetSmartControlInputMgr_handleInputPositionChanged(t) {}
        }, {
            key: I5,
            value: function TetSmartControlInputMgr_handleInputIsOn(t) {}
        }, {
            key: X5,
            value: function TetSmartControlInputMgr_handleInputIsOff(t) {}
        }, {
            key: E5,
            value: function TetSmartControlInputMgr_handleInputOnIsCancelled(t) {}
        }, {
            key: e5,
            value: function TetSmartControlInputMgr_startEvaluationForNewLivePiece() {}
        }, {
            key: l5,
            value: function TetSmartControlInputMgr_processEvaluationForNewLivePiece() {
                return d6t.s73;
            }
        }, {
            key: P3,
            value: function TetSmartControlInputMgr_handleLivePieceDidActivate() {}
        }, {
            key: M3,
            value: function TetSmartControlInputMgr_handleLivePieceDidTouchDown() {}
        }, {
            key: I4,
            value: function TetSmartControlInputMgr_handleLivePieceDidDeactivate() {}
        }]);
        return r5;
    }();;
    "use strict";
    var L6 = function() {
            function e(t, k) {
                for (var j = d6t.W6; j < k.length; j++) {
                    var o = k[j];
                    o.enumerable = o.enumerable || d6t.F18;
                    o.configurable = d6t.s73;
                    if (d6t.y5f in o) o.writable = d6t.s73;
                    Object.defineProperty(t, o.key, o);
                }
            }
            return function(t, k, j) {
                if (k) e(t.prototype, k);
                if (j) e(t, j);
                return t;
            };
        }(),
        Z4 = function n4(t, k, j) {
            if (t === d6t.B3x) t = Function.prototype;
            var o = Object.getOwnPropertyDescriptor(t, k);
            if (o === undefined) {
                var e = Object.getPrototypeOf(t);
                if (e === d6t.B3x) {
                    return undefined;
                } else {
                    return n4(e, k, j);
                }
            } else if (d6t.y5f in o) {
                return o.value;
            } else {
                var q = o.get;
                if (q === undefined) {
                    return undefined;
                }
                return q.call(j);
            }
        };

    function q5(instance, k) {
        if (!(instance instanceof k)) {
            throw new TypeError(x6);
        }
    }

    function i4(t, k) {
        if (!t) {
            throw new ReferenceError(w3);
        }
        return k && (typeof k === d6t.O2f || typeof k === d6t.H5x) ? k : t;
    }

    function G4(t, k) {
        if (typeof k !== d6t.H5x && k !== d6t.B3x) {
            throw new TypeError(a3 + typeof k);
        }
        t.prototype = Object.create(k && k.prototype, {
            constructor: {
                value: t,
                enumerable: d6t.F18,
                writable: d6t.s73,
                configurable: d6t.s73
            }
        });
        if (k) Object.setPrototypeOf ? Object.setPrototypeOf(t, k) : t.__proto__ = k;
    }
    var y4 = g6.TetSmartControlDirectInputMgr = function(q) {
        G4(m, q);

        function m(t, k, j, o, e) {
            q5(this, m);
            return i4(this, Object.getPrototypeOf(m).call(this, m.kInputType, m.kNumInputIds, t, k, j, o, e));
        }
        L6(m, [{
            key: G6,
            value: function destroy() {
                if (this.isDestroyed()) {
                    return;
                }
                Z4(Object.getPrototypeOf(m.prototype), G6, this).call(this);
            }
        }, {
            key: T6,
            value: function TetSmartControlInputMgr_setIsActive(t) {
                if (t) {
                    this.getController()._performControlAction(O5.kControlAction_updateGhost, d6t.B3x, d6t.B3x);
                }
            }
        }, {
            key: J4,
            value: function TetSmartControlInputMgr_processTime() {}
        }, {
            key: x4,
            value: function TetSmartControlInputMgr_handleInputPositionChanged(t) {}
        }, {
            key: I5,
            value: function TetSmartControlInputMgr_handleInputIsOn(t) {
                switch (t.mInputId) {
                    case m.kInputId_moveLeft:
                        this.getController()._performControlAction(O5.kControlAction_moveLeft, d6t.B3x, d6t.B3x);
                        t.mIsOn = d6t.F18;
                        break;
                    case m.kInputId_moveRight:
                        this.getController()._performControlAction(O5.kControlAction_moveRight, d6t.B3x, d6t.B3x);
                        t.mIsOn = d6t.F18;
                        break;
                    case m.kInputId_rotateCW:
                        this.getController()._performControlAction(O5.kControlAction_superRotateCW, d6t.B3x, d6t.B3x);
                        break;
                    case m.kInputId_rotateCCW:
                        this.getController()._performControlAction(O5.kControlAction_superRotateCCW, d6t.B3x, d6t.B3x);
                        break;
                    case m.kInputId_softDrop:
                        this.getController()._performControlAction(O5.kControlAction_startSoftDrop, d6t.B3x, d6t.B3x);
                        break;
                    case m.kInputId_hardDrop:
                        this.getController()._performControlAction(O5.kControlAction_hardDrop, d6t.B3x, d6t.B3x);
                        break;
                    case m.kInputId_hold:
                        this.getController()._performControlAction(O5.kControlAction_hold, d6t.B3x, d6t.B3x);
                        break;
                }
            }
        }, {
            key: X5,
            value: function TetSmartControlInputMgr_handleInputIsOff(t) {
                switch (t.mInputId) {
                    case m.kInputId_softDrop:
                        this.getController()._performControlAction(O5.kControlAction_stopSoftDrop, d6t.B3x, d6t.B3x);
                        break;
                }
            }
        }, {
            key: E5,
            value: function TetSmartControlInputMgr_handleInputOnIsCancelled(t) {
                switch (t.mInputId) {
                    case m.kInputId_softDrop:
                        this.getController()._performControlAction(O5.kControlAction_stopSoftDrop, d6t.B3x, d6t.B3x);
                        break;
                }
            }
        }, {
            key: e5,
            value: function TetSmartControlInputMgr_startEvaluationForNewLivePiece() {}
        }, {
            key: l5,
            value: function TetSmartControlInputMgr_processEvaluationForNewLivePiece() {
                return d6t.s73;
            }
        }, {
            key: P3,
            value: function TetSmartControlInputMgr_handleLivePieceDidActivate() {}
        }, {
            key: I4,
            value: function TetSmartControlInputMgr_handleLivePieceDidDeactivate() {}
        }]);
        return m;
    }(r7);
    y4.kInputType = d6t.A6;
    y4.kInputId_moveLeft = t3;
    y4.kInputId_moveRight = h4;
    y4.kInputId_rotateCW = z3;
    y4.kInputId_rotateCCW = V5;
    y4.kInputId_softDrop = Q4;
    y4.kInputId_hardDrop = V3;
    y4.kInputId_hold = j3;
    y4.kNumInputIds = d6t.v6;;
    "use strict";
    var L6 = function() {
            function e(t, k) {
                for (var j = d6t.W6; j < k.length; j++) {
                    var o = k[j];
                    o.enumerable = o.enumerable || d6t.F18;
                    o.configurable = d6t.s73;
                    if (d6t.y5f in o) o.writable = d6t.s73;
                    Object.defineProperty(t, o.key, o);
                }
            }
            return function(t, k, j) {
                if (k) e(t.prototype, k);
                if (j) e(t, j);
                return t;
            };
        }(),
        Z4 = function n4(t, k, j) {
            if (t === d6t.B3x) t = Function.prototype;
            var o = Object.getOwnPropertyDescriptor(t, k);
            if (o === undefined) {
                var e = Object.getPrototypeOf(t);
                if (e === d6t.B3x) {
                    return undefined;
                } else {
                    return n4(e, k, j);
                }
            } else if (d6t.y5f in o) {
                return o.value;
            } else {
                var q = o.get;
                if (q === undefined) {
                    return undefined;
                }
                return q.call(j);
            }
        };

    function q5(instance, k) {
        if (!(instance instanceof k)) {
            throw new TypeError(x6);
        }
    }

    function i4(t, k) {
        if (!t) {
            throw new ReferenceError(w3);
        }
        return k && (typeof k === d6t.O2f || typeof k === d6t.H5x) ? k : t;
    }

    function G4(t, k) {
        if (typeof k !== d6t.H5x && k !== d6t.B3x) {
            throw new TypeError(a3 + typeof k);
        }
        t.prototype = Object.create(k && k.prototype, {
            constructor: {
                value: t,
                enumerable: d6t.F18,
                writable: d6t.s73,
                configurable: d6t.s73
            }
        });
        if (k) Object.setPrototypeOf ? Object.setPrototypeOf(t, k) : t.__proto__ = k;
    }
    var r3 = g6.TetSmartControlGestureInputMgr = function(j5) {
        var Y5 = "performHold",
            z5 = "checkSoftDrop",
            P5 = "stopSoftDrop",
            p5 = "suspendSoftDrop",
            w5 = "startSoftDrop",
            R5 = "isVerticalDragValid",
            r5 = "updateMoveLeftRight",
            T5 = "updateVelocities",
            a5 = "resetPointerTracking";
        G4(x5, j5);

        function x5(t, k, j, o, e) {
            var q = (0x11C < (1.22E2, 0x232) ? (0x43, 900) : (0x5D, 0xA5) >= (0x203, 84.2E1) ? 114 : (94.2E1, 6.890E2)),
                m = 1500,
                k5 = (18.6E1 > (45.80E1, 4.84E2) ? (118, 46) : (12.8E1, 0xEE) <= 26.90E1 ? (3.39E2, 1400) : 79.2E1 <= (0x137, 134) ? 27 : (116., 68)),
                C5 = 1399;
            q5(this, x5);
            var H5 = i4(this, Object.getPrototypeOf(x5).call(this, x5.kInputType, x5.kNumInputIds, t, k, j, o, e));
            H5.mMaxRotationTapDistance_FXPT = C5;
            H5.mEnableCCWRotation = d6t.s73;
            H5.mMoveLRDragDistance_FXPT = k5;
            H5.mMinSoftDropDragDistanceY_FXPT = d6t.P43;
            H5.mMinSoftDropDragVelocityY_FXPT = d6t.j28;
            H5.mMinStopSoftDropDragDistanceY_FXPT = d6t.I6;
            H5.mMinStopSoftDropDragVelocityY_FXPT = d6t.I6;
            H5.mMinHardDropDragDistanceY_FXPT = m;
            H5.mMinHardDropDragVelocityY_FXPT = d6t.H4f;
            H5.mMinHoldDragDistanceY_FXPT = m;
            H5.mMinHoldDragVelocityY_FXPT = d6t.H4f;
            H5.mVelocitySmoothingWeight_FXPT = q;
            H5.mMatrixCenterX_FXPT = ~~(O5.FXPTFromInt(j) / d6t.D6);
            H5.mPointerDownX_FXPT = d6t.W6;
            H5.mPointerDownY_FXPT = d6t.W6;
            H5.mPointerDragPrevX_FXPT = d6t.W6;
            H5.mPointerDragPrevY_FXPT = d6t.W6;
            H5.mPrevVelocityProcessTimeSEC_FXPT = d6t.W6;
            H5.mAvailableVelocityProcessTimeSEC_FXPT = d6t.W6;
            H5.mPointerFrameVelocityX_FXPT = d6t.W6;
            H5.mPointerFrameVelocityY_FXPT = d6t.W6;
            H5.mPointerSmoothedVelocityX_FXPT = d6t.W6;
            H5.mPointerSmoothedVelocityY_FXPT = d6t.W6;
            H5.mCurrentMoveLRDragDistanceX_FXPT = d6t.W6;
            H5.mWasPrevRotationCCW = d6t.F18;
            H5.mIsRotationTapValid = d6t.F18;
            H5.mIsSoftDropInputOn = d6t.F18;
            return H5;
        }
        L6(x5, [{
            key: a5,
            value: function resetPointerTracking(t) {
                var k = "TetSmartControlGestureInputMgr::resetPointerTracking";
                if (O5.sIsDebugModeOn) {
                    console.log(k);
                }
                var j = this.getInput(x5.kInputId_pointer);
                this.mPointerDownX_FXPT = j.mX_FXPT;
                this.mPointerDownY_FXPT = j.mY_FXPT;
                this.mPointerDragPrevX_FXPT = j.mX_FXPT;
                this.mPointerDragPrevY_FXPT = j.mY_FXPT;
                this.mPrevVelocityProcessTimeSEC_FXPT = this.getController()._getTimeSEC_FXPT();
                this.mAvailableVelocityProcessTimeSEC_FXPT = d6t.W6;
                this.mPointerFrameVelocityX_FXPT = d6t.W6;
                this.mPointerFrameVelocityY_FXPT = d6t.W6;
                this.mPointerSmoothedVelocityX_FXPT = d6t.W6;
                this.mPointerSmoothedVelocityY_FXPT = d6t.W6;
                this.mCurrentMoveLRDragDistanceX_FXPT = d6t.W6;
                this.mIsRotationTapValid = t;
            }
        }, {
            key: T5,
            value: function updateVelocities() {
                var t = this.getController()._getTimeSEC_FXPT(),
                    k = t - this.mPrevVelocityProcessTimeSEC_FXPT;
                this.mPrevVelocityProcessTimeSEC_FXPT = t;
                if (k > d6t.W6) {
                    this.mAvailableVelocityProcessTimeSEC_FXPT += k;
                    var j = this.getInput(x5.kInputId_pointer);
                    this.mPointerFrameVelocityX_FXPT = O5.FXPTDivideXX(j.mX_FXPT - this.mPointerDragPrevX_FXPT, k);
                    this.mPointerFrameVelocityY_FXPT = O5.FXPTDivideXX(j.mY_FXPT - this.mPointerDragPrevY_FXPT, k);
                    var o = d6t.x7x;
                    while (this.mAvailableVelocityProcessTimeSEC_FXPT > o) {
                        this.mPointerSmoothedVelocityX_FXPT = O5.FXPTSmoothXXX(this.mPointerSmoothedVelocityX_FXPT, this.mPointerFrameVelocityX_FXPT, this.mVelocitySmoothingWeight_FXPT);
                        this.mPointerSmoothedVelocityY_FXPT = O5.FXPTSmoothXXX(this.mPointerSmoothedVelocityY_FXPT, this.mPointerFrameVelocityY_FXPT, this.mVelocitySmoothingWeight_FXPT);
                        this.mAvailableVelocityProcessTimeSEC_FXPT -= o;
                    }
                }
            }
        }, {
            key: r5,
            value: function updateMoveLeftRight() {
                var t = "TetSmartControlGestureInputMgr::updateMoveLeftRight: MOVE LEFT",
                    k = "TetSmartControlGestureInputMgr::updateMoveLeftRight: MOVE RIGHT";
                if (this.getInput(x5.kInputId_pointer).mIsOn) {
                    if ((this.mCurrentMoveLRDragDistanceX_FXPT >= d6t.W6 ? this.mCurrentMoveLRDragDistanceX_FXPT : -this.mCurrentMoveLRDragDistanceX_FXPT) >= this.mMoveLRDragDistance_FXPT) {
                        if (this.mCurrentMoveLRDragDistanceX_FXPT > d6t.W6) {
                            if (O5.sIsDebugModeOn) {
                                console.log(k);
                            }
                            this.getController()._performControlAction(O5.kControlAction_moveRight, d6t.B3x, d6t.B3x);
                            this.mCurrentMoveLRDragDistanceX_FXPT -= this.mMoveLRDragDistance_FXPT;
                        } else {
                            if (O5.sIsDebugModeOn) {
                                console.log(t);
                            }
                            this.getController()._performControlAction(O5.kControlAction_moveLeft, d6t.B3x, d6t.B3x);
                            this.mCurrentMoveLRDragDistanceX_FXPT += this.mMoveLRDragDistance_FXPT;
                        }
                    }
                }
            }
        }, {
            key: R5,
            value: function isVerticalDragValid(t, k, j, o, e) {
                return (k >= d6t.W6 ? k : -k) > (t >= d6t.W6 ? t : -t) && (o >= d6t.W6 ? o : -o) >= e && (k >= d6t.W6 ? k : -k) >= j;
            }
        }, {
            key: w5,
            value: function startSoftDrop() {
                if (!this.isActive()) {
                    return;
                }
                this.mIsSoftDropInputOn = d6t.s73;
                if (!this.getController().isSoftDropOn()) {
                    this.getController()._performControlAction(O5.kControlAction_startSoftDrop, d6t.B3x, d6t.B3x);
                }
            }
        }, {
            key: p5,
            value: function suspendSoftDrop() {
                if (!this.isActive()) {
                    return;
                }
                if (this.getController().isSoftDropOn()) {
                    this.getController()._performControlAction(O5.kControlAction_stopSoftDrop, d6t.B3x, d6t.B3x);
                }
            }
        }, {
            key: P5,
            value: function stopSoftDrop() {
                if (!this.isActive()) {
                    return;
                }
                this.mIsSoftDropInputOn = d6t.F18;
                if (this.getController().isSoftDropOn()) {
                    this.getController()._performControlAction(O5.kControlAction_stopSoftDrop, d6t.B3x, d6t.B3x);
                }
            }
        }, {
            key: z5,
            value: function checkSoftDrop() {
                if (!this.isActive()) {
                    return;
                }
                if (!this.getInput(x5.kInputId_pointer).mIsOn) {
                    this.stopSoftDrop();
                } else {
                    if (this.mIsSoftDropInputOn) {
                        this.startSoftDrop();
                    }
                }
            }
        }, {
            key: Y5,
            value: function performHold() {
                if (!this.isActive()) {
                    return;
                }
                this.getController()._performControlAction(O5.kControlAction_hold, d6t.B3x, d6t.B3x);
            }
        }, {
            key: G6,
            value: function destroy() {
                if (this.isDestroyed()) {
                    return;
                }
                Z4(Object.getPrototypeOf(x5.prototype), G6, this).call(this);
            }
        }, {
            key: T6,
            value: function TetSmartControlInputMgr_setIsActive(t) {
                if (t) {
                    this.getController()._performControlAction(O5.kControlAction_updateGhost, d6t.B3x, d6t.B3x);
                }
            }
        }, {
            key: J4,
            value: function TetSmartControlInputMgr_processTime() {
                this.updateVelocities();
                this.updateMoveLeftRight();
            }
        }, {
            key: x4,
            value: function TetSmartControlInputMgr_handleInputPositionChanged(t) {
                var k = " currentMoveLRDragDistanceX= ",
                    j = " dx-rel=",
                    o = " dx-abs=",
                    e = "TetSmartControlGestureInputMgr::TetSmartControlInputMgr_handleInputPositionChanged: x=";
                switch (t.mInputId) {
                    case x5.kInputId_pointer:
                        {
                            if (!t.mIsOn) {
                                return;
                            }
                            this.updateVelocities();
                            if (this.mIsRotationTapValid) {
                                this.mIsRotationTapValid = (t.mX_FXPT - this.mPointerDownX_FXPT >= d6t.W6 ? t.mX_FXPT - this.mPointerDownX_FXPT : -(t.mX_FXPT - this.mPointerDownX_FXPT)) <= this.mMaxRotationTapDistance_FXPT && (t.mY_FXPT - this.mPointerDownY_FXPT >= d6t.W6 ? t.mY_FXPT - this.mPointerDownY_FXPT : -(t.mY_FXPT - this.mPointerDownY_FXPT)) <= this.mMaxRotationTapDistance_FXPT;
                            }
                            if ((this.mPointerSmoothedVelocityX_FXPT >= d6t.W6 ? this.mPointerSmoothedVelocityX_FXPT : -this.mPointerSmoothedVelocityX_FXPT) > (this.mPointerSmoothedVelocityY_FXPT >= d6t.W6 ? this.mPointerSmoothedVelocityY_FXPT : -this.mPointerSmoothedVelocityY_FXPT)) {
                                var q = t.mX_FXPT - this.mPointerDragPrevX_FXPT;
                                this.mCurrentMoveLRDragDistanceX_FXPT += q;
                                if (O5.sIsDebugModeOn) {
                                    console.log(e + t.mX_FXPT / O5.kFXPTScale + o + (t.mX_FXPT - this.mPointerDownX_FXPT) / O5.kFXPTScale + j + q / O5.kFXPTScale + k + this.mCurrentMoveLRDragDistanceX_FXPT / O5.kFXPTScale);
                                }
                                this.updateMoveLeftRight();
                            } else {
                                if (O5.sIsDebugModeOn) {
                                    console.log(e + t.mX_FXPT / O5.kFXPTScale + o + (t.mX_FXPT - this.mPointerDownX_FXPT) / O5.kFXPTScale);
                                }
                            }
                            if (this.mPointerSmoothedVelocityY_FXPT < d6t.W6) {
                                if (!this.getController().isSoftDropOn() && this.isVerticalDragValid(this.mPointerSmoothedVelocityX_FXPT, this.mPointerSmoothedVelocityY_FXPT, this.mMinSoftDropDragVelocityY_FXPT, t.mY_FXPT - this.mPointerDownY_FXPT, this.mMinSoftDropDragDistanceY_FXPT)) {
                                    this.mCurrentMoveLRDragDistanceX_FXPT = d6t.W6;
                                    this.startSoftDrop();
                                }
                            } else if (this.mPointerSmoothedVelocityY_FXPT > d6t.W6) {
                                if (this.getController().isSoftDropOn() && this.isVerticalDragValid(this.mPointerSmoothedVelocityX_FXPT, this.mPointerSmoothedVelocityY_FXPT, this.mMinStopSoftDropDragVelocityY_FXPT, t.mY_FXPT - this.mPointerDownY_FXPT, this.mMinStopSoftDropDragDistanceY_FXPT)) {
                                    this.mCurrentMoveLRDragDistanceX_FXPT = d6t.W6;
                                    this.stopSoftDrop();
                                }
                            }
                            this.mPointerDragPrevX_FXPT = t.mX_FXPT;this.mPointerDragPrevY_FXPT = t.mY_FXPT;
                            break;
                        }
                    case x5.kInputId_hold:
                        {
                            break;
                        }
                }
            }
        }, {
            key: I5,
            value: function TetSmartControlInputMgr_handleInputIsOn(t) {
                var k = "TetSmartControlGestureInputMgr::TetSmartControlInputMgr_handleInputIsOn: x=";
                switch (t.mInputId) {
                    case x5.kInputId_pointer:
                        {
                            if (O5.sIsDebugModeOn) {
                                console.log(k + t.mX_FXPT / O5.kFXPTScale);
                            }
                            this.resetPointerTracking(d6t.s73);
                            break;
                        }
                    case x5.kInputId_hold:
                        {
                            this.performHold();
                            break;
                        }
                }
            }
        }, {
            key: X5,
            value: function TetSmartControlInputMgr_handleInputIsOff(t) {
                var k = " dx=",
                    j = "TetSmartControlGestureInputMgr::TetSmartControlInputMgr_handleInputIsOff: x=";
                switch (t.mInputId) {
                    case x5.kInputId_pointer:
                        {
                            if (O5.sIsDebugModeOn) {
                                console.log(j + t.mX_FXPT / O5.kFXPTScale + k + (t.mX_FXPT - this.mPointerDownX_FXPT) / O5.kFXPTScale);
                            }
                            this.stopSoftDrop();
                            if ((t.mX_FXPT - this.mPointerDownX_FXPT >= d6t.W6 ? t.mX_FXPT - this.mPointerDownX_FXPT : -(t.mX_FXPT - this.mPointerDownX_FXPT)) <= this.mMaxRotationTapDistance_FXPT && (t.mY_FXPT - this.mPointerDownY_FXPT >= d6t.W6 ? t.mY_FXPT - this.mPointerDownY_FXPT : -(t.mY_FXPT - this.mPointerDownY_FXPT)) <= this.mMaxRotationTapDistance_FXPT) {
                                if (this.mIsRotationTapValid) {
                                    if (this.mEnableCCWRotation) {
                                        var o = this.mMatrixCenterX_FXPT;
                                        if (!this.mWasPrevRotationCCW) {
                                            o -= e4.kFullCellSize_FXPT;
                                        }
                                        if (t.mX_FXPT >= o) {
                                            this.getController()._performControlAction(O5.kControlAction_superRotateCW, d6t.B3x, d6t.B3x);
                                            this.mWasPrevRotationCCW = d6t.F18;
                                        } else {
                                            this.getController()._performControlAction(O5.kControlAction_superRotateCCW, d6t.B3x, d6t.B3x);
                                            this.mWasPrevRotationCCW = d6t.s73;
                                        }
                                    } else {
                                        this.getController()._performControlAction(O5.kControlAction_superRotateCW, d6t.B3x, d6t.B3x);
                                        this.mWasPrevRotationCCW = d6t.F18;
                                    }
                                }
                            } else {
                                if (this.mPointerSmoothedVelocityY_FXPT > d6t.W6 && this.isVerticalDragValid(this.mPointerSmoothedVelocityX_FXPT, this.mPointerSmoothedVelocityY_FXPT, this.mMinHoldDragVelocityY_FXPT, t.mY_FXPT - this.mPointerDownY_FXPT, this.mMinHoldDragDistanceY_FXPT)) {
                                    this.performHold();
                                } else if (this.mPointerSmoothedVelocityY_FXPT < d6t.W6 && this.isVerticalDragValid(this.mPointerSmoothedVelocityX_FXPT, this.mPointerSmoothedVelocityY_FXPT, this.mMinHardDropDragVelocityY_FXPT, t.mY_FXPT - this.mPointerDownY_FXPT, this.mMinHardDropDragDistanceY_FXPT)) {
                                    this.getController()._performControlAction(O5.kControlAction_hardDrop, d6t.B3x, d6t.B3x);
                                }
                            }
                            this.mIsRotationTapValid = d6t.F18;
                            break;
                        }
                    case x5.kInputId_hold:
                        {
                            break;
                        }
                }
            }
        }, {
            key: E5,
            value: function TetSmartControlInputMgr_handleInputOnIsCancelled(t) {
                switch (t.mInputId) {
                    case x5.kInputId_pointer:
                        {
                            this.stopSoftDrop();this.mIsRotationTapValid = d6t.F18;
                            break;
                        }
                    case x5.kInputId_hold:
                        {
                            break;
                        }
                }
            }
        }, {
            key: e5,
            value: function TetSmartControlInputMgr_startEvaluationForNewLivePiece() {}
        }, {
            key: l5,
            value: function TetSmartControlInputMgr_processEvaluationForNewLivePiece() {
                return d6t.s73;
            }
        }, {
            key: P3,
            value: function TetSmartControlInputMgr_handleLivePieceDidActivate() {
                this.mWasPrevRotationCCW = d6t.F18;
                this.checkSoftDrop();
            }
        }, {
            key: M3,
            value: function TetSmartControlInputMgr_handleLivePieceDidTouchDown() {
                this.suspendSoftDrop();
            }
        }, {
            key: I4,
            value: function TetSmartControlInputMgr_handleLivePieceDidDeactivate() {
                this.resetPointerTracking(d6t.F18);
            }
        }]);
        return x5;
    }(r7);
    r3.kInputType = d6t.B6;
    r3.kInputId_pointer = H3;
    r3.kInputId_hold = K3;
    r3.kNumInputIds = d6t.D6;;
    "use strict";
    var L6 = function() {
            function e(t, k) {
                for (var j = d6t.W6; j < k.length; j++) {
                    var o = k[j];
                    o.enumerable = o.enumerable || d6t.F18;
                    o.configurable = d6t.s73;
                    if (d6t.y5f in o) o.writable = d6t.s73;
                    Object.defineProperty(t, o.key, o);
                }
            }
            return function(t, k, j) {
                if (k) e(t.prototype, k);
                if (j) e(t, j);
                return t;
            };
        }(),
        Z4 = function n4(t, k, j) {
            if (t === d6t.B3x) t = Function.prototype;
            var o = Object.getOwnPropertyDescriptor(t, k);
            if (o === undefined) {
                var e = Object.getPrototypeOf(t);
                if (e === d6t.B3x) {
                    return undefined;
                } else {
                    return n4(e, k, j);
                }
            } else if (d6t.y5f in o) {
                return o.value;
            } else {
                var q = o.get;
                if (q === undefined) {
                    return undefined;
                }
                return q.call(j);
            }
        };

    function q5(instance, k) {
        if (!(instance instanceof k)) {
            throw new TypeError(x6);
        }
    }

    function i4(t, k) {
        if (!t) {
            throw new ReferenceError(w3);
        }
        return k && (typeof k === d6t.O2f || typeof k === d6t.H5x) ? k : t;
    }

    function G4(t, k) {
        if (typeof k !== d6t.H5x && k !== d6t.B3x) {
            throw new TypeError(a3 + typeof k);
        }
        t.prototype = Object.create(k && k.prototype, {
            constructor: {
                value: t,
                enumerable: d6t.F18,
                writable: d6t.s73,
                configurable: d6t.s73
            }
        });
        if (k) Object.setPrototypeOf ? Object.setPrototypeOf(t, k) : t.__proto__ = k;
    }
    var M4 = g6.TetSmartControlSmartInputMgr = function(P5) {
        var p5 = "isPointInsideMatrixBuffer",
            w5 = "setTargetTransform",
            R5 = "updateTargetCell",
            r5 = "updateLivePieceTransform",
            T5 = "updatePointerSmoothing",
            a5 = "resetPointerPosition",
            x5 = "setParameter_restrictReachableTransforms";
        G4(f5, P5);

        function f5(t, k, j, o, e) {
            q5(this, f5);
            var q = i4(this, Object.getPrototypeOf(f5).call(this, f5.kInputType, f5.kNumInputIds, t, k, j, o, e));
            q.mActionsToTarget = new Array();
            q.mActionsToLivePiece = new Array();
            q.mCellTrackingInset_FXPT = d6t.a08;
            q.mSearchCellForTarget = d6t.s73;
            q.mSearchColumnForTarget = d6t.s73;
            q.mUpdateTargetWhilePointerInputIsOff = d6t.s73;
            q.mForceValidTarget = d6t.F18;
            q.mPointerSelectTargetMatrixBufferX = d6t.I6;
            q.mPointerSelectTargetMatrixBufferY = d6t.I6;
            q.mSelectTargetAtPointerInputOn = d6t.s73;
            q.mPieceDeactivationByNonSelectCancelsPointerOn = d6t.s73;
            q.mPointerSmoothingWeight_FXPT = d6t.W6;
            q.mDoSmoothingWhilePointerInputIsOff = d6t.F18;
            q.mRestrictReachableTransforms = d6t.F18;
            q.mEnablePathToTargetHardDrop = d6t.s73;
            q.mOptimizePathToTarget = d6t.s73;
            q.mTargetFinder = new l6(k, j, o, d6t.s73);
            q.mTargetPathFinder = q.mTargetFinder;
            q.mLivePiecePathFinder = new l6(k, j, o, d6t.F18);
            q.mPrevPointerSmoothingProcessTimeSEC_FXPT = d6t.W6;
            q.mAvailablePointerSmoothingProcessTimeSEC_FXPT = d6t.W6;
            q.resetPointerPosition();
            q.mLivePieceTransform = O5.kInvalidTransformId;
            q.mTargetTransform = O5.kInvalidTransformId;
            q.mDidSelectTarget = d6t.F18;
            q.mIgnoreNextSelectViaPointerOff = d6t.F18;
            q.mDidFirstLivePieceActivate = d6t.F18;
            q.mTransformIndexFromBest = d6t.W6;
            q.mResetPointerPositionAtNextPieceActivation = d6t.F18;
            return q;
        }
        L6(f5, [{
            key: x5,
            value: function setParameter_restrictReachableTransforms(t) {
                this.mRestrictReachableTransforms = t;
                if (t && this.mTargetPathFinder == this.mTargetFinder) {
                    this.mTargetPathFinder = new l6(this.getPieceData(), this.getMatrixWidth(), this.getMatrixHeight(), d6t.s73);
                }
            }
        }, {
            key: a5,
            value: function resetPointerPosition() {
                var t = this.getInput(f5.kInputId_pointer);
                t.mX_FXPT = ~~((this.getMatrixWidth() - d6t.A6) / d6t.D6) * O5.kFXPTScale;
                t.mY_FXPT = -d6t.A6;
                this.mTargetCellX_FXPT = t.mX_FXPT;
                this.mTargetCellY_FXPT = t.mY_FXPT;
                this.mIsTargetCellValid = d6t.F18;
                this.mSmoothedPointerInputX_FXPT = t.mX_FXPT;
            }
        }, {
            key: T5,
            value: function updatePointerSmoothing() {
                if (this.mPointerSmoothingWeight_FXPT > d6t.W6) {
                    var t = this.getInput(f5.kInputId_pointer);
                    if (t.mIsOn || this.mDoSmoothingWhilePointerInputIsOff) {
                        var k = this.getController()._getTimeSEC_FXPT(),
                            j = k - this.mPrevPointerSmoothingProcessTimeSEC_FXPT;
                        this.mPrevPointerSmoothingProcessTimeSEC_FXPT = k;
                        if (j > d6t.W6) {
                            this.mAvailablePointerSmoothingProcessTimeSEC_FXPT += j;
                            var o = d6t.x7x;
                            while (this.mAvailablePointerSmoothingProcessTimeSEC_FXPT > o) {
                                this.mSmoothedPointerInputX_FXPT = O5.FXPTSmoothXXX(this.mSmoothedPointerInputX_FXPT, t.mX_FXPT, this.mPointerSmoothingWeight_FXPT);
                                this.mAvailablePointerSmoothingProcessTimeSEC_FXPT -= o;
                            }
                            if (this.mSmoothedPointerInputX_FXPT != t.mX_FXPT) {
                                this.TetSmartControlInputMgr_handleInputPositionChanged(t);
                            }
                        }
                    } else {
                        this.mSmoothedPointerInputX_FXPT = t.mX_FXPT;
                    }
                }
            }
        }, {
            key: r5,
            value: function updateLivePieceTransform() {
                var t = this.getController()._getGameState(),
                    k = t.getLivePieceCurrentTransform();
                if (k != this.mLivePieceTransform) {
                    this.mLivePieceTransform = k;
                    if (this.mRestrictReachableTransforms) {
                        this.mTargetFinder.resetReachableTransforms(t.getLivePieceCurrentX(), t.getLivePieceCurrentY(), t.getLivePieceCurrentFacing());
                        return d6t.s73;
                    }
                }
                return d6t.F18;
            }
        }, {
            key: R5,
            value: function updateTargetCell(t, k, j, o) {
                var e = this.getInput(f5.kInputId_pointer);
                if (this.mUpdateTargetWhilePointerInputIsOff || e.mIsOn || j) {
                    if (this.mTargetTransform != O5.kInvalidTransformId && this.mCellTrackingInset_FXPT > d6t.W6) {
                        var q = ~~(t / O5.kFXPTScale) * O5.kFXPTScale,
                            m = ~~(k / O5.kFXPTScale) * O5.kFXPTScale;
                        if ((t - this.mTargetCellX_FXPT >= d6t.W6 ? t - this.mTargetCellX_FXPT : -(t - this.mTargetCellX_FXPT)) < e4.kHalfCellSize_FXPT && (t < q + this.mCellTrackingInset_FXPT || t > q + e4.kFullCellSize_FXPT - this.mCellTrackingInset_FXPT)) {
                            t = this.mTargetCellX_FXPT;
                        }
                        if ((k - this.mTargetCellY_FXPT >= d6t.W6 ? k - this.mTargetCellY_FXPT : -(k - this.mTargetCellY_FXPT)) < e4.kHalfCellSize_FXPT && (k < m + this.mCellTrackingInset_FXPT || k > m + e4.kFullCellSize_FXPT - this.mCellTrackingInset_FXPT)) {
                            k = this.mTargetCellY_FXPT;
                        }
                    }
                    var k5 = ~~(this.mTargetCellX_FXPT / O5.kFXPTScale),
                        C5 = ~~(this.mTargetCellY_FXPT / O5.kFXPTScale);
                    this.mTargetCellX_FXPT = O5.clampInt(t, d6t.W6, (this.getMatrixWidth() - d6t.A6) * O5.kFXPTScale);
                    this.mTargetCellY_FXPT = O5.clampInt(k, d6t.W6, (this.getMatrixVisibleHeight() - d6t.A6) * O5.kFXPTScale);
                    var H5 = this.mIsTargetCellValid;
                    this.mIsTargetCellValid = this.mUpdateTargetWhilePointerInputIsOff || e.mIsOn;
                    if (!this.isLivePieceControllable()) {
                        return;
                    }
                    var j5 = ~~(this.mTargetCellX_FXPT / O5.kFXPTScale),
                        Y5 = ~~(this.mTargetCellY_FXPT / O5.kFXPTScale);
                    if (H5 && !j && j5 == k5 && Y5 == C5) {
                        return;
                    }
                    var z5 = O5.kInvalidTransformId;
                    if (this.mSearchCellForTarget) {
                        z5 = this.mTargetFinder.getBestTransformForCell(j5, Y5, this.mTransformIndexFromBest, d6t.F18);
                    }
                    if (z5 == O5.kInvalidTransformId && this.mSearchColumnForTarget) {
                        z5 = this.mTargetFinder.getBestTransformForCellColumn(j5, Y5, d6t.s73, this.mTransformIndexFromBest, d6t.F18);
                    }
                    if (o && this.getPieceData().areTransformsEquivalent(this.getController()._getGameState().getLivePieceTypeId(), this.mTargetTransform, z5)) {
                        return;
                    }
                    this.setTargetTransform(z5, j);
                } else {
                    this.mIsTargetCellValid = d6t.F18;
                    if (!this.isLivePieceControllable()) {
                        return;
                    }
                    if (o && this.mTargetTransform == O5.kInvalidTransformId) {
                        return;
                    }
                    this.setTargetTransform(O5.kInvalidTransformId, d6t.s73);
                }
                return;
            }
        }, {
            key: w5,
            value: function setTargetTransform(t, k) {
                if (!this.isLivePieceControllable()) {
                    return;
                }
                var j = this.mTargetFinder.getLivePieceCurrentTransform();
                if (j != O5.kInvalidTransformId && t == O5.kInvalidTransformId) {
                    if (this.mForceValidTarget && this.mTargetTransform == O5.kInvalidTransformId) {
                        t = this.mTargetFinder.getTransformForControlAction(j, O5.kControlAction_hardDrop);
                    } else if (this.mRestrictReachableTransforms) {
                        t = this.mTargetTransform;
                    }
                }
                var o = t != this.mTargetTransform || k;
                this.mTargetTransform = t;
                var e, q;
                if (o) {
                    if (this.mTargetTransform != O5.kInvalidTransformId) {
                        var m = this.getPieceData().computeXFromTransformId(this.mTargetTransform),
                            k5 = this.getPieceData().computeYFromTransformId(this.mTargetTransform),
                            C5 = O5.computeFacingFromTransformId(this.mTargetTransform);
                        this.mTargetPathFinder.getBestActionsForTransform(this.mTargetTransform, this.mActionsToTarget, this.mOptimizePathToTarget, this.mEnablePathToTargetHardDrop);
                        var H5 = this.getController()._getGameState().getLivePieceCurrentY();
                        q = this.getPieceData().computeTransformId(m, H5, C5);
                        if (this.mTargetPathFinder.doesTransformCollide(q)) {
                            H5++;
                            while (H5 <= k5) {
                                q = this.getPieceData().computeTransformId(m, H5, C5);
                                if (!this.mTargetPathFinder.doesTransformCollide(q)) {
                                    break;
                                } else {
                                    H5++;
                                    q = O5.kInvalidTransformId;
                                }
                            }
                        }
                        if (q != O5.kInvalidTransformId && !this.mLivePiecePathFinder.getBestActionsForTransform(q, this.mActionsToLivePiece, d6t.s73, d6t.F18)) {
                            q = this.getPieceData().computeTransformId(m, H5, O5.rotateFacing180(C5, d6t.s73));
                            if (!this.mLivePiecePathFinder.getBestActionsForTransform(q, this.mActionsToLivePiece, d6t.s73, d6t.F18)) {
                                q = O5.kInvalidTransformId;
                            }
                        }
                        if (q == O5.kInvalidTransformId) {
                            q = this.getController()._getGameState().getLivePieceCurrentTransform();
                            if (!this.mLivePiecePathFinder.getBestActionsForTransform(q, this.mActionsToLivePiece, d6t.s73, d6t.F18)) {
                                q = O5.kInvalidTransformId;
                            }
                        }
                        if (q == O5.kInvalidTransformId) {
                            this.mActionsToLivePiece.length = d6t.W6;
                            e = O5.kTransformAction_none;
                            this.mActionsToLivePiece.push(e);
                        }
                        this.getController()._performControlAction(O5.kControlAction_moveTarget, this.mActionsToLivePiece, this.mActionsToTarget);
                        this.updateLivePieceTransform();
                    } else {
                        this.mActionsToTarget.length = d6t.W6;
                        e = O5.kTransformAction_invalidateTarget;
                        this.mActionsToTarget.push(e);
                        q = this.getController()._getGameState().getLivePieceCurrentTransform();
                        if (!this.mLivePiecePathFinder.getBestActionsForTransform(q, this.mActionsToLivePiece, d6t.s73, d6t.F18)) {
                            this.mActionsToLivePiece.length = d6t.W6;
                            e = O5.kTransformAction_none;
                            this.mActionsToLivePiece.push(e);
                        }
                        this.getController()._performControlAction(O5.kControlAction_moveTarget, this.mActionsToLivePiece, this.mActionsToTarget);
                        this.updateLivePieceTransform();
                    }
                }
            }
        }, {
            key: X4,
            value: function selectTarget() {
                if (!this.isLivePieceControllable()) {
                    return;
                }
                if (this.mTargetTransform != O5.kInvalidTransformId) {
                    this.mDidSelectTarget = d6t.s73;
                    this.getController()._performControlAction(O5.kControlAction_selectTarget, d6t.B3x, d6t.B3x);
                }
            }
        }, {
            key: p5,
            value: function isPointInsideMatrixBuffer(t, k) {
                if (t < -this.mPointerSelectTargetMatrixBufferX * O5.kFXPTScale) {
                    return d6t.F18;
                }
                if (t > (this.getMatrixWidth() + this.mPointerSelectTargetMatrixBufferX) * O5.kFXPTScale) {
                    return d6t.F18;
                }
                if (k < -this.mPointerSelectTargetMatrixBufferY * O5.kFXPTScale) {
                    return d6t.F18;
                }
                if (k > (this.getMatrixVisibleHeight() + this.mPointerSelectTargetMatrixBufferY) * O5.kFXPTScale) {
                    return d6t.F18;
                }
                return d6t.s73;
            }
        }, {
            key: G6,
            value: function destroy() {
                if (this.isDestroyed()) {
                    return;
                }
                if (this.mTargetFinder) {
                    if (this.mTargetPathFinder == this.mTargetFinder) {
                        this.mTargetPathFinder = d6t.B3x;
                    }
                    this.mTargetFinder.destroy();
                    if (this.mTargetFinder) this.mTargetFinder = d6t.B3x;
                }
                if (this.mTargetPathFinder) {
                    this.mTargetPathFinder.destroy();
                    if (this.mTargetPathFinder) this.mTargetPathFinder = d6t.B3x;
                }
                if (this.mLivePiecePathFinder) {
                    this.mLivePiecePathFinder.destroy();
                    if (this.mLivePiecePathFinder) this.mLivePiecePathFinder = d6t.B3x;
                }
                Z4(Object.getPrototypeOf(f5.prototype), G6, this).call(this);
            }
        }, {
            key: T6,
            value: function TetSmartControlInputMgr_setIsActive(t) {
                if (t) {
                    this.updateLivePieceTransform();
                    this.updateTargetCell(this.mTargetCellX_FXPT, this.mTargetCellY_FXPT, d6t.s73, d6t.s73);
                }
            }
        }, {
            key: J4,
            value: function TetSmartControlInputMgr_processTime() {
                this.updatePointerSmoothing();
                if (this.updateLivePieceTransform()) {
                    this.updateTargetCell(this.mTargetCellX_FXPT, this.mTargetCellY_FXPT, d6t.s73, d6t.s73);
                }
            }
        }, {
            key: x4,
            value: function TetSmartControlInputMgr_handleInputPositionChanged(t) {
                switch (t.mInputId) {
                    case f5.kInputId_pointer:
                        {
                            if (this.mPointerSmoothingWeight_FXPT == d6t.W6) {
                                this.mSmoothedPointerInputX_FXPT = t.mX_FXPT;
                            }
                            this.updateTargetCell(this.mSmoothedPointerInputX_FXPT, t.mY_FXPT, d6t.F18, d6t.F18);this.mResetPointerPositionAtNextPieceActivation = d6t.F18;
                            break;
                        }
                    case kInputId_moveTargetLeft:
                        break;
                    case kInputId_moveTargetRight:
                        break;
                    case kInputId_cycleTarget:
                        break;
                    case kInputId_selectTarget:
                        break;
                    case kInputId_hold:
                        break;
                }
            }
        }, {
            key: I5,
            value: function TetSmartControlInputMgr_handleInputIsOn(t) {
                var k, j;
                switch (t.mInputId) {
                    case f5.kInputId_pointer:
                        {
                            this.mPrevPointerSmoothingProcessTimeSEC_FXPT = this.getController()._getTimeSEC_FXPT();this.mAvailablePointerSmoothingProcessTimeSEC_FXPT = d6t.W6;this.mSmoothedPointerInputX_FXPT = t.mX_FXPT;this.mTransformIndexFromBest = d6t.W6;this.updateTargetCell(t.mX_FXPT, t.mY_FXPT, d6t.s73, d6t.F18);
                            if (this.isPointInsideMatrixBuffer(t.mX_FXPT, t.mY_FXPT) && this.mSelectTargetAtPointerInputOn) {
                                this.selectTarget();
                            }
                            break;
                        }
                    case kInputId_moveTargetLeft:
                    case kInputId_moveTargetRight:
                        {
                            this.mTransformIndexFromBest = d6t.W6;this.mTargetCellY_FXPT = -d6t.A6;k = this.getController()._getGameState().getLivePieceTypeId();j = this.mTargetTransform;
                            switch (t.mInputId) {
                                case kInputId_moveTargetLeft:
                                    {
                                        while (this.mTargetCellX_FXPT > d6t.W6 && this.getPieceData().areTransformsEquivalent(k, this.mTargetTransform, j)) {
                                            this.mTargetCellX_FXPT -= O5.kFXPTOne;
                                            this.updateTargetCell(this.mTargetCellX_FXPT, this.mTargetCellY_FXPT, d6t.s73, d6t.s73);
                                        }
                                        break;
                                    }
                                case kInputId_moveTargetRight:
                                    {
                                        var o = O5.FXPTFromInt(this.getMatrixWidth() - d6t.A6) - d6t.A6;
                                        while (this.mTargetCellX_FXPT < o && this.getPieceData().areTransformsEquivalent(k, this.mTargetTransform, j)) {
                                            this.mTargetCellX_FXPT += O5.kFXPTOne;
                                            this.updateTargetCell(this.mTargetCellX_FXPT, this.mTargetCellY_FXPT, d6t.s73, d6t.s73);
                                        }
                                        break;
                                    }
                            }
                            t.mIsOn = d6t.F18;t.mX_FXPT = this.mTargetCellX_FXPT;t.mY_FXPT = this.mTargetCellY_FXPT;this.mResetPointerPositionAtNextPieceActivation = d6t.s73;
                            break;
                        }
                    case kInputId_cycleTarget:
                        {
                            this.mTransformIndexFromBest++;
                            if (this.mTransformIndexFromBest >= d6t.a08) {
                                this.mTransformIndexFromBest = d6t.W6;
                            }
                            this.updateTargetCell(this.mTargetCellX_FXPT, this.mTargetCellY_FXPT, d6t.s73, d6t.s73);
                            break;
                        }
                    case kInputId_selectTarget:
                        this.selectTarget();
                        break;
                    case kInputId_hold:
                        this.getController()._performControlAction(O5.kControlAction_hold, d6t.B3x, d6t.B3x);
                        break;
                }
            }
        }, {
            key: X5,
            value: function TetSmartControlInputMgr_handleInputIsOff(t) {
                switch (t.mInputId) {
                    case f5.kInputId_pointer:
                        {
                            this.mSmoothedPointerInputX_FXPT = t.mX_FXPT;this.mTransformIndexFromBest = d6t.W6;this.updateTargetCell(t.mX_FXPT, t.mY_FXPT, d6t.s73, d6t.F18);
                            if (this.isPointInsideMatrixBuffer(t.mX_FXPT, t.mY_FXPT) && !this.mSelectTargetAtPointerInputOn && !this.mIgnoreNextSelectViaPointerOff) {
                                this.selectTarget();
                            }
                            if (!this.mUpdateTargetWhilePointerInputIsOff) {
                                this.resetPointerPosition();
                            }
                            this.mIgnoreNextSelectViaPointerOff = d6t.F18;
                            break;
                        }
                    case kInputId_moveTargetLeft:
                        break;
                    case kInputId_moveTargetRight:
                        break;
                    case kInputId_cycleTarget:
                        break;
                    case kInputId_selectTarget:
                        break;
                    case kInputId_hold:
                        break;
                }
            }
        }, {
            key: E5,
            value: function TetSmartControlInputMgr_handleInputOnIsCancelled(t) {
                switch (t.mInputId) {
                    case f5.kInputId_pointer:
                        {
                            this.mSmoothedPointerInputX_FXPT = t.mX_FXPT;this.updateTargetCell(this.mTargetCellX_FXPT, this.mTargetCellY_FXPT, d6t.s73, d6t.F18);this.mIgnoreNextSelectViaPointerOff = d6t.F18;
                            break;
                        }
                    case kInputId_moveTargetLeft:
                        break;
                    case kInputId_moveTargetRight:
                        break;
                    case kInputId_cycleTarget:
                        break;
                    case kInputId_selectTarget:
                        break;
                    case kInputId_hold:
                        break;
                }
            }
        }, {
            key: e5,
            value: function TetSmartControlInputMgr_startEvaluationForNewLivePiece() {
                this.mActionsToTarget.length = d6t.W6;
                this.mActionsToLivePiece.length = d6t.W6;
                if (this.mTargetFinder) {
                    this.mTargetFinder.startStateEvaluation(this.getController()._getGameState());
                }
                if (this.mTargetPathFinder && this.mTargetPathFinder != this.mTargetFinder) {
                    this.mTargetPathFinder.startStateEvaluation(this.getController()._getGameState());
                }
                if (this.mLivePiecePathFinder) {
                    this.mLivePiecePathFinder.startStateEvaluation(this.getController()._getGameState());
                }
            }
        }, {
            key: l5,
            value: function TetSmartControlInputMgr_processEvaluationForNewLivePiece() {
                var t = d6t.s73;
                if (t && this.mTargetFinder) {
                    t = this.mTargetFinder.processStateEvaluation();
                }
                if (t && this.mTargetPathFinder && this.mTargetPathFinder != this.mTargetFinder) {
                    t = this.mTargetPathFinder.processStateEvaluation();
                }
                if (t && this.mLivePiecePathFinder) {
                    t = this.mLivePiecePathFinder.processStateEvaluation();
                }
                if (t && this.isLivePieceControllable()) {
                    this.updateTargetCell(this.mTargetCellX_FXPT, this.mTargetCellY_FXPT, this.mIsTargetCellValid, d6t.F18);
                }
                return t;
            }
        }, {
            key: P3,
            value: function TetSmartControlInputMgr_handleLivePieceDidActivate() {
                var t = this.mResetPointerPositionAtNextPieceActivation;
                if (!this.mDidFirstLivePieceActivate) {
                    this.mDidFirstLivePieceActivate = d6t.s73;
                    if (this.mUpdateTargetWhilePointerInputIsOff) {
                        t = d6t.s73;
                    }
                }
                if (t) {
                    this.resetPointerPosition();
                    this.mResetPointerPositionAtNextPieceActivation = d6t.F18;
                }
                this.mLivePieceTransform = this.getController()._getGameState().getLivePieceCurrentTransform();
                this.mTransformIndexFromBest = d6t.W6;
                this.mTargetTransform = O5.kInvalidTransformId;
                this.mDidSelectTarget = d6t.F18;
                if (!this.isLivePieceControllable()) {
                    return;
                }
                var k = this.mIsTargetCellValid;
                this.updateTargetCell(this.mTargetCellX_FXPT, this.mTargetCellY_FXPT, this.mIsTargetCellValid, d6t.F18);
                this.mIsTargetCellValid = k;
            }
        }, {
            key: I4,
            value: function TetSmartControlInputMgr_handleLivePieceDidDeactivate() {
                var t = this.getInput(f5.kInputId_pointer);
                this.mIgnoreNextSelectViaPointerOff = this.mPieceDeactivationByNonSelectCancelsPointerOn && t.mIsOn && !this.mDidSelectTarget && this.getController()._getGameState().getCurrentControlAction() != O5.kControlAction_hold;
                this.mDidSelectTarget = d6t.F18;
            }
        }]);
        return f5;
    }(r7);
    M4.kInputType = d6t.D6;
    M4.kInputId_pointer = b4;
    M4.kInputId_moveTargetLeft = l4;
    M4.kInputId_moveTargetRight = S4;
    M4.kInputId_cycleTarget = T4;
    M4.kInputId_selectTarget = r4;
    M4.kInputId_hold = w6;
    M4.kNumInputIds = d6t.J6;;
    "use strict";
    var L6 = function() {
        function e(t, k) {
            for (var j = d6t.W6; j < k.length; j++) {
                var o = k[j];
                o.enumerable = o.enumerable || d6t.F18;
                o.configurable = d6t.s73;
                if (d6t.y5f in o) o.writable = d6t.s73;
                Object.defineProperty(t, o.key, o);
            }
        }
        return function(t, k, j) {
            if (k) e(t.prototype, k);
            if (j) e(t, j);
            return t;
        };
    }();

    function q5(instance, k) {
        if (!(instance instanceof k)) {
            throw new TypeError(x6);
        }
    }
    var D7 = g6.TetSmartControlModel = function() {
        var z5 = "updateDirectModeGhostPiece",
            P5 = "setTransforms",
            p5 = "setLivePieceTransform",
            w5 = "trySnapToTarget",
            R5 = "_handleLivePieceDidTouchDown",
            r5 = "updateLowestRowReachedByLivePiece",
            T5 = "updateGameStateLivePieceCurrentTransform",
            a5 = "getCurrentLivePieceBottomRow",
            x5 = "getCurrentLivePieceTransform",
            f5 = "getCurrentLivePiece",
            A5 = "isLivePieceActive",
            u5 = "isControlModeSmart",
            B5 = "setControlMode",
            D5 = "processLivePiecePathToTarget",
            o5 = "isControllingLivePiecePathToTarget",
            N5 = "performControlAction",
            y5 = "getGameState",
            U5 = "captureStateForCurrentLivePiece",
            W5 = "captureStateForNewLivePiece";

        function J5(t, k, j) {
            q5(this, J5);
            this.mActionTransformPathToTarget = new Array();
            this.mIsDestroyed = d6t.F18;
            this.mLivePieceStartingYOffset = d6t.D6;
            this.mLockLivePieceAtTarget = d6t.s73;
            this.mSnapToTargetOnTouchDownFallSpeedMSEC = d6t.X7x;
            this.mSmartPlacementsAllowedBeforeLock = d6t.j9x;
            this.mDirectPlacementsAllowedBeforeLock = d6t.B7x;
            this.mAllowDirectRotationalHovering = d6t.F18;
            this.mAllowInfiniteHold = d6t.F18;
            this.mEnablePathToTarget = d6t.F18;
            this.mMatrixWidth = t;
            this.mMatrixHeight = k;
            this.mPieceData = j;
            this.mIsLivePieceActive = d6t.F18;
            this.mIsLivePieceControllable = d6t.F18;
            this.mCanHoldLivePiece = d6t.s73;
            this.mIsSoftDropOn = d6t.F18;
            this.mIsActive = d6t.s73;
            this.mControlMode = J5.kControlMode_direct;
            this.mGameState = new u6(j, t, k);
            this.mLowestLivePieceY = w4;
            this.mLowestRowTouchedByLivePiece = w4;
            this.mIsLivePieceTouchingDown = d6t.F18;
            this.mTargetTransform = O5.kInvalidTransformId;
            this.mSmartPlacementsRemainingBeforeLock = d6t.W6;
            this.mDirectPlacementsRemainingBeforeLock = d6t.W6;
            this.mActionTransformPathToTarget.length = d6t.W6;
            this.mDidMatrixChangeSinceLastSetTransforms = d6t.F18;
            this.mDidPlayerActivelySelectTarget = d6t.F18;
            this.mCurrentLivePiecePathStep = -d6t.A6;
            this.mEndingRotationPointForPiece = d6t.W6;
            this.mSoftDropStepsForPiece = d6t.W6;
            this.mHardDropStepsForPiece = d6t.W6;
        }
        L6(J5, [{
            key: c4,
            value: function isDestroyed() {
                return this.mIsDestroyed;
            }
        }, {
            key: E4,
            value: function getPieceData() {
                return this.mPieceData;
            }
        }, {
            key: W5,
            value: function captureStateForNewLivePiece(t, k, j, o) {
                this.mGameState.resetStateWithLivePiece(t, k, j + this.mLivePieceStartingYOffset, o);
                this.TetSmartControlModel_captureMatrix();
                this.mDidMatrixChangeSinceLastSetTransforms = d6t.s73;
            }
        }, {
            key: U5,
            value: function captureStateForCurrentLivePiece() {
                this.mGameState.resetStateWithCurrentLivePiece();
                this.TetSmartControlModel_captureMatrix();
                this.mDidMatrixChangeSinceLastSetTransforms = d6t.s73;
            }
        }, {
            key: d4,
            value: function setCurrentStateMatrixMino(t, k, j) {
                this.mGameState.setMino(t, k, j, 0x7fffffff, d6t.F18, d6t.s73, d6t.s73);
            }
        }, {
            key: y5,
            value: function getGameState() {
                this.updateGameStateLivePieceCurrentTransform();
                return this.mGameState;
            }
        }, {
            key: g4,
            value: function handleLivePieceDidActivate() {
                this.mIsLivePieceActive = d6t.s73;
                this.mIsLivePieceControllable = d6t.s73;
                this.mLowestLivePieceY = w4;
                this.mLowestRowTouchedByLivePiece = w4;
                this.mIsLivePieceTouchingDown = d6t.F18;
                this.mSmartPlacementsRemainingBeforeLock = this.mSmartPlacementsAllowedBeforeLock;
                this.mDirectPlacementsRemainingBeforeLock = this.mDirectPlacementsAllowedBeforeLock;
                this.mTargetTransform = O5.kInvalidTransformId;
                this.mActionTransformPathToTarget.length = d6t.W6;
                this.mDidPlayerActivelySelectTarget = d6t.F18;
                this.mCurrentLivePiecePathStep = -d6t.A6;
                this.mEndingRotationPointForPiece = d6t.W6;
                this.mSoftDropStepsForPiece = d6t.W6;
                this.mHardDropStepsForPiece = d6t.W6;
                this.mGameState.setCurrentControlAction(O5.kControlAction_none);
                this.updateGameStateLivePieceCurrentTransform();
                if (!this.mIsActive) {
                    return;
                }
                this.updateDirectModeGhostPiece();
                this.updateLowestRowReachedByLivePiece();
                if (this.mGameState.doesPieceTouchBelow(this.getCurrentLivePiece())) {
                    this.handleLivePieceDidTouchDown();
                }
            }
        }, {
            key: N4,
            value: function handleLivePieceDidFall() {
                if (!this.isLivePieceControllable()) {
                    return;
                }
                this.updateGameStateLivePieceCurrentTransform();
                this.mEndingRotationPointForPiece = d6t.W6;
                if (this.isSoftDropOnAndValid() && !this.isControlModeSmart()) {
                    this.mSoftDropStepsForPiece++;
                }
                this.updateDirectModeGhostPiece();
                this.updateLowestRowReachedByLivePiece();
            }
        }, {
            key: B4,
            value: function handleLivePieceDidTouchDown() {
                if (!this.isLivePieceControllable()) {
                    return;
                }
                if (this.mIsLivePieceTouchingDown) {
                    return;
                }
                this.updateGameStateLivePieceCurrentTransform();
                this.trySnapToTarget();
                this._handleLivePieceDidTouchDown();
            }
        }, {
            key: D4,
            value: function handleLivePieceWillLockDown() {
                if (!this.isLivePieceControllable()) {
                    return;
                }
                this.updateGameStateLivePieceCurrentTransform();
                if (this.isControlModeSmart()) {
                    if (this.mLockLivePieceAtTarget && this.mTargetTransform != O5.kInvalidTransformId) {
                        this.selectTarget(d6t.F18, d6t.F18, d6t.F18);
                    }
                }
                this.mIsLivePieceActive = d6t.F18;
                this.mIsLivePieceControllable = d6t.F18;
            }
        }, {
            key: z4,
            value: function handleLivePieceDidDeactivate() {
                this.mIsLivePieceActive = d6t.F18;
                this.mCanHoldLivePiece = d6t.s73;
            }
        }, {
            key: N5,
            value: function performControlAction(t, k, j) {
                var o = d6t.W6;
                this.mGameState.setCurrentControlAction(t);
                switch (t) {
                    case O5.kControlAction_moveLeft:
                    case O5.kControlAction_moveRight:
                    case O5.kControlAction_rotateCW:
                    case O5.kControlAction_rotateCCW:
                    case O5.kControlAction_superRotateCW:
                    case O5.kControlAction_superRotateCCW:
                    case O5.kControlAction_startSoftDrop:
                    case O5.kControlAction_stopSoftDrop:
                    case O5.kControlAction_hardDrop:
                    case O5.kControlAction_updateGhost:
                        {
                            this.setControlMode(J5.kControlMode_direct);
                            switch (t) {
                                case O5.kControlAction_updateGhost:
                                    {
                                        if (this.isLivePieceControllable()) {
                                            var e = this.getCurrentLivePieceTransform();
                                            if (e != O5.kInvalidTransformId) {
                                                this.setTransforms(e, this.mGameState.getTransformForControlAction(e, O5.kControlAction_hardDrop), O5.kControlAction_none, d6t.W6);
                                            }
                                        }
                                        break;
                                    }
                                case O5.kControlAction_startSoftDrop:
                                    if (!this.mIsSoftDropOn && this.TetSmartControlModel_performControlAction(O5.kControlAction_startSoftDrop)) {
                                        this.mIsSoftDropOn = d6t.s73;
                                    } else {
                                        this.TetSmartControlModel_controlActionFailed(O5.kControlAction_startSoftDrop);
                                    }
                                    break;
                                case O5.kControlAction_stopSoftDrop:
                                    if (this.mIsSoftDropOn && this.TetSmartControlModel_performControlAction(O5.kControlAction_stopSoftDrop)) {
                                        this.mIsSoftDropOn = d6t.F18;
                                    } else {
                                        this.TetSmartControlModel_controlActionFailed(O5.kControlAction_stopSoftDrop);
                                    }
                                    break;
                                default:
                                    if (this.isLivePieceControllable()) {
                                        if (this.TetSmartControlModel_performControlAction(t)) {
                                            this.updateGameStateLivePieceCurrentTransform();
                                        } else {
                                            var q = this.getCurrentLivePieceTransform(),
                                                m;
                                            switch (t) {
                                                case O5.kControlAction_moveLeft:
                                                case O5.kControlAction_moveRight:
                                                case O5.kControlAction_rotateCW:
                                                case O5.kControlAction_rotateCCW:
                                                case O5.kControlAction_superRotateCW:
                                                case O5.kControlAction_superRotateCCW:
                                                    {
                                                        switch (t) {
                                                            case O5.kControlAction_superRotateCW:
                                                            case O5.kControlAction_superRotateCCW:
                                                                if (!this.mAllowDirectRotationalHovering && this.mDirectPlacementsRemainingBeforeLock <= d6t.W6) {
                                                                    switch (t) {
                                                                        case O5.kControlAction_superRotateCW:
                                                                            t = O5.kControlAction_rotateCW;
                                                                            break;
                                                                        case O5.kControlAction_superRotateCCW:
                                                                            t = O5.kControlAction_rotateCCW;
                                                                            break;
                                                                    }
                                                                }
                                                                break;
                                                        }
                                                        o = this.mGameState.getTransformForControlAction(q, t);
                                                        if (o != O5.kInvalidTransformId) {
                                                            var k5 = this.mGameState.getTransformActionForControlAction(q, o, t),
                                                                C5 = O5.getControlActionInfoForTransformAction(k5);
                                                            m = this.mGameState.getTransformForControlAction(o, O5.kControlAction_hardDrop);
                                                            this.setTransforms(o, m, t, C5);
                                                        } else {
                                                            this.TetSmartControlModel_controlActionFailed(t);
                                                        }
                                                        break;
                                                    }
                                                case O5.kControlAction_hardDrop:
                                                    m = this.mGameState.getTransformForControlAction(q, O5.kControlAction_hardDrop);
                                                    this.mHardDropStepsForPiece = this.mPieceData.computeYFromTransformId(q) - this.mPieceData.computeYFromTransformId(m);
                                                    this.setTransforms(q, m, O5.kControlAction_none, d6t.W6);
                                                    this.selectTarget(d6t.s73, d6t.F18, d6t.s73);
                                                    break;
                                                default:
                                                    this.TetSmartControlModel_controlActionFailed(t);
                                                    break;
                                            }
                                        }
                                    } else {
                                        this.TetSmartControlModel_controlActionFailed(t);
                                    }
                                    break;
                            }
                            break;
                        }
                    case O5.kControlAction_moveTarget:
                    case O5.kControlAction_moveTargetLeft:
                    case O5.kControlAction_moveTargetRight:
                    case O5.kControlAction_cycleTarget:
                    case O5.kControlAction_moveToTarget:
                    case O5.kControlAction_selectTarget:
                        {
                            this.setControlMode(J5.kControlMode_smart);
                            switch (t) {
                                case O5.kControlAction_moveTarget:
                                    {
                                        o = this.mGameState.generateActionTransformPathWithActions(this.mGameState.getLivePieceStartingTransform(), k, d6t.B3x);
                                        var H5 = this.mGameState.generateActionTransformPathWithActions(this.mGameState.getLivePieceStartingTransform(), j, this.mActionTransformPathToTarget);this.setTransforms(o, H5, O5.kControlAction_moveTarget, d6t.W6);
                                        break;
                                    }
                                case O5.kControlAction_moveTargetLeft:
                                    break;
                                case O5.kControlAction_moveTargetRight:
                                    break;
                                case O5.kControlAction_cycleTarget:
                                    break;
                                case O5.kControlAction_moveToTarget:
                                    break;
                                case O5.kControlAction_selectTarget:
                                    this.selectTarget(d6t.s73, this.mEnablePathToTarget, d6t.s73);
                                    break;
                            }
                            break;
                        }
                    case O5.kControlAction_hold:
                        {
                            if (this.isLivePieceControllable()) {
                                if (this.mCanHoldLivePiece && this.TetSmartControlModel_performControlAction(O5.kControlAction_hold)) {
                                    if (!this.mAllowInfiniteHold) {
                                        this.mCanHoldLivePiece = d6t.F18;
                                    }
                                } else {
                                    this.TetSmartControlModel_controlActionFailed(O5.kControlAction_hold);
                                }
                            } else {
                                this.TetSmartControlModel_controlActionFailed(O5.kControlAction_hold);
                            }
                            break;
                        }
                }
                this.mGameState.setCurrentControlAction(O5.kControlAction_none);
            }
        }, {
            key: o5,
            value: function isControllingLivePiecePathToTarget() {
                return this.isLivePieceActive() && this.mCurrentLivePiecePathStep >= d6t.W6;
            }
        }, {
            key: D5,
            value: function processLivePiecePathToTarget() {
                if (!this.isLivePieceActive()) {
                    return;
                }
                if (this.mCurrentLivePiecePathStep < d6t.W6) {
                    return;
                }
                var t = this.mActionTransformPathToTarget.length / d6t.D6;
                if (this.mCurrentLivePiecePathStep < t) {
                    var k = this.mActionTransformPathToTarget[this.mCurrentLivePiecePathStep * d6t.D6],
                        j = this.mActionTransformPathToTarget[this.mCurrentLivePiecePathStep * d6t.D6 + d6t.A6];
                    this.setLivePieceTransform(j, O5.getControlActionForTransformAction(k), O5.getControlActionInfoForTransformAction(k));
                    this.mCurrentLivePiecePathStep++;
                }
                if (this.mCurrentLivePiecePathStep >= t) {
                    this.TetSmartControlModel_lockLivePiece();
                    this.mCurrentLivePiecePathStep = -d6t.A6;
                }
            }
        }, {
            key: a4,
            value: function getEndingRotationPointForPiece() {
                return this.mEndingRotationPointForPiece;
            }
        }, {
            key: o4,
            value: function isSoftDropOnAndValid() {
                return this.isLivePieceControllable() && this.mIsSoftDropOn && this.TetSmartControlModel_getLivePieceY() <= this.mLowestLivePieceY;
            }
        }, {
            key: O4,
            value: function getSoftDropStepsForPiece() {
                return this.mSoftDropStepsForPiece;
            }
        }, {
            key: W4,
            value: function getHardDropStepsForPiece() {
                return this.mHardDropStepsForPiece;
            }
        }, {
            key: o6,
            value: function didPlayerActivelySelectTarget() {
                return this.mDidPlayerActivelySelectTarget;
            }
        }, {
            key: R4,
            value: function suspendActivity() {
                if (!this.mIsActive) {
                    return;
                }
                this.mIsActive = d6t.F18;
                this.mTargetTransform = O5.kInvalidTransformId;
            }
        }, {
            key: p4,
            value: function resumeActivity() {
                if (this.mIsActive) {
                    return;
                }
                this.mIsActive = d6t.s73;
                this.mTargetTransform = O5.kInvalidTransformId;
                this.updateLowestRowReachedByLivePiece();
            }
        }, {
            key: R3,
            value: function isActive() {
                return this.mIsActive;
            }
        }, {
            key: B5,
            value: function setControlMode(t) {
                if (this.mControlMode == t) {
                    return;
                }
                if (this.mIsSoftDropOn) {
                    this.TetSmartControlModel_performControlAction(O5.kControlAction_stopSoftDrop);
                    this.mIsSoftDropOn = d6t.F18;
                }
                this.mControlMode = t;
                this.mActionTransformPathToTarget.length = d6t.W6;
                this.mEndingRotationPointForPiece = d6t.W6;
            }
        }, {
            key: u5,
            value: function isControlModeSmart() {
                return this.mControlMode == J5.kControlMode_smart;
            }
        }, {
            key: A5,
            value: function isLivePieceActive() {
                return this.mIsActive && this.mIsLivePieceActive;
            }
        }, {
            key: e6,
            value: function isLivePieceControllable() {
                return this.mIsActive && this.mIsLivePieceActive && this.mIsLivePieceControllable;
            }
        }, {
            key: f5,
            value: function getCurrentLivePiece() {
                if (this.isLivePieceActive()) {
                    return this.mPieceData.getPiece(this.mGameState.getLivePieceTypeId(), this.getCurrentLivePieceTransform());
                } else {
                    return d6t.B3x;
                }
            }
        }, {
            key: x5,
            value: function getCurrentLivePieceTransform() {
                return this.mPieceData.computeTransformId(this.TetSmartControlModel_getLivePieceX(), this.TetSmartControlModel_getLivePieceY(), this.TetSmartControlModel_getLivePieceFacing());
            }
        }, {
            key: a5,
            value: function getCurrentLivePieceBottomRow() {
                var t = this.getCurrentLivePiece();
                if (t) {
                    return t.mMinMinoY;
                } else {
                    return -d6t.A6;
                }
            }
        }, {
            key: T5,
            value: function updateGameStateLivePieceCurrentTransform() {
                if (this.isLivePieceActive()) {
                    this.mGameState.setLivePieceCurrentTransform(this.getCurrentLivePieceTransform());
                }
            }
        }, {
            key: r5,
            value: function updateLowestRowReachedByLivePiece() {
                if (!this.isLivePieceControllable()) {
                    return;
                }
                var t = this.TetSmartControlModel_getLivePieceY();
                if (t < this.mLowestLivePieceY) {
                    this.mLowestLivePieceY = t;
                }
                var k = this.getCurrentLivePieceBottomRow();
                if (k < this.mLowestRowTouchedByLivePiece) {
                    this.mLowestRowTouchedByLivePiece = k;
                    this.mSmartPlacementsRemainingBeforeLock = this.mSmartPlacementsAllowedBeforeLock;
                    this.mDirectPlacementsRemainingBeforeLock = this.mDirectPlacementsAllowedBeforeLock;
                }
            }
        }, {
            key: R5,
            value: function _handleLivePieceDidTouchDown() {
                if (!this.isLivePieceControllable()) {
                    return;
                }
                if (this.mIsLivePieceTouchingDown) {
                    return;
                }
                this.mIsLivePieceTouchingDown = d6t.s73;
                var t;
                if (this.isControlModeSmart()) {
                    t = this.mSmartPlacementsRemainingBeforeLock;
                } else {
                    t = this.mDirectPlacementsRemainingBeforeLock;
                }
                if (t > d6t.W6) {
                    this.TetSmartControlModel_startLockTimer();
                } else {
                    this.mIsLivePieceControllable = d6t.F18;
                    this.TetSmartControlModel_lockLivePiece();
                }
            }
        }, {
            key: w5,
            value: function trySnapToTarget() {
                if (!this.isControlModeSmart()) {
                    return d6t.F18;
                }
                var t = this.getCurrentLivePiece();
                if (this.TetSmartControlModel_getNormalFallSpeedMSEC() <= this.mSnapToTargetOnTouchDownFallSpeedMSEC && this.mGameState.doesPieceTouchBelow(t)) {
                    if (!this.mPieceData.areTransformsEquivalent(this.mGameState.getLivePieceTypeId(), t.mTransformId, this.mTargetTransform)) {
                        this.setLivePieceTransform(this.mTargetTransform, O5.kControlAction_moveToTarget, d6t.W6);
                        return d6t.s73;
                    }
                }
                return d6t.F18;
            }
        }, {
            key: p5,
            value: function setLivePieceTransform(t, k, j) {
                if (t == this.getCurrentLivePieceTransform()) {
                    return;
                }
                var o = this.mPieceData.computeXFromTransformId(t),
                    e = this.mPieceData.computeYFromTransformId(t),
                    q = O5.computeFacingFromTransformId(t);
                this.TetSmartControlModel_setLivePieceTransform(o, e, q, k, j);
                this.updateGameStateLivePieceCurrentTransform();
            }
        }, {
            key: P5,
            value: function setTransforms(t, k, j, o) {
                this.updateGameStateLivePieceCurrentTransform();
                this.mTargetTransform = k;
                if (k != O5.kInvalidTransformId) {
                    this.TetSmartControlModel_setGhostPieceIsValid(d6t.s73);
                    var e = this.mPieceData.computeXFromTransformId(k),
                        q = this.mPieceData.computeYFromTransformId(k),
                        m = O5.computeFacingFromTransformId(k);
                    this.TetSmartControlModel_setGhostPieceTransform(e, q, m);
                } else {
                    this.TetSmartControlModel_setGhostPieceIsValid(d6t.F18);
                }
                if (t != O5.kInvalidTransformId) {
                    var k5 = this.getCurrentLivePieceTransform();
                    if (k5 != t || this.mDidMatrixChangeSinceLastSetTransforms) {
                        this.mDidMatrixChangeSinceLastSetTransforms = d6t.F18;
                        this.setLivePieceTransform(t, j, o);
                        var C5 = this.getCurrentLivePieceTransform();
                        if (C5 != k5) {
                            var H5 = this.mGameState.getLivePieceTypeId(),
                                j5 = this.mPieceData.getPiece(H5, C5);
                            if (this.trySnapToTarget()) {
                                C5 = this.getCurrentLivePieceTransform();
                                j5 = this.mPieceData.getPiece(H5, C5);
                            }
                            switch (j) {
                                case O5.kControlAction_rotateCW:
                                case O5.kControlAction_rotateCCW:
                                case O5.kControlAction_superRotateCW:
                                case O5.kControlAction_superRotateCCW:
                                    {
                                        var Y5 = o;
                                        if (this.mEndingRotationPointForPiece == d6t.U6) {
                                            if (Y5 != d6t.A6) {
                                                this.mEndingRotationPointForPiece = Y5;
                                            }
                                        } else {
                                            this.mEndingRotationPointForPiece = Y5;
                                        }
                                        break;
                                    }
                                default:
                                    if (!this.getPieceData().areTransformsEquivalent(this.mGameState.getLivePieceTypeId(), C5, k5)) {
                                        this.mEndingRotationPointForPiece = d6t.W6;
                                    }
                                    break;
                            }
                            if (this.isControlModeSmart()) {
                                this.mSmartPlacementsRemainingBeforeLock--;
                            } else {
                                this.mDirectPlacementsRemainingBeforeLock--;
                            }
                            this.updateLowestRowReachedByLivePiece();
                            if (this.mGameState.doesPieceTouchBelow(j5)) {
                                this.mIsLivePieceTouchingDown = d6t.F18;
                                this._handleLivePieceDidTouchDown();
                            } else if (this.mIsLivePieceTouchingDown) {
                                this.mIsLivePieceTouchingDown = d6t.F18;
                                this.TetSmartControlModel_cancelLockTimer();
                                this.TetSmartControlModel_restartLivePieceFalling(this.mIsSoftDropOn);
                            }
                        }
                    }
                }
                this.updateGameStateLivePieceCurrentTransform();
            }
        }, {
            key: X4,
            value: function selectTarget(t, k, j) {
                if (!this.isLivePieceControllable()) {
                    return;
                }
                this.updateGameStateLivePieceCurrentTransform();
                this.mIsLivePieceControllable = d6t.F18;
                this.mCurrentLivePiecePathStep = -d6t.A6;
                this.mDidPlayerActivelySelectTarget = t;
                this.TetSmartControlModel_stopLivePieceFalling();
                this.TetSmartControlModel_setGhostPieceIsValid(d6t.F18);
                var o, e = d6t.W6;
                if (this.isControlModeSmart()) {
                    o = O5.kControlAction_selectTarget;
                } else {
                    o = O5.kControlAction_hardDrop;
                }
                if (this.mTargetTransform != O5.kInvalidTransformId) {
                    if (this.isControlModeSmart()) {
                        this.mEndingRotationPointForPiece = this.mGameState.getEndingRotationPointForPath(this.mActionTransformPathToTarget);
                        var q = this.getCurrentLivePieceTransform();
                        this.mSoftDropStepsForPiece = this.mGameState.getSoftDropStepsForPath(this.mActionTransformPathToTarget, q, this.mLowestLivePieceY);
                        this.mHardDropStepsForPiece = this.mGameState.getHardDropStepsForPath(this.mActionTransformPathToTarget, q);
                    }
                    if (k) {
                        this.mCurrentLivePiecePathStep = d6t.W6;
                        this.TetSmartControlModel_startedControllingLivePieceToTarget();
                        this.processLivePiecePathToTarget();
                    } else {
                        this.setLivePieceTransform(this.mTargetTransform, o, e);
                        if (j) {
                            this.TetSmartControlModel_lockLivePiece();
                        }
                    }
                } else {
                    this.mHardDropStepsForPiece = d6t.W6;
                    var m = this.getCurrentLivePiece();
                    while (m && !this.mGameState.doesPieceTouchBelow(m)) {
                        m = this.mPieceData.getPiece(this.mGameState.getLivePieceTypeId(), m.mPerTransformActionToTransformIds[O5.kTransformAction_moveDown]);
                        this.mHardDropStepsForPiece++;
                    }
                    this.setLivePieceTransform(m.mTransformId, o, e);
                    if (j) {
                        this.TetSmartControlModel_lockLivePiece();
                    }
                }
            }
        }, {
            key: z5,
            value: function updateDirectModeGhostPiece() {
                if (this.mControlMode != J5.kControlMode_direct) {
                    return;
                }
                this.performControlAction(O5.kControlAction_updateGhost, d6t.B3x, d6t.B3x);
            }
        }, {
            key: G6,
            value: function destroy() {
                if (this.isDestroyed()) {
                    return;
                }
                this.mGameState.destroy();
                if (this.mGameState) this.mGameState = d6t.B3x;
                this.mIsDestroyed = d6t.s73;
            }
        }, {
            key: Q6,
            value: function TetSmartControlModel_captureMatrix() {}
        }, {
            key: v5,
            value: function TetSmartControlModel_getLivePieceX() {
                return d6t.W6;
            }
        }, {
            key: C4,
            value: function TetSmartControlModel_getLivePieceY() {
                return d6t.W6;
            }
        }, {
            key: s4,
            value: function TetSmartControlModel_getLivePieceFacing() {
                return d6t.W6;
            }
        }, {
            key: n6,
            value: function TetSmartControlModel_getNormalFallSpeedMSEC() {
                return d6t.W6;
            }
        }, {
            key: v4,
            value: function TetSmartControlModel_setLivePieceTransform(t, k, j, o, e) {}
        }, {
            key: b6,
            value: function TetSmartControlModel_performControlAction(t) {
                return d6t.F18;
            }
        }, {
            key: U4,
            value: function TetSmartControlModel_controlActionFailed(t) {}
        }, {
            key: P4,
            value: function TetSmartControlModel_setGhostPieceTransform(t, k, j) {}
        }, {
            key: i6,
            value: function TetSmartControlModel_setGhostPieceIsValid(t) {}
        }, {
            key: t4,
            value: function TetSmartControlModel_stopLivePieceFalling() {}
        }, {
            key: m5,
            value: function TetSmartControlModel_restartLivePieceFalling(t) {}
        }, {
            key: P6,
            value: function TetSmartControlModel_cancelLockTimer() {}
        }, {
            key: N6,
            value: function TetSmartControlModel_startLockTimer() {}
        }, {
            key: Z6,
            value: function TetSmartControlModel_lockLivePiece() {}
        }, {
            key: z6,
            value: function TetSmartControlModel_startedControllingLivePieceToTarget() {}
        }]);
        return J5;
    }();
    D7.kControlMode_smart = d6t.A6;
    D7.kControlMode_direct = d6t.D6;;
    "use strict";
    var L6 = function() {
            function e(t, k) {
                for (var j = d6t.W6; j < k.length; j++) {
                    var o = k[j];
                    o.enumerable = o.enumerable || d6t.F18;
                    o.configurable = d6t.s73;
                    if (d6t.y5f in o) o.writable = d6t.s73;
                    Object.defineProperty(t, o.key, o);
                }
            }
            return function(t, k, j) {
                if (k) e(t.prototype, k);
                if (j) e(t, j);
                return t;
            };
        }(),
        Z4 = function n4(t, k, j) {
            if (t === d6t.B3x) t = Function.prototype;
            var o = Object.getOwnPropertyDescriptor(t, k);
            if (o === undefined) {
                var e = Object.getPrototypeOf(t);
                if (e === d6t.B3x) {
                    return undefined;
                } else {
                    return n4(e, k, j);
                }
            } else if (d6t.y5f in o) {
                return o.value;
            } else {
                var q = o.get;
                if (q === undefined) {
                    return undefined;
                }
                return q.call(j);
            }
        };

    function q5(instance, k) {
        if (!(instance instanceof k)) {
            throw new TypeError(x6);
        }
    }

    function i4(t, k) {
        if (!t) {
            throw new ReferenceError(w3);
        }
        return k && (typeof k === d6t.O2f || typeof k === d6t.H5x) ? k : t;
    }

    function G4(t, k) {
        if (typeof k !== d6t.H5x && k !== d6t.B3x) {
            throw new TypeError(a3 + typeof k);
        }
        t.prototype = Object.create(k && k.prototype, {
            constructor: {
                value: t,
                enumerable: d6t.F18,
                writable: d6t.s73,
                configurable: d6t.s73
            }
        });
        if (k) Object.setPrototypeOf ? Object.setPrototypeOf(t, k) : t.__proto__ = k;
    }
    var N7 = g6.TetSCIController = function(m) {
        var k5 = "setModel";
        G4(C5, m);

        function C5(t, k, j, o, e) {
            q5(this, C5);
            var q = i4(this, Object.getPrototypeOf(C5).call(this, k, j, o, e));
            q.mInterface = t;
            q.mModel = d6t.B3x;
            return q;
        }
        L6(C5, [{
            key: k5,
            value: function setModel(t) {
                this.mModel = t;
            }
        }, {
            key: G6,
            value: function destroy() {
                if (this.isDestroyed()) {
                    return;
                }
                Z4(Object.getPrototypeOf(C5.prototype), G6, this).call(this);
            }
        }, {
            key: T3,
            value: function TetSmartControlController_getGameState() {
                return this.mModel.getGameState();
            }
        }, {
            key: u4,
            value: function TetSmartControlController_getTimeMSEC() {
                return this.mInterface.TetSmartControlInterface_getTimeMSEC();
            }
        }, {
            key: j4,
            value: function TetSmartControlController_isSmartControlActive() {
                return this.mModel.isActive();
            }
        }, {
            key: H4,
            value: function TetSmartControlController_performControlAction(t, k, j) {
                this.mModel.performControlAction(t, k, j);
            }
        }]);
        return C5;
    }(e4);;
    "use strict";
    var L6 = function() {
            function e(t, k) {
                for (var j = d6t.W6; j < k.length; j++) {
                    var o = k[j];
                    o.enumerable = o.enumerable || d6t.F18;
                    o.configurable = d6t.s73;
                    if (d6t.y5f in o) o.writable = d6t.s73;
                    Object.defineProperty(t, o.key, o);
                }
            }
            return function(t, k, j) {
                if (k) e(t.prototype, k);
                if (j) e(t, j);
                return t;
            };
        }(),
        Z4 = function n4(t, k, j) {
            if (t === d6t.B3x) t = Function.prototype;
            var o = Object.getOwnPropertyDescriptor(t, k);
            if (o === undefined) {
                var e = Object.getPrototypeOf(t);
                if (e === d6t.B3x) {
                    return undefined;
                } else {
                    return n4(e, k, j);
                }
            } else if (d6t.y5f in o) {
                return o.value;
            } else {
                var q = o.get;
                if (q === undefined) {
                    return undefined;
                }
                return q.call(j);
            }
        };

    function q5(instance, k) {
        if (!(instance instanceof k)) {
            throw new TypeError(x6);
        }
    }

    function i4(t, k) {
        if (!t) {
            throw new ReferenceError(w3);
        }
        return k && (typeof k === d6t.O2f || typeof k === d6t.H5x) ? k : t;
    }

    function G4(t, k) {
        if (typeof k !== d6t.H5x && k !== d6t.B3x) {
            throw new TypeError(a3 + typeof k);
        }
        t.prototype = Object.create(k && k.prototype, {
            constructor: {
                value: t,
                enumerable: d6t.F18,
                writable: d6t.s73,
                configurable: d6t.s73
            }
        });
        if (k) Object.setPrototypeOf ? Object.setPrototypeOf(t, k) : t.__proto__ = k;
    }
    var G7 = g6.TetSCIModel = function(q) {
        G4(m, q);

        function m(t, k, j, o) {
            q5(this, m);
            var e = i4(this, Object.getPrototypeOf(m).call(this, k, j, o));
            e.mInterface = t;
            return e;
        }
        L6(m, [{
            key: G6,
            value: function destroy() {
                if (this.isDestroyed()) {
                    return;
                }
                Z4(Object.getPrototypeOf(m.prototype), G6, this).call(this);
            }
        }, {
            key: Q6,
            value: function TetSmartControlModel_captureMatrix() {
                this.mInterface.TetSmartControlInterface_captureMatrix();
            }
        }, {
            key: v5,
            value: function TetSmartControlModel_getLivePieceX() {
                return this.mInterface.TetSmartControlInterface_getLivePieceX();
            }
        }, {
            key: C4,
            value: function TetSmartControlModel_getLivePieceY() {
                return this.mInterface.TetSmartControlInterface_getLivePieceY();
            }
        }, {
            key: s4,
            value: function TetSmartControlModel_getLivePieceFacing() {
                return this.mInterface.TetSmartControlInterface_getLivePieceFacing();
            }
        }, {
            key: n6,
            value: function TetSmartControlModel_getNormalFallSpeedMSEC() {
                return this.mInterface.TetSmartControlInterface_getNormalFallSpeedMSEC();
            }
        }, {
            key: v4,
            value: function TetSmartControlModel_setLivePieceTransform(t, k, j, o, e) {
                this.mInterface.TetSmartControlInterface_setLivePieceTransform(t, k, j, o, e);
            }
        }, {
            key: b6,
            value: function TetSmartControlModel_performControlAction(t) {
                return this.mInterface.TetSmartControlInterface_performControlAction(t);
            }
        }, {
            key: U4,
            value: function TetSmartControlModel_controlActionFailed(t) {
                this.mInterface.TetSmartControlInterface_controlActionFailed(t);
            }
        }, {
            key: P4,
            value: function TetSmartControlModel_setGhostPieceTransform(t, k, j) {
                this.mInterface.TetSmartControlInterface_setGhostPieceTransform(t, k, j);
            }
        }, {
            key: i6,
            value: function TetSmartControlModel_setGhostPieceIsValid(t) {
                this.mInterface.TetSmartControlInterface_setGhostPieceIsValid(t);
            }
        }, {
            key: t4,
            value: function TetSmartControlModel_stopLivePieceFalling() {
                this.mInterface.TetSmartControlInterface_stopLivePieceFalling();
            }
        }, {
            key: m5,
            value: function TetSmartControlModel_restartLivePieceFalling(t) {
                this.mInterface.TetSmartControlInterface_restartLivePieceFalling(t);
            }
        }, {
            key: P6,
            value: function TetSmartControlModel_cancelLockTimer() {
                this.mInterface.TetSmartControlInterface_cancelLockTimer();
            }
        }, {
            key: N6,
            value: function TetSmartControlModel_startLockTimer() {
                this.mInterface.TetSmartControlInterface_startLockTimer();
            }
        }, {
            key: Z6,
            value: function TetSmartControlModel_lockLivePiece() {
                this.mInterface.TetSmartControlInterface_lockLivePiece();
            }
        }, {
            key: z6,
            value: function TetSmartControlModel_startedControllingLivePieceToTarget() {
                this.mInterface.TetSmartControlInterface_startedControllingLivePieceToTarget();
            }
        }]);
        return m;
    }(D7);;
    "use strict";
    var L6 = function() {
        function e(t, k) {
            for (var j = d6t.W6; j < k.length; j++) {
                var o = k[j];
                o.enumerable = o.enumerable || d6t.F18;
                o.configurable = d6t.s73;
                if (d6t.y5f in o) o.writable = d6t.s73;
                Object.defineProperty(t, o.key, o);
            }
        }
        return function(t, k, j) {
            if (k) e(t.prototype, k);
            if (j) e(t, j);
            return t;
        };
    }();

    function q5(instance, k) {
        if (!(instance instanceof k)) {
            throw new TypeError(x6);
        }
    }
    var O5 = g6.TetAIUtils = function() {
        var C5 = "setValueInPackedBits",
            H5 = "getValueFromPackedBits",
            j5 = "computeGridBit",
            Y5 = "computeYFromGridIndex",
            z5 = "computeXFromGridIndex",
            P5 = "computeGridIndex",
            p5 = "FXPTSmoothXXX",
            w5 = "FXPTDivideXX",
            R5 = "FXPTMultiplyXX",
            r5 = "FXPTFromInt",
            T5 = "sign",
            a5 = "loopClampedInt",
            x5 = "loopInt",
            f5 = "clampInt",
            A5 = "maxInt",
            u5 = "minInt",
            B5 = "getControlActionInfoForTransformAction",
            D5 = "getControlActionForTransformAction",
            o5 = "getRotationPointForTransformAction",
            N5 = "getPointYForFacingRotation",
            y5 = "getPointXForFacingRotation",
            U5 = "isFacingRotationClockwise",
            W5 = "rotateFacing180",
            J5 = "rotateFacing90",
            g5 = "rotateDirections90",
            c5 = "areTransformsXYEqual",
            Z5 = "computeFacingFromTransformId";
        L6(M5, d6t.B3x, [{
            key: Y7,
            value: function computeTransformId(t, k, j, o, e) {
                var q = d6t.W6;
                if (t < d6t.W6) {
                    return M5.kInvalidTransformId;
                }
                if (t >= j) {
                    return M5.kInvalidTransformId;
                }
                if (k < d6t.W6) {
                    return M5.kInvalidTransformId;
                }
                var m = M5.computeGridIndex(t + o, k + o, j + o * d6t.D6);
                q = M5.setValueInPackedBits(m, q, M5.kTransformIdBitMask_xy, M5.kTransformIdBitShift_xy);
                q = M5.setValueInPackedBits(e, q, M5.kTransformIdBitMask_facing, M5.kTransformIdBitShift_facing);
                return q;
            }
        }, {
            key: V7,
            value: function computeXFromTransformId(t, k, j) {
                if (t != M5.kInvalidTransformId) {
                    return M5.computeXFromGridIndex(M5.getValueFromPackedBits(t, M5.kTransformIdBitMask_xy, M5.kTransformIdBitShift_xy), k + j * d6t.D6) - j;
                } else {
                    return d6t.W6;
                }
            }
        }, {
            key: j7,
            value: function computeYFromTransformId(t, k, j) {
                if (t != M5.kInvalidTransformId) {
                    return M5.computeYFromGridIndex(M5.getValueFromPackedBits(t, M5.kTransformIdBitMask_xy, M5.kTransformIdBitShift_xy), k + j * d6t.D6) - j;
                } else {
                    return d6t.W6;
                }
            }
        }, {
            key: Z5,
            value: function computeFacingFromTransformId(t) {
                if (t != M5.kInvalidTransformId) {
                    return M5.getValueFromPackedBits(t, M5.kTransformIdBitMask_facing, M5.kTransformIdBitShift_facing);
                } else {
                    return d6t.W6;
                }
            }
        }, {
            key: c5,
            value: function areTransformsXYEqual(t, k, j, o) {
                return M5.computeXFromTransformId(t, j, o) == M5.computeXFromTransformId(k, j, o) && M5.computeYFromTransformId(t, j, o) == M5.computeYFromTransformId(k, j, o);
            }
        }, {
            key: g5,
            value: function rotateDirections90(t, k) {
                t &= ((124.60E1, 9.92E2) > (23.20E1, 13.16E2) ? (0x1CD, 59.) : (111.10E1, 6.76E2) >= (13.14E2, 95.) ? (13.77E2, 0xFF) : (142., 44.6E1));
                if (k) {
                    return (t << d6t.D6 | t >>> d6t.J6) & 0xFF;
                } else {
                    return (t >>> d6t.D6 | t << d6t.J6) & (8.59E2 <= (34.4E1, 121.) ? "5" : (1.077E3, 60.90E1) > 0x147 ? (99, 0xFF) : (0x8E, 1.05E3) < 0x134 ? (1.044E3, 6.45E2) : (7.38E2, 0x213));
                }
            }
        }, {
            key: J5,
            value: function rotateFacing90(t, k) {
                return M5.loopClampedInt(t + (k ? d6t.A6 : -d6t.A6), M5.kFacing_N, M5.kFacing_W);
            }
        }, {
            key: W5,
            value: function rotateFacing180(t, k) {
                return M5.rotateFacing90(M5.rotateFacing90(t, k), k);
            }
        }, {
            key: U5,
            value: function isFacingRotationClockwise(t, k) {
                if (t < k) {
                    return k - t < d6t.B6;
                } else if (t > k) {
                    return t - k == d6t.B6;
                } else {
                    return d6t.F18;
                }
            }
        }, {
            key: y5,
            value: function getPointXForFacingRotation(t, k, j, o) {
                var e = t,
                    q = k;
                switch (j) {
                    case M5.kFacing_N:
                    case M5.kFacing_E:
                    case M5.kFacing_S:
                    case M5.kFacing_W:
                        {
                            switch (o) {
                                case M5.kFacing_N:
                                case M5.kFacing_E:
                                case M5.kFacing_S:
                                case M5.kFacing_W:
                                    {
                                        var m, k5;
                                        while (j != o) {
                                            m = e;
                                            k5 = q;
                                            e = k5;
                                            q = -m;
                                            j = M5.rotateFacing90(j, d6t.s73);
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                }
                return e;
            }
        }, {
            key: N5,
            value: function getPointYForFacingRotation(t, k, j, o) {
                var e = t,
                    q = k;
                switch (j) {
                    case M5.kFacing_N:
                    case M5.kFacing_E:
                    case M5.kFacing_S:
                    case M5.kFacing_W:
                        {
                            switch (o) {
                                case M5.kFacing_N:
                                case M5.kFacing_E:
                                case M5.kFacing_S:
                                case M5.kFacing_W:
                                    {
                                        var m, k5;
                                        while (j != o) {
                                            m = e;
                                            k5 = q;
                                            e = k5;
                                            q = -m;
                                            j = M5.rotateFacing90(j, d6t.s73);
                                        }
                                        break;
                                    }
                            }
                            break;
                        }
                }
                return q;
            }
        }, {
            key: o5,
            value: function getRotationPointForTransformAction(t) {
                switch (t) {
                    case M5.kTransformAction_rotateCWPoint1:
                    case M5.kTransformAction_rotateCWPoint2:
                    case M5.kTransformAction_rotateCWPoint3:
                    case M5.kTransformAction_rotateCWPoint4:
                    case M5.kTransformAction_rotateCWPoint5:
                        return t - M5.kTransformAction_rotateCWPoint1 + d6t.A6;
                    case M5.kTransformAction_rotateCCWPoint1:
                    case M5.kTransformAction_rotateCCWPoint2:
                    case M5.kTransformAction_rotateCCWPoint3:
                    case M5.kTransformAction_rotateCCWPoint4:
                    case M5.kTransformAction_rotateCCWPoint5:
                        return t - M5.kTransformAction_rotateCCWPoint1 + d6t.A6;
                    default:
                        return d6t.W6;
                }
            }
        }, {
            key: D5,
            value: function getControlActionForTransformAction(t) {
                switch (t) {
                    case M5.kTransformAction_moveLeft:
                        return M5.kControlAction_moveLeft;
                    case M5.kTransformAction_moveRight:
                        return M5.kControlAction_moveRight;
                    case M5.kTransformAction_rotateCWPoint1:
                    case M5.kTransformAction_rotateCWPoint2:
                    case M5.kTransformAction_rotateCWPoint3:
                    case M5.kTransformAction_rotateCWPoint4:
                    case M5.kTransformAction_rotateCWPoint5:
                        return M5.kControlAction_superRotateCW;
                    case M5.kTransformAction_rotateCCWPoint1:
                    case M5.kTransformAction_rotateCCWPoint2:
                    case M5.kTransformAction_rotateCCWPoint3:
                    case M5.kTransformAction_rotateCCWPoint4:
                    case M5.kTransformAction_rotateCCWPoint5:
                        return M5.kControlAction_superRotateCCW;
                    case M5.kTransformAction_hardDrop:
                        return M5.kControlAction_hardDrop;
                    case M5.kTransformAction_followTarget:
                        return M5.kControlAction_moveTarget;
                    case M5.kTransformAction_lockAtTarget:
                        return M5.kControlAction_selectTarget;
                    default:
                        return M5.kControlAction_none;
                }
            }
        }, {
            key: B5,
            value: function getControlActionInfoForTransformAction(t) {
                switch (t) {
                    case M5.kTransformAction_rotateCWPoint1:
                    case M5.kTransformAction_rotateCWPoint2:
                    case M5.kTransformAction_rotateCWPoint3:
                    case M5.kTransformAction_rotateCWPoint4:
                    case M5.kTransformAction_rotateCWPoint5:
                        return t - M5.kTransformAction_rotateCWPoint1 + d6t.A6;
                    case M5.kTransformAction_rotateCCWPoint1:
                    case M5.kTransformAction_rotateCCWPoint2:
                    case M5.kTransformAction_rotateCCWPoint3:
                    case M5.kTransformAction_rotateCCWPoint4:
                    case M5.kTransformAction_rotateCCWPoint5:
                        return t - M5.kTransformAction_rotateCCWPoint1 + d6t.A6;
                    default:
                        return d6t.W6;
                }
            }
        }, {
            key: u5,
            value: function minInt(t, k) {
                return t < k ? t : k;
            }
        }, {
            key: A5,
            value: function maxInt(t, k) {
                return t > k ? t : k;
            }
        }, {
            key: f5,
            value: function clampInt(t, k, j) {
                if (k < j) {
                    return t < k ? k : t > j ? j : t;
                } else {
                    return t < j ? j : t > k ? k : t;
                }
            }
        }, {
            key: x5,
            value: function loopInt(t, k, j) {
                if (k == j) {
                    return k;
                }
                var o, e;
                if (k < j) {
                    o = k;
                    e = j;
                } else {
                    o = j;
                    e = k;
                }
                var q = e - o + d6t.A6,
                    m;
                if (t < o) {
                    m = e - t;
                    return e - (m - ~~(m / q) * q);
                } else if (t > e) {
                    m = t - o;
                    return o + (m - ~~(m / q) * q);
                } else {
                    return t;
                }
            }
        }, {
            key: a5,
            value: function loopClampedInt(t, k, j) {
                if (k == j) {
                    return t;
                }
                var o, e;
                if (k < j) {
                    o = k;
                    e = j;
                } else {
                    o = j;
                    e = k;
                }
                if (t < o) {
                    return e;
                } else if (t > e) {
                    return o;
                } else {
                    return t;
                }
            }
        }, {
            key: T5,
            value: function sign(t) {
                return t < d6t.W6 ? -d6t.A6 : d6t.A6;
            }
        }, {
            key: r5,
            value: function FXPTFromInt(t) {
                return t * M5.kFXPTScale;
            }
        }, {
            key: R5,
            value: function FXPTMultiplyXX(t, k) {
                return ~~(t * k / M5.kFXPTScale);
            }
        }, {
            key: w5,
            value: function FXPTDivideXX(t, k) {
                return ~~(t * M5.kFXPTScale / k);
            }
        }, {
            key: p5,
            value: function FXPTSmoothXXX(t, k, j) {
                if (j <= d6t.W6) {
                    return k;
                } else if (j >= M5.kFXPTOne) {
                    return t;
                } else {
                    return M5.FXPTMultiplyXX(t, j) + M5.FXPTMultiplyXX(k, M5.kFXPTOne - j);
                }
            }
        }, {
            key: P5,
            value: function computeGridIndex(t, k, j) {
                return k * j + t;
            }
        }, {
            key: z5,
            value: function computeXFromGridIndex(t, k) {
                return t % k;
            }
        }, {
            key: Y5,
            value: function computeYFromGridIndex(t, k) {
                return ~~(t / k);
            }
        }, {
            key: j5,
            value: function computeGridBit(t, k, j) {
                return d6t.A6 << M5.computeGridIndex(t, k, j);
            }
        }, {
            key: H5,
            value: function getValueFromPackedBits(t, k, j) {
                return ((t & k) >>> j);
            }
        }, {
            key: C5,
            value: function setValueInPackedBits(t, k, j, o) {
                return k & ~j | t << o & j;
            }
        }]);

        function M5() {
            q5(this, M5);
        }
        return M5;
    }();
    O5.kPieceType_I = d6t.A6;
    O5.kPieceType_J = d6t.D6;
    O5.kPieceType_L = d6t.B6;
    O5.kPieceType_O = d6t.M6;
    O5.kPieceType_S = d6t.U6;
    O5.kPieceType_T = d6t.J6;
    O5.kPieceType_Z = d6t.v6;
    O5.kTransformIdNumBits_facing = d6t.D6;
    O5.kTransformIdNumBits_xy = d6t.M7x;
    O5.kTransformIdBitShift_facing = d6t.W6;
    O5.kTransformIdBitShift_xy = d6t.D6;
    O5.kTransformIdBitMask_facing = d6t.B6;
    O5.kTransformIdBitMask_xy = d5;
    O5.kInvalidTransformId = -d6t.A6;
    O5.kRotationalSymmetryType_none = d6t.W6;
    O5.kRotationalSymmetryType_90 = d6t.h8x;
    O5.kRotationalSymmetryType_180 = d6t.D6B;
    O5.kDirection_N = d6t.A6;
    O5.kDirection_NE = d6t.D6;
    O5.kDirection_E = d6t.M6;
    O5.kDirection_SE = d6t.d6;
    O5.kDirection_S = d6t.M7x;
    O5.kDirection_SW = d6t.z9x;
    O5.kDirection_W = I3;
    O5.kDirection_NW = s3;
    O5.kFacing_N = d6t.W6;
    O5.kFacing_E = d6t.A6;
    O5.kFacing_S = d6t.D6;
    O5.kFacing_W = d6t.B6;
    O5.kNumFacings = d6t.M6;
    O5.kTransformAction_invalid = -d6t.A6;
    O5.kTransformAction_none = d6t.W6;
    O5.kTransformAction_moveLeft = d6t.A6;
    O5.kTransformAction_moveRight = d6t.D6;
    O5.kTransformAction_moveDown = d6t.B6;
    O5.kTransformAction_rotateCWPoint1 = d6t.M6;
    O5.kTransformAction_rotateCWPoint2 = d6t.U6;
    O5.kTransformAction_rotateCWPoint3 = d6t.J6;
    O5.kTransformAction_rotateCWPoint4 = d6t.v6;
    O5.kTransformAction_rotateCWPoint5 = d6t.d6;
    O5.kTransformAction_rotateCCWPoint1 = d6t.S6;
    O5.kTransformAction_rotateCCWPoint2 = d6t.x7x;
    O5.kTransformAction_rotateCCWPoint3 = d6t.f7x;
    O5.kTransformAction_rotateCCWPoint4 = d6t.W7x;
    O5.kTransformAction_rotateCCWPoint5 = d6t.o7x;
    O5.kTransformAction_hardDrop = d6t.A7x;
    O5.kTransformAction_followTarget = d6t.B7x;
    O5.kTransformAction_lockAtTarget = d6t.M7x;
    O5.kTransformAction_invalidateTarget = d6t.U7x;
    O5.kNumTransformActionsForPieceData = d6t.A7x;
    O5.kControlAction_none = d6t.W6;
    O5.kControlAction_moveLeft = d6t.A6;
    O5.kControlAction_moveRight = d6t.D6;
    O5.kControlAction_rotateCW = d6t.B6;
    O5.kControlAction_rotateCCW = d6t.M6;
    O5.kControlAction_superRotateCW = d6t.U6;
    O5.kControlAction_superRotateCCW = d6t.J6;
    O5.kControlAction_startSoftDrop = d6t.v6;
    O5.kControlAction_stopSoftDrop = d6t.d6;
    O5.kControlAction_hardDrop = d6t.S6;
    O5.kControlAction_hold = d6t.x7x;
    O5.kControlAction_updateGhost = d6t.f7x;
    O5.kControlAction_moveTarget = d6t.W7x;
    O5.kControlAction_moveTargetLeft = d6t.o7x;
    O5.kControlAction_moveTargetRight = d6t.A7x;
    O5.kControlAction_cycleTarget = d6t.B7x;
    O5.kControlAction_moveToTarget = d6t.M7x;
    O5.kControlAction_selectTarget = d6t.U7x;
    O5.kFXPTScale = d6t.I6;
    O5.kFXPTOne = d6t.I6;
    O5.sIsDebugModeOn = d6t.F18;;
    "use strict";
    var L6 = function() {
        function e(t, k) {
            for (var j = d6t.W6; j < k.length; j++) {
                var o = k[j];
                o.enumerable = o.enumerable || d6t.F18;
                o.configurable = d6t.s73;
                if (d6t.y5f in o) o.writable = d6t.s73;
                Object.defineProperty(t, o.key, o);
            }
        }
        return function(t, k, j) {
            if (k) e(t.prototype, k);
            if (j) e(t, j);
            return t;
        };
    }();

    function q5(instance, k) {
        if (!(instance instanceof k)) {
            throw new TypeError(x6);
        }
    }
    var X6 = g6.TetSmartControlInterface = function() {
        var H5 = "TetSmartControlInterface_startedControllingLivePieceToTarget",
            j5 = "TetSmartControlInterface_lockLivePiece",
            Y5 = "TetSmartControlInterface_startLockTimer",
            z5 = "TetSmartControlInterface_cancelLockTimer",
            P5 = "TetSmartControlInterface_restartLivePieceFalling",
            p5 = "TetSmartControlInterface_stopLivePieceFalling",
            w5 = "TetSmartControlInterface_getNormalFallSpeedMSEC",
            R5 = "TetSmartControlInterface_setGhostPieceIsValid",
            r5 = "TetSmartControlInterface_setGhostPieceTransform",
            T5 = "TetSmartControlInterface_getLivePieceFacing",
            a5 = "TetSmartControlInterface_getLivePieceY",
            x5 = "TetSmartControlInterface_getLivePieceX",
            f5 = "TetSmartControlInterface_controlActionFailed",
            A5 = "TetSmartControlInterface_performControlAction",
            u5 = "TetSmartControlInterface_setLivePieceTransform",
            B5 = "TetSmartControlInterface_getTimeMSEC",
            D5 = "TetSmartControlInterface_captureMatrix",
            o5 = "getModel",
            N5 = "updateEvaluationForCurrentLivePiece",
            y5 = "performEvaluationForNewLivePiece",
            U5 = "setGestureInputParameter_minHoldDragVelocityY_FXPT",
            W5 = "setGestureInputParameter_minHoldDragDistanceY_FXPT",
            J5 = "setGestureInputParameter_minHardDropDragVelocityY_FXPT",
            g5 = "setGestureInputParameter_minHardDropDragDistanceY_FXPT",
            c5 = "setGestureInputParameter_minStopSoftDropDragVelocityY_FXPT",
            Z5 = "setGestureInputParameter_minStopSoftDropDragDistanceY_FXPT",
            M5 = "setGestureInputParameter_minSoftDropDragVelocityY_FXPT",
            n5 = "setGestureInputParameter_minSoftDropDragDistance_FXPT",
            R6 = "setGestureInputParameter_moveLRDragDistanceX_FXPT",
            h5 = "setGestureInputParameter_enableCCWRotation",
            K6 = "setGestureInputParameter_maxRotationTapDistance_FXPT",
            s6 = "setSmartInputParameter_forceValidTarget",
            i5 = "setSmartInputParameter_smartPlacementsAllowedBeforeLock",
            V6 = "setSmartInputParameter_pointerSmoothingWeight_FXPT",
            b5 = "setSmartInputParameter_pointerSelectTargetMatrixBufferY",
            S5 = "setSmartInputParameter_pointerSelectTargetMatrixBufferX",
            q6 = "setSmartInputParameter_selectTargetAtPointerInputOn",
            h6 = "setSmartInputParameter_updateTargetWhilePointerInputIsOff",
            C6 = "setSmartInputParameter_snapToTargetOnTouchDownFallSpeedMSEC",
            m6 = "setSmartInputParameter_lockLivePieceAtTarget",
            G5 = "setSmartInputParameter_livePieceStartingYOffset",
            c6 = "setSmartInputParameter_searchColumnForTarget",
            Y6 = "setSmartInputParameter_searchCellForTarget",
            E6 = "setSmartInputParameter_restrictReachableTransforms",
            O6 = "setSmartInputParameter_cellTrackingInset_FXPT",
            j6 = "setDirectInputParameter_placementsAllowedBeforeLock";

        function Q5(t, k, j, o) {
            q5(this, Q5);
            this.mIsDestroyed = d6t.F18;
            var e;
            if (o) {
                e = t7.getSharedStandardPieceData(t, k);
                this.mPieceData = d6t.B3x;
            } else {
                this.mPieceData = new t7(t, k);
                e = this.mPieceData;
            }
            this.mModel = new G7(this, t, k, e);
            this.mController = new N7(this, t, k, j, e);
            this.mController.setModel(this.mModel);
        }
        L6(Q5, [{
            key: c4,
            value: function isDestroyed() {
                return this.mIsDestroyed;
            }
        }, {
            key: g3,
            value: function enableInputType(t) {
                this.mController.enableInputType(t);
            }
        }, {
            key: X3,
            value: function getActiveInputType() {
                return this.mController.getActiveInputType();
            }
        }, {
            key: o3,
            value: function setActiveInputType(t) {
                this.mController.setActiveInputType(t);
            }
        }, {
            key: W3,
            value: function setEnableAutomaticInputTypeSwitching(t) {
                this.mController.setEnableAutomaticInputTypeSwitching(t);
            }
        }, {
            key: j6,
            value: function setDirectInputParameter_placementsAllowedBeforeLock(t) {
                this.mModel.mDirectPlacementsAllowedBeforeLock = t;
            }
        }, {
            key: O6,
            value: function setSmartInputParameter_cellTrackingInset_FXPT(t) {
                this.mController.getSmartInputMgr().mCellTrackingInset_FXPT = t;
            }
        }, {
            key: E6,
            value: function setSmartInputParameter_restrictReachableTransforms(t) {
                this.mController.getSmartInputMgr().setParameter_restrictReachableTransforms(t);
            }
        }, {
            key: Y6,
            value: function setSmartInputParameter_searchCellForTarget(t) {
                this.mController.getSmartInputMgr().mSearchCellForTarget = t;
            }
        }, {
            key: c6,
            value: function setSmartInputParameter_searchColumnForTarget(t) {
                this.mController.getSmartInputMgr().mSearchColumnForTarget = t;
            }
        }, {
            key: G5,
            value: function setSmartInputParameter_livePieceStartingYOffset(t) {
                this.mModel.mLivePieceStartingYOffset = t;
            }
        }, {
            key: m6,
            value: function setSmartInputParameter_lockLivePieceAtTarget(t) {
                this.mModel.mLockLivePieceAtTarget = t;
            }
        }, {
            key: C6,
            value: function setSmartInputParameter_snapToTargetOnTouchDownFallSpeedMSEC(t) {
                this.mModel.mSnapToTargetOnTouchDownFallSpeedMSEC = t;
            }
        }, {
            key: h6,
            value: function setSmartInputParameter_updateTargetWhilePointerInputIsOff(t) {
                this.mController.getSmartInputMgr().mUpdateTargetWhilePointerInputIsOff = t;
            }
        }, {
            key: q6,
            value: function setSmartInputParameter_selectTargetAtPointerInputOn(t) {
                this.mController.getSmartInputMgr().mSelectTargetAtPointerInputOn = t;
            }
        }, {
            key: S5,
            value: function setSmartInputParameter_pointerSelectTargetMatrixBufferX(t) {
                this.mController.getSmartInputMgr().mPointerSelectTargetMatrixBufferX = t;
            }
        }, {
            key: b5,
            value: function setSmartInputParameter_pointerSelectTargetMatrixBufferY(t) {
                this.mController.getSmartInputMgr().mPointerSelectTargetMatrixBufferY = t;
            }
        }, {
            key: V6,
            value: function setSmartInputParameter_pointerSmoothingWeight_FXPT(t) {
                this.mController.getSmartInputMgr().mPointerSmoothingWeight_FXPT = t;
            }
        }, {
            key: i5,
            value: function setSmartInputParameter_smartPlacementsAllowedBeforeLock(t) {
                this.mModel.mSmartPlacementsAllowedBeforeLock = t;
            }
        }, {
            key: s6,
            value: function setSmartInputParameter_forceValidTarget(t) {
                this.mController.getSmartInputMgr().mForceValidTarget = t;
            }
        }, {
            key: K6,
            value: function setGestureInputParameter_maxRotationTapDistance_FXPT(t) {
                this.mController.getGestureInputMgr().mMaxRotationTapDistance_FXPT = t;
            }
        }, {
            key: h5,
            value: function setGestureInputParameter_enableCCWRotation(t) {
                this.mController.getGestureInputMgr().mEnableCCWRotation = t;
            }
        }, {
            key: R6,
            value: function setGestureInputParameter_moveLRDragDistanceX_FXPT(t) {
                this.mController.getGestureInputMgr().mMoveLRDragDistance_FXPT = t;
            }
        }, {
            key: n5,
            value: function setGestureInputParameter_minSoftDropDragDistance_FXPT(t) {
                this.mController.getGestureInputMgr().mMinStopSoftDropDragDistanceY_FXPT = t;
            }
        }, {
            key: M5,
            value: function setGestureInputParameter_minSoftDropDragVelocityY_FXPT(t) {
                this.mController.getGestureInputMgr().mMinSoftDropDragVelocityY_FXPT = t;
            }
        }, {
            key: Z5,
            value: function setGestureInputParameter_minStopSoftDropDragDistanceY_FXPT(t) {
                this.mController.getGestureInputMgr().mMinStopSoftDropDragDistanceY_FXPT = t;
            }
        }, {
            key: c5,
            value: function setGestureInputParameter_minStopSoftDropDragVelocityY_FXPT(t) {
                this.mController.getGestureInputMgr().mMinStopSoftDropDragVelocityY_FXPT = t;
            }
        }, {
            key: g5,
            value: function setGestureInputParameter_minHardDropDragDistanceY_FXPT(t) {
                this.mController.getGestureInputMgr().mMinHardDropDragDistanceY_FXPT = t;
            }
        }, {
            key: J5,
            value: function setGestureInputParameter_minHardDropDragVelocityY_FXPT(t) {
                this.mController.getGestureInputMgr().mMinHardDropDragVelocityY_FXPT = t;
            }
        }, {
            key: W5,
            value: function setGestureInputParameter_minHoldDragDistanceY_FXPT(t) {
                this.mController.getGestureInputMgr().mMinHoldDragDistanceY_FXPT = t;
            }
        }, {
            key: U5,
            value: function setGestureInputParameter_minHoldDragVelocityY_FXPT(t) {
                this.mController.getGestureInputMgr().mMinHoldDragVelocityY_FXPT = t;
            }
        }, {
            key: c3,
            value: function addStandardPieceDefinitions() {
                if (!this.mPieceData) {
                    return;
                }
                this.mPieceData.addStandardPieceDefinitions();
            }
        }, {
            key: m3,
            value: function addPieceDefinition(t, k) {
                if (!this.mPieceData) {
                    return;
                }
                this.mPieceData.addPieceDefinition(t, k);
            }
        }, {
            key: q3,
            value: function addPieceDefinitionMino(t, k, j) {
                if (!this.mPieceData) {
                    return;
                }
                this.mPieceData.addPieceDefinitionMino(t, k, j);
            }
        }, {
            key: Q3,
            value: function addPieceDefinitionRotationPointSet(t, k, j, o, e, q, m, k5, C5) {
                if (!this.mPieceData) {
                    return;
                }
                this.mPieceData.addPieceDefinitionRotationPointSet(t, k, j, o, e, q, m, k5, C5);
            }
        }, {
            key: b3,
            value: function setPieceDefinitionGenerationOffset(t, k, j) {
                if (!this.mPieceData) {
                    return;
                }
                this.mPieceData.setPieceDefinitionGenerationOffset(t, k, j);
            }
        }, {
            key: E3,
            value: function setPieceDefinitionRotationalSymmetry(t, k, j, o) {
                if (!this.mPieceData) {
                    return;
                }
                this.mPieceData.setPieceDefinitionRotationalSymmetry(t, k, j, o);
            }
        }, {
            key: z7,
            value: function processPieceDefinitions() {
                if (!this.mPieceData) {
                    return;
                }
                this.mPieceData.processPieceDefinitions();
            }
        }, {
            key: S3,
            value: function processTime() {
                this.mController.processTime();
            }
        }, {
            key: y5,
            value: function performEvaluationForNewLivePiece(t, k, j, o) {
                this.mModel.captureStateForNewLivePiece(t, k, j, o);
                this.mController.startEvaluationForNewLivePiece();
                while (!this.mController.processEvaluationForNewLivePiece()) {;
                }
            }
        }, {
            key: N5,
            value: function updateEvaluationForCurrentLivePiece() {
                this.mModel.captureStateForCurrentLivePiece();
                this.mController.startEvaluationForNewLivePiece();
                while (!this.mController.processEvaluationForNewLivePiece()) {;
                }
            }
        }, {
            key: d4,
            value: function setCurrentStateMatrixMino(t, k, j) {
                this.mModel.setCurrentStateMatrixMino(t, k, j);
            }
        }, {
            key: v3,
            value: function handleInputPositionChanged(t, k, j) {
                return this.mController.handleInputPositionChanged(t, k, j);
            }
        }, {
            key: G3,
            value: function handleInputIsOn(t, k, j) {
                return this.mController.handleInputIsOn(t, k, j);
            }
        }, {
            key: J3,
            value: function handleInputIsOff(t, k, j) {
                return this.mController.handleInputIsOff(t, k, j);
            }
        }, {
            key: N3,
            value: function handleInputOnIsCancelled(t) {
                this.mController.handleInputOnIsCancelled(t);
            }
        }, {
            key: O3,
            value: function isInputOn(t) {
                return this.mController.isInputOn(t);
            }
        }, {
            key: V4,
            value: function isSoftDropOn() {
                return this.mController.isSoftDropOn();
            }
        }, {
            key: o6,
            value: function didPlayerActivelySelectTarget() {
                return this.mModel.didPlayerActivelySelectTarget();
            }
        }, {
            key: g4,
            value: function handleLivePieceDidActivate() {
                this.mModel.handleLivePieceDidActivate();
                this.mController.handleLivePieceDidActivate();
            }
        }, {
            key: N4,
            value: function handleLivePieceDidFall() {
                this.mModel.handleLivePieceDidFall();
            }
        }, {
            key: B4,
            value: function handleLivePieceDidTouchDown() {
                this.mModel.handleLivePieceDidTouchDown();
                this.mController.handleLivePieceDidTouchDown();
            }
        }, {
            key: D4,
            value: function handleLivePieceWillLockDown() {
                this.mModel.handleLivePieceWillLockDown();
            }
        }, {
            key: z4,
            value: function handleLivePieceDidDeactivate() {
                this.mModel.handleLivePieceDidDeactivate();
                this.mController.handleLivePieceDidDeactivate();
            }
        }, {
            key: a4,
            value: function getEndingRotationPointForPiece() {
                return this.mModel.getEndingRotationPointForPiece();
            }
        }, {
            key: o4,
            value: function isSoftDropOnAndValid() {
                return this.mModel.isSoftDropOnAndValid();
            }
        }, {
            key: O4,
            value: function getSoftDropStepsForPiece() {
                return this.mModel.getSoftDropStepsForPiece();
            }
        }, {
            key: W4,
            value: function getHardDropStepsForPiece() {
                return this.mModel.getHardDropStepsForPiece();
            }
        }, {
            key: R4,
            value: function suspendActivity() {
                this.mModel.suspendActivity();
            }
        }, {
            key: p4,
            value: function resumeActivity() {
                this.mModel.resumeActivity();
            }
        }, {
            key: R3,
            value: function isActive() {
                return this.mModel.isActive();
            }
        }, {
            key: u3,
            value: function getMatrixWidth() {
                return this.mModel.getGameState().getMatrixWidth();
            }
        }, {
            key: A3,
            value: function getMatrixHeight() {
                return this.mModel.getGameState().getMatrixHeight();
            }
        }, {
            key: o5,
            value: function getModel() {
                return this.mModel;
            }
        }, {
            key: p3,
            value: function getController() {
                return this.mController;
            }
        }, {
            key: G6,
            value: function destroy() {
                if (this.isDestroyed()) {
                    return;
                }
                this.mController.destroy();
                if (this.mController) this.mController = d6t.B3x;
                this.mModel.destroy();
                if (this.mModel) this.mModel = d6t.B3x;
                if (this.mPieceData) {
                    this.mPieceData.destroy();
                    if (this.mPieceData) this.mPieceData = d6t.B3x;
                }
                this.mIsDestroyed = d6t.s73;
            }
        }, {
            key: D5,
            value: function TetSmartControlInterface_captureMatrix() {}
        }, {
            key: B5,
            value: function TetSmartControlInterface_getTimeMSEC() {
                return d6t.W6;
            }
        }, {
            key: u5,
            value: function TetSmartControlInterface_setLivePieceTransform(t, k, j, o, e) {}
        }, {
            key: A5,
            value: function TetSmartControlInterface_performControlAction(t) {
                return d6t.F18;
            }
        }, {
            key: f5,
            value: function TetSmartControlInterface_controlActionFailed(t) {}
        }, {
            key: x5,
            value: function TetSmartControlInterface_getLivePieceX() {
                return d6t.W6;
            }
        }, {
            key: a5,
            value: function TetSmartControlInterface_getLivePieceY() {
                return d6t.W6;
            }
        }, {
            key: T5,
            value: function TetSmartControlInterface_getLivePieceFacing() {
                return d6t.W6;
            }
        }, {
            key: r5,
            value: function TetSmartControlInterface_setGhostPieceTransform(t, k, j) {}
        }, {
            key: R5,
            value: function TetSmartControlInterface_setGhostPieceIsValid(t) {}
        }, {
            key: w5,
            value: function TetSmartControlInterface_getNormalFallSpeedMSEC() {
                return d6t.I6;
            }
        }, {
            key: p5,
            value: function TetSmartControlInterface_stopLivePieceFalling() {}
        }, {
            key: P5,
            value: function TetSmartControlInterface_restartLivePieceFalling(t) {}
        }, {
            key: z5,
            value: function TetSmartControlInterface_cancelLockTimer() {}
        }, {
            key: Y5,
            value: function TetSmartControlInterface_startLockTimer() {}
        }, {
            key: j5,
            value: function TetSmartControlInterface_lockLivePiece() {}
        }, {
            key: H5,
            value: function TetSmartControlInterface_startedControllingLivePieceToTarget() {}
        }]);
        return Q5;
    }();
    X6.kInputType_direct = d6t.A6;
    X6.kInputType_smart = d6t.D6;
    X6.kInputType_gesture = d6t.B6;
    X6.kDirectInputId_moveLeft = t3;
    X6.kDirectInputId_moveRight = h4;
    X6.kDirectInputId_rotateCW = z3;
    X6.kDirectInputId_rotateCCW = V5;
    X6.kDirectInputId_softDrop = Q4;
    X6.kDirectInputId_hardDrop = V3;
    X6.kDirectInputId_hold = j3;
    X6.kSmartInputId_pointer = b4;
    X6.kSmartInputId_moveTargetLeft = l4;
    X6.kSmartInputId_moveTargetRight = S4;
    X6.kSmartInputId_cycleTarget = T4;
    X6.kSmartInputId_selectTarget = r4;
    X6.kSmartInputId_hold = w6;
    X6.kGestureInputId_pointer = H3;
    X6.kGestureInputId_hold = K3;
    X6.kSmartControlVersionNumber = y6;;
    return g6;
});
define('gameplay/input/TetriminoTypeConverter', ['enums/TetriminoType', 'gameplay/input/TetSmartControlJS'], function(k, j) {
    var o = j.TetAIUtils;

    function e() {}
    e.fromSmartControl = function(t) {
        switch (t) {
            case o.kPieceType_O:
                return k.O;
            case o.kPieceType_Z:
                return k.Z;
            case o.kPieceType_J:
                return k.J;
            case o.kPieceType_L:
                return k.L;
            case o.kPieceType_S:
                return k.S;
            case o.kPieceType_T:
                return k.T;
            case o.kPieceType_I:
                return k.I;
        }
    };
    e.fromTetriminoType = function(t) {
        switch (t) {
            case k.O:
                return o.kPieceType_O;
            case k.Z:
                return o.kPieceType_Z;
            case k.J:
                return o.kPieceType_J;
            case k.L:
                return o.kPieceType_L;
            case k.S:
                return o.kPieceType_S;
            case k.T:
                return o.kPieceType_T;
            case k.I:
                return o.kPieceType_I;
        }
    };
    return e;
});
define('gameplay/input/OrientationConverter', ['enums/Orientation', 'gameplay/input/TetSmartControlJS'], function(k, j) {
    var o = j.TetAIUtils;

    function e() {}
    e.fromSmartControl = function(t) {
        switch (t) {
            case o.kFacing_N:
                return k.NORTH;
            case o.kFacing_S:
                return k.SOUTH;
            case o.kFacing_E:
                return k.EAST;
            case o.kFacing_W:
                return k.WEST;
        }
    };
    e.fromOrientation = function(t) {
        switch (t) {
            case k.NORTH:
                return o.kFacing_N;
            case k.SOUTH:
                return o.kFacing_S;
            case k.EAST:
                return o.kFacing_E;
            case k.WEST:
                return o.kFacing_W;
        }
    };
    return e;
});
define('gameplay/input/SmartControls', ['bottom_line', 'phaser', 'gameplay/input/TetSmartControlJS', 'gameplay/input/TetriminoTypeConverter', 'gameplay/input/OrientationConverter', 'gt/utils/device', 'enums/TetriminoType', 'enums/Orientation', 'enums/Rotation', 'enums/Direction', 'data/ControlScheme', 'enums/TutorialType'], function(Y5, z5, P5, p5, w5, R5, r5, T5, a5, x5, f5, A5) {
    var u5 = "Not Implemented: ",
        B5 = 'tetriminoSpawnComplete',
        D5 = 'tetriminoTouchDown',
        o5 = 'tetriminoFell',
        N5 = "ghostPieceVisibilityChanged",
        y5 = P5.TetSmartControlInterface,
        U5 = P5.TetAIUtils;

    function W5(matrixConfig, matrixConverter, matrixController, gameInfoPublisher, matrixView, matrixModel, forcedMove, phaserEvents, controlScheme, soundManager, gameVarManager) {
        this._matrixConfig = matrixConfig;
        this._matrixConverter = matrixConverter;
        this._matrixController = matrixController;
        this._gameInfoPublisher = gameInfoPublisher;
        this._matrixView = matrixView;
        this._matrixModel = matrixModel;
        this._forcedMove = forcedMove;
        this._phaserEvents = phaserEvents;
        this._controlScheme = controlScheme;
        this._soundManager = soundManager;
        this._gameVarManager = gameVarManager;
        this._tetriminoController = d6t.B3x;
        this._currentTetrimino = d6t.B3x;
        this._screenButtons = d6t.B3x;
        this._inputAllowed = d6t.s73;
        this._createSignals();
        W5._super.constructor.call(this, this._matrixConfig.COLS, this._matrixConfig.ROWS, this._matrixConfig.PLAYABLE_ROWS_COUNT, d6t.s73);
        this.enableInputType(y5.kInputType_smart);
        this.enableInputType(y5.kInputType_gesture);
        this._currentPointer = y5.kSmartInputId_pointer;
        this._startDateTime = Date.now();
        this._gameInfoPublisher.subscribe(d6t.M23, this._addEvents, this);
        this._gameInfoPublisher.subscribe(d6t.j6B, this._removeEvents, this);
    }
    Y5.inherit(W5, y5);
    W5.INVALID_SWIPE_ID = -d6t.A6;
    W5.prototype.activateSmart = function() {
        this.setActiveInputType(y5.kInputType_smart);
        this._currentPointer = y5.kSmartInputId_pointer;
    };
    W5.prototype.activateSwipe = function() {
        this.setActiveInputType(y5.kInputType_gesture);
        this._currentPointer = y5.kGestureInputId_pointer;
    };
    W5.prototype.start = function() {
        var t = ((1.264E3, 16) <= 0x3B ? (0x185, 14000) : (0x1C, 0xBA));
        this.activateSmart();
        if (R5.desktop) {
            this.setSmartInputParameter_updateTargetWhilePointerInputIsOff(d6t.s73);
            this.setSmartInputParameter_selectTargetAtPointerInputOn(d6t.s73);
        } else {
            this.setSmartInputParameter_updateTargetWhilePointerInputIsOff(d6t.F18);
            this.setSmartInputParameter_selectTargetAtPointerInputOn(d6t.F18);
        }
        this.setGestureInputParameter_moveLRDragDistanceX_FXPT(d6t.E2x);
        this.setSmartInputParameter_pointerSelectTargetMatrixBufferX(d6t.E2x);
        this.setGestureInputParameter_minSoftDropDragVelocityY_FXPT(d6t.H4f);
        this.setGestureInputParameter_minHardDropDragVelocityY_FXPT(t);
        this.pause();
        this._phaserEvents.updateEvent.add(this._update, this);
    };
    W5.prototype.stop = function() {
        this._phaserEvents.updateEvent.remove(this._update, this);
    };
    W5.prototype.setTetriminoController = function(tetriminoController) {
        this._tetriminoController = tetriminoController;
    };
    W5.prototype.newTetriminoSpawned = function(t, k, j) {
        this._currentTetrimino = t;
        var o = w5.fromOrientation(this._currentTetrimino.orientation),
            e = p5.fromTetriminoType(this._currentTetrimino.tetriminoType);
        this.performEvaluationForNewLivePiece(e, j, k, o);
        this.handleLivePieceDidActivate();
    };
    W5.prototype.tetriminoFall = function() {
        this.handleLivePieceDidFall();
    };
    W5.prototype.tetriminoTouchDown = function() {
        this.handleLivePieceDidTouchDown();
    };
    W5.prototype.tetriminoLockedDown = function() {
        this.handleLivePieceWillLockDown();
    };
    W5.prototype.tetriminoDeactivate = function() {
        this.handleLivePieceDidDeactivate();
    };
    W5.prototype.resume = function() {
        this.paused = d6t.F18;
        if (this._controlScheme[f5.CURRENT_SCHEME_KEY] === f5.DESKTOP) {
            return;
        }
        if (!this.usingKeyboard) {
            this.resumeActivity();
        }
    };
    W5.prototype.pause = function() {
        this.paused = d6t.s73;
        if (this._controlScheme[f5.CURRENT_SCHEME_KEY] === f5.DESKTOP) {
            return;
        }
        this.suspendActivity();
    };
    W5.prototype.startedUsingKeyboard = function() {
        this.usingKeyboard = d6t.s73;
        this.suspendActivity();
    };
    W5.prototype.startedUsingMouse = function() {
        this.usingKeyboard = d6t.F18;
        if (!this.paused) {
            this.resumeActivity();
        }
    };
    W5.prototype.isSmartControlActive = function() {
        return this.isActive();
    };
    W5.prototype.tetriminoDeactivate = function() {
        this.handleLivePieceDidDeactivate();
    };
    W5.prototype.pointerMoved = function(t) {
        if (this.paused) {
            return;
        }
        if (this._controlScheme[f5.CURRENT_SCHEME_KEY] !== f5.SWIPE) {
            this._controlScheme[f5.CURRENT_SCHEME_KEY] = f5.SMART;
        }
        this.startedUsingMouse();
        var k = this._getMatrixCoordinates(t);
        if (this._controlScheme[f5.CURRENT_SCHEME_KEY] === f5.SWIPE) {
            k = this._matrixConverter.swipeCoordinates(t.x, t.y);
            this.handleInputPositionChanged(this._currentPointer, Math.round(k.col * U5.kFXPTScale), Math.round(k.row * U5.kFXPTScale));
        } else {
            this.handleInputPositionChanged(this._currentPointer, k.col * U5.kFXPTScale, k.row * U5.kFXPTScale);
        }
    };
    W5.prototype.pointerDown = function(t) {
        var k = ', don\'t do smart stuff',
            j = "Clicked on button ";
        if (this.paused) {
            return;
        }
        for (var o in this._screenButtons) {
            var e = this._screenButtons[o];
            if (t.x > e.global.x - e.dimensions.width / d6t.D6 && t.x < e.global.x + e.dimensions.width / d6t.D6 && t.y > e.global.y - e.dimensions.height / d6t.D6 && t.y < e.global.y + e.dimensions.height / d6t.D6) {
                console.log(j + o + k);
                return;
            }
        }
        if (R5.desktop && !this._forcedMove.isMoveLegal(this._tetriminoController.ghostTetrimino, d6t.s73) && this.getActiveInputType() !== y5.kInputType_gesture) {
            return;
        }
        var q = this._getMatrixCoordinates(t);
        if (this._matrixModel.isFlipped && this._controlScheme[f5.CURRENT_SCHEME_KEY] === f5.SWIPE) {
            q.col = this._matrixConfig.COLS - q.col;
        }
        this.handleInputIsOn(this._currentPointer, q.col * U5.kFXPTScale, q.row * U5.kFXPTScale);
    };
    W5.prototype.pointerUp = function(t) {
        if (this.paused) {
            return;
        }
        if (R5.portable && !this._forcedMove.isMoveLegal(this._tetriminoController.ghostTetrimino, d6t.s73) && this.getActiveInputType() !== y5.kInputType_gesture) {
            this.pointerCancelled();
            return;
        }
        var k = this._getMatrixCoordinates(t);
        if (this._matrixModel.isFlipped && this._controlScheme[f5.CURRENT_SCHEME_KEY] === f5.SWIPE) {
            k.col = this._matrixConfig.COLS - k.col;
        }
        this.handleInputIsOff(this._currentPointer, k.col * U5.kFXPTScale, k.row * U5.kFXPTScale);
    };
    W5.prototype.pointerCancelled = function() {
        if (this.paused) {
            return;
        }
        this.handleInputOnIsCancelled(this._currentPointer);
    };
    W5.prototype.setFallSpeed = function(t) {
        this._fallSpeed = t;
    };
    W5.prototype.translateFromSmart = function(t) {
        if (this._currentTetrimino.tetriminoType === r5.I) {
            switch (t.orientation) {
                case T5.NORTH:
                    break;
                case T5.WEST:
                    t.y++;
                    break;
                case T5.SOUTH:
                    t.x--;
                    t.y++;
                    break;
                case T5.EAST:
                    t.x--;
                    break;
            }
        } else if (this._currentTetrimino.tetriminoType === r5.O) {
            switch (t.orientation) {
                case T5.NORTH:
                    break;
                case T5.WEST:
                    t.x--;
                    break;
                case T5.SOUTH:
                    t.x--;
                    t.y--;
                    break;
                case T5.EAST:
                    t.y--;
                    break;
            }
        }
    };
    W5.prototype.translateToSmart = function(t) {
        if (this._currentTetrimino.tetriminoType === r5.I) {
            switch (t.orientation) {
                case T5.NORTH:
                    break;
                case T5.WEST:
                    t.y--;
                    break;
                case T5.SOUTH:
                    t.x++;
                    t.y--;
                    break;
                case T5.EAST:
                    t.x++;
                    break;
            }
        } else if (this._currentTetrimino.tetriminoType === r5.O) {
            switch (t.orientation) {
                case T5.NORTH:
                    break;
                case T5.WEST:
                    t.x++;
                    break;
                case T5.SOUTH:
                    t.x++;
                    t.y++;
                    break;
                case T5.EAST:
                    t.y++;
                    break;
            }
        }
    };
    W5.prototype.smartControlsEndedWithRotation = function() {
        return this.getEndingRotationPointForPiece();
    };
    W5.prototype.setScreenButtons = function(t) {
        this._screenButtons = t;
    };
    W5.prototype.getCurrentPointer = function() {
        return this._currentPointer;
    };
    W5.prototype._tetriminoSpawnComplete = function() {
        if (R5.portable && this.getActiveInputType() === y5.kInputType_smart) {
            this._gameInfoPublisher.publish(N5, d6t.F18);
        } else {
            this._gameInfoPublisher.publish(N5, d6t.s73);
        }
    };
    W5.prototype._shouldClampInput = function() {
        return this.getActiveInputType() !== y5.kInputType_gesture;
    };
    W5.prototype._getMatrixCoordinates = function(t) {
        var k = this._shouldClampInput(),
            j;
        j = this._matrixConverter.screenToMatrixCoordinate(t.x, t.y, k);
        return j;
    };
    W5.prototype._performSwipeTransform = function(t, k, j) {
        switch (t) {
            case U5.kControlAction_superRotateCW:
            case U5.kControlAction_rotateCW:
                this._soundManager.effect(this._gameVarManager.audioConstants.tetrimino_rotation_sfx);
                this.smartControlsTransform.dispatch(j.x, j.y, j.orientation);
                break;
            case U5.kControlAction_superRotateCCW:
            case U5.kControlAction_rotateCCW:
                this._soundManager.effect(this._gameVarManager.audioConstants.tetrimino_rotation_sfx);
                this.smartControlsTransform.dispatch(j.x, j.y, j.orientation);
                break;
            case U5.kControlAction_moveLeft:
                this._tetriminoController.moveTetrimino(x5.LEFT);
                break;
            case U5.kControlAction_moveRight:
                this._tetriminoController.moveTetrimino(x5.RIGHT);
                break;
            case U5.kControlAction_hardDrop:
                if (this._inputAllowed) {
                    var o = this.getHardDropStepsForPiece();
                    this._gameInfoPublisher.publish(d6t.Z13, o, d6t.W6);
                }
                break;
            case U5.kControlAction_startSoftDrop:
            case U5.kControlAction_stopSoftDrop:
            case U5.kControlAction_hold:
                break;
        }
    };
    W5.prototype._performSmartTransform = function(t, k, j) {
        this.smartControlsTransform.dispatch(j.x, j.y, j.orientation);
        if (t === U5.kControlAction_selectTarget && this._inputAllowed) {
            var o = this.getHardDropStepsForPiece(),
                e = this.getSoftDropStepsForPiece();
            this._gameInfoPublisher.publish(d6t.Z13, o, e);
            this.onLoseControl.dispatch();
        }
    };
    W5.prototype._setTutorialInputActive = function(t, k) {
        if (t === A5.HOLD) {
            this._inputAllowed = k.tutorialInputActive;
        } else {
            this._inputAllowed = d6t.s73;
        }
    };
    W5.prototype._logMinoState = function() {
        var t = ") - ",
            k = (145 > (0x137, 93) ? (82., "(") : (0x67, 130.20E1)),
            j = "Mino: ",
            o = this.getModel().getPieceData(),
            e = this.getModel().getGameState(),
            q = o.getPiece(e.getLivePieceTypeId(), e.getLivePieceCurrentTransform()),
            m = j;
        for (var k5 = d6t.W6; k5 < d6t.M6; k5++) {
            var C5 = q.mMinosXY[k5],
                H5 = C5 % d6t.x7x,
                j5 = ~~(C5 / d6t.x7x);
            m += k + H5 + d6t.C08 + j5 + t;
        }
        console.log(m);
    };
    W5.prototype._getSoftDropVelocity = function() {
        var t = d6t.j28,
            k = d6t.I2x;
        return this._forcedMove.moveGhostMinosCleared ? t : k;
    };
    W5.prototype._getHardDropVelocity = function() {
        var t = d6t.H4f,
            k = d6t.I2x,
            j = this._tetriminoController && this._tetriminoController.ghostTetrimino && this._forcedMove.isMoveLegal(this._tetriminoController.ghostTetrimino, d6t.s73);
        return j ? t : k;
    };
    W5.prototype._update = function() {
        this.getModel().mAllowDirectRotationalHovering = this._tetriminoController.isFallingLocked();
        this.setGestureInputParameter_minSoftDropDragVelocityY_FXPT(this._getSoftDropVelocity());
        this.setGestureInputParameter_minHardDropDragVelocityY_FXPT(this._getHardDropVelocity());
        this.processTime();
    };
    W5.prototype._createSignals = function() {
        this.onLoseControl = new z5.Signal();
        this.smartControlsTransform = new z5.Signal();
        this.onTetriminoLocked = new z5.Signal();
        this.startSoftDropSignal = new z5.Signal();
        this.endSoftDropSignal = new z5.Signal();
        this.holdSignal = new z5.Signal();
    };
    W5.prototype._addEvents = function() {
        this._gameInfoPublisher.subscribe(d6t.C3, this.pause, this);
        this._gameInfoPublisher.subscribe(d6t.v53, this.resume, this);
        this._gameInfoPublisher.subscribe(d6t.L3, this.newTetriminoSpawned, this);
        this._gameInfoPublisher.subscribe(d6t.w68, this.tetriminoDeactivate, this);
        this._gameInfoPublisher.subscribe(d6t.V48, this.setFallSpeed, this);
        this._gameInfoPublisher.subscribe(d6t.z3H, this.resume, this);
        this._gameInfoPublisher.subscribe(o5, this.tetriminoFall, this);
        this._gameInfoPublisher.subscribe(D5, this.tetriminoTouchDown, this);
        this._gameInfoPublisher.subscribe(B5, this._tetriminoSpawnComplete, this);
        this._gameInfoPublisher.subscribe(d6t.H1f, this._setTutorialInputActive, this);
        this._gameInfoPublisher.subscribe(d6t.Z9f, this._setTutorialInputActive, this);
        if (this._controlScheme[f5.CURRENT_SCHEME_KEY] === f5.SWIPE) {
            this._gameInfoPublisher.subscribe(d6t.m0x, this.pause, this);
            this._gameInfoPublisher.subscribe(B5, this.resume, this);
        }
    };
    W5.prototype._removeEvents = function() {
        this._gameInfoPublisher.unsubscribe(d6t.C3, this.pause, this);
        this._gameInfoPublisher.unsubscribe(d6t.v53, this.resume, this);
        this._gameInfoPublisher.unsubscribe(d6t.L3, this.newTetriminoSpawned, this);
        this._gameInfoPublisher.unsubscribe(d6t.w68, this.tetriminoDeactivate, this);
        this._gameInfoPublisher.unsubscribe(d6t.V48, this.setFallSpeed, this);
        this._gameInfoPublisher.unsubscribe(d6t.z3H, this.resume, this);
        this._gameInfoPublisher.unsubscribe(o5, this.tetriminoFall, this);
        this._gameInfoPublisher.unsubscribe(D5, this.tetriminoTouchDown, this);
        this._gameInfoPublisher.unsubscribe(B5, this._tetriminoSpawnComplete, this);
        this._gameInfoPublisher.unsubscribe(d6t.H1f, this._setTutorialInputActive, this);
        this._gameInfoPublisher.unsubscribe(d6t.Z9f, this._setTutorialInputActive, this);
        if (this._controlScheme[f5.CURRENT_SCHEME_KEY] === f5.SWIPE) {
            this._gameInfoPublisher.unsubscribe(d6t.m0x, this.pause, this);
            this._gameInfoPublisher.unsubscribe(B5, this.resume, this);
        }
    };
    W5.prototype.TetSmartControlInterface_resetForNewGame = function() {
        W5._super.TetSmartControlInterface_resetForNewGame.call(this);
    };
    W5.prototype.TetSmartControlInterface_setLivePieceTransform = function(t, k, j, o, e) {
        if (o === U5.kControlAction_moveToTarget) {
            return d6t.F18;
        }
        var q = w5.fromSmartControl(j),
            m = {
                x: t,
                y: k,
                orientation: q
            };
        this.translateFromSmart(m);
        if (this.getActiveInputType() === y5.kInputType_gesture) {
            this._performSwipeTransform(o, e, m);
        } else if (this.getActiveInputType() === y5.kInputType_smart) {
            this._performSmartTransform(o, e, m);
        }
        return d6t.s73;
    };
    W5.prototype.TetSmartControlInterface_performControlAction = function(t) {
        switch (t) {
            case U5.kControlAction_superRotateCW:
            case U5.kControlAction_superRotateCCW:
            case U5.kControlAction_moveLeft:
            case U5.kControlAction_moveRight:
            case U5.kControlAction_hardDrop:
                return d6t.F18;
            case U5.kControlAction_startSoftDrop:
                this.startSoftDropSignal.dispatch();
                break;
            case U5.kControlAction_stopSoftDrop:
                this.endSoftDropSignal.dispatch();
                break;
            case U5.kControlAction_hold:
                this.holdSignal.dispatch();
                break;
        }
        return d6t.s73;
    };
    W5.prototype.TetSmartControlInterface_controlActionFailed = function(t) {
        var k = "Control action failed: ";
        console.warn(k + t);
        switch (t) {
            case d6t.A6:
                this._soundManager.effect(this._gameVarManager.audioConstants.movement_failure_sfx);
                break;
            case d6t.D6:
                this._soundManager.effect(this._gameVarManager.audioConstants.movement_failure_sfx);
                break;
            case d6t.B6:
                this._soundManager.effect(this._gameVarManager.audioConstants.rotation_failure_sfx);
                break;
            case d6t.M6:
                this._soundManager.effect(this._gameVarManager.audioConstants.rotation_failure_sfx);
                break;
            case d6t.U6:
                this._soundManager.effect(this._gameVarManager.audioConstants.rotation_failure_sfx);
                break;
            case d6t.J6:
                this._soundManager.effect(this._gameVarManager.audioConstants.rotation_failure_sfx);
                break;
        }
    };
    W5.prototype.TetSmartControlInterface_getLivePieceX = function() {
        var t = {
            x: this._currentTetrimino.col,
            y: this._currentTetrimino.row,
            orientation: this._currentTetrimino.orientation
        };
        this.translateToSmart(t);
        return t.x;
    };
    W5.prototype.TetSmartControlInterface_getLivePieceY = function() {
        var t = {
            x: this._currentTetrimino.col,
            y: this._currentTetrimino.row,
            orientation: this._currentTetrimino.orientation
        };
        this.translateToSmart(t);
        return t.y;
    };
    W5.prototype.TetSmartControlInterface_getLivePieceFacing = function() {
        return w5.fromOrientation(this._currentTetrimino.orientation);
    };
    W5.prototype.TetSmartControlInterface_setGhostPieceTransform = function(t, k, j) {
        var o = "ghostPieceTransformChanged",
            e = w5.fromSmartControl(j),
            q = {
                x: t,
                y: k,
                orientation: e
            };
        this.translateFromSmart(q);
        this._gameInfoPublisher.publish(o, this._currentTetrimino.tetriminoType, q.x, q.y, e);
    };
    W5.prototype.TetSmartControlInterface_setGhostPieceIsValid = function(t) {
        this._gameInfoPublisher.publish(N5, t);
    };
    W5.prototype.TetSmartControlInterface_canLivePieceFall = function() {
        var t = "Not Implemented: canLivePieceFall";
        console.log(t);
        return d6t.s73;
    };
    W5.prototype.TetSmartControlInterface_getNormalFallSpeedMSEC = function() {
        return this._fallSpeed;
    };
    W5.prototype.TetSmartControlInterface_stopLivePieceFalling = function() {
        var t = "Stop live piece falling";
        console.warn(u5 + t);
        W5._super.TetSmartControlInterface_stopLivePieceFalling.call(this);
    };
    W5.prototype.TetSmartControlInterface_restartLivePieceFalling = function() {
        var t = "Restart live piece falling";
        console.warn(u5 + t);
        W5._super.TetSmartControlInterface_restartLivePieceFalling.call(this);
    };
    W5.prototype.TetSmartControlInterface_cancelLockTimer = function() {
        var t = "Cancel the lockdown timer";
        console.warn(u5 + t);
        W5._super.TetSmartControlInterface_cancelLockTimer.call(this);
    };
    W5.prototype.TetSmartControlInterface_startLockTimer = function() {
        var t = "Start lock down timer";
        console.warn(u5 + t);
        W5._super.TetSmartControlInterface_startLockTimer.call(this);
    };
    W5.prototype.TetSmartControlInterface_lockLivePiece = function() {
        this.onTetriminoLocked.dispatch();
        W5._super.TetSmartControlInterface_lockLivePiece.call(this);
    };
    W5.prototype.TetSmartControlInterface_getTimeMSEC = function() {
        return Date.now() - this._startDateTime;
    };
    W5.prototype.TetSmartControlInterface_captureMatrix = function() {
        var t = this._currentTetrimino.getMinos();
        for (var k = d6t.W6; k < this._matrixConfig.COLS; k++) {
            for (var j = d6t.W6; j < this._matrixConfig.PLAYABLE_ROWS_COUNT; j++) {
                var o = this._matrixController.getMatrixCell(j, k),
                    e = o.getPrisoner();
                if (e && t.indexOf(e) == -d6t.A6) {
                    var q = p5.fromTetriminoType(e.tetriminoType);
                    this.setCurrentStateMatrixMino(q, k, j);
                }
            }
        }
    };
    return W5;
});
define('gameplay/WorldProgress', [], function() {
    var k5 = 'num_levels',
        C5 = 'progress',
        H5 = function(game, storageManager, gameInfoPublisher, gameConfig, gameVarManager) {
            var q = "worldProgress";
            var m = 'WorldProgress.ctor';
            console.log(m);
            this._game = game;
            this._storageManager = storageManager;
            this._gameInfoPublisher = gameInfoPublisher;
            this._gameConfig = gameConfig;
            this._gameVarManager = gameVarManager;
            this._worldProgress = d6t.B3x;
            this._worldProgressKey = q;
        };
    H5.DEFAULT_PROGRESS = d6t.A6;
    H5.NUM_LEVELS = d6t.a08;
    H5.prototype.init = function() {
        this._loadWorldProgress();
        this._gameInfoPublisher.subscribe(d6t.I1H, this._incrementWorldProgress, this);
    };
    H5.prototype._loadWorldProgress = function() {
        this._worldProgress = this._storageManager.get(this._worldProgressKey) || H5.DEFAULT_PROGRESS;
        if (this._worldProgress > this._gameVarManager.constants.unlockMarathonAt || this._gameConfig.client === d6t.p5x) {
            this._storageManager.set(d6t.a3f, d6t.s73);
        }
    };
    H5.prototype.saveWorldProgress = function() {
        this._storageManager.set(this._worldProgressKey, this._worldProgress);
    };
    H5.prototype._incrementWorldProgress = function(t) {
        if (t.playerWon) {
            if (t.levelId === this._worldProgress) {
                if (this._worldProgress < H5.NUM_LEVELS) {
                    this._worldProgress++;
                    this.saveWorldProgress();
                    this._gameInfoPublisher.publish(d6t.o73);
                } else if (this._worldProgress === H5.NUM_LEVELS) {
                    this._gameInfoPublisher.publish(d6t.c48);
                }
            }
        }
    };
    Object.defineProperty(H5.prototype, C5, {
        get: function() {
            return this._worldProgress;
        }
    });
    Object.defineProperty(H5.prototype, k5, {
        get: function() {
            return H5.NUM_LEVELS;
        }
    });
    return H5;
});
define('gui/SpineUtil', [], function() {
    var o = function(spineAnimationFactory) {
        this._spineAnimationFactory = spineAnimationFactory;
    };
    o.prototype.replacePlaceholder = function(t, k) {
        var entity = this._spineAnimationFactory.construct(k);
        t.parent.add(entity);
        entity.x = t.x;
        entity.y = t.y;
        return entity;
    };
    o.prototype.createAnimation = function(t, k) {
        var entity = this._spineAnimationFactory.construct(t);
        k.add(entity);
        return entity;
    };
    return o;
});
define('gui/MapController', ['gt/utils/device'], function(C5) {
    var H5 = '_mapEnd',
        j5 = '_mapStart',
        Y5 = '_orientationField',
        z5 = 'levelnodeInputBlocked',
        P5 = (96 > (115, 0.) ? (0xFC, 0.125) : (146.3E1, 0x141)),
        p5 = (0x35 >= (0x198, 5.42E2) ? (46, 67) : (3.61E2, 12.59E2) >= 39.30E1 ? (28.70E1, 1.06) : (0x1A3, 26) < (49., 3) ? (0x47, 'ie') : (0x241, 11.71E2)),
        w5 = 'Mac OS';

    function R5(game, worldProgress, viewportManager, gameInfoPublisher, soundManager, gameVarManager, sceneManager, storageManager) {
        this._game = game;
        this._worldProgress = worldProgress;
        this._viewportManager = viewportManager;
        this._gameInfoPublisher = gameInfoPublisher;
        this._soundManager = soundManager;
        this._gameVarManager = gameVarManager;
        this._sceneManager = sceneManager;
        this._storageManager = storageManager;
        this._view = d6t.B3x;
        this._isSwiping = d6t.B3x;
        this._isWheeling = d6t.B3x;
        this._myInput = d6t.B3x;
        this._scrollSpeed = d6t.B3x;
        this._mapViewContainer = d6t.B3x;
        this._mapEdge = d6t.B3x;
        this._levelnodeInputBlocked = d6t.F18;
        this._canActivateControls = d6t.s73;
        this._orientation = R5.ORIENTATION_HORIZONTAL;
        this._animation = d6t.B3x;
    }
    R5.ORIENTATION_HORIZONTAL = d6t.W6;
    R5.ORIENTATION_VERTICAL = d6t.A6;
    R5.SCROLL_ACCELERATION = (device.info.os.name === w5) ? d6t.d6 : d6t.j9x;
    R5.MAX_SCROLL_SPEED = d6t.a08;
    R5.SCROLL_FRICTION = p5;
    R5.INPUT_DEADZONE = d6t.c6x;
    R5.PORTABLE_SCROLLSPEED_MULTIPLIER = P5;
    R5.prototype.init = function(t) {
        this._worldProgress.init();
        this._view = t;
        this._mapViewContainer = t.view;
        R5.SCROLL_ACCELERATION *= this._game.viewport.scale;
        R5.MAX_SCROLL_SPEED *= this._game.viewport.scale;
        this._mapEdge = {
            bottom: d6t.W6,
            top: this._mapViewContainer.height - this._game.viewport.height,
            left: d6t.W6,
            right: -this._mapViewContainer.width + this._game.viewport.width + d6t.C3x
        };
        this._mapViewContainer.x = this._mapEdge.left;
    };
    R5.prototype.activate = function(t, k) {
        this._addEvents();
        this._resetScrolling();
        if (t) {
            this._tweenToCurrent(t, k, this.enableInputEvents, this);
        } else {
            this.enableInputEvents();
        }
    };
    R5.prototype.deActivate = function() {
        this._removeEvents();
        this.disableInputEvents();
    };
    R5.prototype.update = function() {
        this._scrollMap();
        this._checkForInputBlock();
        this._updateVisibility();
    };
    R5.prototype._scrollMap = function() {
        var t = 0.07,
            k = d6t.W6;
        if (this._isWheeling && device.desktop) {
            this._isWheeling = d6t.F18;
            this._scrollSpeed += R5.SCROLL_ACCELERATION * this._game.input.mouse.wheelDelta;
            if (this._scrollSpeed > R5.MAX_SCROLL_SPEED) {
                this._scrollSpeed = R5.MAX_SCROLL_SPEED;
            }
            if (this._scrollSpeed < -R5.MAX_SCROLL_SPEED) {
                this._scrollSpeed = -R5.MAX_SCROLL_SPEED;
            }
            this._soundManager.effect(this._gameVarManager.audioConstants.worldmap_swipe_sfx);
        }
        if (this._isSwiping) {
            this._myInput.old.x = this._myInput.new.x;
            this._myInput.old.y = this._myInput.new.y;
            this._myInput.new.x = this._game.input.x;
            this._myInput.new.y = this._game.input.y;
            var j = this._mapViewContainer[this._orientationField];
            this._mapViewContainer[this._orientationField] = this._game.input[this._orientationField] - this.dragCorrection;
            this._scrollSpeed = this._myInput.new[this._orientationField] - this._myInput.old[this._orientationField];
            if (C5.portable) {
                this._scrollSpeed *= R5.PORTABLE_SCROLLSPEED_MULTIPLIER;
            }
            k = this._mapViewContainer[this._orientationField] - j;
        } else {
            this._scrollSpeed /= R5.SCROLL_FRICTION;
            k = this._scrollSpeed * this._game.time.events.elapsed * t;
            this._mapViewContainer[this._orientationField] += k;
        }
        if (this._mapViewContainer[this._orientationField] < this._mapStart) {
            this._mapViewContainer[this._orientationField] = this._mapStart;
            this._scrollSpeed = d6t.W6;
        } else if (this._mapViewContainer[this._orientationField] > this._mapEnd) {
            this._mapViewContainer[this._orientationField] = this._mapEnd;
            this._scrollSpeed = d6t.W6;
        }
    };
    R5.prototype._checkForInputBlock = function() {
        if (this._scrollSpeed > R5.INPUT_DEADZONE || this._scrollSpeed < -R5.INPUT_DEADZONE) {
            this._levelnodeInputBlocked = d6t.s73;
        } else {
            this._levelnodeInputBlocked = d6t.F18;
        }
    };
    R5.prototype._startSwipe = function() {
        this._isSwiping = d6t.s73;
        this.dragCorrection = this._game.input[this._orientationField] - this._mapViewContainer[this._orientationField];
        this._myInput.old[this._orientationField] = this._myInput.new[this._orientationField];
        this._myInput.old[this._orientationField] = this._myInput.new[this._orientationField];
        this._myInput.new[this._orientationField] = this._game.input[this._orientationField];
        this._myInput.new[this._orientationField] = this._game.input[this._orientationField];
    };
    R5.prototype._endSwipe = function() {
        this._isSwiping = d6t.F18;
    };
    R5.prototype.toggleInput = function(t) {
        if (t) {
            this.enableInputEvents();
        } else {
            this.disableInputEvents();
        }
    };
    R5.prototype.enableInputEvents = function() {
        if (this._canActivateControls) {
            this._game.input.onDown.add(this._startSwipe, this);
            this._game.input.onUp.add(this._endSwipe, this);
            this._game.input.mouse.mouseWheelCallback = function(t) {
                this._isWheeling = d6t.s73;
            }.bind(this);
            this._gameInfoPublisher.publish(d6t.q68);
        }
        this._canActivateControls = d6t.s73;
    };
    R5.prototype.disableInputEvents = function() {
        this._game.input.onDown.remove(this._startSwipe, this);
        this._game.input.onUp.remove(this._endSwipe, this);
        this._game.input.mouse.mouseWheelCallback = d6t.B3x;
        this._gameInfoPublisher.publish(d6t.o38);
    };
    R5.prototype._resetScrolling = function() {
        this._isSwiping = d6t.F18;
        this._isWheeling = d6t.F18;
        this._myInput = {
            old: {
                x: d6t.W6,
                y: d6t.W6
            },
            new: {
                x: d6t.W6,
                y: d6t.W6
            }
        };
        this._scrollSpeed = d6t.W6;
    };
    R5.prototype._tweenToCurrent = function(t, k, j, o) {
        var e = -t[this._orientationField] + this._game.viewport.width / d6t.D6,
            q = e + this._game.viewport.width / d6t.D6;
        q = Math.min(q, this._mapEnd);
        this._mapViewContainer[this._orientationField] = q;
        if (k) {
            var m = this._game.add.tween(this._mapViewContainer);
            m.to({
                x: e
            }, d6t.I6, Phaser.Easing.Quadratic.Out, d6t.s73, d6t.I6);
            m.onComplete.addOnce(j, o);
        } else {
            this._mapViewContainer.x = e;
        }
    };
    R5.prototype.firstTimeEnterFlow = function(t, k) {
        var j = (0x131 < (0x57, 0xD6) ? "xy" : (62., 46.0E1) <= (0x1D4, 77) ? 'a' : (1.403E3, 0x257) >= (145., 129) ? (0x1D6, 700) : (98., 0x9B));
        this._addEvents();
        this.disableInputEvents();
        this._initialPos = this._mapViewContainer[this._orientationField];
        var o = this._view.placeHolders.london;
        this._mapViewContainer[this._orientationField] = -o[this._orientationField] - o.parent[this._orientationField];
        this._game.time.events.paused = d6t.F18;
        this._game.time.events.add(j, function() {
            this._gameInfoPublisher.publish(d6t.u9f, d6t.n83, function() {
                this.endFirstTimeFlow(t, k);
            }, this);
        }, this);
    };
    R5.prototype.endFirstTimeFlow = function(t, k) {
        var j = this._game.add.tween(this._mapViewContainer).to({
            x: this._initialPos
        }, d6t.I6, Phaser.Easing.Quadratic.Out, d6t.s73, d6t.I6);
        j.onComplete.addOnce(function() {
            this._sceneManager.showPopup(d6t.T3f, d6t.A6);
            this._storageManager.set(d6t.A3f, d6t.s73);
            this._canActivateControls = d6t.s73;
            t.call(k);
        }, this);
    };
    R5.prototype._levelPpOpened = function() {
        this._canActivateControls = d6t.F18;
    };
    R5.prototype._updateVisibility = function() {
        var t = 'grp_levelContainer';
        for (var k = d6t.W6; k < this._mapViewContainer.children.length; k++) {
            var j = this._mapViewContainer.children[k];
            if (!j || !j.children || j.name === t) {
                continue;
            }
            for (var o = d6t.W6; o < j.children.length; o++) {
                var e = j.children[o];
                if (!e.global || e.id.indexOf(d6t.A0) > -d6t.A6) {
                    continue;
                }
                var q = {
                    x: e.global.x,
                    y: e.global.y,
                    width: e.width,
                    height: e.height
                };
                if (e.visible) {
                    if (q.x < -q.width || q.x > this._game.viewport.width + q.width) {
                        e.visible = d6t.F18;
                    }
                } else {
                    if (q.x >= -q.width && q.x <= this._game.viewport.width + q.width) {
                        e.visible = d6t.s73;
                    }
                }
            }
        }
    };
    R5.prototype._addEvents = function() {
        this._gameInfoPublisher.subscribe(d6t.M23, this._levelPpOpened, this);
        this._gameInfoPublisher.subscribe(d6t.v4x, this._levelPpOpened, this);
        this._gameInfoPublisher.subscribe(d6t.b3H, this._levelPpOpened, this);
    };
    R5.prototype._removeEvents = function() {
        this._gameInfoPublisher.unsubscribe(d6t.M23, this._levelPpOpened, this);
        this._gameInfoPublisher.unsubscribe(d6t.v4x, this._levelPpOpened, this);
        this._gameInfoPublisher.unsubscribe(d6t.b3H, this._levelPpOpened, this);
    };
    Object.defineProperty(R5.prototype, z5, {
        get: function() {
            return this._levelnodeInputBlocked;
        }
    });
    Object.defineProperty(R5.prototype, Y5, {
        get: function() {
            return this._orientation === R5.ORIENTATION_HORIZONTAL ? d6t.U3 : d6t.n3;
        }
    });
    Object.defineProperty(R5.prototype, j5, {
        get: function() {
            return this._orientation === R5.ORIENTATION_HORIZONTAL ? this._mapEdge.right : this._mapEdge.bottom;
        }
    });
    Object.defineProperty(R5.prototype, H5, {
        get: function() {
            return this._orientation === R5.ORIENTATION_HORIZONTAL ? this._mapEdge.left : this._mapEdge.top;
        }
    });
    return R5;
});
define('gui/MapAnimator', [], function() {
    'use strict';

    function j5(game, gameVarManager, spineUtil, storageManager, gameInfoPublisher) {
        this._game = game;
        this._gameVarManager = gameVarManager;
        this._spineUtil = spineUtil;
        this._storageManager = storageManager;
        this._gameInfoPublisher = gameInfoPublisher;
        this._view = d6t.B3x;
        this._animation = d6t.B3x;
        this.mapAnimations = [];
        this._gameInfoPublisher.subscribe(d6t.b7, this.startAnimations, this);
    }
    j5.prototype.setupAnimations = function(t) {
        this._view = t;
        this._setupNewYorkAnimations();
        this._setupLondonAnimations();
        this._setupParisAnimations();
        this._setupTokyoAnimations();
        this._setupAmsterdamAnimations();
    };
    j5.prototype._setupNewYorkAnimations = function() {
        var t = 'newyorkIsland02',
            k = 'newyorkTower02',
            j = 'newyorkTower01';
        this._createAnimationData(d6t.X5x, j, j, d6t.B3x, this._view.placeHolders.newyorkflat01);
        this._createAnimationData(d6t.X5x, k, k, d6t.B3x, this._view.placeHolders.newyorkflat02);
        this._createAnimationData(d6t.X5x, t, t, d6t.B3x, this._view.placeHolders.newyorkblock2);
    };
    j5.prototype._setupLondonAnimations = function() {
        var t = 'londonEye_locked',
            k = 'londonEye',
            j = 'londonIsland04_locked',
            o = 'londonIsland04',
            e = 'londonisland03_locked',
            q = 'londonIsland03',
            m = 'londonIsland02_locked',
            k5 = 'londonIsland02',
            C5 = 'londonIsland01_locked',
            H5 = 'londonIsland01';
        this._createAnimationData(d6t.n83, H5, H5, C5, this._view.placeHolders.wm_lo_block3);
        this._createAnimationData(d6t.n83, k5, k5, m, this._view.placeHolders.londonblock1);
        this._createAnimationData(d6t.n83, q, q, e, this._view.placeHolders.londonblock2);
        this._createAnimationData(d6t.n83, o, o, j, this._view.placeHolders.londonblock3);
        this._createAnimationData(d6t.n83, k, k, t, this._view.placeHolders.londonblock4);
    };
    j5.prototype._setupParisAnimations = function() {
        var t = 'parisIsland03_locked',
            k = 'parisIsland03',
            j = 'parisIsland01_locked',
            o = 'parisIsland01';
        this._createAnimationData(d6t.j0H, o, o, j, this._view.placeHolders.parisblock1);
        this._createAnimationData(d6t.j0H, k, d6t.g9f, t, this._view.placeHolders.parisblock2);
    };
    j5.prototype._setupTokyoAnimations = function() {
        var t = 'tokyoIsland03_locked',
            k = 'tokyoIsland03',
            j = 'tokyoIsland02',
            o = 'tokyoIsland01_locked',
            e = 'tokyoIsland01',
            q = 'tokyoleaves2',
            m = 'tokyoleaf';
        this._createAnimationData(d6t.e8H, m, m, d6t.B3x, this._view.placeHolders.tokyoleaf);
        this._createAnimationData(d6t.e8H, q, q, d6t.B3x, this._view.placeHolders.tokyoleaf2);
        this._createAnimationData(d6t.e8H, e, e, o, this._view.placeHolders.tokyoblock1);
        this._createAnimationData(d6t.e8H, j, e, o, this._view.placeHolders.tokyoblock2);
        this._createAnimationData(d6t.e8H, k, k, t, this._view.placeHolders.tokyoblock3);
    };
    j5.prototype._setupAmsterdamAnimations = function() {
        var t = 'amsterdamIsland04_locked',
            k = 'amsterdamIsland04',
            j = 'amsterdamIsland03_locked',
            o = 'amsterdamIsland03',
            e = 'amsterdamIsland02_locked',
            q = 'amsterdamIsland02',
            m = 'amsterdamIsland01_locked',
            k5 = 'amsterdamIsland01';
        this._createAnimationData(d6t.R2H, k5, k5, m, this._view.placeHolders.amstblock3);
        this._createAnimationData(d6t.R2H, q, q, e, this._view.placeHolders.amstblock2);
        this._createAnimationData(d6t.R2H, o, o, j, this._view.placeHolders.amstblock4);
        this._createAnimationData(d6t.R2H, k, k, t, this._view.placeHolders.amstblock1);
    };
    j5.prototype._setupMoscowAnimations = function() {
        var t = 'moscowCity_locked',
            k = 'moscowCity',
            j = 'moscow';
        this._createAnimationData(j, k, k, t, this._view.placeHolders.moscow_locked);
    };
    j5.prototype.startAnimations = function() {
        for (var t = d6t.W6; t < this.mapAnimations.length; t++) {
            var k = this.mapAnimations[t],
                j = k.cityUnlockedAnimation;
            if (!this._storageManager.get(k.city + d6t.k23) && k.cityLockedAnimation != d6t.B3x) {
                j = k.cityLockedAnimation;
            }
            k.spineEntity.startAnimation(j, d6t.F18, d6t.s73);
        }
    };
    j5.prototype.stopAnimations = function() {
        for (var t = d6t.W6; t < this.mapAnimations.length; t++) {
            var k = this.mapAnimations[t];
            k.spineEntity.stopAnimation();
        }
    };
    j5.prototype._createAnimationData = function(t, k, j, o, e) {
        var q = this._spineUtil.createAnimation(k, e),
            m = {
                city: t,
                spineEntity: q,
                cityUnlockedAnimation: j,
                cityLockedAnimation: o
            };
        this.mapAnimations.push(m);
    };
    return j5;
});
define('gameplay/UnlockProgress', [], function() {
    var k5 = 'manuallyBackToMap';

    function C5(storageManager, gameVarManager, worldProgress) {
        this._storageManager = storageManager;
        this._gameVarManager = gameVarManager;
        this._worldProgress = worldProgress;
        this._manuallyBackToMap = d6t.F18;
    }
    C5.LEVEL = d6t.W6;
    C5.CITY = d6t.A6;
    C5.prototype.isUnlockable = function(t, k) {
        var j = "newyork",
            o = j,
            e = d6t.W6;
        switch (t) {
            case C5.CITY:
                e = this.getFirstLevelInCity(k);
                o = k;
                break;
            case C5.LEVEL:
                e = k;
                o = this.getCityForLevel(e);
                break;
        }
        var q = this._worldProgress.progress,
            m = (q >= e);
        return (this.starsToCollect(o) <= d6t.W6) && m;
    };
    C5.prototype.isInactive = function(t) {
        var k = this.getCityForLevel(t),
            j = d6t.F18;
        if (this._storageManager.get(k + d6t.k23) && this._worldProgress.progress < t) {
            j = d6t.s73;
        }
        return j;
    };
    C5.prototype.getCityForLevel = function(k) {
        var j = d6t.B3x,
            o = this._gameVarManager.cities;
        o.forEach(function(t) {
            if (k >= t.firstLevelId) {
                j = t.name;
            }
        }, this);
        return j;
    };
    C5.prototype.getFirstLevelInCity = function(k) {
        var j = d6t.B3x,
            o = this._gameVarManager.cities;
        o.forEach(function(t) {
            if (k === t.name.toLowerCase()) {
                j = t.firstLevelId;
            }
        }, this);
        return j;
    };
    C5.prototype.starsToCollect = function(j) {
        var o = this._storageManager.get(this._gameVarManager.constants.totalStars),
            e = d6t.W6;
        this._gameVarManager.cities.forEach(function(t) {
            var k = t.name;
            if (j.indexOf(k) >= d6t.W6) {
                e = t.starsToUnlock - o;
            }
        }, this);
        if (e < d6t.W6) {
            e = d6t.W6;
        }
        return e;
    };
    Object.defineProperty(C5.prototype, k5, {
        get: function() {
            return this._manuallyBackToMap;
        },
        set: function(t) {
            this._manuallyBackToMap = t;
        }
    });
    return C5;
});
define('gui/LevelNodeController', ['gameplay/UnlockProgress', 'enums/LevelNodeType'], function(Y5, z5) {
    var P5 = 'starsGainedInTheLatestPlay',
        p5 = 'isGreyedLevel',
        w5 = 'isCurrentLevel',
        R5 = 'node_01_select_idle',
        r5 = 'starsInactive',
        T5 = 'starsActive';

    function a5(levelManager, worldProgress, sceneManager, scoreManager, storageManager, gameInfoPublisher, game, mapController, spineUtil, unlockProgress, gameVarManager) {
        this._levelManager = levelManager;
        this._worldProgress = worldProgress;
        this._sceneManager = sceneManager;
        this._scoreManager = scoreManager;
        this._storageManager = storageManager;
        this._gameInfoPublisher = gameInfoPublisher;
        this._mapController = mapController;
        this._game = game;
        this._spineUtil = spineUtil;
        this._unlockProgress = unlockProgress;
        this._gameVarManager = gameVarManager;
        this._view = d6t.B3x;
        this._levelId = d6t.B3x;
        this._animationLayer = d6t.B3x;
        this._lastLevelPlayed = d6t.W6;
        this._beamAnimation = d6t.B3x;
        this._nodeType = d6t.B3x;
    }
    a5.prototype.init = function(t, k, j, o) {
        var e = 'unlockGate';
        this._view = t;
        this._view.buttons[j].visible = d6t.s73;
        this._levelId = o;
        this._nodeType = j;
        this._lastLevelWon = d6t.F18;
        this._gameInfoPublisher.subscribe(e, this._onUnlockGate, this);
        this._gameInfoPublisher.subscribe(d6t.o73, this._onWorldProgressIncremented, this);
        this._gameInfoPublisher.subscribe(d6t.c48, this._onLastLevelWon, this);
        this._setupLevelButtonCallback();
        this._setupNodeAnimations();
        this._view.groups[T5].visible = d6t.F18;
        this._view.groups[r5].visible = d6t.F18;
    };
    a5.prototype.activate = function() {
        this._setupNode();
        if (!this.isGreyedLevel) {
            this._setupActiveNode();
        } else if (this.isCurrentLevel) {
            this._gameInfoPublisher.publish(d6t.v4x, d6t.F18);
        }
    };
    a5.prototype.deActivate = function() {
        this._beamAnimation.stopAnimation();
        this._beamAnimation.visible = d6t.F18;
        this._stopBeamAnimation();
    };
    a5.prototype.enableInput = function() {
        for (var t in this._view.buttons) {
            this._view.buttons[t].setActive(d6t.s73);
        }
    };
    a5.prototype.disableInput = function() {
        for (var t in this._view.buttons) {
            this._view.buttons[t].setActive(d6t.F18);
        }
    };
    a5.prototype._setupNode = function() {
        this._beamAnimation.visible = d6t.F18;
        this._showProgressState();
        if (!this.isGreyedLevel) {
            this._showStars();
        }
        this._showLevelId();
    };
    a5.prototype._showProgressState = function() {
        var t = this._worldProgress.progress == this._levelId,
            k = this._unlockProgress.isInactive(this._levelId),
            j = this._worldProgress.progress > this._levelId,
            o = !t && !k && !j;
        this._showCorrectNodeColor(t, k, o, j);
        this._showCorrectTextColor(t, k, o, j);
    };
    a5.prototype._showCorrectNodeColor = function(t, k, j, o) {
        var e = this._unlockProgress.getCityForLevel(this._levelId);
        if (this._unlockProgress.isUnlockable(Y5.CITY, e)) {
            this._view.groups[z5.SELECTED].visible = t;
            this._view.groups[z5.INACTIVE].visible = k;
            this._view.groups[z5.UNAVAILABLE].visible = j;
            this._view.groups[z5.COMPLETED].visible = o;
            if (t) {
                this._nodeType = z5.SELECTED;
            } else if (k) {
                this._nodeType = z5.INACTIVE;
            } else if (j) {
                this._nodeType = z5.UNAVAILABLE;
            } else {
                this._nodeType = z5.COMPLETED;
            }
        } else {
            this._view.groups[z5.UNAVAILABLE].visible = d6t.s73;
            this._view.groups[z5.SELECTED].visible = d6t.F18;
            this._view.groups[z5.INACTIVE].visible = d6t.F18;
            this._view.groups[z5.COMPLETED].visible = d6t.F18;
            this._nodeType = z5.UNAVAILABLE;
        }
    };
    a5.prototype._showCorrectTextColor = function(t, k, j, o) {
        var e = [z5.COMPLETED, z5.SELECTED, z5.INACTIVE, z5.UNAVAILABLE];
        for (var q = d6t.W6; q < e.length; q++) {
            this._view.labels[e[q]].visible = d6t.F18;
        }
        switch (this._nodeType) {
            case z5.INACTIVE:
                this._view.labels[z5.INACTIVE].visible = d6t.s73;
                break;
            case z5.UNAVAILABLE:
                this._view.labels[z5.UNAVAILABLE].visible = d6t.s73;
                break;
            case z5.SELECTED:
                this._view.labels[z5.SELECTED].visible = d6t.s73;
                break;
            case z5.COMPLETED:
                this._view.labels[z5.COMPLETED].visible = d6t.s73;
                break;
        }
    };
    a5.prototype._showStars = function() {
        var t = 'lvlstarblue',
            k = 'lvlstaryellow';
        for (var j = d6t.W6; j < d6t.B6; j++) {
            var o = j + d6t.A6,
                e = this._scoreManager.isStarCollected(this._levelId, j),
                q = this._view.images[k + o],
                m = this._view.images[t + o];
            this._view.groups[r5].visible = d6t.s73;
            this._view.groups[T5].visible = d6t.s73;
            q.visible = e;
            m.visible = !e;
        }
    };
    a5.prototype._setupLevelButtonCallback = function() {
        var t = this._view.buttons[this._view._levelNodeType];
        t.setCallback(this._view.openLevel, this._view);
        var k = this._view.buttons[z5.COMPLETED];
        k.setCallback(this._view.openLevel, this._view);
    };
    a5.prototype._showLevelId = function() {
        var t = this._view.labels[this._nodeType];
        t.text = this._levelId.toString();
    };
    a5.prototype._onUnlockGate = function(t) {
        if (this._levelId >= t) {
            this._setupNode();
        }
    };
    a5.prototype._onWorldProgressIncremented = function() {
        this._lastLevelPlayed = this._worldProgress.progress - d6t.A6;
        this._shouldOpenLevelPopup = this.isCurrentLevel;
        if (this._lastLevelPlayed == this._gameVarManager.constants.unlockMarathonAt && !this._storageManager.get(d6t.a3f)) {
            this._shouldOpenLevelPopup = d6t.F18;
        }
    };
    a5.prototype._setupNodeAnimations = function() {
        var t = 'Tetris_node_select',
            k = this._view.placeHolders.beam;
        this._beamAnimation = this._spineUtil.createAnimation(t, k);
        this._beamAnimation.visible = d6t.F18;
        this._setupAnimationLayer();
    };
    a5.prototype._setupAnimationLayer = function() {
        var t = 'nodeAnimationsLayer';
        this._animationLayer = this._game.make.group(t);
        var k = this._view.placeHolders.beam;
        this._animationLayer.add(k);
        this._view.view.addAt(this._animationLayer, d6t.W6);
    };
    a5.prototype._startBeamAnimation = function() {
        this._beamAnimation.visible = d6t.s73;
        this._beamAnimation.startAnimation(R5, d6t.F18, d6t.s73);
    };
    a5.prototype._stopBeamAnimation = function() {
        this._beamAnimation.visible = d6t.s73;
        this._beamAnimation.stopAnimation(R5, d6t.F18, d6t.s73);
    };
    a5.prototype._setupActiveNode = function() {
        var t = this._worldProgress.num_levels + d6t.Q7H,
            k = !!this._storageManager.get(t);
        if (!!this._storageManager.get(d6t.c5B) && k) {
            if (this._levelId == this._storageManager.get(d6t.c5B)) {
                this._startBeamAnimation();
            }
        } else {
            if (this._shouldOpenLevelPopup) {
                this._startBeamAnimation();
                if (this._unlockProgress.manuallyBackToMap) {
                    return;
                }
                if (this._lastLevelWon) {
                    this._lastLevelWon = d6t.F18;
                } else {
                    var j = this._unlockProgress.getCityForLevel(this._levelId);
                    if (this._unlockProgress.getFirstLevelInCity(j) == this._levelId && this._unlockProgress.isUnlockable(Y5.LEVEL, this._levelId) && !this._storageManager.get(j + d6t.k23)) {
                        this._gameInfoPublisher.publish(d6t.M43, j, this._view.openLevel, this._view);
                    } else {
                        this._view.openLevel();
                    }
                }
            } else if (this.isCurrentLevel) {
                this._startBeamAnimation();
            }
        }
    };
    a5.prototype._onLastLevelWon = function() {
        this._lastLevelWon = d6t.s73;
    };
    Object.defineProperty(a5.prototype, d6t.B9f, {
        get: function() {
            return this._levelId;
        }
    });
    Object.defineProperty(a5.prototype, w5, {
        get: function() {
            var t = !!(this._worldProgress.progress === this._levelId);
            return t;
        }
    });
    Object.defineProperty(a5.prototype, p5, {
        get: function() {
            var t = !!(this._worldProgress.progress < this._levelId),
                k = !this._unlockProgress.isUnlockable(Y5.LEVEL, this._levelId);
            return t || k;
        }
    });
    Object.defineProperty(a5.prototype, P5, {
        get: function() {
            var t = d6t.W6;
            for (var k = d6t.W6; k < d6t.B6; k++) {
                if (this._scoreManager.isStarCollected(this._lastLevelPlayed, k)) {
                    t += d6t.A6;
                }
            }
            return t;
        }
    });
    return a5;
});
define('gui/LevelNodesController', ['bottom_line', 'enums/LevelNodeType'], function(q, m) {
    var k5 = 'levelAmount';

    function C5(worldProgress, storageManager) {
        this._worldProgress = worldProgress;
        this._storageManager = storageManager;
        this._view = d6t.B3x;
        this._levelNodes = [];
    }
    C5.prototype.init = function(t) {
        this._view = t;
        this._setupLevelNodes();
    };
    C5.prototype.update = function() {
        this._levelNodes.forEach(function(t) {
            t.update();
        }, this);
    };
    C5.prototype.activate = function() {
        this._enterLevelNodes();
    };
    C5.prototype.deActivate = function() {
        this._leaveLevelNodes();
    };
    C5.prototype.enableInput = function() {
        this._levelNodes.forEach(function(t) {
            t.enableInput();
        }, this);
    };
    C5.prototype.disableInput = function() {
        this._levelNodes.forEach(function(t) {
            t.disableInput();
        }, this);
    };
    C5.prototype.getActiveNode = function() {
        var k = d6t.B3x;
        this._levelNodes.forEach(function(t) {
            if (this._worldProgress.progress === t.levelId) {
                k = t;
            }
        }, this);
        return k;
    };
    C5.prototype.getNodeInFocus = function() {
        var k = this._worldProgress.num_levels + d6t.Q7H,
            j = !!this._storageManager.get(k),
            o = d6t.B3x;
        this._levelNodes.forEach(function(t) {
            if (!!this._storageManager.get(d6t.c5B) && j) {
                if (t.levelId == this._storageManager.get(d6t.c5B)) {
                    o = t;
                }
            } else {
                if (this._worldProgress.progress === t.levelId) {
                    o = t;
                }
            }
        }, this);
        return o;
    };
    C5.prototype.getNodeForLevel = function(k) {
        var j = d6t.B3x;
        this._levelNodes.forEach(function(t) {
            if (t.levelId == k) {
                j = t;
            }
        }, this);
        return j;
    };
    C5.prototype._setupLevelNodes = function() {
        var e = d6t.W6;
        this._view.groups.levelContainer.children.forEach(function(t) {
            var k = 'levelNodeCp',
                j = m.SELECTED,
                o = this._view.addComponent(k, [t, j, e + d6t.A6]);
            t.parent.add(o.view);
            o.x = t.x;
            o.y = t.y;
            this._levelNodes.push(o);
            e++;
        }, this);
    };
    C5.prototype._enterLevelNodes = function() {
        this._levelNodes.forEach(function(t) {
            t.enter();
        }, this);
    };
    C5.prototype._leaveLevelNodes = function() {
        this._levelNodes.forEach(function(t) {
            t.leave();
        }, this);
    };
    Object.defineProperty(C5.prototype, k5, {
        get: function() {
            return this._levelNodes.length;
        }
    });
    return C5;
});
define('gui/CityNodeController', ['gameplay/UnlockProgress', 'gt/utils/StringUtil'], function(j5, Y5) {
    var z5 = 'locked',
        P5 = 'City',
        p5 = '_lock',
        w5 = 'starnumber_';

    function R5(levelManager, worldProgress, sceneManager, storageManager, gameInfoPublisher, game, mapController, gameVarManager, spineUtil, unlockProgress) {
        this._levelManager = levelManager;
        this._worldProgress = worldProgress;
        this._sceneManager = sceneManager;
        this._storageManager = storageManager;
        this._gameInfoPublisher = gameInfoPublisher;
        this._mapController = mapController;
        this._gameVarManager = gameVarManager;
        this._spineUtil = spineUtil;
        this._unlockProgress = unlockProgress;
        this._game = game;
        this._view = d6t.B3x;
        this._levelId = d6t.B3x;
        this._cityUnlockAnimation = d6t.B3x;
        this._unformattedStarNumberText = d6t.B3x;
        this._addEvents();
    }
    R5.prototype.init = function(t, k) {
        var j = 'idle',
            o = 'Tetris_spine_worldunlock';
        this._view = t;
        this._updateUnlockedCities();
        for (var e in this._view.images) {
            this._view.images[e].visible = d6t.s73;
        }
        this._city = k;
        if (!this._storageManager.get(this._city + d6t.k23)) {
            this._unformattedStarNumberText = this._view.labels[w5 + this._city].text;
            var q = this._view.placeHolders[this._city + p5];
            this._cityUnlockAnimation = this._spineUtil.createAnimation(o, q);
            this._cityUnlockAnimation.startAnimation(j);
        }
        this._setLockedPopupCallback.call(this);
        this._setupCityAnimations();
    };
    R5.prototype.activate = function() {
        this._setupNode();
        if (!this._storageManager.get(this._city + d6t.k23)) {
            this._updateStarLabels();
        }
    };
    R5.prototype.deActivate = function() {
        this._animation.stopAnimation();
    };
    R5.prototype.disableInput = function() {
        for (var t in this._view.buttons) {
            this._view.buttons[t].setActive(d6t.F18);
        }
    };
    R5.prototype.enableInput = function() {
        for (var t in this._view.buttons) {
            this._view.buttons[t].setActive(d6t.s73);
        }
    };
    R5.prototype._showCityGroup = function() {
        for (var o in this._view.groups) {
            this._view.groups[o].visible = d6t.F18;
        }
        this._view.groups.city.visible = d6t.s73;
        var e = this._view.groups[this._city];
        e.visible = d6t.s73;
        if (!this._storageManager.get(this._city + d6t.k23)) {
            var q = this._view.groups[this._city + p5];
        }
        e.children.forEach(function(t) {
            var k = "grp_locked",
                j = "grp_unlocked";
            if (t.id === j) {
                t.visible = this._unlockProgress.isUnlockable(j5.CITY, this._city);
                if (q) {
                    q.visible = d6t.F18;
                }
            } else if (t.id === k) {
                t.visible = !this._unlockProgress.isUnlockable(j5.CITY, this._city);
                if (q) {
                    q.visible = d6t.s73;
                    q.parent.bringToTop(q);
                }
            }
        }, this);
    };
    R5.prototype._setupNode = function() {
        this._showCityGroup();
        this._animation.startAnimation(this._city + P5, d6t.F18, d6t.s73);
    };
    R5.prototype.checkForUnlock = function(t) {
        this.disableInput();
        if (!this._unlockProgress.isUnlockable(j5.CITY, this._city)) {
            var k = this._worldProgress.progress + d6t.A6,
                j = this._unlockProgress.getCityForLevel(k);
            if (t || j == this._city) {
                this._sceneManager.showPopup(d6t.Q0, this._city);
            }
        }
    };
    R5.prototype._setLockedPopupCallback = function() {
        var t = '_locked',
            k = this._city + t;
        if (this._view.buttons[k]) {
            this._view.buttons[k].setCallback(this._view._showLockedPopup, this._view);
        }
    };
    R5.prototype._setupCityAnimations = function() {
        var t = this._view.placeHolders[this._city];
        this._animation = this._spineUtil.createAnimation(this._city + P5, t);
    };
    R5.prototype._playLockWiggleAnimation = function(t, k, j) {
        if (this._city == t) {
            this._cityUnlockAnimation.startAnimation(z5);
            this._cityUnlockAnimation.onComplete.addOnce(function() {
                k.call(j);
            }, this);
        }
    };
    R5.prototype._playCityUnlockAnimation = function(t, k, j) {
        if (this._city == t) {
            this._cityUnlockAnimation.startAnimation(z5);
            this._cityUnlockAnimation.onComplete.addOnce(function() {
                this._playLockUnlockAnimation(k, j);
            }, this);
        }
    };
    R5.prototype._playLockUnlockAnimation = function(t, k) {
        var j = 'unlocked';
        this._cityUnlockAnimation.startAnimation(j);
        this._cityUnlockAnimation.onComplete.addOnce(function() {
            this._view.groups[this._city + p5].visible = d6t.F18;
            this._storageManager.set(this._city + d6t.k23, d6t.s73);
            this._showCityGroup();
            this._gameInfoPublisher.publish(d6t.b7);
            t.call(k);
        }, this);
    };
    R5.prototype._updateStarLabels = function() {
        var k = w5 + this._city,
            j = this._storageManager.get(d6t.V0f),
            o = d6t.B3x;
        this._gameVarManager.cities.forEach(function(t) {
            if (this._city === t.name.toLowerCase()) {
                o = t.starsToUnlock;
            }
        }, this);
        var e = Y5.format(this._unformattedStarNumberText, j, o);
        this._view.labels[k].text = e;
    };
    R5.prototype._animateStarLabel = function(j) {
        if (this._city == j) {
            var o = this._view.groups[this._city + p5];
            o.children.forEach(function(t) {
                if (t.id != this._city + p5) {
                    var k = this._game.add.tween(t.scale);
                    k.to({
                        x: d6t.v28,
                        y: d6t.v28
                    }, d6t.T2H, Phaser.Easing.Bounce.Out, d6t.s73).to({
                        x: d6t.A6,
                        y: d6t.A6
                    }, d6t.T2H, Phaser.Easing.Bounce.In);
                }
            }, this);
        }
    };
    R5.prototype._updateUnlockedCities = function() {
        var t = this._gameVarManager.cities;
        for (var k = d6t.W6; k < t.length; k++) {
            var j = t[k].name;
            if (this._unlockProgress.isUnlockable(j5.LEVEL, t[k].firstLevelId)) {
                if (!this._storageManager.get(j + d6t.k23)) {
                    this._storageManager.set(j + d6t.k23, d6t.s73);
                }
            }
        }
    };
    R5.prototype._addEvents = function() {
        this._gameInfoPublisher.subscribe(d6t.L5H, this.enableInput, this);
        this._gameInfoPublisher.subscribe(d6t.M43, this._playCityUnlockAnimation, this);
        this._gameInfoPublisher.subscribe(d6t.u9f, this._playLockWiggleAnimation, this);
        this._gameInfoPublisher.subscribe(d6t.u9f, this._animateStarLabel, this);
    };
    return R5;
});
define('gui/CityNodesController', ['bottom_line'], function(k5) {
    var C5 = 'cityAmount';

    function H5() {
        this._view = d6t.B3x;
        this._cityLevelNodes = [];
    }
    H5.prototype.init = function(t) {
        this._view = t;
        this._setupCityLevelNodes();
    };
    H5.prototype.activate = function() {
        this._enterLevelNodes();
    };
    H5.prototype.deActivate = function() {
        this._leaveLevelNodes();
    };
    H5.prototype.update = function() {
        this._cityLevelNodes.forEach(function(t) {
            t.update();
        }, this);
    };
    H5.prototype.disableInput = function() {
        this._cityLevelNodes.forEach(function(t) {
            t.disableInput();
        }, this);
    };
    H5.prototype.enableInput = function() {
        this._cityLevelNodes.forEach(function(t) {
            t.enableInput();
        }, this);
    };
    H5.prototype._setupCityLevelNodes = function() {
        var m = [d6t.X5x, d6t.j0H, d6t.n83, d6t.e8H, d6t.R2H];
        m.forEach(function(t) {
            var k = 'citiesCp',
                j = this._view.addComponent(k, [t]);
            this._view.placeHolders[t].parent.add(j.view);
            j.x = this._view.placeHolders[t].x;
            j.y = this._view.placeHolders[t].y;
            this._cityLevelNodes.push(j);
            var o = {};
            for (var e in j.buttons) {
                var q = j.buttons[e];
                if (q.name.indexOf(t) >= d6t.W6) {
                    o[e] = q;
                }
            }
            j.buttons = o;
        }, this);
    };
    H5.prototype._enterLevelNodes = function() {
        this._cityLevelNodes.forEach(function(t) {
            t.enter();
        }, this);
    };
    H5.prototype._leaveLevelNodes = function() {
        this._cityLevelNodes.forEach(function(t) {
            t.leave();
        }, this);
    };
    Object.defineProperty(H5.prototype, C5, {
        get: function() {
            return this._cityLevelNodes.length;
        }
    });
    return H5;
});
define('gui/MapHudController', ['bottom_line'], function(m) {
    function k5(localizationManager, storageManager, soundManager, scoreManager, gameInfoPublisher, gameVarManager) {
        this._view = d6t.B3x;
        this._localizationManager = localizationManager;
        this._storageManager = storageManager;
        this._soundManager = soundManager;
        this._scoreManager = scoreManager;
        this._gameInfoPublisher = gameInfoPublisher;
        this._gameVarManager = gameVarManager;
    }
    k5.prototype.init = function(t) {
        this._view = t;
        this._view.buttons.back.setCallback(this._showSplashScreen, this._view);
        this._view.buttons.soundOn.setCallback(this._toggleAudio, this._view);
        this._view.buttons.soundOff.setCallback(this._toggleAudio, this._view);
        this._view.buttons.btnGr.setVisible(d6t.F18);
    };
    k5.prototype.activate = function() {
        var t = 'Score';
        this._view.labels.score.text = this._localizationManager.get(t);
        this._view.labels.scoreValue.text = this._scoreManager.totalScore;
        this._view.labels.starsValue.text = this._storageManager.get(this._gameVarManager.constants.totalStars);
        this._toggleAudioButtons();
    };
    k5.prototype._toggleAudio = function() {
        this._mapHudController._soundManager.mute = !this._mapHudController._soundManager.mute;
        this._mapHudController._toggleAudioButtons();
        this._mapHudController._toggleBackgroundMapMusic();
    };
    k5.prototype._toggleAudioButtons = function() {
        this._view.buttons.soundOn.setVisible(!this._soundManager.mute);
        this._view.buttons.soundOff.setVisible(this._soundManager.mute);
    };
    k5.prototype._toggleBackgroundMapMusic = function() {
        if (this._soundManager.mute) {
            this._gameInfoPublisher.publish(d6t.P68);
        } else {
            this._gameInfoPublisher.publish(d6t.v4B);
        }
    };
    k5.prototype._showSplashScreen = function() {
        this._sceneManager.show(d6t.Q2);
    };
    return k5;
});
define('utils/ScreenShaker', ['gt/utils/device'], function(o) {
    function e(phaserEvents, game, viewportManager) {
        this._game = game;
        this._viewportManager = viewportManager;
        this._cameraShake = d6t.F18;
        this._currentShakeTime = d6t.W6;
        this._maxShakeTime = d6t.W6;
        this._shakeWorldMax = d6t.W6;
        this._viewportX = d6t.W6;
        this._viewportY = d6t.W6;
        phaserEvents.updateEvent.add(this._update, this);
    }
    e.prototype.activate = function(t, k) {
        if (this._cameraShake) {
            this._reset();
        }
        this._shakeWorldMax = t || d6t.z48 * this._viewportManager.scale;
        this._maxShakeTime = k || d6t.C3x;
        this._viewportX = this._viewportManager.view.x;
        this._viewportY = this._viewportManager.view.y;
        this._cameraShake = d6t.s73;
        if (o.mobile && navigator.vibrate) {
            window.navigator.vibrate(this._maxShakeTime);
        }
    };
    e.prototype._reset = function() {
        this._cameraShake = d6t.F18;
        this._currentShakeTime = d6t.W6;
        this._viewportManager.view.x = this._viewportX;
        this._viewportManager.view.y = this._viewportY;
    };
    e.prototype._update = function() {
        if (!this._cameraShake) {
            return;
        }
        this._currentShakeTime += this._game.time.elapsed;
        var t = (this._maxShakeTime / this._currentShakeTime) * this._shakeWorldMax,
            k = this._game.rnd.integerInRange(-t, t),
            j = this._game.rnd.integerInRange(-t, t);
        this._viewportManager.view.x = this._viewportX + k;
        this._viewportManager.view.y = this._viewportY + j;
        if (this._currentShakeTime >= this._maxShakeTime) {
            this._reset();
        }
    };
    return e;
});
define('utils/CustomTimer', [], function() {
    function t() {
        this._startTime = d6t.W6;
        this._endTime = d6t.W6;
    }
    t.prototype.startTime = function() {
        this._startTime = Date.now();
        if (this.endTime) {
            this.endTime = d6t.W6;
        }
        return this._startTime;
    };
    t.prototype.stopTime = function() {
        this._stopTime = Date.now();
        return this._stopTime;
    };
    t.prototype._getDelta = function() {
        return (this._stopTime - this._startTime);
    };
    Object.defineProperty(t.prototype, d6t.J68, {
        get: function() {
            return this._getDelta();
        }
    });
    t.prototype.currentElapsedTime = function() {
        return (Date.now - this._startTime);
    };
    return t;
});
define('gui/LevelStartController', ['gt/utils/StringUtil'], function(q) {
    var m = 'cityList';

    function k5(gameVarManager, levelManager, scoreManager, neededLineClearsToWin, gameConfig) {
        this._gameVarManager = gameVarManager;
        this._levelManager = levelManager;
        this._scoreManager = scoreManager;
        this._neededLineClearsToWin = neededLineClearsToWin;
        this._gameConfig = gameConfig;
        this._view = d6t.B3x;
        this._levelId = d6t.B3x;
        this._unformattedHeader = d6t.B3x;
        this._unformattedLineClears = d6t.B3x;
        this._cityList = [];
        this._language = d6t.I6x;
    }
    k5.prototype.init = function(k) {
        this._view = k;
        this._language = this._gameConfig.lang;
        this._toggleLineClearLabels();
        this._unformattedHeader = this._view.labels.headerfont_header.text;
        if (this._language == d6t.u73) {
            this._unformattedLineClears = this._view.labels.lineClearsTextJp.text;
        }
        this._gameVarManager.cities.forEach(function(t) {
            this._cityList.push(t.name);
        }, this);
    };
    k5.prototype.activate = function(t) {
        this._levelId = t;
        this._setHeaderText();
        this._updateLevelData();
        this._setCurrentHighscoreText(t);
    };
    k5.prototype.deActivate = function() {};
    k5.prototype.getCurrentCityName = function() {
        var t = this._gameVarManager.cities,
            k;
        for (var j = d6t.W6; j < t.length; j++) {
            k = t[j].name;
            var o = t[j].lastLevelId;
            if (this._levelId <= o) {
                break;
            }
        }
        return k;
    };
    k5.prototype._setHeaderText = function() {
        var t = q.format(this._unformattedHeader, this._levelId);
        this._view.labels.headerfont_header.text = t;
    };
    k5.prototype._setCurrentHighscoreText = function(t) {
        var k = this._scoreManager.getHighScoreForLevel(t);
        this._view.labels.score.text = k;
    };
    k5.prototype._updateLevelData = function() {
        var t = this._gameVarManager.levelMap[this._levelId];
        this._levelManager.getLevelData(t, this._levelId, this._onLevelDataLoaded, this);
    };
    k5.prototype._onLevelDataLoaded = function(t) {
        var k = this._neededLineClearsToWin.getFromLevelData(t);
        if (this._language == d6t.u73) {
            var j = q.format(this._unformattedLineClears, k);
            this._view.labels.lineClearsTextJp.text = j;
        } else {
            this._view.labels.lineClearsValueEn.text = k;
        }
    };
    k5.prototype._toggleLineClearLabels = function() {
        if (this._language == d6t.u73) {
            this._view.labels.lineClearsTextEn.visible = d6t.F18;
            this._view.labels.lineClearsValueEn.visible = d6t.F18;
        } else {
            this._view.labels.lineClearsTextJp.visible = d6t.F18;
        }
    };
    Object.defineProperty(k5.prototype, m, {
        get: function() {
            return this._cityList;
        }
    });
    return k5;
});
define('gui/LevelWinController', ['gt/utils/StringUtil'], function(j5) {
    var Y5 = 'levelId';

    function z5(gameInfoPublisher, scoreManager, lineClearCounter, neededLineClearsToWin, spineUtil, game, soundManager, gameVarManager, gameConfig) {
        this._scoreManager = scoreManager;
        this._lineClearCounter = lineClearCounter;
        this._neededLineClearsToWin = neededLineClearsToWin;
        this._spineUtil = spineUtil;
        this._soundManager = soundManager;
        this._gameVarManager = gameVarManager;
        this._gameInfoPublisher = gameInfoPublisher;
        this._gameConfig = gameConfig;
        this._game = game;
        this._levelData = d6t.B3x;
        this._view = d6t.B3x;
        this._unformattedLineClearText = d6t.B3x;
        this._language = d6t.I6x;
        this._gameInfoPublisher.subscribe(d6t.j6B, this._onGameOver, this);
        this._starAnimations = [];
        this.onStarsComplete = new Phaser.Signal();
    }
    z5.STAR_DELAY = d6t.I6;
    z5.prototype.init = function(o) {
        this._view = o;
        this._language = this._gameConfig.lang;
        this._toggleLineClearLabels();
        var e = this._view.placeHolders.starAnimation,
            q = [d6t.A6, d6t.W6, d6t.D6];
        q.forEach(function(t) {
            var k = 'winPopUpStars',
                j = this._spineUtil.createAnimation(k, e);
            this._starAnimations[t] = j;
        }, this);
        if (this._language == d6t.u73) {
            this._unformattedLineClearText = this._view.labels.lineClearsTextJp.text;
        } else {
            this._unformattedLineClearText = this._view.labels.lineClearsValueEn.text;
        }
    };
    z5.prototype.activate = function() {
        this.enableStarVisuals(d6t.F18);
        this._setLineClearText();
        this._setHighScoreText();
        this._setAchievedScoreText();
    };
    z5.prototype.deActivate = function() {};
    z5.prototype.enableStarVisuals = function(t) {
        this._view.placeHolders.starAnimation.visible = t;
    };
    z5.prototype.setStars = function() {
        var k = this._scoreManager.getStarsForCurrentLevel(this._levelData),
            j = d6t.W6;
        this._starAnimations.forEach(function(t) {
            this._addStarAnimation(t, j, k);
            j++;
        }, this);
        this._game.time.events.add(z5.STAR_DELAY * d6t.B6, function() {
            this.onStarsComplete.dispatch();
        }, this);
    };
    z5.prototype._onGameOver = function(t, k) {
        if (t) {
            this._levelData = k;
        }
    };
    z5.prototype._addStarAnimation = function(t, k, j) {
        var o = 'Locked',
            e = 'star_collect_',
            q = 'Loop',
            m = 'Unlock',
            k5 = 'Star',
            C5 = k + d6t.A6,
            H5 = d6t.B3x;
        if (k < j) {
            t.startAnimation(k5 + C5 + m);
            t.addAnimation(k5 + C5 + q, d6t.s73);
            H5 = e + C5;
        } else {
            t.startAnimation(k5 + C5 + o);
            H5 = this._gameVarManager.audioConstants.star_not_collected_sfx;
        }
        t.pauseAnimation();
        this._game.time.events.add(z5.STAR_DELAY * C5, function() {
            this._soundManager.effect(H5);
            t.resumeAnimation();
        }, this);
    };
    z5.prototype._setHighScoreText = function() {
        var t = this._scoreManager.isNewHighScore();
        this._view.labels.highScoreOld.visible = !t;
        this._view.labels.highScoreNew.visible = t;
        var k = this._scoreManager.getHighScoreForLevel(this.levelId);
        this._view.labels.highScore.text = k;
    };
    z5.prototype._setLineClearText = function() {
        var t = this._neededLineClearsToWin.getFromLevelData(this._levelData),
            k = this._lineClearCounter.getClearedLinesCount(),
            j = j5.format(this._unformattedLineClearText, k, t);
        if (this._language == d6t.u73) {
            this._view.labels.lineClearsTextJp.text = j;
        } else {
            this._view.labels.lineClearsValueEn.text = j;
        }
    };
    z5.prototype._setAchievedScoreText = function() {
        var t = this._scoreManager.getScore();
        this._view.labels.playerScore.text = d6t.W6;
        this._view.labels.playerScore.countTo(t, this._gameVarManager.constants.score_count_timer);
    };
    z5.prototype._toggleLineClearLabels = function() {
        if (this._language == d6t.u73) {
            this._view.labels.lineClearsTextEn.visible = d6t.F18;
            this._view.labels.lineClearsValueEn.visible = d6t.F18;
        } else {
            this._view.labels.lineClearsTextJp.visible = d6t.F18;
        }
    };
    Object.defineProperty(z5.prototype, Y5, {
        get: function() {
            var t = this._levelData.levelId;
            return t;
        }
    });
    return z5;
});
define('gameplay/LineClearCounter', [], function() {
    function o(matrixRowMatcher, gameStateManager, gameInfoPublisher) {
        this._gameInfoPublisher = gameInfoPublisher;
        this._addSignals(matrixRowMatcher, gameStateManager);
        this._resetCounter();
    }
    o.prototype._resetCounter = function() {
        this._counter = d6t.W6;
        this._gameInfoPublisher.publish(d6t.H6, this._counter);
    };
    o.prototype._countLines = function(t) {
        this._counter += t;
        this._gameInfoPublisher.publish(d6t.H6, this._counter);
    };
    o.prototype.getClearedLinesCount = function() {
        return this._counter;
    };
    o.prototype._addSignals = function(matrixRowMatcher, gameStateManager) {
        matrixRowMatcher.clearedRowsSignal.add(this._countLines, this);
        gameStateManager.gameStartSignal.add(this._resetCounter, this);
    };
    return o;
});
define('gameplay/NeededLineClearsToWin', [], function() {
    function e() {}
    e.prototype.getFromLevelData = function(k) {
        var j = k.winConditions,
            o = d6t.W6;
        j.forEach(function(t) {
            if (t.type == d6t.I73) {
                o = t.value;
            }
        }, this);
        return o;
    };
    return e;
});
define('gameplay/matrix/MatrixAnimator', ['phaser', 'enums/Direction', 'gt/utils/device'], function(Y5, z5, P5) {
    var p5 = 'countdown',
        w5 = 'gameplayNotifications',
        R5 = 'rowRemoveTetris';

    function r5(screenShaker, spineUtil, matrixConfig, matrixModel, soundManager, gameVarManager, gameInfoPublisher, game) {
        this._screenShaker = screenShaker;
        this._spineUtil = spineUtil;
        this._matrixConfig = matrixConfig;
        this._matrixModel = matrixModel;
        this._soundManager = soundManager;
        this._gameVarManager = gameVarManager;
        this._gameInfoPublisher = gameInfoPublisher;
        this._game = game;
        this._matrixX = d6t.W6;
        this._matrixY = d6t.W6;
        this._notificationsEnabled = d6t.s73;
        this._bgmCanPlay = d6t.s73;
        this._scorePopup = d6t.B3x;
        this._scoreTween = d6t.B3x;
    }
    r5.SCORE_TWEEN_TIME = d6t.q9;
    r5.SCORE_DELAY = d6t.q9;
    r5.prototype.initAnimator = function(t, k, j, o, e) {
        this._matrixX = j;
        this._matrixY = o;
        this._scorePopup = e;
        this._setupAnimations(t, k);
        this._setupScoreTween();
    };
    r5.prototype.playAnimationAt = function(t, k, j, o, e, q) {
        var m = "No animation by that name loaded.";
        o = o || d6t.W6;
        k = k || d6t.W6;
        j = j || d6t.W6;
        var k5 = this._animations[t];
        if (!k5) {
            console.error(m);
        }
        this._startAnimation(k5, t, k, j, o);
        k5.onComplete.addOnce(function() {
            if (e && q) {
                e.call(q);
            }
        }, q);
        return k5;
    };
    r5.prototype.stopAnimation = function(t) {
        var k = this._animations[t];
        k.stopAnimation();
    };
    r5.prototype.playRowRemoverAnimation = function(t, k, j, o) {
        var e = 'rowRemove';
        o = o || d6t.A6;
        var q = d6t.B3x,
            m = d6t.M6,
            k5 = this._matrixConfig.COLS / d6t.D6 - d6t.z48;
        while (j.length >= m) {
            this._screenShaker.activate();
            var C5 = R5;
            q = this._animations[C5];
            if (this._matrixModel.isFlipped) {
                this._startAnimation(q, C5, k5, this._matrixConfig.STARTING_ROW_INDEX - j[d6t.D6], o);
            } else {
                this._startAnimation(q, C5, k5, j[d6t.D6] - d6t.z48, o);
            }
            j = j.slice(m);
        }
        for (var H5 = d6t.W6; H5 < j.length; H5++) {
            var j5 = j[H5];
            q = this._rowRemoveAnimations[H5];
            if (this._matrixModel.isFlipped) {
                this._startAnimation(q, e, k5, this._matrixConfig.STARTING_ROW_INDEX - j5, o);
            } else {
                this._startAnimation(q, e, k5, j5, o);
            }
        }
        q.onComplete.addOnce(function() {
            t.call(k);
        }, k);
        return q;
    };
    r5.prototype.playNotificationAnimation = function(t) {
        if (this._notificationsEnabled) {
            var k = this._animations[w5];
            this._startAnimation(k, t, this._matrixConfig.HALF_COLS - d6t.z48, this._matrixConfig.PLAYABLE_ROWS_COUNT - d6t.M6);
        }
    };
    r5.prototype.playLastHurrahAnimation = function() {
        this.playAnimationAt(d6t.L3B, this._matrixConfig.HALF_COLS - d6t.z48, this._matrixConfig.PLAYABLE_ROWS_COUNT * d6t.z48);
    };
    r5.prototype.playCountDownAnimation = function(t, k) {
        var j = 'countdown_123';
        this._gameInfoPublisher.publish(d6t.L58, d6t.F18);
        var o = this._animations[p5],
            e = this._matrixConfig.HALF_COLS - d6t.z48,
            q = this._matrixConfig.PLAYABLE_ROWS_COUNT - d6t.d6,
            m = d6t.A6;
        this._startAnimation(o, j, e, q, m);
        this._soundManager.effect(this._gameVarManager.audioConstants.countdown_sfx);
        o.onComplete.addOnce(function() {
            this._playGoAnimation(t, k, o, e, q, m);
            if (this._bgmCanPlay) {
                this._soundManager.music(this._gameVarManager.audioConstants.ingame_bgm, d6t.B3x, d6t.s73);
            }
        }, this);
    };
    r5.prototype.showScorePopup = function(t, k, j) {
        var o = d6t.W6,
            e = d6t.W6;
        if (this._notificationsEnabled) {
            this._scorePopup.text = j.toString();
            if (this._matrixModel.isFlipped) {
                o = this._matrixX + (t * this._matrixConfig.TILE_WIDTH);
                e = this._matrixY - ((this._matrixConfig.ROWS / d6t.D6 - d6t.A6 - k) * this._matrixConfig.TILE_HEIGHT);
            } else {
                o = this._matrixX + (t * this._matrixConfig.TILE_WIDTH);
                e = this._matrixY - (k * this._matrixConfig.TILE_HEIGHT);
            }
            this._scorePopup.alpha = d6t.A6;
            this._scorePopup.x = o;
            this._scorePopup.y = e;
            this._scoreTween.start();
        }
    };
    r5.prototype._setupAnimations = function(k, j) {
        var o = 'rowRemove02',
            e = 'rowRemove01';
        this._rowRemoveAnimations = [];
        this._rowRemoveAnimations.push(this._spineUtil.createAnimation(e, k));
        this._rowRemoveAnimations.push(this._spineUtil.createAnimation(o, k));
        this._rowRemoveAnimations.push(this._spineUtil.createAnimation(e, k));
        this._rowRemoveAnimations.forEach(function(t) {
            t.visible = d6t.F18;
        }, this);
        this._animations = {};
        this._animations[R5] = this._spineUtil.createAnimation(R5, k);
        this._animations[d6t.O88] = this._spineUtil.createAnimation(d6t.O88, k);
        this._animations[d6t.v73] = this._spineUtil.createAnimation(d6t.v73, j);
        this._animations[d6t.L3B] = this._spineUtil.createAnimation(d6t.L3B, k);
        this._animations[w5] = this._spineUtil.createAnimation(w5, k);
        this._animations[p5] = this._spineUtil.createAnimation(p5, k);
        for (var q in this._animations) {
            if (this._animations.hasOwnProperty(q)) {
                this._animations[q].visible = d6t.F18;
            }
        }
    };
    r5.prototype._setupScoreTween = function() {
        this._scoreTween = this._game.add.tween(this._scorePopup);
        var t = d6t.A6 * this._matrixConfig.TILE_HEIGHT;
        this._scoreTween.to({
            alpha: d6t.W6,
            y: d6t.U4x + t
        }, r5.SCORE_TWEEN_TIME, Y5.Easing.Quadratic.Out, d6t.F18, r5.SCORE_DELAY);
        this._scorePopup.alpha = d6t.W6;
    };
    r5.prototype._playGoAnimation = function(t, k, j, o, e, q) {
        var m = 'countdown_GO';
        this._startAnimation(j, m, o, e, q);
        j.onComplete.addOnce(function() {
            if (t && k) {
                t.call(k);
            }
            this._gameInfoPublisher.publish(d6t.z3H);
            this._gameInfoPublisher.publish(d6t.L58, d6t.s73);
        }, this);
    };
    r5.prototype._startAnimation = function(t, k, j, o, e) {
        t.stopAnimation();
        t.onComplete.removeAll();
        this._prepareAnimation(t, j, o, e);
        t.startAnimation(k);
        t.onComplete.addOnce(function() {
            t.visible = d6t.F18;
        });
    };
    r5.prototype._prepareAnimation = function(t, k, j, o) {
        o = o || d6t.A6;
        k = k || d6t.W6;
        j = j || d6t.W6;
        var e = k * this._matrixConfig.TILE_WIDTH,
            q = j * this._matrixConfig.TILE_HEIGHT;
        t.x = this._matrixX + e * this._matrixConfig.SCALE;
        t.y = this._matrixY - q * this._matrixConfig.SCALE;
        t.scale.x = this._matrixConfig.SCALE;
        t.scale.y = this._matrixConfig.SCALE;
        t.visible = d6t.s73;
        t.animationSpeed = o;
    };
    r5.prototype._enableNotifications = function(t) {
        this._notificationsEnabled = t;
    };
    r5.prototype._enableBgm = function() {
        this._bgmCanPlay = d6t.s73;
    };
    r5.prototype._disableBgm = function() {
        this._bgmCanPlay = d6t.F18;
    };
    r5.prototype.addEvents = function() {
        this._gameInfoPublisher.subscribe(d6t.S5H, this._enableNotifications, this);
        this._gameInfoPublisher.subscribe(d6t.w8x, this._enableBgm, this);
        this._gameInfoPublisher.subscribe(d6t.Y6x, this._disableBgm, this);
        this._gameInfoPublisher.subscribe(d6t.C3, function() {
            this.stopAnimation(p5);
            this._soundManager.stop(this._gameVarManager.audioConstants.countdown_sfx);
        }, this);
    };
    r5.prototype.removeEvents = function() {
        this._gameInfoPublisher.unsubscribe(d6t.S5H, this._enableNotifications, this);
        this._gameInfoPublisher.unsubscribe(d6t.w8x, this._enableBgm, this);
        this._gameInfoPublisher.unsubscribe(d6t.Y6x, this._disableBgm, this);
        this._gameInfoPublisher.unsubscribe(d6t.C3, function() {
            this.stopAnimation(p5);
            this._soundManager.stop(this._gameVarManager.audioConstants.countdown_sfx);
        }, this);
    };
    return r5;
});
define('gameplay/tutorial/ForcedMove', [], function() {
    var z5 = 'moveGhostMinosCleared';

    function P5(matrixModel, gameInfoPublisher) {
        this._matrixModel = matrixModel;
        this._gameInfoPublisher = gameInfoPublisher;
        this._moveGhostMinosCleared = d6t.F18;
    }
    P5.prototype.isMoveLegal = function(t, k) {
        k = k || d6t.F18;
        if (!t) {
            return d6t.F18;
        }
        if (this._moveGhostMinosCleared) {
            return d6t.s73;
        }
        var j = this._isMoveMatching(t);
        if (j && !k) {
            this._clearMoveGhostMinos();
        }
        var o = this._hasLevelMoveGhostMinos();
        if (!o) {
            this._moveGhostMinosCleared = d6t.s73;
            return d6t.s73;
        }
        return j;
    };
    P5.prototype.cleanUp = function() {
        this._moveGhostMinosCleared = d6t.F18;
    };
    P5.prototype._hasLevelMoveGhostMinos = function() {
        var t = this._matrixModel.moveGhostMatrix;
        for (var k = d6t.W6; k < t.length; k++) {
            for (var j = d6t.W6; j < t[k].length; j++) {
                var o = t[k][j].getPrisoner();
                if (o) {
                    return d6t.s73;
                }
            }
        }
        return d6t.F18;
    };
    P5.prototype._getMoveGhostMinos = function() {
        var t = [],
            k = this._matrixModel.moveGhostMatrix;
        for (var j = d6t.W6; j < k.length; j++) {
            for (var o = d6t.W6; o < k[j].length; o++) {
                var e = k[j][o].getPrisoner();
                if (e) {
                    t.push(e);
                }
            }
        }
        return t;
    };
    P5.prototype._isMoveMatching = function(t) {
        var k = t.getMinos(),
            j = this._getMoveGhostMinos(),
            o = j.length,
            e = d6t.W6;
        for (var q = d6t.W6; q < k.length; q++) {
            var m = k[q];
            for (var k5 = d6t.W6; k5 < j.length; k5++) {
                var C5 = m.getPosition(),
                    H5 = j[k5],
                    j5 = H5.getPosition();
                if (C5.x === j5.x && C5.y === j5.y) {
                    e++;
                }
            }
        }
        var Y5 = o === e;
        return Y5;
    };
    P5.prototype._clearMoveGhostMinos = function() {
        var t = this._getMoveGhostMinos();
        for (var k = d6t.W6; k < t.length; k++) {
            var j = t[k];
            j.destroyTutorialAnimation();
            j.matrixCell.destroyContents();
        }
    };
    Object.defineProperty(P5.prototype, z5, {
        get: function() {
            var t = this._moveGhostMinosCleared;
            if (!t) {
                t = !this._hasLevelMoveGhostMinos();
            }
            return t;
        }
    });
    return P5;
});
define('gui/ScoreAdController', ['gt/utils/Chainable'], function(q) {
    function m(scoreManager, platform, game, gameInfoPublisher, gameConfig) {
        this._scoreManager = scoreManager;
        this._platform = platform;
        this._game = game;
        this._gameConfig = gameConfig;
        this._levelData = d6t.B3x;
        this._gameInfoPublisher = gameInfoPublisher;
        this._gameInfoPublisher.subscribe(d6t.j6B, this._onGameOver, this);
    }
    m.SCORE_AD_DELAY = d6t.T2H;
    m.prototype._onGameOver = function(t, k) {
        this._levelData = k;
    };
    m.prototype.scoreAd = function(k, j) {
        var o = this._gameConfig.sessionScore ? this._scoreManager.getScore() : this._scoreManager.totalScore;
        this._game.input.disabled = d6t.s73;
        var e = this._levelData.levelId || d6t.A6;
        this._game.time.events.add(m.SCORE_AD_DELAY, function() {
            var t = new q(this._platform.score, this._platform, o, e);
            if (this._gameConfig.client !== d6t.p5x) {
                t = t.then(this._platform.showAd, this._platform);
            }
            t = t.then(this._platform.saveUserData, this._platform);
            t = t.then(this._activateInput, this);
            if (k && j) {
                t = t.then(k, j);
            }
            t.execute();
        }, this);
    };
    m.prototype._activateInput = function(t, k) {
        this._game.input.disabled = d6t.F18;
        t.call(k);
    };
    return m;
});
define('gameplay/matrix/MatrixHourglassAnimator', ['enums/Rotation'], function(C5) {
    function H5(matrixConfig, matrixModel, soundManager) {
        this._matrixConfig = matrixConfig;
        this._matrixModel = matrixModel;
        this._soundManager = soundManager;
        this._lastTween = d6t.B3x;
        this._minosToMove = [];
    }
    H5.prototype.animateMinos = function(matrixController, k, j) {
        this._collectHourlgassMinos();
        this._animateHourglassMinos();
        this._positionHourglassMinos(matrixController, k, j);
    };
    H5.prototype._collectHourlgassMinos = function() {
        var t = d6t.W6;
        this._minosToMove = [];
        for (var k = this._matrixConfig.ROWS - d6t.A6; k >= d6t.W6; k--) {
            for (var j = d6t.W6; j < this._matrixConfig.COLS; j++) {
                var o = this._matrixModel.matrix[k][j];
                if (!o.isEmpty()) {
                    if (!t) {
                        t = Math.max(this._matrixConfig.STARTING_ROW_INDEX, k);
                    }
                    var e = this._matrixConfig.COLS - d6t.A6 - j,
                        q = t - k,
                        m = o.getPrisoner(),
                        k5 = {
                            mino: m,
                            targetCol: e,
                            targetRow: q,
                            originRow: k,
                            originCol: j
                        };
                    this._minosToMove.push(k5);
                }
            }
        }
    };
    H5.prototype._animateHourglassMinos = function() {
        this._lastTween = d6t.B3x;
        var q = d6t.W6,
            m = d6t.B3x;
        this._minosToMove.reverse().forEach(function(k) {
            var j = k.mino,
                o = (k.targetCol - k.originCol) * this._matrixConfig.TILE_WIDTH,
                e = (k.originRow - k.targetRow) * this._matrixConfig.TILE_HEIGHT * (this._matrixModel.isFlipped ? -d6t.A6 : d6t.A6);
            this._lastTween = j.animateTo(o, e, d6t.B3x, q);
            q++;
            this._lastTween.onComplete.addOnce(function() {
                var t = 'hourglass_mino_';
                j.animateGlow();
                this._soundManager.effect(t + (Math.floor(Math.random() * d6t.U6) + d6t.A6));
            }, this);
        }, this);
        return m;
    };
    H5.prototype._positionHourglassMinos = function(matrixController, e, q) {
        if (this._lastTween) {
            this._lastTween.onComplete.addOnce(function() {
                var t = [];
                for (var k = d6t.W6; k < this._minosToMove.length; k++) {
                    var j = this._minosToMove[k];
                    if (j.mino.tetrimino && !t._.has(j.mino.tetrimino)) {
                        t.push(j.mino.tetrimino);
                        j.mino.tetrimino.rotate(C5.Clockwise);
                        j.mino.tetrimino.rotate(C5.Clockwise);
                    }
                    matrixController.addMinoToMatrix(j.mino, j.targetRow, j.targetCol);
                    j.mino.x = d6t.W6;
                    j.mino.y = d6t.W6;
                }
                e.call(q);
            }, this);
        } else {
            e.call(q);
        }
    };
    return H5;
});
define('gui/GameUIController', ['enums/UIPanelType', 'gt/utils/StringUtil', 'gt/utils/device'], function(j5, Y5, z5) {
    var P5 = 'levelGoal';

    function p5(gameInfoPublisher, tetrisInput, scoreManager, levelManager, gameVarManager, progressBarController, neededLineClearsToWin, smartControls, game) {
        var H5 = '{0}/{1}';
        this._gameInfoPublisher = gameInfoPublisher;
        this._tetrisInput = tetrisInput;
        this._scoreManager = scoreManager;
        this._levelManager = levelManager;
        this._gameVarManager = gameVarManager;
        this._progressBarController = progressBarController;
        this._neededLineClearsToWin = neededLineClearsToWin;
        this._smartControls = smartControls;
        this._game = game;
        this._view = d6t.B3x;
        this._levelData = d6t.B3x;
        this._paused = d6t.F18;
        this._unformattedLineClearText = H5;
        this._unformattedLevelGoalText = d6t.B3x;
        this._requiredLineClears = d6t.W6;
        this._goalGroupInitialPosY = d6t.B3x;
        this._levelGoalTweens = [];
        this._gameInfoPublisher.subscribe(d6t.M23, this._resetScore, this);
        this._gameInfoPublisher.subscribe(d6t.E2, this._animateLevelGoal, this);
        this._game.onPause.add(this._stopLevelGoalAnimation, this);
        this._gameInfoPublisher.subscribe(d6t.C3, this._stopLevelGoalAnimation, this);
        if (!z5.desktop) {
            this._game.scale.enterLandscape.add(this._stopLevelGoalAnimation, this);
        }
    }
    p5.prototype.init = function(t) {
        this._view = t;
        this._smartControls.setScreenButtons(this._view.buttons);
        this._progressBarController.init(this._view.groups.pgBar);
        this._unformattedLevelGoalText = this._view.labels.goal.text;
        this._gameInfoPublisher.subscribe(d6t.M1H, this._scoreChanged, this);
        this._gameInfoPublisher.subscribe(d6t.h8f, this._marathonLevelChanged, this);
        this._gameInfoPublisher.subscribe(d6t.H6, this._linesClearedChanged, this);
        this._gameInfoPublisher.subscribe(d6t.v53, this._gameResumed, this);
        this._gameInfoPublisher.subscribe(d6t.C3, this._gamePaused, this);
        this._gameInfoPublisher.subscribe(d6t.L58, this._setButtonsEnabled, this);
    };
    p5.prototype.activate = function(t) {
        this._view.groups[P5].alpha = d6t.W6;
        var k = this._gameVarManager.levelMap[t];
        this._setLevelText(t);
        this._levelManager.getLevelData(k, t, this._levelDataChanged, this);
    };
    p5.prototype.deActivate = function() {
        this._progressBarController.deActivate();
    };
    p5.prototype._gameResumed = function() {
        this._view.paused = d6t.F18;
        this._view.labels.lines.visible = d6t.s73;
        this._view.labels.level.visible = d6t.s73;
        this._view.labels.score.visible = d6t.s73;
    };
    p5.prototype._gamePaused = function() {
        this._view.paused = d6t.s73;
        this._view.labels.lines.visible = d6t.F18;
        this._view.labels.level.visible = d6t.F18;
        this._view.labels.score.visible = d6t.F18;
    };
    p5.prototype._scoreChanged = function(t) {
        this._view.labels.score.text = t;
    };
    p5.prototype._marathonLevelChanged = function(t) {
        var k = this._gameVarManager.constants.marathonMaxLevel;
        if (t > k) {
            t = k;
        }
        this._view.labels.level.text = t;
    };
    p5.prototype._linesClearedChanged = function(t) {
        if (this._levelData && this._levelData.levelId != this._gameVarManager.constants.marathonID) {
            var k = Y5.format(this._unformattedLineClearText, t, this._requiredLineClears);
            this._view.labels.lines.text = k;
        } else {
            this._view.labels.lines.text = t;
        }
    };
    p5.prototype._levelDataChanged = function(t) {
        this._levelData = t;
        var k = this._scoreManager.isMarathon(t);
        this._positionProgressBar();
        this._progressBarController.activate(t, k);
        this._requiredLineClears = this._neededLineClearsToWin.getFromLevelData(t);
        if (!k) {
            this._activateGameModePanels(t);
        }
        this._view.labels.levelTxt.visible = !k;
        this._view.labels.speedlevelTxt.visible = k;
        this._setLevelGoal();
    };
    p5.prototype._activateGameModePanels = function(o) {
        var e = [],
            q = o.loseConditions,
            m = j5.TIME;
        q.forEach(function(t) {
            if (t.type == m) {
                e.push(m);
            }
        }, this);
        var k5 = [j5.GRAVITY, j5.HOURGLASS, j5.JUNKSPAWN],
            C5 = o.gameModes;
        k5.forEach(function(t) {
            var k = C5.indexOf(t),
                j = k > -d6t.A6;
            if (j) {
                e.push(t);
            }
        }, this);
        this._view.showPanels(e);
    };
    p5.prototype._setLevelText = function(t) {
        this._view.labels.level.text = t;
    };
    p5.prototype._positionProgressBar = function() {
        var t = this._view.placeHolders,
            k = t.progressbarBottom,
            j = this._view.groups.pgBar;
        j.x = k.x;
        j.y = k.y;
        this._view.groups.lines.visible = d6t.s73;
    };
    p5.prototype._setButtonsEnabled = function(t) {
        for (var k in this._view.buttons) {
            this._view.buttons[k].button.input.enabled = t;
        }
    };
    p5.prototype._resetScore = function() {
        this._view.labels.score.text = d6t.W6;
    };
    p5.prototype._setLevelGoal = function() {
        var t = Y5.format(this._unformattedLevelGoalText, this._requiredLineClears);
        this._view.labels.goal.text = t;
    };
    p5.prototype._animateLevelGoal = function(t, k) {
        var j = 65;
        this._gameInfoPublisher.publish(d6t.T18);
        var o = this._view.groups[P5];
        if (this._levelData.levelId != this._gameVarManager.constants.marathonID) {
            if (this._goalGroupInitialPosY === d6t.B3x) {
                this._goalGroupInitialPosY = o.y;
            } else {
                o.y = this._goalGroupInitialPosY;
            }
            var e = this._game.add.tween(o).to({
                    alpha: d6t.A6
                }, d6t.i23, Phaser.Easing.Quadratic.Out, d6t.s73, d6t.T2H),
                q = this._game.add.tween(o).to({
                    y: j
                }, d6t.i23, Phaser.Easing.Quadratic.Out, d6t.s73, d6t.T2H),
                m = this._game.add.tween(o).to({
                    alpha: d6t.W6
                }, d6t.h7f, Phaser.Easing.Quadratic.Out, d6t.F18, d6t.P43),
                k5 = this._game.add.tween(o).to({
                    y: d6t.g7
                }, d6t.i23, Phaser.Easing.Quadratic.Out, d6t.F18, d6t.P43);
            this._levelGoalTweens.push(e);
            this._levelGoalTweens.push(m);
            e.chain(m);
            e.onComplete.addOnce(function() {
                k5.start();
            }, this);
            m.onComplete.addOnce(function() {
                if (t && k) {
                    t.call(k);
                }
            }, this);
        } else {
            t.call(k);
        }
    };
    p5.prototype._stopLevelGoalAnimation = function() {
        this._view.groups[P5].alpha = d6t.W6;
        for (var t = d6t.W6; t < this._levelGoalTweens.length; t++) {
            this._levelGoalTweens[t].stop();
        }
    };
    return p5;
});
define('gui/ProgressBarController', [], function() {
    var Y5 = 'ProgressStar';

    function z5(gameInfoPublisher, game, spineUtil, soundManager, gameVarManager) {
        this._gameInfoPublisher = gameInfoPublisher;
        this._game = game;
        this._spineUtil = spineUtil;
        this._soundManager = soundManager;
        this._gameVarManager = gameVarManager;
        this._requiredScores = [];
        this._stars = [];
        this._starAnimations = [];
        this._playingAnimations = [];
        this._progressBar = d6t.B3x;
        this._progressFill = d6t.B3x;
        this._maxScore = d6t.W6;
        this._nextStarToReach = d6t.W6;
        this._subscribedTo = d6t.I6x;
        this._gameInfoPublisher.subscribe(d6t.z6f, this._reset, this);
    }
    z5.MAX_SCORE_MULTIPLIER = d6t.v28;
    z5.TWEEN_TIME = d6t.T2H;
    z5.MARATHON_MAX_LEVEL = d6t.B7x;
    z5.BAR_TOP = d6t.A6;
    z5.prototype.init = function(j5) {
        this._stars = [];
        j5.children.forEach(function(t) {
            var k = ((6.43E2, 27.40E1) > (0x12F, 0x91) ? (0x3, 'r') : (0x1DC, 18.2E1)),
                j = 'star',
                o = 'progressFill',
                e = 'progressEmpty';
            if (t.id.indexOf(e) > -d6t.A6) {
                this._progressBar = t;
            } else if (t.id.indexOf(o) > -d6t.A6) {
                this._progressFill = t;
            } else if (t.id.indexOf(j) > -d6t.A6) {
                var q = t.id.indexOf(j),
                    m = t.id.indexOf(k, q) + d6t.A6,
                    k5 = t.id.substring(m),
                    C5 = parseInt(k5);
                this._stars[C5 - d6t.A6] = t;
                var H5 = this._spineUtil.createAnimation(Y5, t);
                H5.visible = d6t.F18;
                H5.onComplete.add(this._animationCompleted, this);
                this._starAnimations.push(H5);
            }
        }, this);
    };
    z5.prototype.activate = function(k, j) {
        this._nextStarToReach = d6t.W6;
        var o = [];
        if (j) {
            o.push(k.starScores[d6t.A6]);
            o.push(k.starScores[d6t.D6]);
            o.push(z5.MARATHON_MAX_LEVEL);
        } else {
            o = k.starScores;
        }
        this._requiredScores = [];
        o.forEach(function(t) {
            this._requiredScores.push(t);
        }, this);
        for (var e = d6t.W6; e < this._stars.length; e++) {
            this._showStar(e, d6t.F18);
        }
        this._positionStars(j);
        this._updateProgressBarHeight(d6t.W6);
        this._subscribedTo = j ? d6t.t0f : d6t.M1H;
        this._gameInfoPublisher.subscribe(this._subscribedTo, this._progressBarValueChanged, this);
    };
    z5.prototype.deActivate = function() {
        this._gameInfoPublisher.unsubscribe(this._subscribedTo, this._progressBarValueChanged, this);
    };
    z5.prototype._positionStars = function(t) {
        var k = this._progressBar.y + this._progressBar.height * d6t.z48,
            j = this._progressBar.y - this._progressBar.height * d6t.z48,
            o = j - k;
        if (t) {
            this._maxScore = z5.MARATHON_MAX_LEVEL;
        } else {
            this._maxScore = this._requiredScores[this._requiredScores.length - d6t.A6] * z5.MAX_SCORE_MULTIPLIER;
        }
        for (var e = d6t.W6; e < this._stars.length; e++) {
            var q = this._requiredScores[e],
                m = q / this._maxScore,
                k5 = k + (o * m);
            this._moveStarToY(this._stars[e], k5);
        }
    };
    z5.prototype._moveStarToY = function(t, k) {
        t.y = k;
    };
    z5.prototype._calculateNewHeight = function(t) {
        var k = this._progressBar.y - this._progressBar.height * d6t.z48,
            j = this._progressBar.y + this._progressBar.height * d6t.z48,
            o = (j - k) * t;
        return o;
    };
    z5.prototype._calculateNewPositionY = function(t) {
        var k = this._calculateNewHeight(t),
            j = k - this._progressFill.height,
            o = j * d6t.z48,
            e = this._progressFill.y - o;
        return e;
    };
    z5.prototype._updateProgressBarHeight = function(t) {
        if (t > z5.BAR_TOP) {
            t = z5.BAR_TOP;
        }
        var k = this._calculateNewHeight(t),
            j = this._calculateNewPositionY(t);
        this._progressFill.height = k;
        this._progressFill.y = j;
    };
    z5.prototype._animateProgressBar = function(t) {
        if (t > z5.BAR_TOP) {
            t = z5.BAR_TOP;
        }
        var k = this._calculateNewHeight(t),
            j = this._calculateNewPositionY(t),
            o = this._game.add.tween(this._progressFill);
        o.to({
            height: k,
            y: j
        }, z5.TWEEN_TIME);
        o.start();
    };
    z5.prototype._onScoreChanged = function(t) {
        var k = t > this._maxScore,
            j = k ? this._maxScore : t;
        this._progressBarValueChanged(j);
    };
    z5.prototype._onMarathonLevelChanged = function(t) {
        this._progressBarValueChanged(t);
    };
    z5.prototype._progressBarValueChanged = function(t) {
        while (this._isNextStarReached(t)) {
            this._animateStar(this._nextStarToReach);
            this._nextStarToReach++;
        }
        var k = t / this._maxScore;
        this._animateProgressBar(k);
    };
    z5.prototype._isNextStarReached = function(t) {
        var k = d6t.F18,
            j = this._nextStarToReach < this._requiredScores.length;
        if (j) {
            var o = this._requiredScores[this._nextStarToReach];
            k = t >= o;
        }
        return k;
    };
    z5.prototype._showStar = function(t, k) {
        var j = this._stars[t],
            o = j.children[d6t.A6];
        o.visible = k;
    };
    z5.prototype._animateStar = function(t) {
        var k = this._starAnimations[t];
        k.visible = d6t.s73;
        k.startAnimation(Y5);
        this._playingAnimations.push(t);
        this._playStarCollectAudio(t);
    };
    z5.prototype._playStarCollectAudio = function(t) {
        switch (t) {
            case d6t.W6:
                this._soundManager.effect(this._gameVarManager.audioConstants.star_collect_1_sfx);
                break;
            case d6t.A6:
                this._soundManager.effect(this._gameVarManager.audioConstants.star_collect_2_sfx);
                break;
            case d6t.D6:
                this._soundManager.effect(this._gameVarManager.audioConstants.star_collect_3_sfx);
                break;
        }
    };
    z5.prototype._animationCompleted = function() {
        var t = this._playingAnimations.shift(),
            k = this._starAnimations[t];
        k.visible = d6t.F18;
        this._showStar(t, d6t.s73);
    };
    z5.prototype._reset = function() {
        for (var t = d6t.W6; t < this._stars.length; t++) {
            this._showStar(t, d6t.F18);
        }
        this._updateProgressBarHeight(d6t.W6);
        this._nextStarToReach = d6t.W6;
    };
    return z5;
});
'use strict';
define('gui/uiPanels/UIPanel', ['gt/utils/device'], function(z5) {
    function P5(gameInfoPublisher, spineUtil, gameStateManager) {
        this._gameInfoPublisher = gameInfoPublisher;
        this._spineUtil = spineUtil;
        this._gameStateManager = gameStateManager;
        this._label = d6t.B3x;
        this._animation = d6t.B3x;
        this._animationName = d6t.B3x;
        this._view = d6t.B3x;
    }
    P5.prototype._onValueChanged = function(t) {
        this._label.text = t;
    };
    P5.prototype._addAnimation = function(t) {
        this._view = t;
        var k = t.placeHolders.uiPanelGlow;
        this._animation = this._spineUtil.createAnimation(this._animationName, k);
        this._animation.pivot.x = k.dimensions.width * d6t.z48;
        this._animation.pivot.y = -k.dimensions.height * d6t.z48;
        this._animation.visible = d6t.F18;
    };
    P5.prototype.init = function(t, k, j) {
        var o = 'uiPanelGlowDesktop',
            e = 'uiPanelGlowMobile',
            q = 'GlowStop',
            m = 'GlowStart';
        for (var k5 in t.images) {
            t.images[k5].visible = d6t.F18;
        }
        var C5 = t.images.bgTime;
        C5.visible = d6t.s73;
        this._label = t.labels.time;
        this._gameInfoPublisher.subscribe(k, this._onValueChanged, this);
        this._gameInfoPublisher.subscribe(d6t.C3, this._pauseAnimation, this);
        this._gameInfoPublisher.subscribe(d6t.v53, this._resumeAnimation, this);
        var H5 = j + m;
        this._gameInfoPublisher.subscribe(H5, this._startGlow, this);
        var j5 = j + q;
        this._gameInfoPublisher.subscribe(j5, this._stopGlow, this);
        this._gameInfoPublisher.subscribe(d6t.j6B, this._onGameOver, this);
        this._gameInfoPublisher.subscribe(d6t.C3, this._hidePanels, this);
        this._gameInfoPublisher.subscribe(d6t.v53, this._showPanels, this);
        var Y5 = z5.portable;
        this._animationName = Y5 ? e : o;
        this._addAnimation(t);
    };
    P5.prototype.showIcon = function(t) {
        t.visible = d6t.s73;
    };
    P5.prototype._startGlow = function() {
        var t = d6t.F18,
            k = d6t.s73,
            j = d6t.F18;
        this._animation.startAnimation(this._animationName, t, k, j);
        this._animation.visible = d6t.s73;
    };
    P5.prototype._stopGlow = function() {
        this._animation.stopAnimation();
        this._animation.visible = d6t.F18;
    };
    P5.prototype._resumeAnimation = function() {
        this._animation.resumeAnimation();
    };
    P5.prototype._pauseAnimation = function() {
        this._animation.pauseAnimation();
    };
    P5.prototype._onGameOver = function() {
        this._stopGlow();
    };
    P5.prototype._hidePanels = function() {
        this._label.visible = d6t.F18;
    };
    P5.prototype._showPanels = function() {
        this._label.visible = d6t.s73;
    };
    return P5;
});
define('gui/uiPanels/TimeUIPanel', ['bottom_line', 'gui/uiPanels/UIPanel', 'enums/UIPanelType'], function(o, e, q) {
    function m(gameInfoPublisher, spineUtil, gameStateManager) {
        m._super.constructor.call(this, gameInfoPublisher, spineUtil, gameStateManager);
    }
    o.inherit(m, e);
    m.prototype.init = function(t) {
        var k = 'timeChanged';
        m._super.init.call(this, t, d6t.N3H, k);
        var j = t.images.timeIcon;
        this.showIcon(j);
    };
    return m;
});
define('gui/uiPanels/GravityUIPanel', ['bottom_line', 'gui/uiPanels/UIPanel', 'enums/UIPanelType'], function(o, e, q) {
    function m(gameInfoPublisher, spineUtil, gameStateManager) {
        m._super.constructor.call(this, gameInfoPublisher, spineUtil, gameStateManager);
    }
    o.inherit(m, e);
    m.prototype.init = function(t) {
        m._super.init.call(this, t, d6t.F0H, d6t.H73);
        var k = t.images.gravityicon;
        this.showIcon(k);
    };
    return m;
});
define('gui/uiPanels/HourglassUIPanel', ['bottom_line', 'gui/uiPanels/UIPanel', 'enums/UIPanelType'], function(o, e, q) {
    function m(gameInfoPublisher, spineUtil, gameStateManager) {
        m._super.constructor.call(this, gameInfoPublisher, spineUtil, gameStateManager);
    }
    o.inherit(m, e);
    m.prototype.init = function(t) {
        m._super.init.call(this, t, d6t.K6x, d6t.d7H);
        var k = t.images.hourglassIcon;
        this.showIcon(k);
    };
    return m;
});
define('gameplay/tutorial/TutorialController', [], function() {
    function j(gameInfoPublisher) {
        this._gameInfoPublisher = gameInfoPublisher;
        this._tutorialIdArray = [];
        this._gameInfoPublisher.subscribe(d6t.q6H, this.init, this);
    }
    j.prototype.init = function() {};
    j.prototype.setup = function(k) {
        k.tutorialIdArray.forEach(function(t) {
            this._tutorialIdArray.push(t);
            this._gameInfoPublisher.publish(d6t.X1x, t, d6t.F18);
        }, this);
        this._addEvents();
    };
    j.prototype.cleanUp = function() {
        this._tutorialIdArray = [];
        this._removeEvents();
    };
    j.prototype._startNextTutorial = function() {
        if (this._tutorialIdArray.length > d6t.W6) {
            var t = this._tutorialIdArray.shift();
            this._gameInfoPublisher.publish(d6t.P4f, t);
        }
    };
    j.prototype._addEvents = function() {
        this._gameInfoPublisher.subscribeOnce(d6t.z3H, this._startNextTutorial, this);
        this._gameInfoPublisher.subscribe(d6t.Z9f, this._startNextTutorial, this);
    };
    j.prototype._removeEvents = function() {
        this._gameInfoPublisher.unsubscribe(d6t.Z9f, this._startNextTutorial, this);
        this._gameInfoPublisher.unsubscribe(d6t.z3H, this._startNextTutorial, this);
    };
    return j;
});
define('gameplay/MarathonProgress', [], function() {
    var k = function(gameInfoPublisher) {
        this._gameInfoPublisher = gameInfoPublisher;
        this._levelAchieved = d6t.A6;
        this._gameInfoPublisher.subscribe(d6t.h8f, this._levelChanged, this);
    };
    k.prototype._levelChanged = function(t) {
        this._levelAchieved = t;
    };
    k.prototype.getAchievedLevel = function() {
        return this._levelAchieved;
    };
    return k;
});
define('gt/utils/FullscreenUtil', ['gt/utils/device'], function(e) {
    var q = function(viewportManager, gameConfig) {
        this._viewportManager = viewportManager;
        this._gameConfig = gameConfig;
        this._fullscreenOnButton = d6t.B3x;
        this._fullscreenOffButton = d6t.B3x;
        this._context = d6t.B3x;
    };
    q.prototype._isFullscreenSupported = function() {
        var t = this._gameConfig.fullscreenEnabled,
            k = e.desktop;
        if (t && k) {
            return d6t.s73;
        } else {
            return d6t.F18;
        }
    };
    q.prototype._setupEventListeners = function() {
        this._viewportManager.screenChangedEvent.add(this._onScreenChanged, this);
    };
    q.prototype._setupCallbacks = function() {
        this._fullscreenOnButton.setCallback(this._context._fullscreenUtil._viewportManager.toggleFullscreen, this._context);
        this._fullscreenOffButton.setCallback(this._context._fullscreenUtil._viewportManager.toggleFullscreen, this._context);
    };
    q.prototype._setupVisibility = function() {
        this._fullscreenOnButton.setVisible(d6t.s73);
        this._fullscreenOffButton.setVisible(d6t.F18);
    };
    q.prototype._disableFullscreen = function() {
        this._fullscreenOnButton.setVisible(d6t.F18);
        this._fullscreenOffButton.setVisible(d6t.F18);
    };
    q.prototype._onScreenChanged = function(t) {
        this._fullscreenOnButton.setVisible(!t);
        this._fullscreenOffButton.setVisible(t);
    };
    q.prototype.setup = function(t, k, j, o) {
        this._fullscreenOnButton = t;
        this._fullscreenOffButton = k;
        this._context = j;
        if (this._isFullscreenSupported()) {
            this._setupEventListeners();
            this._setupCallbacks();
            this._setupVisibility();
        } else {
            this._disableFullscreen();
            if (o) {
                o.call(this._context);
            }
        }
    };
    q.prototype.cleanUp = function() {
        this._fullscreenOnButton.removeCallback();
        this._fullscreenOffButton.removeCallback();
        this._fullscreenOnButton = d6t.B3x;
        this._fullscreenOffButton = d6t.B3x;
        this._viewportManager.screenChangedEvent.remove(this._onScreenChanged, this);
    };
    return q;
});
define('gameplay/matrix/MatrixGlowAnimator', [], function() {
    var e = 'gridGlow';

    function q(matrixConfig, gameInfoPublisher, spineUtil, sceneManager) {
        this._matrixConfig = matrixConfig;
        this._gameInfoPublisher = gameInfoPublisher;
        this._spineUtil = spineUtil;
        this._sceneManager = sceneManager;
        this._animation = d6t.B3x;
    }
    q.GLOW_ANIM_NAME = e;
    q.prototype.startUp = function() {
        this._addEvents();
    };
    q.prototype.cleanUp = function() {
        if (this._animation) {
            this._animation.destroy();
            this._animation = d6t.B3x;
        }
        this._removeEvents();
    };
    q.prototype._createAnimation = function() {
        var t = this._sceneManager.getScene(d6t.q38),
            k = t.components[d6t.d8f],
            j = k.placeHolders.matrixGlow;
        this._animation = this._spineUtil.createAnimation(q.GLOW_ANIM_NAME, j);
        this._animation.visible = d6t.F18;
        this._animation.scale.x = this._matrixConfig.SCALE;
        this._animation.scale.y = this._matrixConfig.SCALE;
    };
    q.prototype._startGlow = function() {
        if (!this._animation) {
            this._createAnimation();
        }
        this._animation.startAnimation(q.GLOW_ANIM_NAME, d6t.F18, d6t.s73, d6t.F18);
        this._animation.visible = d6t.s73;
    };
    q.prototype._stopGlow = function() {
        if (this._animation) {
            this._animation.stopAnimation();
            this._animation.visible = d6t.F18;
        }
    };
    q.prototype._resumeAnimation = function() {
        if (this._animation) {
            this._animation.resumeAnimation();
        }
    };
    q.prototype._pauseAnimation = function() {
        if (this._animation) {
            this._animation.pauseAnimation();
        }
    };
    q.prototype._addEvents = function() {
        this._gameInfoPublisher.subscribe(d6t.h9f, this._startGlow, this);
        this._gameInfoPublisher.subscribe(d6t.C3, this._pauseAnimation, this);
        this._gameInfoPublisher.subscribe(d6t.v53, this._resumeAnimation, this);
        this._gameInfoPublisher.subscribe(d6t.I1H, this._stopGlow, this);
    };
    q.prototype._removeEvents = function() {
        this._gameInfoPublisher.unsubscribe(d6t.h9f, this._startGlow, this);
        this._gameInfoPublisher.unsubscribe(d6t.C3, this._pauseAnimation, this);
        this._gameInfoPublisher.unsubscribe(d6t.v53, this._resumeAnimation, this);
        this._gameInfoPublisher.unsubscribe(d6t.I1H, this._stopGlow, this);
    };
    return q;
});
define('gui/uiPanels/JunkspawnUIPanel', ['bottom_line', 'gui/uiPanels/UIPanel'], function(o, e) {
    function q(gameInfoPublisher, spineUtil, gameStateManager) {
        q._super.constructor.call(this, gameInfoPublisher, spineUtil, gameStateManager);
    }
    o.inherit(q, e);
    q.prototype.init = function(t) {
        q._super.init.call(this, t, d6t.G7f, d6t.S13);
        var k = t.images.junkspawnIcon;
        this.showIcon(k);
    };
    return q;
});
define('gameplay/GravityModeMinoHandler', ['enums/TetriminoType'], function(q) {
    function m(tetriminoFactory) {
        this._tetriminoFactory = tetriminoFactory;
    }
    m.prototype.reconstructTetrimino = function(t, k) {
        var j = t.tetriminoType;
        switch (j) {
            case q.J:
                t = this._constructReplacement(t, q.L, d6t.R3x, k);
                break;
            case q.L:
                t = this._constructReplacement(t, q.J, d6t.c4H, k);
                break;
            case q.Z:
                t = this._constructReplacement(t, q.S, d6t.Z38, k);
                break;
            case q.S:
                t = this._constructReplacement(t, q.Z, d6t.t68, k);
                break;
        }
        return t;
    };
    m.prototype._updateMinoSprites = function(t, k, j) {
        if (!j) {
            var o = t.getMinos();
            for (var e = d6t.W6; e < o.length; e++) {
                o[e].setOriginalImageName(o[e].frameName);
                o[e].didSpriteChangeInGravity = d6t.s73;
                o[e].setImage(k);
            }
        }
    };
    m.prototype._constructReplacement = function(t, k, j, o) {
        if (!o) {
            t.destroyMinos();
        }
        t = this._tetriminoFactory.construct(k, d6t.F18);
        this._updateMinoSprites(t, j, o);
        return t;
    };
    return m;
});
define('gameplay/game/AdRewardFlow', ['phaser', 'enums/SpecialMinoType', 'gt/utils/device'], function(p5, w5, R5) {
    function r5(game, minoFactory, matrixController, matrixModel, matrixGravity, matrixView, matrixRowMatcher, matrixConfig, matrixAnimator, phaserEvents, screenShaker, soundManager, gameVarManager, gameInfoPublisher) {
        this._game = game;
        this._minoFactory = minoFactory;
        this._matrixController = matrixController;
        this._matrixModel = matrixModel;
        this._matrixGravity = matrixGravity;
        this._matrixRowMatcher = matrixRowMatcher;
        this._matrixConfig = matrixConfig;
        this._matrixView = matrixView;
        this._matrixAnimator = matrixAnimator;
        this._screenShaker = screenShaker;
        this._soundManager = soundManager;
        this._gameVarManager = gameVarManager;
        this._gameInfoPublisher = gameInfoPublisher;
        this._minoFillingSpeed = r5.FILL_BASE_SPEED;
        this._currentLastHurrahSpeed = r5.LINE_CLEAR_BASE_SPEED;
        phaserEvents.updateEvent.add(this.update, this);
        this._state = d6t.B3x;
        this._rowsCleared = d6t.W6;
        this._randomTimerToReplacePhaserTimer = d6t.W6;
        this._topRow = d6t.B3x;
        this._bottomRow = d6t.B3x;
        this._rowToClear = d6t.B3x;
        if (!R5.desktop) {
            this._game.scale.enterLandscape.add(this._wentOutOfFocus, this);
            this._game.scale.enterPortrait.add(this._wentBackInFocus, this);
        }
    }
    r5.STATES = {
        REMOVE_COINS: d6t.W6,
        REMOVE_SCORE_CELLS: d6t.A6,
        FILLING: d6t.D6,
        FILLING_LAST: d6t.B6,
        START_CLEARING: d6t.M6,
        CLEARING: d6t.U6,
        WAITING_TO_FILL: d6t.J6,
        WAITING_TO_CLEAR: d6t.v6,
        DONE: -d6t.A6
    };
    r5.FILL_BASE_SPEED = d6t.j9x;
    r5.FILL_SPEED_INCREASE = d6t.B6;
    r5.LINE_CLEAR_BASE_SPEED = d6t.a7;
    r5.LINE_CLEAR_SPEED_INCREASE = d6t.N28;
    r5.GRAVITY_BASE_TIME = d6t.h5B;
    r5.FILL_START_DELAY = d6t.g7;
    r5.prototype.startRewardedAdsFlow = function(t, k) {
        this._bottomRow = this._gameVarManager.constants.rewardedAds_lowestRowIndex;
        this._topRow = this._gameVarManager.constants.rewardedAds_highestRowIndex;
        var j = this._matrixController.getFilledRowsInInvisibleMatrix();
        if (j.length > d6t.W6) {
            this._topRow = j[j.length - d6t.A6];
        }
        this._rowToClear = this._topRow;
        this._state = r5.STATES.WAITING_TO_FILL;
        this._callback = t;
        this._context = k;
        this._minoFillingSpeed = r5.FILL_BASE_SPEED;
        this._currentLastHurrahSpeed = r5.LINE_CLEAR_BASE_SPEED;
        this._randomTimerToReplacePhaserTimer = d6t.W6;
        this._matrixController.toggleShadows(d6t.F18);
    };
    r5.prototype.stopFillingSparklingMinos = function() {
        this._state = r5.STATES.START_CLEARING;
    };
    r5.prototype.getEmptyCellsUntilRow = function(k, j) {
        var o = [];
        this._matrixController.forEachCellInMatrix(function(t) {
            if (t.isEmpty() && t.row < j && t.row >= k) {
                o.push(t);
            }
        }, this);
        return o;
    };
    r5.prototype.fillSparklingSingleMino = function() {
        var t = this.getEmptyCellsUntilRow(this._bottomRow, this._topRow),
            k = this._pickRandomLowerArrayElement(t),
            j = this._minoFactory.get(d6t.B3x, w5.SPARKLE);
        k.setPrisoner(j);
        j.animateIn();
        if (t.length == d6t.A6) {
            this._state = r5.STATES.FILLING_LAST;
            j.animateGlow(function() {
                this.stopFillingSparklingMinos();
            }, this);
        } else {
            j.animateGlow();
            this._soundManager.effect(d6t.L7 + (Math.floor(Math.random() * d6t.U6) + d6t.A6), d6t.Y48);
        }
    };
    r5.prototype.clearLastLine = function() {
        if (this._rowsCleared < this._topRow - this._bottomRow) {
            this._matrixRowMatcher.onDone.addOnce(function() {
                this._matrixGravity.applyGravity();
                this._state = r5.STATES.WAITING_TO_CLEAR;
            }, this);
            this._screenShaker.activate(d6t.j48 * this._game.viewport.scale);
            var t = [];
            this._rowToClear--;
            t.push(this._rowToClear);
            this._matrixRowMatcher.clearRows(t, d6t.s73, this._currentLastHurrahSpeed, d6t.s73);
            this._rowsCleared++;
            this._currentLastHurrahSpeed += r5.LINE_CLEAR_SPEED_INCREASE;
        } else {
            this.endLastHurrahFlow();
        }
        this._soundManager.effect(this._gameVarManager.audioConstants.lasthurrah_lineclear_sfx);
    };
    r5.prototype.endLastHurrahFlow = function() {
        this._rowsCleared = d6t.W6;
        this._state = r5.STATES.DONE;
        this._callback.call(this._context);
        this._matrixController.toggleShadows(d6t.s73);
    };
    r5.prototype.cleanUp = function() {};
    r5.prototype.updateFilling = function(t) {
        var k = Math.ceil(t * this._minoFillingSpeed),
            j = this.getEmptyCellsUntilRow(this._bottomRow, this._topRow).length;
        for (var o = d6t.W6; o < Math.min(k, j); o++) {
            this.fillSparklingSingleMino();
        }
        this._minoFillingSpeed += r5.FILL_SPEED_INCREASE;
    };
    r5.prototype.update = function() {
        if (this._paused) {
            return;
        }
        var t = this._game.time.elapsed,
            k = t / d6t.I6;
        this._randomTimerToReplacePhaserTimer += t;
        switch (this._state) {
            case r5.STATES.WAITING_TO_FILL:
                if (this._randomTimerToReplacePhaserTimer >= r5.FILL_START_DELAY) {
                    this._state = r5.STATES.FILLING;
                }
                break;
            case r5.STATES.FILLING:
                this.updateFilling(k);
                break;
            case r5.STATES.START_CLEARING:
                this._randomTimerToReplacePhaserTimer = d6t.W6;
                this.clearLastLine();
                this._state = r5.STATES.CLEARING;
                break;
            case r5.STATES.WAITING_TO_CLEAR:
                var j = r5.GRAVITY_BASE_TIME / this._currentLastHurrahSpeed;
                if (this._randomTimerToReplacePhaserTimer >= j) {
                    this._state = r5.STATES.START_CLEARING;
                }
                break;
        }
    };
    r5.prototype._pickRandomLowerArrayElement = function(t) {
        var k = Math.random();
        return t[Math.floor(k * k * k * k * k * t.length)];
    };
    r5.prototype._wentOutOfFocus = function() {
        this._paused = d6t.s73;
    };
    r5.prototype._wentBackInFocus = function() {
        this._paused = d6t.F18;
    };
    return r5;
});
define('utils/AdTech', ['phaser', 'gt/utils/device'], function(z5, P5) {
    function p5(game, gameConfig, platform) {
        this._game = game;
        this._gameConfig = gameConfig;
        this._platform = platform;
        window.addEventListener(d6t.O7H, function(t) {
            this.receiveAdTechMessage();
        }.bind(this), d6t.F18);
    }
    p5.prototype._getAdDescriptor = function() {
        var t = 320,
            k = "adtechMobile",
            j = "adFrameMobile",
            o = ((124., 83.) <= 0x187 ? (36, 480) : (60, 141.70E1)),
            e = ((0x150, 117) > 0x14 ? (111., 640) : 61. <= (7., 48) ? "T" : (0x29, 0x13F) > 0x239 ? 104 : (0x157, 0xA1)),
            q = "adtech",
            m = "adFrameDesktop";
        if (P5.desktop) {
            return {
                frameClass: m,
                adClass: q,
                width: e,
                height: o,
                zoneId: this._gameConfig.adtechZones.desktop
            };
        } else {
            return {
                frameClass: j,
                adClass: k,
                width: t,
                height: d6t.q9,
                zoneId: this._gameConfig.adtechZones.mobile
            };
        }
    };
    p5.prototype.playAdTechVideo = function(t, k) {
        var j = 'no',
            o = '&cb=',
            e = '//media.oadts.com/www/delivery/afv.php?zoneid=',
            q = 'iframe',
            m = "adBg",
            k5 = "adOverlay";
        // if (!P5.desktop) {
        //     this._game.paused = d6t.s73;
        // }
        this._videoCallback = t;
        this._videoContext = k;
        // var C5 = this._getAdDescriptor(),
        //     H5 = Math.floor(Math.random() * d6t.I2x);
        // this._overlay = document.createElement(d6t.k6);
        // this._overlay.className = k5;
        // var j5 = document.createElement(d6t.k6);
        // j5.className = m;
        // var Y5 = document.createElement(d6t.k6);
        // Y5.className = C5.frameClass;
        // this._iframe = document.createElement(q);
        // this._iframe.src = e + C5.zoneId + o + H5;
        // this._iframe.frameborder = d6t.s03;
        // this._iframe.scrolling = j;
        // this._iframe.width = C5.width;
        // this._iframe.height = C5.height;
        // this._iframe.className = C5.adClass;
        // this._overlay.appendChild(j5);
        // this._overlay.appendChild(Y5);
        // this._overlay.appendChild(this._iframe);
        // document.body.appendChild(this._overlay);
    };
    p5.prototype.completeAdTechVideo = function(t) {
        // if (!P5.desktop) {
            // this._game.paused = d6t.F18;
        // }
        // if (this._overlay) {
            // document.body.removeChild(this._overlay);
            // this._overlay = d6t.B3x;
        // }
        this._platform.resetAdTimer();
        this._videoCallback.call(this._videoContext, t);
    };
    p5.prototype.receiveAdTechMessage = function() {
        var k = 'videoComplete'
        //     j = 'videoEnds',
        //     o = 'NoVideo',
        //     e = 'noVideo',
        //     q = 'videoStart',
        //     m = 'https://media.oadts.com',
        //     k5 = 'http://media.oadts.com';
        // if ((t.origin == k5 && this._overlay) || (t.origin == m && this._overlay)) {
        //     console.log(t);
        //     switch (t.data) {
        //         case q:
        //             break;
        //         case e:
        //         case o:
        //             document.body.removeChild(this._overlay);
        //             this._overlay = d6t.B3x;
        //             this.completeAdTechVideo(d6t.s73);
        //             break;
        //         case j:
        //         case k:
                    this.completeAdTechVideo(d6t.s73);
                    // break;
        //     }
        // }
    };
    return p5;
});
define('modules/TetrisGame', ['soma', 'gt/constants/ConsoleCSS', 'gt/extras/PartialInjectionFactory', 'gt/patterns/messaging/Publisher', 'configs/MatrixConfig', 'configs/TetriminosConfig', 'factories/PhaserGroupFactory', 'factories/PhaserSpriteFactory', 'factories/MatrixFactory', 'factories/TetriminoFactory', 'factories/MinoFactory', 'factories/ConditionFactory', 'factories/GameModeFactory', 'core/LevelManager', 'core/LevelParser', 'gameplay/game/GameManager', 'gameplay/game/GameStateManager', 'gameplay/game/GameCheats', 'gameplay/game/LastHurrah', 'gameplay/conditions/ConditionManager', 'gameplay/conditions/ClearLines', 'gameplay/conditions/LockOut', 'gameplay/conditions/TopOut', 'gameplay/conditions/BlockOut', 'gameplay/conditions/TimeLimit', 'gameplay/input/TetrisInput', 'gameplay/RotationController', 'gameplay/TetriminoController', 'gameplay/game_modes/GameMode', 'gameplay/game_modes/JunkMode', 'gameplay/game_modes/MatchShapeMode', 'gameplay/game_modes/GravitySwitchMode', 'gameplay/game_modes/HourglassMode', 'gameplay/matrix/MatrixController', 'gameplay/matrix/MatrixView', 'gameplay/matrix/MatrixModel', 'gameplay/matrix/MatrixRowMatcher', 'gameplay/matrix/MatrixGravity', 'gameplay/matrix/MatrixGravityTweener', 'gameplay/matrix/MatrixConverter', 'gameplay/tetrimino_queue/TetriminoQueueController', 'gameplay/tetrimino_queue/TetriminoQueueView', 'gameplay/tetrimino_queue/TetriminoQueueModel', 'gameplay/tetrimino_holder/TetriminoHolderController', 'gameplay/tetrimino_holder/TetriminoHolderView', 'gameplay/tetrimino_holder/TetriminoHolderModel', 'core/Entity', 'entities/Tetrimino', 'entities/Mino', 'entities/MatrixCell', 'gameplay/game/ScoreManager', 'gameplay/conditions/Marathon', 'gameplay/game_modes/InvisibleMode', 'gameplay/input/SmartControls', 'gameplay/WorldProgress', 'gui/SpineUtil', 'gui/MapController', 'gui/MapAnimator', 'gui/LevelNodeController', 'gui/LevelNodesController', 'gui/CityNodeController', 'gui/CityNodesController', 'gui/MapHudController', 'utils/ScreenShaker', 'utils/CustomTimer', 'gui/LevelStartController', 'gui/LevelWinController', 'gameplay/LineClearCounter', 'gameplay/NeededLineClearsToWin', 'gameplay/matrix/MatrixAnimator', 'gt/pooling/Pool', 'gameplay/tutorial/ForcedMove', 'gui/ScoreAdController', 'gameplay/matrix/MatrixHourglassAnimator', 'gui/GameUIController', 'gui/ProgressBarController', 'data/ControlScheme', 'gui/uiPanels/TimeUIPanel', 'gui/uiPanels/GravityUIPanel', 'gui/uiPanels/HourglassUIPanel', 'gameplay/tutorial/TutorialController', 'gameplay/MarathonProgress', 'gt/utils/FullscreenUtil', 'gameplay/matrix/MatrixGlowAnimator', 'gameplay/UnlockProgress', 'gui/uiPanels/JunkspawnUIPanel', 'gameplay/GravityModeMinoHandler', 'enums/LevelNodeType', 'gameplay/game/AdRewardFlow', 'utils/AdTech'], function(v5, Q6, p4, R4, o6, W4, O4, o4, a4, D4, N4, d4, w6, r4, T4, S4, l4, b4, X4, K3, H3, j3, V3, Q4, V5, z3, h4, t3, I4, M3, P3, l5, e5, E5, X5, I5, x4, J4, T6, e6, E4, p3, R3, H4, j4, u4, T3, V4, z4, B4, g4, l3, f3, O3, N3, J3, G3, v3, S3, W3, o3, X3, g3, s3, I3, a3, w3, H7, j7, V7, Y7, z7, E3, b3, Q3, q3, m3, c3, Z3, w4, P7, p7, R7, O7, w7, G6, A3, u3, c4, x6) {
    var B3 = function(injector, sceneManager, gameInfoPublisher) {
        this._injector = injector;
        this._sceneManager = sceneManager;
        this._gameInfoPublisher = gameInfoPublisher;
    };
    B3.prototype.run = function(t, k) {
        var j = '%c [DI module] %c TetrisGame ';
        console.log(j, Q6.MODULE_TAG, Q6.MODULE_TEXT);
        this.createPartialInjectionFactories();
        this.mapClassesAndValues();
        this._sceneManager.createScenes();
        this._gameInfoPublisher.publish(d6t.Z8, d6t.a08);
        this._gameInfoPublisher.publish(d6t.j88);
        t.call(k);
    };
    B3.prototype.createPartialInjectionFactories = function() {
        var t = 'matrixCellFactory',
            matrixCellFactory = new p4(this._injector, B4);
        this._injector.mapValue(t, matrixCellFactory);
    };
    B3.prototype.mapClassesAndValues = function() {
        var t = 'adTech',
            k = 'adRewardFlow',
            j = 'levelNodeType',
            o = 'gravityModeMinoHandler',
            e = 'unlockProgress',
            q = 'matrixGlowAnimator',
            m = 'fullscreenUtil',
            k5 = 'tutorialController',
            C5 = 'junkspawnUIPanel',
            H5 = 'hourglassUIPanel',
            j5 = 'gravityUIPanel',
            Y5 = 'timeUIPanel',
            z5 = 'matrixHourglassAnimator',
            P5 = 'controlScheme',
            p5 = 'scoreAdController',
            w5 = 'pool',
            R5 = 'forcedMove',
            r5 = 'matrixAnimator',
            T5 = 'customTimer',
            a5 = 'screenShaker',
            x5 = 'publisher',
            f5 = 'progressBarController',
            A5 = 'gameUIController',
            u5 = 'levelWinController',
            B5 = 'levelStartController',
            D5 = 'mapHudController',
            o5 = 'cityNodesController',
            N5 = 'cityNodeController',
            y5 = 'levelNodesController',
            U5 = 'levelNodeController',
            W5 = 'lineClearCounter',
            J5 = 'neededLineClearsToWin',
            g5 = 'mapAnimator',
            c5 = 'mapController',
            Z5 = 'marathonProgress',
            M5 = 'worldProgress',
            n5 = 'spineUtil',
            R6 = 'tetriminoHolderModel',
            h5 = 'tetriminoHolderView',
            K6 = 'tetriminoHolderController',
            s6 = 'gravitySwitchMode',
            i5 = 'matchShapeMode',
            V6 = 'junkMode',
            b5 = 'smartControls',
            S5 = 'scoreManager',
            q6 = 'tetriminoQueueModel',
            h6 = 'tetriminoQueueView',
            C6 = 'tetriminoQueueController',
            m6 = 'matrixConverter',
            G5 = 'matrixGravityTweener',
            c6 = 'matrixGravity',
            Y6 = 'matrixRowMatcher',
            E6 = 'matrixModel',
            O6 = 'matrixView',
            j6 = 'matrixController',
            Q5 = 'rotationController',
            y6 = 'tetriminoController',
            d5 = 'tetrisInput',
            z6 = 'conditionManager',
            Z6 = 'gameCheats',
            N6 = 'gameStateManager',
            P6 = 'gameManager',
            m5 = 'levelParser',
            t4 = 'gameModeFactory',
            i6 = 'conditionFactory',
            P4 = 'minoFactory',
            U4 = 'tetriminoFactory',
            b6 = 'matrixFactory',
            v4 = 'phaserSpriteFactory',
            n6 = 'phaserGroupFactory',
            s4 = 'tetriminoConfig',
            C4 = 'matrixConfig';
        this._injector.mapClass(C4, o6, v5.SINGLETON);
        this._injector.mapClass(s4, W4, v5.SINGLETON);
        this._injector.mapClass(n6, O4, v5.SINGLETON);
        this._injector.mapClass(v4, o4, v5.SINGLETON);
        this._injector.mapClass(b6, a4, v5.SINGLETON);
        this._injector.mapClass(U4, D4, v5.SINGLETON);
        this._injector.mapClass(P4, N4, v5.SINGLETON);
        this._injector.mapClass(i6, d4, v5.SINGLETON);
        this._injector.mapClass(t4, w6, v5.SINGLETON);
        this._injector.mapClass(d6t.k53, r4, v5.SINGLETON);
        this._injector.mapClass(m5, T4, v5.SINGLETON);
        this._injector.mapClass(P6, S4, v5.SINGLETON);
        this._injector.mapClass(N6, l4, v5.SINGLETON);
        this._injector.mapClass(Z6, b4, v5.SINGLETON);
        this._injector.mapClass(d6t.L3B, X4, v5.SINGLETON);
        this._injector.mapClass(z6, K3, v5.SINGLETON);
        this._injector.mapClass(d5, z3, v5.SINGLETON);
        this._injector.mapClass(y6, t3, v5.SINGLETON);
        this._injector.mapClass(Q5, h4, v5.SINGLETON);
        this._injector.mapClass(j6, E5, v5.SINGLETON);
        this._injector.mapClass(O6, X5, v5.SINGLETON);
        this._injector.mapClass(E6, I5, v5.SINGLETON);
        this._injector.mapClass(Y6, x4, v5.SINGLETON);
        this._injector.mapClass(c6, J4, v5.SINGLETON);
        this._injector.mapClass(G5, T6, v5.SINGLETON);
        this._injector.mapClass(m6, e6, v5.SINGLETON);
        this._injector.mapClass(C6, E4, v5.SINGLETON);
        this._injector.mapClass(h6, p3, v5.SINGLETON);
        this._injector.mapClass(q6, R3, v5.SINGLETON);
        this._injector.mapClass(S5, g4, v5.SINGLETON);
        this._injector.mapClass(b5, O3, v5.SINGLETON);
        this._injector.mapClass(d6t.q3f, I4, v5.SINGLETON);
        this._injector.mapClass(V6, M3, v5.SINGLETON);
        this._injector.mapClass(i5, P3, v5.SINGLETON);
        this._injector.mapClass(s6, l5, v5.SINGLETON);
        this._injector.mapClass(d6t.d7H, e5, v5.SINGLETON);
        this._injector.mapClass(d6t.t6B, f3, v5.SINGLETON);
        this._injector.mapClass(d6t.I73, H3, v5.SINGLETON);
        this._injector.mapClass(d6t.t28, l3, v5.SINGLETON);
        this._injector.mapClass(d6t.a2x, j3, v5.SINGLETON);
        this._injector.mapClass(d6t.O18, V3, v5.SINGLETON);
        this._injector.mapClass(d6t.r9H, Q4, v5.SINGLETON);
        this._injector.mapClass(d6t.L3H, V5, v5.SINGLETON);
        this._injector.mapClass(K6, H4, v5.SINGLETON);
        this._injector.mapClass(h5, j4, v5.SINGLETON);
        this._injector.mapClass(R6, u4, v5.SINGLETON);
        this._injector.mapClass(n5, J3, v5.SINGLETON);
        this._injector.mapClass(M5, N3, v5.SINGLETON);
        this._injector.mapClass(Z5, p7);
        this._injector.mapClass(c5, G3, v5.SINGLETON);
        this._injector.mapClass(g5, v3);
        this._injector.mapClass(J5, j7, v5.SINGLETON);
        this._injector.mapClass(W5, H7, v5.SINGLETON);
        this._injector.mapClass(U5, S3);
        this._injector.mapClass(y5, W3);
        this._injector.mapClass(N5, o3);
        this._injector.mapClass(o5, X3);
        this._injector.mapClass(D5, g3);
        this._injector.mapClass(B5, a3);
        this._injector.mapClass(u5, w3);
        this._injector.mapClass(A5, Q3);
        this._injector.mapClass(f5, q3);
        this._injector.mapClass(d6t.R78, T3);
        this._injector.mapClass(x5, R4);
        this._injector.mapClass(a5, s3, v5.SINGLETON);
        this._injector.mapClass(T5, I3);
        this._injector.mapClass(r5, V7, v5.SINGLETON);
        this._injector.mapClass(R5, z7, v5.SINGLETON);
        this._injector.mapClass(w5, Y7);
        this._injector.mapClass(p5, E3);
        this._injector.mapClass(P5, m3, v5.SINGLETON);
        this._injector.mapClass(z5, b3);
        this._injector.mapClass(Y5, c3);
        this._injector.mapClass(j5, Z3);
        this._injector.mapClass(H5, w4);
        this._injector.mapClass(C5, G6);
        this._injector.mapClass(k5, P7);
        this._injector.mapClass(m, R7);
        this._injector.mapClass(q, O7);
        this._injector.mapClass(e, w7, v5.SINGLETON);
        this._injector.mapClass(o, A3);
        this._injector.mapClass(j, u3, v5.SINGLETON);
        this._injector.mapClass(k, c4, v5.SINGLETON);
        this._injector.mapClass(t, x6);
    };
    return B3;
});
define('modules/TetrisLegal', ['soma', 'gt/constants/ConsoleCSS'], function(z5, P5) {
    var p5 = 'legal';

    function w5() {
        this._callback = d6t.B3x;
        this._context = d6t.B3x;
    }
    w5.prototype.run = function(t, k) {
        var j = 'loading',
            o = '%c [DI module] %c TetrisLegal ';
        console.log(o, P5.MODULE_TAG, P5.MODULE_TEXT);
        this._callback = t;
        this._context = k;
        document.getElementById(j).style.display = d6t.W9f;
        this._injectLegalScreen();
    };
    w5.prototype._injectLegalScreen = function() {
        var t = "AnimationEnd",
            k = "All Rights Reserved.<br>",
            j = "Tetris Logo Design by Roger Dean.<br>",
            o = "Tetris Game Design by Alexey Pajitnov.<br>",
            e = "Licensed to The Tetris Company.<br>",
            q = "Tetris logos, Tetris theme song and Tetriminos are trademarks of Tetris Holding. The Tetris trade dress is owned by Tetris Holding.<br>",
            m = "Tetris  &  1985~2017 Tetris Holding.<br>",
            k5 = 'legal-text',
            C5 = 'legal-image',
            H5 = document.createElement(d6t.k6);
        H5.id = p5;
        var j5 = document.createElement(d6t.k6);
        j5.id = C5;
        H5.appendChild(j5);
        var Y5 = document.createElement(d6t.k6);
        Y5.id = k5;
        Y5.innerHTML += m;
        Y5.innerHTML += q;
        Y5.innerHTML += e;
        Y5.innerHTML += o;
        Y5.innerHTML += j;
        Y5.innerHTML += k;
        H5.appendChild(Y5);
        document.body.appendChild(H5);
        this.addPrefixedEventListener(H5, t, function() {
            this._endAnimation();
        }.bind(this), d6t.F18);
    };
    w5.prototype.addPrefixedEventListener = function(t, k, j) {
        var o = ((0x197, 126) < (2E0, 0xC0) ? (108., "o") : (73, 113)),
            e = "MS",
            q = "moz",
            m = "webkit",
            k5 = [m, q, e, o, d6t.g5x];
        for (var C5 = d6t.W6; C5 < k5.length; C5++) {
            if (!k5[C5]) k = k.toLowerCase();
            t.addEventListener(k5[C5] + k, j, d6t.F18);
        }
    };
    w5.prototype._endAnimation = function() {
        var t = document.getElementById(p5);
        document.body.removeChild(t);
        this._callback.call(this._context);
    };
    return w5;
});
(function(k5) {
    function C5(k, j) {
        var o = "size";

        function e(t) {
            if (!this || this.constructor !== e) return new e(t);
            this._keys = [];
            this._values = [];
            this._itp = [];
            this.objectOnly = j;
            t && H5.call(this, t);
        }
        j || o5(k, o, {
            get: u5
        });
        k.constructor = e;
        e.prototype = k;
        return e;
    }

    function H5(k) {
        this.add ? k.forEach(this.add, this) : k.forEach(function(t) {
            this.set(t[d6t.W6], t[d6t.A6]);
        }, this);
    }

    function j5(k) {
        this.has(k) && (this._keys.splice(D5, d6t.A6), this._values.splice(D5, d6t.A6), this._itp.forEach(function(t) {
            D5 < t[d6t.W6] && t[d6t.W6]--;
        }));
        return -d6t.A6 < D5;
    }

    function Y5(t) {
        return this.has(t) ? this._values[D5] : void d6t.W6;
    }

    function z5(t, k) {
        var j = "Invalid value used as weak collection key";
        if (this.objectOnly && k !== Object(k)) throw new TypeError(j);
        if (k != k || d6t.W6 === k)
            for (D5 = t.length; D5-- && !N5(t[D5], k););
        else D5 = t.indexOf(k);
        return -d6t.A6 < D5;
    }

    function P5(t) {
        return z5.call(this, this._values, t);
    }

    function p5(t) {
        return z5.call(this, this._keys, t);
    }

    function w5(t, k) {
        this.has(t) ? this._values[D5] = k : this._values[this._keys.push(t) - d6t.A6] = k;
        return this;
    }

    function R5(t) {
        this.has(t) || this._values.push(t);
        return this;
    }

    function r5() {
        (this._keys || d6t.W6).length = this._values.length = d6t.W6;
    }

    function T5() {
        return A5(this._itp, this._keys);
    }

    function a5() {
        return A5(this._itp, this._values);
    }

    function x5() {
        return A5(this._itp, this._keys, this._values);
    }

    function f5() {
        return A5(this._itp, this._values, this._values);
    }

    function A5(j, o, e) {
        var q = [d6t.W6],
            m = !d6t.A6;
        j.push(q);
        return {
            next: function() {
                var t, k = q[d6t.W6];
                !m && k < o.length ? (t = e ? [o[k], e[k]] : o[k], q[d6t.W6]++) : (m = !d6t.W6, j.splice(j.indexOf(q), d6t.A6));
                return {
                    done: m,
                    value: t
                };
            }
        };
    }

    function u5() {
        return this._values.length;
    }

    function B5(t, k) {
        for (var j = this.entries();;) {
            var o = j.next();
            if (o.done) break;
            t.call(k, o.value[d6t.A6], o.value[d6t.W6], this);
        }
    }
    var D5, o5 = Object.defineProperty,
        N5 = function(t, k) {
            return isNaN(t) ? isNaN(k) : t === k;
        };
    d6t.k6f == typeof WeakMap && (k5.WeakMap = C5({
        "delete": j5,
        clear: r5,
        get: Y5,
        has: p5,
        set: w5
    }, !d6t.W6));
    d6t.k6f != typeof Map && d6t.H5x === typeof(new Map).values && (new Map).values().next || (k5.Map = C5({
        "delete": j5,
        has: p5,
        get: Y5,
        set: w5,
        keys: T5,
        values: a5,
        entries: x5,
        forEach: B5,
        clear: r5
    }));
    d6t.k6f != typeof Set && d6t.H5x === typeof(new Set).values && (new Set).values().next || (k5.Set = C5({
        has: P5,
        add: R5,
        "delete": j5,
        clear: r5,
        keys: a5,
        values: a5,
        entries: f5,
        forEach: B5
    }));
    d6t.k6f == typeof WeakSet && (k5.WeakSet = C5({
        "delete": j5,
        add: R5,
        clear: r5,
        has: P5
    }, !d6t.W6));
})(d6t.k6f != typeof exports && d6t.k6f != typeof global ? global : window);
define("collections", function() {});
define('polyfill/Map', ['collections'], function(t) {
    return window.Map || t.Map;
});
define('gt/modules/DomainLocking', [], function() {
    var m = function(gameConfig) {
        this._gameConfig = gameConfig;
    };
    m.prototype.run = function(t, k) {
        var j = "You are trying to access the game from the wrong domain! ";
        if (this._isDomainAllowed()) {
            t.call(k);
        } else {
            console.warn(j + location.href);
        }
    };
    m.prototype._isDomainAllowed = function() {
        var t = 'Allowed domains not defined in GameConfig!',
            k = 'http://',
            j = this._gameConfig.allowedDomains,
            o = d6t.F18,
            e = location.href;
        e = e.replace(k, d6t.I6x);
        if (j) {
            for (var q = d6t.W6; q < j.length; q++) {
                if (e.indexOf(j[q]) != -d6t.A6) {
                    o = d6t.s73;
                }
            }
        } else {
            console.warn(t);
        }
        console.log("hi -o : " +o);
        return o;
    };
    console.log("hi -m : "+m);
    return m;
});
requirejs.config({
    baseUrl: d6t.J9f,
    paths: {
        soma: d6t.p6,
        modernizr: d6t.w9f,
        pixi: d6t.k4,
        phaser: d6t.b8H,
        spine: d6t.n78,
        fontloader: d6t.z53,
        async: d6t.q0x,
        promise: d6t.p1H,
        collections: d6t.U7f,
        uaparser: d6t.Y7f,
        uuid: d6t.Z5f,
        bottom_line: d6t.Y7x,
        gt: d6t.Q03
    },
    shim: {
        'phaser': {
            exports: d6t.m4
        }
    },
    waitSeconds: d6t.P8x
});
require([d6t.M2H, d6t.J48, d6t.H8x, d6t.t38, d6t.k3B, d6t.B43, d6t.X1f, d6t.E4x], function() {
    var B5 = 'spine';
    require([B5], function() {
        var u5 = 'gt/tweaks/Pixi/SpineAnimationState';
        require([d6t.U9, d6t.U8f, d6t.Q38, d6t.A0x, d6t.S6B, u5], function() {
            var x5 = 'gt/tweaks/Phaser/Tween',
                f5 = 'gt/tweaks/Phaser/Pointer',
                A5 = 'gt/tweaks/Phaser/Group';
            require([d6t.v6x, A5, d6t.I78, f5, d6t.N1H, d6t.R83, d6t.l13, x5, d6t.X83, d6t.O8x], function() {
                require([d6t.p5B], function() {
                    require([d6t.r3f, d6t.N5f], function() {
                        require([d6t.K4, d6t.s3f, d6t.h6B, d6t.Y4, d6t.L2H, d6t.W2x, d6t.H68, d6t.n8f, d6t.I0f, d6t.R18, d6t.s4H, d6t.P18, d6t.v3x, d6t.G38, d6t.t38, d6t.y6f, d6t.U93], function(j, o, e, q, m, k5, C5, H5, j5, Y5, z5, P5, p5, w5, R5, r5, T5) {
                            var a5 = j.Application.extend({
                                init: function() {
                                    var t = 'EntryPoint.init';
                                    console.log(t);
                                    this._modules = [];
                                    this._modules.push(o);
                                    this._modules.push(T5);
                                    this._modules.push(w5);
                                    if (R5.portable) {
                                        this._modules.push(e);
                                    }
                                    this._modules.push(m);
                                    this._modules.push(k5);
                                    this._modules.push(H5);
                                    this._modules.push(j5);
                                    this._modules.push(Y5);
                                    this._modules.push(z5);
                                    this._modules.push(P5);
                                    this._modules.push(p5);
                                    this.runNextModule();
                                },
                                runNextModule: function() {
                                    var t = this._modules.shift(),
                                        instance = this.injector.createInstance(t);
                                    instance.run(this.onModuleComplete, this);
                                },
                                onModuleComplete: function() {
                                    var t = ' ...completed module.';
                                    console.log(t);
                                    if (this._modules.length > d6t.W6) {
                                        this.runNextModule();
                                    }
                                }
                            });
                            new a5();
                        });
                    });
                });
            });
        });
    });
});
define("entry", function() {});